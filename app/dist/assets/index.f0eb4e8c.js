var Xi=Object.defineProperty;var qi=(i,t,r)=>t in i?Xi(i,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):i[t]=r;var li=(i,t,r)=>(qi(i,typeof t!="symbol"?t+"":t,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const g of l)if(g.type==="childList")for(const d of g.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function r(l){const g={};return l.integrity&&(g.integrity=l.integrity),l.referrerpolicy&&(g.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?g.credentials="include":l.crossorigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function a(l){if(l.ep)return;l.ep=!0;const g=r(l);fetch(l.href,g)}})();function makeMap(i,t){const r=Object.create(null),a=i.split(",");for(let l=0;l<a.length;l++)r[a[l]]=!0;return t?l=>!!r[l.toLowerCase()]:l=>!!r[l]}function normalizeStyle(i){if(isArray$3(i)){const t={};for(let r=0;r<i.length;r++){const a=i[r],l=isString$1(a)?parseStringStyle(a):normalizeStyle(a);if(l)for(const g in l)t[g]=l[g]}return t}else{if(isString$1(i))return i;if(isObject$2(i))return i}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*.*?\*\//gs;function parseStringStyle(i){const t={};return i.replace(styleCommentRE,"").split(listDelimiterRE).forEach(r=>{if(r){const a=r.split(propertyDelimiterRE);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function normalizeClass(i){let t="";if(isString$1(i))t=i;else if(isArray$3(i))for(let r=0;r<i.length;r++){const a=normalizeClass(i[r]);a&&(t+=a+" ")}else if(isObject$2(i))for(const r in i)i[r]&&(t+=r+" ");return t.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(i){return!!i||i===""}const toDisplayString=i=>isString$1(i)?i:i==null?"":isArray$3(i)||isObject$2(i)&&(i.toString===objectToString||!isFunction$1(i.toString))?JSON.stringify(i,replacer,2):String(i),replacer=(i,t)=>t&&t.__v_isRef?replacer(i,t.value):isMap(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[a,l])=>(r[`${a} =>`]=l,r),{})}:isSet(t)?{[`Set(${t.size})`]:[...t.values()]}:isObject$2(t)&&!isArray$3(t)&&!isPlainObject$1(t)?String(t):t,EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=i=>onRE.test(i),isModelListener=i=>i.startsWith("onUpdate:"),extend$1=Object.assign,remove=(i,t)=>{const r=i.indexOf(t);r>-1&&i.splice(r,1)},hasOwnProperty$3=Object.prototype.hasOwnProperty,hasOwn=(i,t)=>hasOwnProperty$3.call(i,t),isArray$3=Array.isArray,isMap=i=>toTypeString(i)==="[object Map]",isSet=i=>toTypeString(i)==="[object Set]",isFunction$1=i=>typeof i=="function",isString$1=i=>typeof i=="string",isSymbol$1=i=>typeof i=="symbol",isObject$2=i=>i!==null&&typeof i=="object",isPromise=i=>isObject$2(i)&&isFunction$1(i.then)&&isFunction$1(i.catch),objectToString=Object.prototype.toString,toTypeString=i=>objectToString.call(i),toRawType=i=>toTypeString(i).slice(8,-1),isPlainObject$1=i=>toTypeString(i)==="[object Object]",isIntegerKey=i=>isString$1(i)&&i!=="NaN"&&i[0]!=="-"&&""+parseInt(i,10)===i,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=i=>{const t=Object.create(null);return r=>t[r]||(t[r]=i(r))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(i=>i.replace(camelizeRE,(t,r)=>r?r.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(i=>i.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(i=>i.charAt(0).toUpperCase()+i.slice(1)),toHandlerKey=cacheStringFunction(i=>i?`on${capitalize(i)}`:""),hasChanged=(i,t)=>!Object.is(i,t),invokeArrayFns=(i,t)=>{for(let r=0;r<i.length;r++)i[r](t)},def=(i,t,r)=>{Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value:r})},looseToNumber=i=>{const t=parseFloat(i);return isNaN(t)?i:t};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let activeEffectScope;class EffectScope{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!t&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const r=activeEffectScope;try{return activeEffectScope=this,t()}finally{activeEffectScope=r}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(t){if(this._active){let r,a;for(r=0,a=this.effects.length;r<a;r++)this.effects[r].stop();for(r=0,a=this.cleanups.length;r<a;r++)this.cleanups[r]();if(this.scopes)for(r=0,a=this.scopes.length;r<a;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.parent=void 0,this._active=!1}}}function recordEffectScope(i,t=activeEffectScope){t&&t.active&&t.effects.push(i)}function getCurrentScope(){return activeEffectScope}const createDep=i=>{const t=new Set(i);return t.w=0,t.n=0,t},wasTracked=i=>(i.w&trackOpBit)>0,newTracked=i=>(i.n&trackOpBit)>0,initDepMarkers=({deps:i})=>{if(i.length)for(let t=0;t<i.length;t++)i[t].w|=trackOpBit},finalizeDepMarkers=i=>{const{deps:t}=i;if(t.length){let r=0;for(let a=0;a<t.length;a++){const l=t[a];wasTracked(l)&&!newTracked(l)?l.delete(i):t[r++]=l,l.w&=~trackOpBit,l.n&=~trackOpBit}t.length=r}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(t,r=null,a){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,a)}run(){if(!this.active)return this.fn();let t=activeEffect,r=shouldTrack;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(i){const{deps:t}=i;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(i);t.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const i=trackStack.pop();shouldTrack=i===void 0?!0:i}function track(i,t,r){if(shouldTrack&&activeEffect){let a=targetMap.get(i);a||targetMap.set(i,a=new Map);let l=a.get(r);l||a.set(r,l=createDep()),trackEffects(l)}}function trackEffects(i,t){let r=!1;effectTrackDepth<=maxMarkerBits?newTracked(i)||(i.n|=trackOpBit,r=!wasTracked(i)):r=!i.has(activeEffect),r&&(i.add(activeEffect),activeEffect.deps.push(i))}function trigger(i,t,r,a,l,g){const d=targetMap.get(i);if(!d)return;let s=[];if(t==="clear")s=[...d.values()];else if(r==="length"&&isArray$3(i)){const u=Number(a);d.forEach((n,c)=>{(c==="length"||c>=u)&&s.push(n)})}else switch(r!==void 0&&s.push(d.get(r)),t){case"add":isArray$3(i)?isIntegerKey(r)&&s.push(d.get("length")):(s.push(d.get(ITERATE_KEY)),isMap(i)&&s.push(d.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$3(i)||(s.push(d.get(ITERATE_KEY)),isMap(i)&&s.push(d.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(i)&&s.push(d.get(ITERATE_KEY));break}if(s.length===1)s[0]&&triggerEffects(s[0]);else{const u=[];for(const n of s)n&&u.push(...n);triggerEffects(createDep(u))}}function triggerEffects(i,t){const r=isArray$3(i)?i:[...i];for(const a of r)a.computed&&triggerEffect(a);for(const a of r)a.computed||triggerEffect(a)}function triggerEffect(i,t){(i!==activeEffect||i.allowRecurse)&&(i.scheduler?i.scheduler():i.run())}function getDepFromReactive(i,t){var r;return(r=targetMap.get(i))===null||r===void 0?void 0:r.get(t)}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(i=>i!=="arguments"&&i!=="caller").map(i=>Symbol[i]).filter(isSymbol$1)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const i={};return["includes","indexOf","lastIndexOf"].forEach(t=>{i[t]=function(...r){const a=toRaw(this);for(let g=0,d=this.length;g<d;g++)track(a,"get",g+"");const l=a[t](...r);return l===-1||l===!1?a[t](...r.map(toRaw)):l}}),["push","pop","shift","unshift","splice"].forEach(t=>{i[t]=function(...r){pauseTracking();const a=toRaw(this)[t].apply(this,r);return resetTracking(),a}}),i}function hasOwnProperty$2(i){const t=toRaw(this);return track(t,"has",i),t.hasOwnProperty(i)}function createGetter(i=!1,t=!1){return function(a,l,g){if(l==="__v_isReactive")return!i;if(l==="__v_isReadonly")return i;if(l==="__v_isShallow")return t;if(l==="__v_raw"&&g===(i?t?shallowReadonlyMap:readonlyMap:t?shallowReactiveMap:reactiveMap).get(a))return a;const d=isArray$3(a);if(!i){if(d&&hasOwn(arrayInstrumentations,l))return Reflect.get(arrayInstrumentations,l,g);if(l==="hasOwnProperty")return hasOwnProperty$2}const s=Reflect.get(a,l,g);return(isSymbol$1(l)?builtInSymbols.has(l):isNonTrackableKeys(l))||(i||track(a,"get",l),t)?s:isRef(s)?d&&isIntegerKey(l)?s:s.value:isObject$2(s)?i?readonly(s):reactive(s):s}}const set$1=createSetter(),shallowSet=createSetter(!0);function createSetter(i=!1){return function(r,a,l,g){let d=r[a];if(isReadonly(d)&&isRef(d)&&!isRef(l))return!1;if(!i&&(!isShallow(l)&&!isReadonly(l)&&(d=toRaw(d),l=toRaw(l)),!isArray$3(r)&&isRef(d)&&!isRef(l)))return d.value=l,!0;const s=isArray$3(r)&&isIntegerKey(a)?Number(a)<r.length:hasOwn(r,a),u=Reflect.set(r,a,l,g);return r===toRaw(g)&&(s?hasChanged(l,d)&&trigger(r,"set",a,l):trigger(r,"add",a,l)),u}}function deleteProperty(i,t){const r=hasOwn(i,t);i[t];const a=Reflect.deleteProperty(i,t);return a&&r&&trigger(i,"delete",t,void 0),a}function has$1$1(i,t){const r=Reflect.has(i,t);return(!isSymbol$1(t)||!builtInSymbols.has(t))&&track(i,"has",t),r}function ownKeys$1(i){return track(i,"iterate",isArray$3(i)?"length":ITERATE_KEY),Reflect.ownKeys(i)}const mutableHandlers={get:get$1,set:set$1,deleteProperty,has:has$1$1,ownKeys:ownKeys$1},readonlyHandlers={get:readonlyGet,set(i,t){return!0},deleteProperty(i,t){return!0}},shallowReactiveHandlers=extend$1({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=i=>i,getProto=i=>Reflect.getPrototypeOf(i);function get$2(i,t,r=!1,a=!1){i=i.__v_raw;const l=toRaw(i),g=toRaw(t);r||(t!==g&&track(l,"get",t),track(l,"get",g));const{has:d}=getProto(l),s=a?toShallow:r?toReadonly:toReactive;if(d.call(l,t))return s(i.get(t));if(d.call(l,g))return s(i.get(g));i!==l&&i.get(t)}function has$2(i,t=!1){const r=this.__v_raw,a=toRaw(r),l=toRaw(i);return t||(i!==l&&track(a,"has",i),track(a,"has",l)),i===l?r.has(i):r.has(i)||r.has(l)}function size(i,t=!1){return i=i.__v_raw,!t&&track(toRaw(i),"iterate",ITERATE_KEY),Reflect.get(i,"size",i)}function add(i){i=toRaw(i);const t=toRaw(this);return getProto(t).has.call(t,i)||(t.add(i),trigger(t,"add",i,i)),this}function set$2(i,t){t=toRaw(t);const r=toRaw(this),{has:a,get:l}=getProto(r);let g=a.call(r,i);g||(i=toRaw(i),g=a.call(r,i));const d=l.call(r,i);return r.set(i,t),g?hasChanged(t,d)&&trigger(r,"set",i,t):trigger(r,"add",i,t),this}function deleteEntry(i){const t=toRaw(this),{has:r,get:a}=getProto(t);let l=r.call(t,i);l||(i=toRaw(i),l=r.call(t,i)),a&&a.call(t,i);const g=t.delete(i);return l&&trigger(t,"delete",i,void 0),g}function clear(){const i=toRaw(this),t=i.size!==0,r=i.clear();return t&&trigger(i,"clear",void 0,void 0),r}function createForEach(i,t){return function(a,l){const g=this,d=g.__v_raw,s=toRaw(d),u=t?toShallow:i?toReadonly:toReactive;return!i&&track(s,"iterate",ITERATE_KEY),d.forEach((n,c)=>a.call(l,u(n),u(c),g))}}function createIterableMethod(i,t,r){return function(...a){const l=this.__v_raw,g=toRaw(l),d=isMap(g),s=i==="entries"||i===Symbol.iterator&&d,u=i==="keys"&&d,n=l[i](...a),c=r?toShallow:t?toReadonly:toReactive;return!t&&track(g,"iterate",u?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:C,done:m}=n.next();return m?{value:C,done:m}:{value:s?[c(C[0]),c(C[1])]:c(C),done:m}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(i){return function(...t){return i==="delete"?!1:this}}function createInstrumentations(){const i={get(g){return get$2(this,g)},get size(){return size(this)},has:has$2,add,set:set$2,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},t={get(g){return get$2(this,g,!1,!0)},get size(){return size(this)},has:has$2,add,set:set$2,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},r={get(g){return get$2(this,g,!0)},get size(){return size(this,!0)},has(g){return has$2.call(this,g,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},a={get(g){return get$2(this,g,!0,!0)},get size(){return size(this,!0)},has(g){return has$2.call(this,g,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(g=>{i[g]=createIterableMethod(g,!1,!1),r[g]=createIterableMethod(g,!0,!1),t[g]=createIterableMethod(g,!1,!0),a[g]=createIterableMethod(g,!0,!0)}),[i,r,t,a]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(i,t){const r=t?i?shallowReadonlyInstrumentations:shallowInstrumentations:i?readonlyInstrumentations:mutableInstrumentations;return(a,l,g)=>l==="__v_isReactive"?!i:l==="__v_isReadonly"?i:l==="__v_raw"?a:Reflect.get(hasOwn(r,l)&&l in a?r:a,l,g)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(i){switch(i){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(i){return i.__v_skip||!Object.isExtensible(i)?0:targetTypeMap(toRawType(i))}function reactive(i){return isReadonly(i)?i:createReactiveObject(i,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(i){return createReactiveObject(i,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(i){return createReactiveObject(i,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(i,t,r,a,l){if(!isObject$2(i)||i.__v_raw&&!(t&&i.__v_isReactive))return i;const g=l.get(i);if(g)return g;const d=getTargetType(i);if(d===0)return i;const s=new Proxy(i,d===2?a:r);return l.set(i,s),s}function isReactive(i){return isReadonly(i)?isReactive(i.__v_raw):!!(i&&i.__v_isReactive)}function isReadonly(i){return!!(i&&i.__v_isReadonly)}function isShallow(i){return!!(i&&i.__v_isShallow)}function isProxy(i){return isReactive(i)||isReadonly(i)}function toRaw(i){const t=i&&i.__v_raw;return t?toRaw(t):i}function markRaw(i){return def(i,"__v_skip",!0),i}const toReactive=i=>isObject$2(i)?reactive(i):i,toReadonly=i=>isObject$2(i)?readonly(i):i;function trackRefValue(i){shouldTrack&&activeEffect&&(i=toRaw(i),trackEffects(i.dep||(i.dep=createDep())))}function triggerRefValue(i,t){i=toRaw(i);const r=i.dep;r&&triggerEffects(r)}function isRef(i){return!!(i&&i.__v_isRef===!0)}function ref(i){return createRef(i,!1)}function shallowRef(i){return createRef(i,!0)}function createRef(i,t){return isRef(i)?i:new RefImpl(i,t)}class RefImpl{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:toRaw(t),this._value=r?t:toReactive(t)}get value(){return trackRefValue(this),this._value}set value(t){const r=this.__v_isShallow||isShallow(t)||isReadonly(t);t=r?t:toRaw(t),hasChanged(t,this._rawValue)&&(this._rawValue=t,this._value=r?t:toReactive(t),triggerRefValue(this))}}function unref(i){return isRef(i)?i.value:i}const shallowUnwrapHandlers={get:(i,t,r)=>unref(Reflect.get(i,t,r)),set:(i,t,r,a)=>{const l=i[t];return isRef(l)&&!isRef(r)?(l.value=r,!0):Reflect.set(i,t,r,a)}};function proxyRefs(i){return isReactive(i)?i:new Proxy(i,shallowUnwrapHandlers)}function toRefs(i){const t=isArray$3(i)?new Array(i.length):{};for(const r in i)t[r]=toRef(i,r);return t}class ObjectRefImpl{constructor(t,r,a){this._object=t,this._key=r,this._defaultValue=a,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}function toRef(i,t,r){const a=i[t];return isRef(a)?a:new ObjectRefImpl(i,t,r)}var _a$1;class ComputedRefImpl{constructor(t,r,a,l){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this[_a$1]=!1,this._dirty=!0,this.effect=new ReactiveEffect(t,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!l,this.__v_isReadonly=a}get value(){const t=toRaw(this);return trackRefValue(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}_a$1="__v_isReadonly";function computed$1(i,t,r=!1){let a,l;const g=isFunction$1(i);return g?(a=i,l=NOOP):(a=i.get,l=i.set),new ComputedRefImpl(a,l,g||!l,r)}function warn(i,...t){}function callWithErrorHandling(i,t,r,a){let l;try{l=a?i(...a):i()}catch(g){handleError(g,t,r)}return l}function callWithAsyncErrorHandling(i,t,r,a){if(isFunction$1(i)){const g=callWithErrorHandling(i,t,r,a);return g&&isPromise(g)&&g.catch(d=>{handleError(d,t,r)}),g}const l=[];for(let g=0;g<i.length;g++)l.push(callWithAsyncErrorHandling(i[g],t,r,a));return l}function handleError(i,t,r,a=!0){const l=t?t.vnode:null;if(t){let g=t.parent;const d=t.proxy,s=r;for(;g;){const n=g.ec;if(n){for(let c=0;c<n.length;c++)if(n[c](i,d,s)===!1)return}g=g.parent}const u=t.appContext.config.errorHandler;if(u){callWithErrorHandling(u,null,10,[i,d,s]);return}}logError(i,r,l,a)}function logError(i,t,r,a=!0){console.error(i)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(i){const t=currentFlushPromise||resolvedPromise;return i?t.then(this?i.bind(this):i):t}function findInsertionIndex(i){let t=flushIndex+1,r=queue.length;for(;t<r;){const a=t+r>>>1;getId(queue[a])<i?t=a+1:r=a}return t}function queueJob(i){(!queue.length||!queue.includes(i,isFlushing&&i.allowRecurse?flushIndex+1:flushIndex))&&(i.id==null?queue.push(i):queue.splice(findInsertionIndex(i.id),0,i),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(i){const t=queue.indexOf(i);t>flushIndex&&queue.splice(t,1)}function queuePostFlushCb(i){isArray$3(i)?pendingPostFlushCbs.push(...i):(!activePostFlushCbs||!activePostFlushCbs.includes(i,i.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(i),queueFlush()}function flushPreFlushCbs(i,t=isFlushing?flushIndex+1:0){for(;t<queue.length;t++){const r=queue[t];r&&r.pre&&(queue.splice(t,1),t--,r())}}function flushPostFlushCbs(i){if(pendingPostFlushCbs.length){const t=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...t);return}for(activePostFlushCbs=t,activePostFlushCbs.sort((r,a)=>getId(r)-getId(a)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=i=>i.id==null?1/0:i.id,comparator=(i,t)=>{const r=getId(i)-getId(t);if(r===0){if(i.pre&&!t.pre)return-1;if(t.pre&&!i.pre)return 1}return r};function flushJobs(i){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const t=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const r=queue[flushIndex];r&&r.active!==!1&&callWithErrorHandling(r,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit(i,t,...r){if(i.isUnmounted)return;const a=i.vnode.props||EMPTY_OBJ;let l=r;const g=t.startsWith("update:"),d=g&&t.slice(7);if(d&&d in a){const c=`${d==="modelValue"?"model":d}Modifiers`,{number:C,trim:m}=a[c]||EMPTY_OBJ;m&&(l=r.map(e=>isString$1(e)?e.trim():e)),C&&(l=r.map(looseToNumber))}let s,u=a[s=toHandlerKey(t)]||a[s=toHandlerKey(camelize(t))];!u&&g&&(u=a[s=toHandlerKey(hyphenate(t))]),u&&callWithAsyncErrorHandling(u,i,6,l);const n=a[s+"Once"];if(n){if(!i.emitted)i.emitted={};else if(i.emitted[s])return;i.emitted[s]=!0,callWithAsyncErrorHandling(n,i,6,l)}}function normalizeEmitsOptions(i,t,r=!1){const a=t.emitsCache,l=a.get(i);if(l!==void 0)return l;const g=i.emits;let d={},s=!1;if(!isFunction$1(i)){const u=n=>{const c=normalizeEmitsOptions(n,t,!0);c&&(s=!0,extend$1(d,c))};!r&&t.mixins.length&&t.mixins.forEach(u),i.extends&&u(i.extends),i.mixins&&i.mixins.forEach(u)}return!g&&!s?(isObject$2(i)&&a.set(i,null),null):(isArray$3(g)?g.forEach(u=>d[u]=null):extend$1(d,g),isObject$2(i)&&a.set(i,d),d)}function isEmitListener(i,t){return!i||!isOn(t)?!1:(t=t.slice(2).replace(/Once$/,""),hasOwn(i,t[0].toLowerCase()+t.slice(1))||hasOwn(i,hyphenate(t))||hasOwn(i,t))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(i){const t=currentRenderingInstance;return currentRenderingInstance=i,currentScopeId=i&&i.type.__scopeId||null,t}function withCtx(i,t=currentRenderingInstance,r){if(!t||i._n)return i;const a=(...l)=>{a._d&&setBlockTracking(-1);const g=setCurrentRenderingInstance(t);let d;try{d=i(...l)}finally{setCurrentRenderingInstance(g),a._d&&setBlockTracking(1)}return d};return a._n=!0,a._c=!0,a._d=!0,a}function markAttrsAccessed(){}function renderComponentRoot(i){const{type:t,vnode:r,proxy:a,withProxy:l,props:g,propsOptions:[d],slots:s,attrs:u,emit:n,render:c,renderCache:C,data:m,setupState:e,ctx:E,inheritAttrs:A}=i;let B,O;const v=setCurrentRenderingInstance(i);try{if(r.shapeFlag&4){const o=l||a;B=normalizeVNode(c.call(o,o,C,g,e,m,E)),O=u}else{const o=t;B=normalizeVNode(o.length>1?o(g,{attrs:u,slots:s,emit:n}):o(g,null)),O=t.props?u:getFunctionalFallthrough(u)}}catch(o){blockStack.length=0,handleError(o,i,1),B=createVNode(Comment)}let b=B;if(O&&A!==!1){const o=Object.keys(O),{shapeFlag:T}=b;o.length&&T&7&&(d&&o.some(isModelListener)&&(O=filterModelListeners(O,d)),b=cloneVNode(b,O))}return r.dirs&&(b=cloneVNode(b),b.dirs=b.dirs?b.dirs.concat(r.dirs):r.dirs),r.transition&&(b.transition=r.transition),B=b,setCurrentRenderingInstance(v),B}const getFunctionalFallthrough=i=>{let t;for(const r in i)(r==="class"||r==="style"||isOn(r))&&((t||(t={}))[r]=i[r]);return t},filterModelListeners=(i,t)=>{const r={};for(const a in i)(!isModelListener(a)||!(a.slice(9)in t))&&(r[a]=i[a]);return r};function shouldUpdateComponent(i,t,r){const{props:a,children:l,component:g}=i,{props:d,children:s,patchFlag:u}=t,n=g.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&u>=0){if(u&1024)return!0;if(u&16)return a?hasPropsChanged(a,d,n):!!d;if(u&8){const c=t.dynamicProps;for(let C=0;C<c.length;C++){const m=c[C];if(d[m]!==a[m]&&!isEmitListener(n,m))return!0}}}else return(l||s)&&(!s||!s.$stable)?!0:a===d?!1:a?d?hasPropsChanged(a,d,n):!0:!!d;return!1}function hasPropsChanged(i,t,r){const a=Object.keys(t);if(a.length!==Object.keys(i).length)return!0;for(let l=0;l<a.length;l++){const g=a[l];if(t[g]!==i[g]&&!isEmitListener(r,g))return!0}return!1}function updateHOCHostEl({vnode:i,parent:t},r){for(;t&&t.subTree===i;)(i=t.vnode).el=r,t=t.parent}const isSuspense=i=>i.__isSuspense;function queueEffectWithSuspense(i,t){t&&t.pendingBranch?isArray$3(i)?t.effects.push(...i):t.effects.push(i):queuePostFlushCb(i)}function provide(i,t){if(currentInstance){let r=currentInstance.provides;const a=currentInstance.parent&&currentInstance.parent.provides;a===r&&(r=currentInstance.provides=Object.create(a)),r[i]=t}}function inject(i,t,r=!1){const a=currentInstance||currentRenderingInstance;if(a){const l=a.parent==null?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides;if(l&&i in l)return l[i];if(arguments.length>1)return r&&isFunction$1(t)?t.call(a.proxy):t}}const INITIAL_WATCHER_VALUE={};function watch(i,t,r){return doWatch(i,t,r)}function doWatch(i,t,{immediate:r,deep:a,flush:l,onTrack:g,onTrigger:d}=EMPTY_OBJ){const s=getCurrentScope()===(currentInstance==null?void 0:currentInstance.scope)?currentInstance:null;let u,n=!1,c=!1;if(isRef(i)?(u=()=>i.value,n=isShallow(i)):isReactive(i)?(u=()=>i,a=!0):isArray$3(i)?(c=!0,n=i.some(b=>isReactive(b)||isShallow(b)),u=()=>i.map(b=>{if(isRef(b))return b.value;if(isReactive(b))return traverse(b);if(isFunction$1(b))return callWithErrorHandling(b,s,2)})):isFunction$1(i)?t?u=()=>callWithErrorHandling(i,s,2):u=()=>{if(!(s&&s.isUnmounted))return C&&C(),callWithAsyncErrorHandling(i,s,3,[m])}:u=NOOP,t&&a){const b=u;u=()=>traverse(b())}let C,m=b=>{C=O.onStop=()=>{callWithErrorHandling(b,s,4)}},e;if(isInSSRComponentSetup)if(m=NOOP,t?r&&callWithAsyncErrorHandling(t,s,3,[u(),c?[]:void 0,m]):u(),l==="sync"){const b=useSSRContext();e=b.__watcherHandles||(b.__watcherHandles=[])}else return NOOP;let E=c?new Array(i.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const A=()=>{if(!!O.active)if(t){const b=O.run();(a||n||(c?b.some((o,T)=>hasChanged(o,E[T])):hasChanged(b,E)))&&(C&&C(),callWithAsyncErrorHandling(t,s,3,[b,E===INITIAL_WATCHER_VALUE?void 0:c&&E[0]===INITIAL_WATCHER_VALUE?[]:E,m]),E=b)}else O.run()};A.allowRecurse=!!t;let B;l==="sync"?B=A:l==="post"?B=()=>queuePostRenderEffect(A,s&&s.suspense):(A.pre=!0,s&&(A.id=s.uid),B=()=>queueJob(A));const O=new ReactiveEffect(u,B);t?r?A():E=O.run():l==="post"?queuePostRenderEffect(O.run.bind(O),s&&s.suspense):O.run();const v=()=>{O.stop(),s&&s.scope&&remove(s.scope.effects,O)};return e&&e.push(v),v}function instanceWatch(i,t,r){const a=this.proxy,l=isString$1(i)?i.includes(".")?createPathGetter(a,i):()=>a[i]:i.bind(a,a);let g;isFunction$1(t)?g=t:(g=t.handler,r=t);const d=currentInstance;setCurrentInstance(this);const s=doWatch(l,g.bind(a),r);return d?setCurrentInstance(d):unsetCurrentInstance(),s}function createPathGetter(i,t){const r=t.split(".");return()=>{let a=i;for(let l=0;l<r.length&&a;l++)a=a[r[l]];return a}}function traverse(i,t){if(!isObject$2(i)||i.__v_skip||(t=t||new Set,t.has(i)))return i;if(t.add(i),isRef(i))traverse(i.value,t);else if(isArray$3(i))for(let r=0;r<i.length;r++)traverse(i[r],t);else if(isSet(i)||isMap(i))i.forEach(r=>{traverse(r,t)});else if(isPlainObject$1(i))for(const r in i)traverse(i[r],t);return i}function defineComponent(i){return isFunction$1(i)?{setup:i,name:i.name}:i}const isAsyncWrapper=i=>!!i.type.__asyncLoader,isKeepAlive=i=>i.type.__isKeepAlive;function onActivated(i,t){registerKeepAliveHook(i,"a",t)}function onDeactivated(i,t){registerKeepAliveHook(i,"da",t)}function registerKeepAliveHook(i,t,r=currentInstance){const a=i.__wdc||(i.__wdc=()=>{let l=r;for(;l;){if(l.isDeactivated)return;l=l.parent}return i()});if(injectHook(t,a,r),r){let l=r.parent;for(;l&&l.parent;)isKeepAlive(l.parent.vnode)&&injectToKeepAliveRoot(a,t,r,l),l=l.parent}}function injectToKeepAliveRoot(i,t,r,a){const l=injectHook(t,i,a,!0);onUnmounted(()=>{remove(a[t],l)},r)}function injectHook(i,t,r=currentInstance,a=!1){if(r){const l=r[i]||(r[i]=[]),g=t.__weh||(t.__weh=(...d)=>{if(r.isUnmounted)return;pauseTracking(),setCurrentInstance(r);const s=callWithAsyncErrorHandling(t,r,i,d);return unsetCurrentInstance(),resetTracking(),s});return a?l.unshift(g):l.push(g),g}}const createHook=i=>(t,r=currentInstance)=>(!isInSSRComponentSetup||i==="sp")&&injectHook(i,(...a)=>t(...a),r),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(i,t=currentInstance){injectHook("ec",i,t)}function withDirectives(i,t){const r=currentRenderingInstance;if(r===null)return i;const a=getExposeProxy(r)||r.proxy,l=i.dirs||(i.dirs=[]);for(let g=0;g<t.length;g++){let[d,s,u,n=EMPTY_OBJ]=t[g];d&&(isFunction$1(d)&&(d={mounted:d,updated:d}),d.deep&&traverse(s),l.push({dir:d,instance:a,value:s,oldValue:void 0,arg:u,modifiers:n}))}return i}function invokeDirectiveHook(i,t,r,a){const l=i.dirs,g=t&&t.dirs;for(let d=0;d<l.length;d++){const s=l[d];g&&(s.oldValue=g[d].value);let u=s.dir[a];u&&(pauseTracking(),callWithAsyncErrorHandling(u,r,8,[i.el,s,i,t]),resetTracking())}}const COMPONENTS="components";function resolveComponent(i,t){return resolveAsset(COMPONENTS,i,!0,t)||i}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveAsset(i,t,r=!0,a=!1){const l=currentRenderingInstance||currentInstance;if(l){const g=l.type;if(i===COMPONENTS){const s=getComponentName(g,!1);if(s&&(s===t||s===camelize(t)||s===capitalize(camelize(t))))return g}const d=resolve(l[i]||g[i],t)||resolve(l.appContext[i],t);return!d&&a?g:d}}function resolve(i,t){return i&&(i[t]||i[camelize(t)]||i[capitalize(camelize(t))])}function renderList(i,t,r,a){let l;const g=r&&r[a];if(isArray$3(i)||isString$1(i)){l=new Array(i.length);for(let d=0,s=i.length;d<s;d++)l[d]=t(i[d],d,void 0,g&&g[d])}else if(typeof i=="number"){l=new Array(i);for(let d=0;d<i;d++)l[d]=t(d+1,d,void 0,g&&g[d])}else if(isObject$2(i))if(i[Symbol.iterator])l=Array.from(i,(d,s)=>t(d,s,void 0,g&&g[s]));else{const d=Object.keys(i);l=new Array(d.length);for(let s=0,u=d.length;s<u;s++){const n=d[s];l[s]=t(i[n],n,s,g&&g[s])}}else l=[];return r&&(r[a]=l),l}const getPublicInstance=i=>i?isStatefulComponent(i)?getExposeProxy(i)||i.proxy:getPublicInstance(i.parent):null,publicPropertiesMap=extend$1(Object.create(null),{$:i=>i,$el:i=>i.vnode.el,$data:i=>i.data,$props:i=>i.props,$attrs:i=>i.attrs,$slots:i=>i.slots,$refs:i=>i.refs,$parent:i=>getPublicInstance(i.parent),$root:i=>getPublicInstance(i.root),$emit:i=>i.emit,$options:i=>resolveMergedOptions(i),$forceUpdate:i=>i.f||(i.f=()=>queueJob(i.update)),$nextTick:i=>i.n||(i.n=nextTick.bind(i.proxy)),$watch:i=>instanceWatch.bind(i)}),hasSetupBinding=(i,t)=>i!==EMPTY_OBJ&&!i.__isScriptSetup&&hasOwn(i,t),PublicInstanceProxyHandlers={get({_:i},t){const{ctx:r,setupState:a,data:l,props:g,accessCache:d,type:s,appContext:u}=i;let n;if(t[0]!=="$"){const e=d[t];if(e!==void 0)switch(e){case 1:return a[t];case 2:return l[t];case 4:return r[t];case 3:return g[t]}else{if(hasSetupBinding(a,t))return d[t]=1,a[t];if(l!==EMPTY_OBJ&&hasOwn(l,t))return d[t]=2,l[t];if((n=i.propsOptions[0])&&hasOwn(n,t))return d[t]=3,g[t];if(r!==EMPTY_OBJ&&hasOwn(r,t))return d[t]=4,r[t];shouldCacheAccess&&(d[t]=0)}}const c=publicPropertiesMap[t];let C,m;if(c)return t==="$attrs"&&track(i,"get",t),c(i);if((C=s.__cssModules)&&(C=C[t]))return C;if(r!==EMPTY_OBJ&&hasOwn(r,t))return d[t]=4,r[t];if(m=u.config.globalProperties,hasOwn(m,t))return m[t]},set({_:i},t,r){const{data:a,setupState:l,ctx:g}=i;return hasSetupBinding(l,t)?(l[t]=r,!0):a!==EMPTY_OBJ&&hasOwn(a,t)?(a[t]=r,!0):hasOwn(i.props,t)||t[0]==="$"&&t.slice(1)in i?!1:(g[t]=r,!0)},has({_:{data:i,setupState:t,accessCache:r,ctx:a,appContext:l,propsOptions:g}},d){let s;return!!r[d]||i!==EMPTY_OBJ&&hasOwn(i,d)||hasSetupBinding(t,d)||(s=g[0])&&hasOwn(s,d)||hasOwn(a,d)||hasOwn(publicPropertiesMap,d)||hasOwn(l.config.globalProperties,d)},defineProperty(i,t,r){return r.get!=null?i._.accessCache[t]=0:hasOwn(r,"value")&&this.set(i,t,r.value,null),Reflect.defineProperty(i,t,r)}};let shouldCacheAccess=!0;function applyOptions(i){const t=resolveMergedOptions(i),r=i.proxy,a=i.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook(t.beforeCreate,i,"bc");const{data:l,computed:g,methods:d,watch:s,provide:u,inject:n,created:c,beforeMount:C,mounted:m,beforeUpdate:e,updated:E,activated:A,deactivated:B,beforeDestroy:O,beforeUnmount:v,destroyed:b,unmounted:o,render:T,renderTracked:D,renderTriggered:_,errorCaptured:y,serverPrefetch:P,expose:w,inheritAttrs:M,components:q,directives:F,filters:G}=t;if(n&&resolveInjections(n,a,null,i.appContext.config.unwrapInjectedRef),d)for(const L in d){const x=d[L];isFunction$1(x)&&(a[L]=x.bind(r))}if(l){const L=l.call(r,r);isObject$2(L)&&(i.data=reactive(L))}if(shouldCacheAccess=!0,g)for(const L in g){const x=g[L],S=isFunction$1(x)?x.bind(r,r):isFunction$1(x.get)?x.get.bind(r,r):NOOP,W=!isFunction$1(x)&&isFunction$1(x.set)?x.set.bind(r):NOOP,U=computed({get:S,set:W});Object.defineProperty(a,L,{enumerable:!0,configurable:!0,get:()=>U.value,set:z=>U.value=z})}if(s)for(const L in s)createWatcher(s[L],a,r,L);if(u){const L=isFunction$1(u)?u.call(r):u;Reflect.ownKeys(L).forEach(x=>{provide(x,L[x])})}c&&callHook(c,i,"c");function I(L,x){isArray$3(x)?x.forEach(S=>L(S.bind(r))):x&&L(x.bind(r))}if(I(onBeforeMount,C),I(onMounted,m),I(onBeforeUpdate,e),I(onUpdated,E),I(onActivated,A),I(onDeactivated,B),I(onErrorCaptured,y),I(onRenderTracked,D),I(onRenderTriggered,_),I(onBeforeUnmount,v),I(onUnmounted,o),I(onServerPrefetch,P),isArray$3(w))if(w.length){const L=i.exposed||(i.exposed={});w.forEach(x=>{Object.defineProperty(L,x,{get:()=>r[x],set:S=>r[x]=S})})}else i.exposed||(i.exposed={});T&&i.render===NOOP&&(i.render=T),M!=null&&(i.inheritAttrs=M),q&&(i.components=q),F&&(i.directives=F)}function resolveInjections(i,t,r=NOOP,a=!1){isArray$3(i)&&(i=normalizeInject(i));for(const l in i){const g=i[l];let d;isObject$2(g)?"default"in g?d=inject(g.from||l,g.default,!0):d=inject(g.from||l):d=inject(g),isRef(d)&&a?Object.defineProperty(t,l,{enumerable:!0,configurable:!0,get:()=>d.value,set:s=>d.value=s}):t[l]=d}}function callHook(i,t,r){callWithAsyncErrorHandling(isArray$3(i)?i.map(a=>a.bind(t.proxy)):i.bind(t.proxy),t,r)}function createWatcher(i,t,r,a){const l=a.includes(".")?createPathGetter(r,a):()=>r[a];if(isString$1(i)){const g=t[i];isFunction$1(g)&&watch(l,g)}else if(isFunction$1(i))watch(l,i.bind(r));else if(isObject$2(i))if(isArray$3(i))i.forEach(g=>createWatcher(g,t,r,a));else{const g=isFunction$1(i.handler)?i.handler.bind(r):t[i.handler];isFunction$1(g)&&watch(l,g,i)}}function resolveMergedOptions(i){const t=i.type,{mixins:r,extends:a}=t,{mixins:l,optionsCache:g,config:{optionMergeStrategies:d}}=i.appContext,s=g.get(t);let u;return s?u=s:!l.length&&!r&&!a?u=t:(u={},l.length&&l.forEach(n=>mergeOptions$1(u,n,d,!0)),mergeOptions$1(u,t,d)),isObject$2(t)&&g.set(t,u),u}function mergeOptions$1(i,t,r,a=!1){const{mixins:l,extends:g}=t;g&&mergeOptions$1(i,g,r,!0),l&&l.forEach(d=>mergeOptions$1(i,d,r,!0));for(const d in t)if(!(a&&d==="expose")){const s=internalOptionMergeStrats[d]||r&&r[d];i[d]=s?s(i[d],t[d]):t[d]}return i}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(i,t){return t?i?function(){return extend$1(isFunction$1(i)?i.call(this,this):i,isFunction$1(t)?t.call(this,this):t)}:t:i}function mergeInject(i,t){return mergeObjectOptions(normalizeInject(i),normalizeInject(t))}function normalizeInject(i){if(isArray$3(i)){const t={};for(let r=0;r<i.length;r++)t[i[r]]=i[r];return t}return i}function mergeAsArray(i,t){return i?[...new Set([].concat(i,t))]:t}function mergeObjectOptions(i,t){return i?extend$1(extend$1(Object.create(null),i),t):t}function mergeWatchOptions(i,t){if(!i)return t;if(!t)return i;const r=extend$1(Object.create(null),i);for(const a in t)r[a]=mergeAsArray(i[a],t[a]);return r}function initProps(i,t,r,a=!1){const l={},g={};def(g,InternalObjectKey,1),i.propsDefaults=Object.create(null),setFullProps(i,t,l,g);for(const d in i.propsOptions[0])d in l||(l[d]=void 0);r?i.props=a?l:shallowReactive(l):i.type.props?i.props=l:i.props=g,i.attrs=g}function updateProps(i,t,r,a){const{props:l,attrs:g,vnode:{patchFlag:d}}=i,s=toRaw(l),[u]=i.propsOptions;let n=!1;if((a||d>0)&&!(d&16)){if(d&8){const c=i.vnode.dynamicProps;for(let C=0;C<c.length;C++){let m=c[C];if(isEmitListener(i.emitsOptions,m))continue;const e=t[m];if(u)if(hasOwn(g,m))e!==g[m]&&(g[m]=e,n=!0);else{const E=camelize(m);l[E]=resolvePropValue(u,s,E,e,i,!1)}else e!==g[m]&&(g[m]=e,n=!0)}}}else{setFullProps(i,t,l,g)&&(n=!0);let c;for(const C in s)(!t||!hasOwn(t,C)&&((c=hyphenate(C))===C||!hasOwn(t,c)))&&(u?r&&(r[C]!==void 0||r[c]!==void 0)&&(l[C]=resolvePropValue(u,s,C,void 0,i,!0)):delete l[C]);if(g!==s)for(const C in g)(!t||!hasOwn(t,C)&&!0)&&(delete g[C],n=!0)}n&&trigger(i,"set","$attrs")}function setFullProps(i,t,r,a){const[l,g]=i.propsOptions;let d=!1,s;if(t)for(let u in t){if(isReservedProp(u))continue;const n=t[u];let c;l&&hasOwn(l,c=camelize(u))?!g||!g.includes(c)?r[c]=n:(s||(s={}))[c]=n:isEmitListener(i.emitsOptions,u)||(!(u in a)||n!==a[u])&&(a[u]=n,d=!0)}if(g){const u=toRaw(r),n=s||EMPTY_OBJ;for(let c=0;c<g.length;c++){const C=g[c];r[C]=resolvePropValue(l,u,C,n[C],i,!hasOwn(n,C))}}return d}function resolvePropValue(i,t,r,a,l,g){const d=i[r];if(d!=null){const s=hasOwn(d,"default");if(s&&a===void 0){const u=d.default;if(d.type!==Function&&isFunction$1(u)){const{propsDefaults:n}=l;r in n?a=n[r]:(setCurrentInstance(l),a=n[r]=u.call(null,t),unsetCurrentInstance())}else a=u}d[0]&&(g&&!s?a=!1:d[1]&&(a===""||a===hyphenate(r))&&(a=!0))}return a}function normalizePropsOptions(i,t,r=!1){const a=t.propsCache,l=a.get(i);if(l)return l;const g=i.props,d={},s=[];let u=!1;if(!isFunction$1(i)){const c=C=>{u=!0;const[m,e]=normalizePropsOptions(C,t,!0);extend$1(d,m),e&&s.push(...e)};!r&&t.mixins.length&&t.mixins.forEach(c),i.extends&&c(i.extends),i.mixins&&i.mixins.forEach(c)}if(!g&&!u)return isObject$2(i)&&a.set(i,EMPTY_ARR),EMPTY_ARR;if(isArray$3(g))for(let c=0;c<g.length;c++){const C=camelize(g[c]);validatePropName(C)&&(d[C]=EMPTY_OBJ)}else if(g)for(const c in g){const C=camelize(c);if(validatePropName(C)){const m=g[c],e=d[C]=isArray$3(m)||isFunction$1(m)?{type:m}:Object.assign({},m);if(e){const E=getTypeIndex(Boolean,e.type),A=getTypeIndex(String,e.type);e[0]=E>-1,e[1]=A<0||E<A,(E>-1||hasOwn(e,"default"))&&s.push(C)}}}const n=[d,s];return isObject$2(i)&&a.set(i,n),n}function validatePropName(i){return i[0]!=="$"}function getType(i){const t=i&&i.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:i===null?"null":""}function isSameType(i,t){return getType(i)===getType(t)}function getTypeIndex(i,t){return isArray$3(t)?t.findIndex(r=>isSameType(r,i)):isFunction$1(t)&&isSameType(t,i)?0:-1}const isInternalKey=i=>i[0]==="_"||i==="$stable",normalizeSlotValue=i=>isArray$3(i)?i.map(normalizeVNode):[normalizeVNode(i)],normalizeSlot$1=(i,t,r)=>{if(t._n)return t;const a=withCtx((...l)=>normalizeSlotValue(t(...l)),r);return a._c=!1,a},normalizeObjectSlots=(i,t,r)=>{const a=i._ctx;for(const l in i){if(isInternalKey(l))continue;const g=i[l];if(isFunction$1(g))t[l]=normalizeSlot$1(l,g,a);else if(g!=null){const d=normalizeSlotValue(g);t[l]=()=>d}}},normalizeVNodeSlots=(i,t)=>{const r=normalizeSlotValue(t);i.slots.default=()=>r},initSlots=(i,t)=>{if(i.vnode.shapeFlag&32){const r=t._;r?(i.slots=toRaw(t),def(t,"_",r)):normalizeObjectSlots(t,i.slots={})}else i.slots={},t&&normalizeVNodeSlots(i,t);def(i.slots,InternalObjectKey,1)},updateSlots=(i,t,r)=>{const{vnode:a,slots:l}=i;let g=!0,d=EMPTY_OBJ;if(a.shapeFlag&32){const s=t._;s?r&&s===1?g=!1:(extend$1(l,t),!r&&s===1&&delete l._):(g=!t.$stable,normalizeObjectSlots(t,l)),d=t}else t&&(normalizeVNodeSlots(i,t),d={default:1});if(g)for(const s in l)!isInternalKey(s)&&!(s in d)&&delete l[s]};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(i,t){return function(a,l=null){isFunction$1(a)||(a=Object.assign({},a)),l!=null&&!isObject$2(l)&&(l=null);const g=createAppContext(),d=new Set;let s=!1;const u=g.app={_uid:uid$1++,_component:a,_props:l,_container:null,_context:g,_instance:null,version:version$3,get config(){return g.config},set config(n){},use(n,...c){return d.has(n)||(n&&isFunction$1(n.install)?(d.add(n),n.install(u,...c)):isFunction$1(n)&&(d.add(n),n(u,...c))),u},mixin(n){return g.mixins.includes(n)||g.mixins.push(n),u},component(n,c){return c?(g.components[n]=c,u):g.components[n]},directive(n,c){return c?(g.directives[n]=c,u):g.directives[n]},mount(n,c,C){if(!s){const m=createVNode(a,l);return m.appContext=g,c&&t?t(m,n):i(m,n,C),s=!0,u._container=n,n.__vue_app__=u,getExposeProxy(m.component)||m.component.proxy}},unmount(){s&&(i(null,u._container),delete u._container.__vue_app__)},provide(n,c){return g.provides[n]=c,u}};return u}}function setRef(i,t,r,a,l=!1){if(isArray$3(i)){i.forEach((m,e)=>setRef(m,t&&(isArray$3(t)?t[e]:t),r,a,l));return}if(isAsyncWrapper(a)&&!l)return;const g=a.shapeFlag&4?getExposeProxy(a.component)||a.component.proxy:a.el,d=l?null:g,{i:s,r:u}=i,n=t&&t.r,c=s.refs===EMPTY_OBJ?s.refs={}:s.refs,C=s.setupState;if(n!=null&&n!==u&&(isString$1(n)?(c[n]=null,hasOwn(C,n)&&(C[n]=null)):isRef(n)&&(n.value=null)),isFunction$1(u))callWithErrorHandling(u,s,12,[d,c]);else{const m=isString$1(u),e=isRef(u);if(m||e){const E=()=>{if(i.f){const A=m?hasOwn(C,u)?C[u]:c[u]:u.value;l?isArray$3(A)&&remove(A,g):isArray$3(A)?A.includes(g)||A.push(g):m?(c[u]=[g],hasOwn(C,u)&&(C[u]=c[u])):(u.value=[g],i.k&&(c[i.k]=u.value))}else m?(c[u]=d,hasOwn(C,u)&&(C[u]=d)):e&&(u.value=d,i.k&&(c[i.k]=d))};d?(E.id=-1,queuePostRenderEffect(E,r)):E()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(i){return baseCreateRenderer(i)}function baseCreateRenderer(i,t){const r=getGlobalThis();r.__VUE__=!0;const{insert:a,remove:l,patchProp:g,createElement:d,createText:s,createComment:u,setText:n,setElementText:c,parentNode:C,nextSibling:m,setScopeId:e=NOOP,insertStaticContent:E}=i,A=($,X,ne,ce=null,se=null,K=null,ee=!1,ie=null,oe=!!X.dynamicChildren)=>{if($===X)return;$&&!isSameVNodeType($,X)&&(ce=Z($),z($,se,K,!0),$=null),X.patchFlag===-2&&(oe=!1,X.dynamicChildren=null);const{type:le,ref:pe,shapeFlag:fe}=X;switch(le){case Text:B($,X,ne,ce);break;case Comment:O($,X,ne,ce);break;case Static:$==null&&v(X,ne,ce,ee);break;case Fragment:q($,X,ne,ce,se,K,ee,ie,oe);break;default:fe&1?T($,X,ne,ce,se,K,ee,ie,oe):fe&6?F($,X,ne,ce,se,K,ee,ie,oe):(fe&64||fe&128)&&le.process($,X,ne,ce,se,K,ee,ie,oe,V)}pe!=null&&se&&setRef(pe,$&&$.ref,K,X||$,!X)},B=($,X,ne,ce)=>{if($==null)a(X.el=s(X.children),ne,ce);else{const se=X.el=$.el;X.children!==$.children&&n(se,X.children)}},O=($,X,ne,ce)=>{$==null?a(X.el=u(X.children||""),ne,ce):X.el=$.el},v=($,X,ne,ce)=>{[$.el,$.anchor]=E($.children,X,ne,ce,$.el,$.anchor)},b=({el:$,anchor:X},ne,ce)=>{let se;for(;$&&$!==X;)se=m($),a($,ne,ce),$=se;a(X,ne,ce)},o=({el:$,anchor:X})=>{let ne;for(;$&&$!==X;)ne=m($),l($),$=ne;l(X)},T=($,X,ne,ce,se,K,ee,ie,oe)=>{ee=ee||X.type==="svg",$==null?D(X,ne,ce,se,K,ee,ie,oe):P($,X,se,K,ee,ie,oe)},D=($,X,ne,ce,se,K,ee,ie)=>{let oe,le;const{type:pe,props:fe,shapeFlag:ue,transition:ge,dirs:he}=$;if(oe=$.el=d($.type,K,fe&&fe.is,fe),ue&8?c(oe,$.children):ue&16&&y($.children,oe,null,ce,se,K&&pe!=="foreignObject",ee,ie),he&&invokeDirectiveHook($,null,ce,"created"),_(oe,$,$.scopeId,ee,ce),fe){for(const ye in fe)ye!=="value"&&!isReservedProp(ye)&&g(oe,ye,null,fe[ye],K,$.children,ce,se,H);"value"in fe&&g(oe,"value",null,fe.value),(le=fe.onVnodeBeforeMount)&&invokeVNodeHook(le,ce,$)}he&&invokeDirectiveHook($,null,ce,"beforeMount");const xe=(!se||se&&!se.pendingBranch)&&ge&&!ge.persisted;xe&&ge.beforeEnter(oe),a(oe,X,ne),((le=fe&&fe.onVnodeMounted)||xe||he)&&queuePostRenderEffect(()=>{le&&invokeVNodeHook(le,ce,$),xe&&ge.enter(oe),he&&invokeDirectiveHook($,null,ce,"mounted")},se)},_=($,X,ne,ce,se)=>{if(ne&&e($,ne),ce)for(let K=0;K<ce.length;K++)e($,ce[K]);if(se){let K=se.subTree;if(X===K){const ee=se.vnode;_($,ee,ee.scopeId,ee.slotScopeIds,se.parent)}}},y=($,X,ne,ce,se,K,ee,ie,oe=0)=>{for(let le=oe;le<$.length;le++){const pe=$[le]=ie?cloneIfMounted($[le]):normalizeVNode($[le]);A(null,pe,X,ne,ce,se,K,ee,ie)}},P=($,X,ne,ce,se,K,ee)=>{const ie=X.el=$.el;let{patchFlag:oe,dynamicChildren:le,dirs:pe}=X;oe|=$.patchFlag&16;const fe=$.props||EMPTY_OBJ,ue=X.props||EMPTY_OBJ;let ge;ne&&toggleRecurse(ne,!1),(ge=ue.onVnodeBeforeUpdate)&&invokeVNodeHook(ge,ne,X,$),pe&&invokeDirectiveHook(X,$,ne,"beforeUpdate"),ne&&toggleRecurse(ne,!0);const he=se&&X.type!=="foreignObject";if(le?w($.dynamicChildren,le,ie,ne,ce,he,K):ee||x($,X,ie,null,ne,ce,he,K,!1),oe>0){if(oe&16)M(ie,X,fe,ue,ne,ce,se);else if(oe&2&&fe.class!==ue.class&&g(ie,"class",null,ue.class,se),oe&4&&g(ie,"style",fe.style,ue.style,se),oe&8){const xe=X.dynamicProps;for(let ye=0;ye<xe.length;ye++){const ve=xe[ye],ke=fe[ve],Se=ue[ve];(Se!==ke||ve==="value")&&g(ie,ve,ke,Se,se,$.children,ne,ce,H)}}oe&1&&$.children!==X.children&&c(ie,X.children)}else!ee&&le==null&&M(ie,X,fe,ue,ne,ce,se);((ge=ue.onVnodeUpdated)||pe)&&queuePostRenderEffect(()=>{ge&&invokeVNodeHook(ge,ne,X,$),pe&&invokeDirectiveHook(X,$,ne,"updated")},ce)},w=($,X,ne,ce,se,K,ee)=>{for(let ie=0;ie<X.length;ie++){const oe=$[ie],le=X[ie],pe=oe.el&&(oe.type===Fragment||!isSameVNodeType(oe,le)||oe.shapeFlag&70)?C(oe.el):ne;A(oe,le,pe,null,ce,se,K,ee,!0)}},M=($,X,ne,ce,se,K,ee)=>{if(ne!==ce){if(ne!==EMPTY_OBJ)for(const ie in ne)!isReservedProp(ie)&&!(ie in ce)&&g($,ie,ne[ie],null,ee,X.children,se,K,H);for(const ie in ce){if(isReservedProp(ie))continue;const oe=ce[ie],le=ne[ie];oe!==le&&ie!=="value"&&g($,ie,le,oe,ee,X.children,se,K,H)}"value"in ce&&g($,"value",ne.value,ce.value)}},q=($,X,ne,ce,se,K,ee,ie,oe)=>{const le=X.el=$?$.el:s(""),pe=X.anchor=$?$.anchor:s("");let{patchFlag:fe,dynamicChildren:ue,slotScopeIds:ge}=X;ge&&(ie=ie?ie.concat(ge):ge),$==null?(a(le,ne,ce),a(pe,ne,ce),y(X.children,ne,pe,se,K,ee,ie,oe)):fe>0&&fe&64&&ue&&$.dynamicChildren?(w($.dynamicChildren,ue,ne,se,K,ee,ie),(X.key!=null||se&&X===se.subTree)&&traverseStaticChildren($,X,!0)):x($,X,ne,pe,se,K,ee,ie,oe)},F=($,X,ne,ce,se,K,ee,ie,oe)=>{X.slotScopeIds=ie,$==null?X.shapeFlag&512?se.ctx.activate(X,ne,ce,ee,oe):G(X,ne,ce,se,K,ee,oe):R($,X,oe)},G=($,X,ne,ce,se,K,ee)=>{const ie=$.component=createComponentInstance($,ce,se);if(isKeepAlive($)&&(ie.ctx.renderer=V),setupComponent(ie),ie.asyncDep){if(se&&se.registerDep(ie,I),!$.el){const oe=ie.subTree=createVNode(Comment);O(null,oe,X,ne)}return}I(ie,$,X,ne,se,K,ee)},R=($,X,ne)=>{const ce=X.component=$.component;if(shouldUpdateComponent($,X,ne))if(ce.asyncDep&&!ce.asyncResolved){L(ce,X,ne);return}else ce.next=X,invalidateJob(ce.update),ce.update();else X.el=$.el,ce.vnode=X},I=($,X,ne,ce,se,K,ee)=>{const ie=()=>{if($.isMounted){let{next:pe,bu:fe,u:ue,parent:ge,vnode:he}=$,xe=pe,ye;toggleRecurse($,!1),pe?(pe.el=he.el,L($,pe,ee)):pe=he,fe&&invokeArrayFns(fe),(ye=pe.props&&pe.props.onVnodeBeforeUpdate)&&invokeVNodeHook(ye,ge,pe,he),toggleRecurse($,!0);const ve=renderComponentRoot($),ke=$.subTree;$.subTree=ve,A(ke,ve,C(ke.el),Z(ke),$,se,K),pe.el=ve.el,xe===null&&updateHOCHostEl($,ve.el),ue&&queuePostRenderEffect(ue,se),(ye=pe.props&&pe.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(ye,ge,pe,he),se)}else{let pe;const{el:fe,props:ue}=X,{bm:ge,m:he,parent:xe}=$,ye=isAsyncWrapper(X);if(toggleRecurse($,!1),ge&&invokeArrayFns(ge),!ye&&(pe=ue&&ue.onVnodeBeforeMount)&&invokeVNodeHook(pe,xe,X),toggleRecurse($,!0),fe&&te){const ve=()=>{$.subTree=renderComponentRoot($),te(fe,$.subTree,$,se,null)};ye?X.type.__asyncLoader().then(()=>!$.isUnmounted&&ve()):ve()}else{const ve=$.subTree=renderComponentRoot($);A(null,ve,ne,ce,$,se,K),X.el=ve.el}if(he&&queuePostRenderEffect(he,se),!ye&&(pe=ue&&ue.onVnodeMounted)){const ve=X;queuePostRenderEffect(()=>invokeVNodeHook(pe,xe,ve),se)}(X.shapeFlag&256||xe&&isAsyncWrapper(xe.vnode)&&xe.vnode.shapeFlag&256)&&$.a&&queuePostRenderEffect($.a,se),$.isMounted=!0,X=ne=ce=null}},oe=$.effect=new ReactiveEffect(ie,()=>queueJob(le),$.scope),le=$.update=()=>oe.run();le.id=$.uid,toggleRecurse($,!0),le()},L=($,X,ne)=>{X.component=$;const ce=$.vnode.props;$.vnode=X,$.next=null,updateProps($,X.props,ce,ne),updateSlots($,X.children,ne),pauseTracking(),flushPreFlushCbs(),resetTracking()},x=($,X,ne,ce,se,K,ee,ie,oe=!1)=>{const le=$&&$.children,pe=$?$.shapeFlag:0,fe=X.children,{patchFlag:ue,shapeFlag:ge}=X;if(ue>0){if(ue&128){W(le,fe,ne,ce,se,K,ee,ie,oe);return}else if(ue&256){S(le,fe,ne,ce,se,K,ee,ie,oe);return}}ge&8?(pe&16&&H(le,se,K),fe!==le&&c(ne,fe)):pe&16?ge&16?W(le,fe,ne,ce,se,K,ee,ie,oe):H(le,se,K,!0):(pe&8&&c(ne,""),ge&16&&y(fe,ne,ce,se,K,ee,ie,oe))},S=($,X,ne,ce,se,K,ee,ie,oe)=>{$=$||EMPTY_ARR,X=X||EMPTY_ARR;const le=$.length,pe=X.length,fe=Math.min(le,pe);let ue;for(ue=0;ue<fe;ue++){const ge=X[ue]=oe?cloneIfMounted(X[ue]):normalizeVNode(X[ue]);A($[ue],ge,ne,null,se,K,ee,ie,oe)}le>pe?H($,se,K,!0,!1,fe):y(X,ne,ce,se,K,ee,ie,oe,fe)},W=($,X,ne,ce,se,K,ee,ie,oe)=>{let le=0;const pe=X.length;let fe=$.length-1,ue=pe-1;for(;le<=fe&&le<=ue;){const ge=$[le],he=X[le]=oe?cloneIfMounted(X[le]):normalizeVNode(X[le]);if(isSameVNodeType(ge,he))A(ge,he,ne,null,se,K,ee,ie,oe);else break;le++}for(;le<=fe&&le<=ue;){const ge=$[fe],he=X[ue]=oe?cloneIfMounted(X[ue]):normalizeVNode(X[ue]);if(isSameVNodeType(ge,he))A(ge,he,ne,null,se,K,ee,ie,oe);else break;fe--,ue--}if(le>fe){if(le<=ue){const ge=ue+1,he=ge<pe?X[ge].el:ce;for(;le<=ue;)A(null,X[le]=oe?cloneIfMounted(X[le]):normalizeVNode(X[le]),ne,he,se,K,ee,ie,oe),le++}}else if(le>ue)for(;le<=fe;)z($[le],se,K,!0),le++;else{const ge=le,he=le,xe=new Map;for(le=he;le<=ue;le++){const Fe=X[le]=oe?cloneIfMounted(X[le]):normalizeVNode(X[le]);Fe.key!=null&&xe.set(Fe.key,le)}let ye,ve=0;const ke=ue-he+1;let Se=!1,be=0;const Ee=new Array(ke);for(le=0;le<ke;le++)Ee[le]=0;for(le=ge;le<=fe;le++){const Fe=$[le];if(ve>=ke){z(Fe,se,K,!0);continue}let Re;if(Fe.key!=null)Re=xe.get(Fe.key);else for(ye=he;ye<=ue;ye++)if(Ee[ye-he]===0&&isSameVNodeType(Fe,X[ye])){Re=ye;break}Re===void 0?z(Fe,se,K,!0):(Ee[Re-he]=le+1,Re>=be?be=Re:Se=!0,A(Fe,X[Re],ne,null,se,K,ee,ie,oe),ve++)}const Oe=Se?getSequence(Ee):EMPTY_ARR;for(ye=Oe.length-1,le=ke-1;le>=0;le--){const Fe=he+le,Re=X[Fe],Ne=Fe+1<pe?X[Fe+1].el:ce;Ee[le]===0?A(null,Re,ne,Ne,se,K,ee,ie,oe):Se&&(ye<0||le!==Oe[ye]?U(Re,ne,Ne,2):ye--)}}},U=($,X,ne,ce,se=null)=>{const{el:K,type:ee,transition:ie,children:oe,shapeFlag:le}=$;if(le&6){U($.component.subTree,X,ne,ce);return}if(le&128){$.suspense.move(X,ne,ce);return}if(le&64){ee.move($,X,ne,V);return}if(ee===Fragment){a(K,X,ne);for(let fe=0;fe<oe.length;fe++)U(oe[fe],X,ne,ce);a($.anchor,X,ne);return}if(ee===Static){b($,X,ne);return}if(ce!==2&&le&1&&ie)if(ce===0)ie.beforeEnter(K),a(K,X,ne),queuePostRenderEffect(()=>ie.enter(K),se);else{const{leave:fe,delayLeave:ue,afterLeave:ge}=ie,he=()=>a(K,X,ne),xe=()=>{fe(K,()=>{he(),ge&&ge()})};ue?ue(K,he,xe):xe()}else a(K,X,ne)},z=($,X,ne,ce=!1,se=!1)=>{const{type:K,props:ee,ref:ie,children:oe,dynamicChildren:le,shapeFlag:pe,patchFlag:fe,dirs:ue}=$;if(ie!=null&&setRef(ie,null,ne,$,!0),pe&256){X.ctx.deactivate($);return}const ge=pe&1&&ue,he=!isAsyncWrapper($);let xe;if(he&&(xe=ee&&ee.onVnodeBeforeUnmount)&&invokeVNodeHook(xe,X,$),pe&6)k($.component,ne,ce);else{if(pe&128){$.suspense.unmount(ne,ce);return}ge&&invokeDirectiveHook($,null,X,"beforeUnmount"),pe&64?$.type.remove($,X,ne,se,V,ce):le&&(K!==Fragment||fe>0&&fe&64)?H(le,X,ne,!1,!0):(K===Fragment&&fe&384||!se&&pe&16)&&H(oe,X,ne),ce&&re($)}(he&&(xe=ee&&ee.onVnodeUnmounted)||ge)&&queuePostRenderEffect(()=>{xe&&invokeVNodeHook(xe,X,$),ge&&invokeDirectiveHook($,null,X,"unmounted")},ne)},re=$=>{const{type:X,el:ne,anchor:ce,transition:se}=$;if(X===Fragment){J(ne,ce);return}if(X===Static){o($);return}const K=()=>{l(ne),se&&!se.persisted&&se.afterLeave&&se.afterLeave()};if($.shapeFlag&1&&se&&!se.persisted){const{leave:ee,delayLeave:ie}=se,oe=()=>ee(ne,K);ie?ie($.el,K,oe):oe()}else K()},J=($,X)=>{let ne;for(;$!==X;)ne=m($),l($),$=ne;l(X)},k=($,X,ne)=>{const{bum:ce,scope:se,update:K,subTree:ee,um:ie}=$;ce&&invokeArrayFns(ce),se.stop(),K&&(K.active=!1,z(ee,$,X,ne)),ie&&queuePostRenderEffect(ie,X),queuePostRenderEffect(()=>{$.isUnmounted=!0},X),X&&X.pendingBranch&&!X.isUnmounted&&$.asyncDep&&!$.asyncResolved&&$.suspenseId===X.pendingId&&(X.deps--,X.deps===0&&X.resolve())},H=($,X,ne,ce=!1,se=!1,K=0)=>{for(let ee=K;ee<$.length;ee++)z($[ee],X,ne,ce,se)},Z=$=>$.shapeFlag&6?Z($.component.subTree):$.shapeFlag&128?$.suspense.next():m($.anchor||$.el),Q=($,X,ne)=>{$==null?X._vnode&&z(X._vnode,null,null,!0):A(X._vnode||null,$,X,null,null,null,ne),flushPreFlushCbs(),flushPostFlushCbs(),X._vnode=$},V={p:A,um:z,m:U,r:re,mt:G,mc:y,pc:x,pbc:w,n:Z,o:i};let Y,te;return t&&([Y,te]=t(V)),{render:Q,hydrate:Y,createApp:createAppAPI(Q,Y)}}function toggleRecurse({effect:i,update:t},r){i.allowRecurse=t.allowRecurse=r}function traverseStaticChildren(i,t,r=!1){const a=i.children,l=t.children;if(isArray$3(a)&&isArray$3(l))for(let g=0;g<a.length;g++){const d=a[g];let s=l[g];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=l[g]=cloneIfMounted(l[g]),s.el=d.el),r||traverseStaticChildren(d,s)),s.type===Text&&(s.el=d.el)}}function getSequence(i){const t=i.slice(),r=[0];let a,l,g,d,s;const u=i.length;for(a=0;a<u;a++){const n=i[a];if(n!==0){if(l=r[r.length-1],i[l]<n){t[a]=l,r.push(a);continue}for(g=0,d=r.length-1;g<d;)s=g+d>>1,i[r[s]]<n?g=s+1:d=s;n<i[r[g]]&&(g>0&&(t[a]=r[g-1]),r[g]=a)}}for(g=r.length,d=r[g-1];g-- >0;)r[g]=d,d=t[d];return r}const isTeleport=i=>i.__isTeleport,Fragment=Symbol(void 0),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(i=!1){blockStack.push(currentBlock=i?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(i){isBlockTreeEnabled+=i}function setupBlock(i){return i.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(i),i}function createElementBlock(i,t,r,a,l,g){return setupBlock(createBaseVNode(i,t,r,a,l,g,!0))}function createBlock(i,t,r,a,l){return setupBlock(createVNode(i,t,r,a,l,!0))}function isVNode(i){return i?i.__v_isVNode===!0:!1}function isSameVNodeType(i,t){return i.type===t.type&&i.key===t.key}const InternalObjectKey="__vInternal",normalizeKey=({key:i})=>i!=null?i:null,normalizeRef=({ref:i,ref_key:t,ref_for:r})=>i!=null?isString$1(i)||isRef(i)||isFunction$1(i)?{i:currentRenderingInstance,r:i,k:t,f:!!r}:i:null;function createBaseVNode(i,t=null,r=null,a=0,l=null,g=i===Fragment?0:1,d=!1,s=!1){const u={__v_isVNode:!0,__v_skip:!0,type:i,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:g,patchFlag:a,dynamicProps:l,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return s?(normalizeChildren(u,r),g&128&&i.normalize(u)):r&&(u.shapeFlag|=isString$1(r)?8:16),isBlockTreeEnabled>0&&!d&&currentBlock&&(u.patchFlag>0||g&6)&&u.patchFlag!==32&&currentBlock.push(u),u}const createVNode=_createVNode;function _createVNode(i,t=null,r=null,a=0,l=null,g=!1){if((!i||i===NULL_DYNAMIC_COMPONENT)&&(i=Comment),isVNode(i)){const s=cloneVNode(i,t,!0);return r&&normalizeChildren(s,r),isBlockTreeEnabled>0&&!g&&currentBlock&&(s.shapeFlag&6?currentBlock[currentBlock.indexOf(i)]=s:currentBlock.push(s)),s.patchFlag|=-2,s}if(isClassComponent(i)&&(i=i.__vccOpts),t){t=guardReactiveProps(t);let{class:s,style:u}=t;s&&!isString$1(s)&&(t.class=normalizeClass(s)),isObject$2(u)&&(isProxy(u)&&!isArray$3(u)&&(u=extend$1({},u)),t.style=normalizeStyle(u))}const d=isString$1(i)?1:isSuspense(i)?128:isTeleport(i)?64:isObject$2(i)?4:isFunction$1(i)?2:0;return createBaseVNode(i,t,r,a,l,d,g,!0)}function guardReactiveProps(i){return i?isProxy(i)||InternalObjectKey in i?extend$1({},i):i:null}function cloneVNode(i,t,r=!1){const{props:a,ref:l,patchFlag:g,children:d}=i,s=t?mergeProps(a||{},t):a;return{__v_isVNode:!0,__v_skip:!0,type:i.type,props:s,key:s&&normalizeKey(s),ref:t&&t.ref?r&&l?isArray$3(l)?l.concat(normalizeRef(t)):[l,normalizeRef(t)]:normalizeRef(t):l,scopeId:i.scopeId,slotScopeIds:i.slotScopeIds,children:d,target:i.target,targetAnchor:i.targetAnchor,staticCount:i.staticCount,shapeFlag:i.shapeFlag,patchFlag:t&&i.type!==Fragment?g===-1?16:g|16:g,dynamicProps:i.dynamicProps,dynamicChildren:i.dynamicChildren,appContext:i.appContext,dirs:i.dirs,transition:i.transition,component:i.component,suspense:i.suspense,ssContent:i.ssContent&&cloneVNode(i.ssContent),ssFallback:i.ssFallback&&cloneVNode(i.ssFallback),el:i.el,anchor:i.anchor,ctx:i.ctx,ce:i.ce}}function createTextVNode(i=" ",t=0){return createVNode(Text,null,i,t)}function createStaticVNode(i,t){const r=createVNode(Static,null,i);return r.staticCount=t,r}function createCommentVNode(i="",t=!1){return t?(openBlock(),createBlock(Comment,null,i)):createVNode(Comment,null,i)}function normalizeVNode(i){return i==null||typeof i=="boolean"?createVNode(Comment):isArray$3(i)?createVNode(Fragment,null,i.slice()):typeof i=="object"?cloneIfMounted(i):createVNode(Text,null,String(i))}function cloneIfMounted(i){return i.el===null&&i.patchFlag!==-1||i.memo?i:cloneVNode(i)}function normalizeChildren(i,t){let r=0;const{shapeFlag:a}=i;if(t==null)t=null;else if(isArray$3(t))r=16;else if(typeof t=="object")if(a&65){const l=t.default;l&&(l._c&&(l._d=!1),normalizeChildren(i,l()),l._c&&(l._d=!0));return}else{r=32;const l=t._;!l&&!(InternalObjectKey in t)?t._ctx=currentRenderingInstance:l===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?t._=1:(t._=2,i.patchFlag|=1024))}else isFunction$1(t)?(t={default:t,_ctx:currentRenderingInstance},r=32):(t=String(t),a&64?(r=16,t=[createTextVNode(t)]):r=8);i.children=t,i.shapeFlag|=r}function mergeProps(...i){const t={};for(let r=0;r<i.length;r++){const a=i[r];for(const l in a)if(l==="class")t.class!==a.class&&(t.class=normalizeClass([t.class,a.class]));else if(l==="style")t.style=normalizeStyle([t.style,a.style]);else if(isOn(l)){const g=t[l],d=a[l];d&&g!==d&&!(isArray$3(g)&&g.includes(d))&&(t[l]=g?[].concat(g,d):d)}else l!==""&&(t[l]=a[l])}return t}function invokeVNodeHook(i,t,r,a=null){callWithAsyncErrorHandling(i,t,7,[r,a])}const emptyAppContext=createAppContext();let uid$2=0;function createComponentInstance(i,t,r){const a=i.type,l=(t?t.appContext:i.appContext)||emptyAppContext,g={uid:uid$2++,vnode:i,type:a,parent:t,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(l.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(a,l),emitsOptions:normalizeEmitsOptions(a,l),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:a.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return g.ctx={_:g},g.root=t?t.root:g,g.emit=emit.bind(null,g),i.ce&&i.ce(g),g}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=i=>{currentInstance=i,i.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(i){return i.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(i,t=!1){isInSSRComponentSetup=t;const{props:r,children:a}=i.vnode,l=isStatefulComponent(i);initProps(i,r,l,t),initSlots(i,a);const g=l?setupStatefulComponent(i,t):void 0;return isInSSRComponentSetup=!1,g}function setupStatefulComponent(i,t){const r=i.type;i.accessCache=Object.create(null),i.proxy=markRaw(new Proxy(i.ctx,PublicInstanceProxyHandlers));const{setup:a}=r;if(a){const l=i.setupContext=a.length>1?createSetupContext(i):null;setCurrentInstance(i),pauseTracking();const g=callWithErrorHandling(a,i,0,[i.props,l]);if(resetTracking(),unsetCurrentInstance(),isPromise(g)){if(g.then(unsetCurrentInstance,unsetCurrentInstance),t)return g.then(d=>{handleSetupResult(i,d,t)}).catch(d=>{handleError(d,i,0)});i.asyncDep=g}else handleSetupResult(i,g,t)}else finishComponentSetup(i,t)}function handleSetupResult(i,t,r){isFunction$1(t)?i.type.__ssrInlineRender?i.ssrRender=t:i.render=t:isObject$2(t)&&(i.setupState=proxyRefs(t)),finishComponentSetup(i,r)}let compile;function finishComponentSetup(i,t,r){const a=i.type;if(!i.render){if(!t&&compile&&!a.render){const l=a.template||resolveMergedOptions(i).template;if(l){const{isCustomElement:g,compilerOptions:d}=i.appContext.config,{delimiters:s,compilerOptions:u}=a,n=extend$1(extend$1({isCustomElement:g,delimiters:s},d),u);a.render=compile(l,n)}}i.render=a.render||NOOP}setCurrentInstance(i),pauseTracking(),applyOptions(i),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(i){return new Proxy(i.attrs,{get(t,r){return track(i,"get","$attrs"),t[r]}})}function createSetupContext(i){const t=a=>{i.exposed=a||{}};let r;return{get attrs(){return r||(r=createAttrsProxy(i))},slots:i.slots,emit:i.emit,expose:t}}function getExposeProxy(i){if(i.exposed)return i.exposeProxy||(i.exposeProxy=new Proxy(proxyRefs(markRaw(i.exposed)),{get(t,r){if(r in t)return t[r];if(r in publicPropertiesMap)return publicPropertiesMap[r](i)},has(t,r){return r in t||r in publicPropertiesMap}}))}function getComponentName(i,t=!0){return isFunction$1(i)?i.displayName||i.name:i.name||t&&i.__name}function isClassComponent(i){return isFunction$1(i)&&"__vccOpts"in i}const computed=(i,t)=>computed$1(i,t,isInSSRComponentSetup);function h(i,t,r){const a=arguments.length;return a===2?isObject$2(t)&&!isArray$3(t)?isVNode(t)?createVNode(i,null,[t]):createVNode(i,t):createVNode(i,null,t):(a>3?r=Array.prototype.slice.call(arguments,2):a===3&&isVNode(r)&&(r=[r]),createVNode(i,t,r))}const ssrContextKey=Symbol(""),useSSRContext=()=>inject(ssrContextKey),version$3="3.2.47",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(i,t,r)=>{t.insertBefore(i,r||null)},remove:i=>{const t=i.parentNode;t&&t.removeChild(i)},createElement:(i,t,r,a)=>{const l=t?doc.createElementNS(svgNS,i):doc.createElement(i,r?{is:r}:void 0);return i==="select"&&a&&a.multiple!=null&&l.setAttribute("multiple",a.multiple),l},createText:i=>doc.createTextNode(i),createComment:i=>doc.createComment(i),setText:(i,t)=>{i.nodeValue=t},setElementText:(i,t)=>{i.textContent=t},parentNode:i=>i.parentNode,nextSibling:i=>i.nextSibling,querySelector:i=>doc.querySelector(i),setScopeId(i,t){i.setAttribute(t,"")},insertStaticContent(i,t,r,a,l,g){const d=r?r.previousSibling:t.lastChild;if(l&&(l===g||l.nextSibling))for(;t.insertBefore(l.cloneNode(!0),r),!(l===g||!(l=l.nextSibling)););else{templateContainer.innerHTML=a?`<svg>${i}</svg>`:i;const s=templateContainer.content;if(a){const u=s.firstChild;for(;u.firstChild;)s.appendChild(u.firstChild);s.removeChild(u)}t.insertBefore(s,r)}return[d?d.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};function patchClass(i,t,r){const a=i._vtc;a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?i.removeAttribute("class"):r?i.setAttribute("class",t):i.className=t}function patchStyle(i,t,r){const a=i.style,l=isString$1(r);if(r&&!l){if(t&&!isString$1(t))for(const g in t)r[g]==null&&setStyle(a,g,"");for(const g in r)setStyle(a,g,r[g])}else{const g=a.display;l?t!==r&&(a.cssText=r):t&&i.removeAttribute("style"),"_vod"in i&&(a.display=g)}}const importantRE=/\s*!important$/;function setStyle(i,t,r){if(isArray$3(r))r.forEach(a=>setStyle(i,t,a));else if(r==null&&(r=""),t.startsWith("--"))i.setProperty(t,r);else{const a=autoPrefix(i,t);importantRE.test(r)?i.setProperty(hyphenate(a),r.replace(importantRE,""),"important"):i[a]=r}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(i,t){const r=prefixCache[t];if(r)return r;let a=camelize(t);if(a!=="filter"&&a in i)return prefixCache[t]=a;a=capitalize(a);for(let l=0;l<prefixes.length;l++){const g=prefixes[l]+a;if(g in i)return prefixCache[t]=g}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(i,t,r,a,l){if(a&&t.startsWith("xlink:"))r==null?i.removeAttributeNS(xlinkNS,t.slice(6,t.length)):i.setAttributeNS(xlinkNS,t,r);else{const g=isSpecialBooleanAttr(t);r==null||g&&!includeBooleanAttr(r)?i.removeAttribute(t):i.setAttribute(t,g?"":r)}}function patchDOMProp(i,t,r,a,l,g,d){if(t==="innerHTML"||t==="textContent"){a&&d(a,l,g),i[t]=r==null?"":r;return}if(t==="value"&&i.tagName!=="PROGRESS"&&!i.tagName.includes("-")){i._value=r;const u=r==null?"":r;(i.value!==u||i.tagName==="OPTION")&&(i.value=u),r==null&&i.removeAttribute(t);return}let s=!1;if(r===""||r==null){const u=typeof i[t];u==="boolean"?r=includeBooleanAttr(r):r==null&&u==="string"?(r="",s=!0):u==="number"&&(r=0,s=!0)}try{i[t]=r}catch{}s&&i.removeAttribute(t)}function addEventListener(i,t,r,a){i.addEventListener(t,r,a)}function removeEventListener(i,t,r,a){i.removeEventListener(t,r,a)}function patchEvent(i,t,r,a,l=null){const g=i._vei||(i._vei={}),d=g[t];if(a&&d)d.value=a;else{const[s,u]=parseName(t);if(a){const n=g[t]=createInvoker(a,l);addEventListener(i,s,n,u)}else d&&(removeEventListener(i,s,d,u),g[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(i){let t;if(optionsModifierRE.test(i)){t={};let a;for(;a=i.match(optionsModifierRE);)i=i.slice(0,i.length-a[0].length),t[a[0].toLowerCase()]=!0}return[i[2]===":"?i.slice(3):hyphenate(i.slice(2)),t]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(i,t){const r=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=r.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(a,r.value),t,5,[a])};return r.value=i,r.attached=getNow(),r}function patchStopImmediatePropagation(i,t){if(isArray$3(t)){const r=i.stopImmediatePropagation;return i.stopImmediatePropagation=()=>{r.call(i),i._stopped=!0},t.map(a=>l=>!l._stopped&&a&&a(l))}else return t}const nativeOnRE=/^on[a-z]/,patchProp=(i,t,r,a,l=!1,g,d,s,u)=>{t==="class"?patchClass(i,a,l):t==="style"?patchStyle(i,r,a):isOn(t)?isModelListener(t)||patchEvent(i,t,r,a,d):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):shouldSetAsProp(i,t,a,l))?patchDOMProp(i,t,a,g,d,s,u):(t==="true-value"?i._trueValue=a:t==="false-value"&&(i._falseValue=a),patchAttr(i,t,a,l))};function shouldSetAsProp(i,t,r,a){return a?!!(t==="innerHTML"||t==="textContent"||t in i&&nativeOnRE.test(t)&&isFunction$1(r)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&i.tagName==="INPUT"||t==="type"&&i.tagName==="TEXTAREA"||nativeOnRE.test(t)&&isString$1(r)?!1:t in i}const getModelAssigner=i=>{const t=i.props["onUpdate:modelValue"]||!1;return isArray$3(t)?r=>invokeArrayFns(t,r):t};function onCompositionStart(i){i.target.composing=!0}function onCompositionEnd(i){const t=i.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const vModelText={created(i,{modifiers:{lazy:t,trim:r,number:a}},l){i._assign=getModelAssigner(l);const g=a||l.props&&l.props.type==="number";addEventListener(i,t?"change":"input",d=>{if(d.target.composing)return;let s=i.value;r&&(s=s.trim()),g&&(s=looseToNumber(s)),i._assign(s)}),r&&addEventListener(i,"change",()=>{i.value=i.value.trim()}),t||(addEventListener(i,"compositionstart",onCompositionStart),addEventListener(i,"compositionend",onCompositionEnd),addEventListener(i,"change",onCompositionEnd))},mounted(i,{value:t}){i.value=t==null?"":t},beforeUpdate(i,{value:t,modifiers:{lazy:r,trim:a,number:l}},g){if(i._assign=getModelAssigner(g),i.composing||document.activeElement===i&&i.type!=="range"&&(r||a&&i.value.trim()===t||(l||i.type==="number")&&looseToNumber(i.value)===t))return;const d=t==null?"":t;i.value!==d&&(i.value=d)}},rendererOptions=extend$1({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...i)=>{const t=ensureRenderer().createApp(...i),{mount:r}=t;return t.mount=a=>{const l=normalizeContainer(a);if(!l)return;const g=t._component;!isFunction$1(g)&&!g.render&&!g.template&&(g.template=l.innerHTML),l.innerHTML="";const d=r(l,!1,l instanceof SVGElement);return l instanceof Element&&(l.removeAttribute("v-cloak"),l.setAttribute("data-v-app","")),d},t};function normalizeContainer(i){return isString$1(i)?document.querySelector(i):i}/*! @azure/msal-browser v2.33.0 2023-02-06 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$1=function(i,t){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[l]=a[l])},extendStatics$1(i,t)};function __extends$1(i,t){extendStatics$1(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var __assign$1=function(){return __assign$1=Object.assign||function(t){for(var r,a=1,l=arguments.length;a<l;a++){r=arguments[a];for(var g in r)Object.prototype.hasOwnProperty.call(r,g)&&(t[g]=r[g])}return t},__assign$1.apply(this,arguments)};function __rest(i,t){var r={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(r[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(i);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(i,a[l])&&(r[a[l]]=i[a[l]]);return r}function __awaiter$2(i,t,r,a){function l(g){return g instanceof r?g:new r(function(d){d(g)})}return new(r||(r=Promise))(function(g,d){function s(c){try{n(a.next(c))}catch(C){d(C)}}function u(c){try{n(a.throw(c))}catch(C){d(C)}}function n(c){c.done?g(c.value):l(c.value).then(s,u)}n((a=a.apply(i,t||[])).next())})}function __generator$2(i,t){var r={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},a,l,g,d;return d={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function s(n){return function(c){return u([n,c])}}function u(n){if(a)throw new TypeError("Generator is already executing.");for(;r;)try{if(a=1,l&&(g=n[0]&2?l.return:n[0]?l.throw||((g=l.return)&&g.call(l),0):l.next)&&!(g=g.call(l,n[1])).done)return g;switch(l=0,g&&(n=[n[0]&2,g.value]),n[0]){case 0:case 1:g=n;break;case 4:return r.label++,{value:n[1],done:!1};case 5:r.label++,l=n[1],n=[0];continue;case 7:n=r.ops.pop(),r.trys.pop();continue;default:if(g=r.trys,!(g=g.length>0&&g[g.length-1])&&(n[0]===6||n[0]===2)){r=0;continue}if(n[0]===3&&(!g||n[1]>g[0]&&n[1]<g[3])){r.label=n[1];break}if(n[0]===6&&r.label<g[1]){r.label=g[1],g=n;break}if(g&&r.label<g[2]){r.label=g[2],r.ops.push(n);break}g[2]&&r.ops.pop(),r.trys.pop();continue}n=t.call(i,r)}catch(c){n=[6,c],l=0}finally{a=g=0}if(n[0]&5)throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}}function __read(i,t){var r=typeof Symbol=="function"&&i[Symbol.iterator];if(!r)return i;var a=r.call(i),l,g=[],d;try{for(;(t===void 0||t-- >0)&&!(l=a.next()).done;)g.push(l.value)}catch(s){d={error:s}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(d)throw d.error}}return g}function __spread(){for(var i=[],t=0;t<arguments.length;t++)i=i.concat(__read(arguments[t]));return i}/*! @azure/msal-common v10.0.0 2023-02-06 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(i,t){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[l]=a[l])},extendStatics(i,t)};function __extends(i,t){extendStatics(i,t);function r(){this.constructor=i}i.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var __assign=function(){return __assign=Object.assign||function(t){for(var r,a=1,l=arguments.length;a<l;a++){r=arguments[a];for(var g in r)Object.prototype.hasOwnProperty.call(r,g)&&(t[g]=r[g])}return t},__assign.apply(this,arguments)};function __awaiter$1(i,t,r,a){function l(g){return g instanceof r?g:new r(function(d){d(g)})}return new(r||(r=Promise))(function(g,d){function s(c){try{n(a.next(c))}catch(C){d(C)}}function u(c){try{n(a.throw(c))}catch(C){d(C)}}function n(c){c.done?g(c.value):l(c.value).then(s,u)}n((a=a.apply(i,t||[])).next())})}function __generator$1(i,t){var r={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},a,l,g,d;return d={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function s(n){return function(c){return u([n,c])}}function u(n){if(a)throw new TypeError("Generator is already executing.");for(;r;)try{if(a=1,l&&(g=n[0]&2?l.return:n[0]?l.throw||((g=l.return)&&g.call(l),0):l.next)&&!(g=g.call(l,n[1])).done)return g;switch(l=0,g&&(n=[n[0]&2,g.value]),n[0]){case 0:case 1:g=n;break;case 4:return r.label++,{value:n[1],done:!1};case 5:r.label++,l=n[1],n=[0];continue;case 7:n=r.ops.pop(),r.trys.pop();continue;default:if(g=r.trys,!(g=g.length>0&&g[g.length-1])&&(n[0]===6||n[0]===2)){r=0;continue}if(n[0]===3&&(!g||n[1]>g[0]&&n[1]<g[3])){r.label=n[1];break}if(n[0]===6&&r.label<g[1]){r.label=g[1],g=n;break}if(g&&r.label<g[2]){r.label=g[2],r.ops.push(n);break}g[2]&&r.ops.pop(),r.trys.pop();continue}n=t.call(i,r)}catch(c){n=[6,c],l=0}finally{a=g=0}if(n[0]&5)throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}}function __spreadArrays(){for(var i=0,t=0,r=arguments.length;t<r;t++)i+=arguments[t].length;for(var a=Array(i),l=0,t=0;t<r;t++)for(var g=arguments[t],d=0,s=g.length;d<s;d++,l++)a[l]=g[d];return a}/*! @azure/msal-common v10.0.0 2023-02-06 */var Constants={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",REGIONAL_AUTH_NON_MSI_QUERY_STRING:"allowestsrnonmsi=true",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},OIDC_DEFAULT_SCOPES=[Constants.OPENID_SCOPE,Constants.PROFILE_SCOPE,Constants.OFFLINE_ACCESS_SCOPE],OIDC_SCOPES=__spreadArrays(OIDC_DEFAULT_SCOPES,[Constants.EMAIL_SCOPE]),HeaderNames;(function(i){i.CONTENT_TYPE="Content-Type",i.RETRY_AFTER="Retry-After",i.CCS_HEADER="X-AnchorMailbox",i.WWWAuthenticate="WWW-Authenticate",i.AuthenticationInfo="Authentication-Info",i.X_MS_REQUEST_ID="x-ms-request-id",i.X_MS_HTTP_VERSION="x-ms-httpver"})(HeaderNames||(HeaderNames={}));var PersistentCacheKeys;(function(i){i.ID_TOKEN="idtoken",i.CLIENT_INFO="client.info",i.ADAL_ID_TOKEN="adal.idtoken",i.ERROR="error",i.ERROR_DESC="error.description",i.ACTIVE_ACCOUNT="active-account",i.ACTIVE_ACCOUNT_FILTERS="active-account-filters"})(PersistentCacheKeys||(PersistentCacheKeys={}));var AADAuthorityConstants;(function(i){i.COMMON="common",i.ORGANIZATIONS="organizations",i.CONSUMERS="consumers"})(AADAuthorityConstants||(AADAuthorityConstants={}));var AADServerParamKeys;(function(i){i.CLIENT_ID="client_id",i.REDIRECT_URI="redirect_uri",i.RESPONSE_TYPE="response_type",i.RESPONSE_MODE="response_mode",i.GRANT_TYPE="grant_type",i.CLAIMS="claims",i.SCOPE="scope",i.ERROR="error",i.ERROR_DESCRIPTION="error_description",i.ACCESS_TOKEN="access_token",i.ID_TOKEN="id_token",i.REFRESH_TOKEN="refresh_token",i.EXPIRES_IN="expires_in",i.STATE="state",i.NONCE="nonce",i.PROMPT="prompt",i.SESSION_STATE="session_state",i.CLIENT_INFO="client_info",i.CODE="code",i.CODE_CHALLENGE="code_challenge",i.CODE_CHALLENGE_METHOD="code_challenge_method",i.CODE_VERIFIER="code_verifier",i.CLIENT_REQUEST_ID="client-request-id",i.X_CLIENT_SKU="x-client-SKU",i.X_CLIENT_VER="x-client-VER",i.X_CLIENT_OS="x-client-OS",i.X_CLIENT_CPU="x-client-CPU",i.X_CLIENT_CURR_TELEM="x-client-current-telemetry",i.X_CLIENT_LAST_TELEM="x-client-last-telemetry",i.X_MS_LIB_CAPABILITY="x-ms-lib-capability",i.X_APP_NAME="x-app-name",i.X_APP_VER="x-app-ver",i.POST_LOGOUT_URI="post_logout_redirect_uri",i.ID_TOKEN_HINT="id_token_hint",i.DEVICE_CODE="device_code",i.CLIENT_SECRET="client_secret",i.CLIENT_ASSERTION="client_assertion",i.CLIENT_ASSERTION_TYPE="client_assertion_type",i.TOKEN_TYPE="token_type",i.REQ_CNF="req_cnf",i.OBO_ASSERTION="assertion",i.REQUESTED_TOKEN_USE="requested_token_use",i.ON_BEHALF_OF="on_behalf_of",i.FOCI="foci",i.CCS_HEADER="X-AnchorMailbox",i.RETURN_SPA_CODE="return_spa_code",i.NATIVE_BROKER="nativebroker",i.LOGOUT_HINT="logout_hint"})(AADServerParamKeys||(AADServerParamKeys={}));var ClaimsRequestKeys;(function(i){i.ACCESS_TOKEN="access_token",i.XMS_CC="xms_cc"})(ClaimsRequestKeys||(ClaimsRequestKeys={}));var PromptValue={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},SSOTypes;(function(i){i.ACCOUNT="account",i.SID="sid",i.LOGIN_HINT="login_hint",i.ID_TOKEN="id_token",i.DOMAIN_HINT="domain_hint",i.ORGANIZATIONS="organizations",i.CONSUMERS="consumers",i.ACCOUNT_ID="accountIdentifier",i.HOMEACCOUNT_ID="homeAccountIdentifier"})(SSOTypes||(SSOTypes={}));var CodeChallengeMethodValues={PLAIN:"plain",S256:"S256"},ResponseMode;(function(i){i.QUERY="query",i.FRAGMENT="fragment",i.FORM_POST="form_post"})(ResponseMode||(ResponseMode={}));var GrantType;(function(i){i.IMPLICIT_GRANT="implicit",i.AUTHORIZATION_CODE_GRANT="authorization_code",i.CLIENT_CREDENTIALS_GRANT="client_credentials",i.RESOURCE_OWNER_PASSWORD_GRANT="password",i.REFRESH_TOKEN_GRANT="refresh_token",i.DEVICE_CODE_GRANT="device_code",i.JWT_BEARER="urn:ietf:params:oauth:grant-type:jwt-bearer"})(GrantType||(GrantType={}));var CacheAccountType;(function(i){i.MSSTS_ACCOUNT_TYPE="MSSTS",i.ADFS_ACCOUNT_TYPE="ADFS",i.MSAV1_ACCOUNT_TYPE="MSA",i.GENERIC_ACCOUNT_TYPE="Generic"})(CacheAccountType||(CacheAccountType={}));var Separators;(function(i){i.CACHE_KEY_SEPARATOR="-",i.CLIENT_INFO_SEPARATOR="."})(Separators||(Separators={}));var CredentialType;(function(i){i.ID_TOKEN="IdToken",i.ACCESS_TOKEN="AccessToken",i.ACCESS_TOKEN_WITH_AUTH_SCHEME="AccessToken_With_AuthScheme",i.REFRESH_TOKEN="RefreshToken"})(CredentialType||(CredentialType={}));var CacheSchemaType;(function(i){i.ACCOUNT="Account",i.CREDENTIAL="Credential",i.ID_TOKEN="IdToken",i.ACCESS_TOKEN="AccessToken",i.REFRESH_TOKEN="RefreshToken",i.APP_METADATA="AppMetadata",i.TEMPORARY="TempCache",i.TELEMETRY="Telemetry",i.UNDEFINED="Undefined",i.THROTTLING="Throttling"})(CacheSchemaType||(CacheSchemaType={}));var CacheType;(function(i){i[i.ADFS=1001]="ADFS",i[i.MSA=1002]="MSA",i[i.MSSTS=1003]="MSSTS",i[i.GENERIC=1004]="GENERIC",i[i.ACCESS_TOKEN=2001]="ACCESS_TOKEN",i[i.REFRESH_TOKEN=2002]="REFRESH_TOKEN",i[i.ID_TOKEN=2003]="ID_TOKEN",i[i.APP_METADATA=3001]="APP_METADATA",i[i.UNDEFINED=9999]="UNDEFINED"})(CacheType||(CacheType={}));var APP_METADATA="appmetadata",CLIENT_INFO="client_info",THE_FAMILY_ID="1",AUTHORITY_METADATA_CONSTANTS={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},AuthorityMetadataSource;(function(i){i.CONFIG="config",i.CACHE="cache",i.NETWORK="network",i.HARDCODED_VALUES="hardcoded_values"})(AuthorityMetadataSource||(AuthorityMetadataSource={}));var SERVER_TELEM_CONSTANTS={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},AuthenticationScheme;(function(i){i.BEARER="Bearer",i.POP="pop",i.SSH="ssh-cert"})(AuthenticationScheme||(AuthenticationScheme={}));var ThrottlingConstants={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},Errors={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},PasswordGrantConstants;(function(i){i.username="username",i.password="password"})(PasswordGrantConstants||(PasswordGrantConstants={}));var ResponseCodes;(function(i){i[i.httpSuccess=200]="httpSuccess",i[i.httpBadRequest=400]="httpBadRequest"})(ResponseCodes||(ResponseCodes={}));var RegionDiscoverySources;(function(i){i.FAILED_AUTO_DETECTION="1",i.INTERNAL_CACHE="2",i.ENVIRONMENT_VARIABLE="3",i.IMDS="4"})(RegionDiscoverySources||(RegionDiscoverySources={}));var RegionDiscoveryOutcomes;(function(i){i.CONFIGURED_MATCHES_DETECTED="1",i.CONFIGURED_NO_AUTO_DETECTION="2",i.CONFIGURED_NOT_DETECTED="3",i.AUTO_DETECTION_REQUESTED_SUCCESSFUL="4",i.AUTO_DETECTION_REQUESTED_FAILED="5"})(RegionDiscoveryOutcomes||(RegionDiscoveryOutcomes={}));var CacheOutcome;(function(i){i.NO_CACHE_HIT="0",i.FORCE_REFRESH="1",i.NO_CACHED_ACCESS_TOKEN="2",i.CACHED_ACCESS_TOKEN_EXPIRED="3",i.REFRESH_CACHED_ACCESS_TOKEN="4"})(CacheOutcome||(CacheOutcome={}));var JsonTypes;(function(i){i.Jwt="JWT",i.Jwk="JWK"})(JsonTypes||(JsonTypes={}));/*! @azure/msal-common v10.0.0 2023-02-06 */var AuthErrorMessage={unexpectedError:{code:"unexpected_error",desc:"Unexpected error in authentication."},postRequestFailed:{code:"post_request_failed",desc:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."}},AuthError=function(i){__extends(t,i);function t(r,a,l){var g=this,d=a?r+": "+a:r;return g=i.call(this,d)||this,Object.setPrototypeOf(g,t.prototype),g.errorCode=r||Constants.EMPTY_STRING,g.errorMessage=a||Constants.EMPTY_STRING,g.subError=l||Constants.EMPTY_STRING,g.name="AuthError",g}return t.prototype.setCorrelationId=function(r){this.correlationId=r},t.createUnexpectedError=function(r){return new t(AuthErrorMessage.unexpectedError.code,AuthErrorMessage.unexpectedError.desc+": "+r)},t.createPostRequestFailed=function(r){return new t(AuthErrorMessage.postRequestFailed.code,AuthErrorMessage.postRequestFailed.desc+": "+r)},t}(Error);/*! @azure/msal-common v10.0.0 2023-02-06 */var DEFAULT_CRYPTO_IMPLEMENTATION={createNewGuid:function(){var i="Crypto interface - createNewGuid() has not been implemented";throw AuthError.createUnexpectedError(i)},base64Decode:function(){var i="Crypto interface - base64Decode() has not been implemented";throw AuthError.createUnexpectedError(i)},base64Encode:function(){var i="Crypto interface - base64Encode() has not been implemented";throw AuthError.createUnexpectedError(i)},generatePkceCodes:function(){return __awaiter$1(this,void 0,void 0,function(){var i;return __generator$1(this,function(t){throw i="Crypto interface - generatePkceCodes() has not been implemented",AuthError.createUnexpectedError(i)})})},getPublicKeyThumbprint:function(){return __awaiter$1(this,void 0,void 0,function(){var i;return __generator$1(this,function(t){throw i="Crypto interface - getPublicKeyThumbprint() has not been implemented",AuthError.createUnexpectedError(i)})})},removeTokenBindingKey:function(){return __awaiter$1(this,void 0,void 0,function(){var i;return __generator$1(this,function(t){throw i="Crypto interface - removeTokenBindingKey() has not been implemented",AuthError.createUnexpectedError(i)})})},clearKeystore:function(){return __awaiter$1(this,void 0,void 0,function(){var i;return __generator$1(this,function(t){throw i="Crypto interface - clearKeystore() has not been implemented",AuthError.createUnexpectedError(i)})})},signJwt:function(){return __awaiter$1(this,void 0,void 0,function(){var i;return __generator$1(this,function(t){throw i="Crypto interface - signJwt() has not been implemented",AuthError.createUnexpectedError(i)})})},hashString:function(){return __awaiter$1(this,void 0,void 0,function(){var i;return __generator$1(this,function(t){throw i="Crypto interface - hashString() has not been implemented",AuthError.createUnexpectedError(i)})})}};/*! @azure/msal-common v10.0.0 2023-02-06 */var ClientAuthErrorMessage={clientInfoDecodingError:{code:"client_info_decoding_error",desc:"The client info could not be parsed/decoded correctly. Please review the trace to determine the root cause."},clientInfoEmptyError:{code:"client_info_empty_error",desc:"The client info was empty. Please review the trace to determine the root cause."},tokenParsingError:{code:"token_parsing_error",desc:"Token cannot be parsed. Please review stack trace to determine root cause."},nullOrEmptyToken:{code:"null_or_empty_token",desc:"The token is null or empty. Please review the trace to determine the root cause."},endpointResolutionError:{code:"endpoints_resolution_error",desc:"Error: could not resolve endpoints. Please check network and try again."},networkError:{code:"network_error",desc:"Network request failed. Please check network trace to determine root cause."},unableToGetOpenidConfigError:{code:"openid_config_error",desc:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints."},hashNotDeserialized:{code:"hash_not_deserialized",desc:"The hash parameters could not be deserialized. Please review the trace to determine the root cause."},blankGuidGenerated:{code:"blank_guid_generated",desc:"The guid generated was blank. Please review the trace to determine the root cause."},invalidStateError:{code:"invalid_state",desc:"State was not the expected format. Please check the logs to determine whether the request was sent using ProtocolUtils.setRequestState()."},stateMismatchError:{code:"state_mismatch",desc:"State mismatch error. Please check your network. Continued requests may cause cache overflow."},stateNotFoundError:{code:"state_not_found",desc:"State not found"},nonceMismatchError:{code:"nonce_mismatch",desc:"Nonce mismatch error. This may be caused by a race condition in concurrent requests."},nonceNotFoundError:{code:"nonce_not_found",desc:"nonce not found"},authTimeNotFoundError:{code:"auth_time_not_found",desc:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information."},maxAgeTranspiredError:{code:"max_age_transpired",desc:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication."},noTokensFoundError:{code:"no_tokens_found",desc:"No tokens were found for the given scopes, and no authorization code was passed to acquireToken. You must retrieve an authorization code before making a call to acquireToken()."},multipleMatchingTokens:{code:"multiple_matching_tokens",desc:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account."},multipleMatchingAccounts:{code:"multiple_matching_accounts",desc:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account"},multipleMatchingAppMetadata:{code:"multiple_matching_appMetadata",desc:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata"},tokenRequestCannotBeMade:{code:"request_cannot_be_made",desc:"Token request cannot be made without authorization code or refresh token."},appendEmptyScopeError:{code:"cannot_append_empty_scope",desc:"Cannot append null or empty scope to ScopeSet. Please check the stack trace for more info."},removeEmptyScopeError:{code:"cannot_remove_empty_scope",desc:"Cannot remove null or empty scope from ScopeSet. Please check the stack trace for more info."},appendScopeSetError:{code:"cannot_append_scopeset",desc:"Cannot append ScopeSet due to error."},emptyInputScopeSetError:{code:"empty_input_scopeset",desc:"Empty input ScopeSet cannot be processed."},DeviceCodePollingCancelled:{code:"device_code_polling_cancelled",desc:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true."},DeviceCodeExpired:{code:"device_code_expired",desc:"Device code is expired."},DeviceCodeUnknownError:{code:"device_code_unknown_error",desc:"Device code stopped polling for unknown reasons."},NoAccountInSilentRequest:{code:"no_account_in_silent_request",desc:"Please pass an account object, silent flow is not supported without account information"},invalidCacheRecord:{code:"invalid_cache_record",desc:"Cache record object was null or undefined."},invalidCacheEnvironment:{code:"invalid_cache_environment",desc:"Invalid environment when attempting to create cache entry"},noAccountFound:{code:"no_account_found",desc:"No account found in cache for given key."},CachePluginError:{code:"no cache plugin set on CacheManager",desc:"ICachePlugin needs to be set before using readFromStorage or writeFromStorage"},noCryptoObj:{code:"no_crypto_object",desc:"No crypto object detected. This is required for the following operation: "},invalidCacheType:{code:"invalid_cache_type",desc:"Invalid cache type"},unexpectedAccountType:{code:"unexpected_account_type",desc:"Unexpected account type."},unexpectedCredentialType:{code:"unexpected_credential_type",desc:"Unexpected credential type."},invalidAssertion:{code:"invalid_assertion",desc:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515"},invalidClientCredential:{code:"invalid_client_credential",desc:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential"},tokenRefreshRequired:{code:"token_refresh_required",desc:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired."},userTimeoutReached:{code:"user_timeout_reached",desc:"User defined timeout for device code polling reached"},tokenClaimsRequired:{code:"token_claims_cnf_required_for_signedjwt",desc:"Cannot generate a POP jwt if the token_claims are not populated"},noAuthorizationCodeFromServer:{code:"authorization_code_missing_from_server_response",desc:"Server response does not contain an authorization code to proceed"},noAzureRegionDetected:{code:"no_azure_region_detected",desc:"No azure region was detected and no fallback was made available"},accessTokenEntityNullError:{code:"access_token_entity_null",desc:"Access token entity is null, please check logs and cache to ensure a valid access token is present."},bindingKeyNotRemovedError:{code:"binding_key_not_removed",desc:"Could not remove the credential's binding key from storage."},logoutNotSupported:{code:"end_session_endpoint_not_supported",desc:"Provided authority does not support logout."},keyIdMissing:{code:"key_id_missing",desc:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key."}},ClientAuthError=function(i){__extends(t,i);function t(r,a){var l=i.call(this,r,a)||this;return l.name="ClientAuthError",Object.setPrototypeOf(l,t.prototype),l}return t.createClientInfoDecodingError=function(r){return new t(ClientAuthErrorMessage.clientInfoDecodingError.code,ClientAuthErrorMessage.clientInfoDecodingError.desc+" Failed with error: "+r)},t.createClientInfoEmptyError=function(){return new t(ClientAuthErrorMessage.clientInfoEmptyError.code,""+ClientAuthErrorMessage.clientInfoEmptyError.desc)},t.createTokenParsingError=function(r){return new t(ClientAuthErrorMessage.tokenParsingError.code,ClientAuthErrorMessage.tokenParsingError.desc+" Failed with error: "+r)},t.createTokenNullOrEmptyError=function(r){return new t(ClientAuthErrorMessage.nullOrEmptyToken.code,ClientAuthErrorMessage.nullOrEmptyToken.desc+" Raw Token Value: "+r)},t.createEndpointDiscoveryIncompleteError=function(r){return new t(ClientAuthErrorMessage.endpointResolutionError.code,ClientAuthErrorMessage.endpointResolutionError.desc+" Detail: "+r)},t.createNetworkError=function(r,a){return new t(ClientAuthErrorMessage.networkError.code,ClientAuthErrorMessage.networkError.desc+" | Fetch client threw: "+a+" | Attempted to reach: "+r.split("?")[0])},t.createUnableToGetOpenidConfigError=function(r){return new t(ClientAuthErrorMessage.unableToGetOpenidConfigError.code,ClientAuthErrorMessage.unableToGetOpenidConfigError.desc+" Attempted to retrieve endpoints from: "+r)},t.createHashNotDeserializedError=function(r){return new t(ClientAuthErrorMessage.hashNotDeserialized.code,ClientAuthErrorMessage.hashNotDeserialized.desc+" Given Object: "+r)},t.createInvalidStateError=function(r,a){return new t(ClientAuthErrorMessage.invalidStateError.code,ClientAuthErrorMessage.invalidStateError.desc+" Invalid State: "+r+", Root Err: "+a)},t.createStateMismatchError=function(){return new t(ClientAuthErrorMessage.stateMismatchError.code,ClientAuthErrorMessage.stateMismatchError.desc)},t.createStateNotFoundError=function(r){return new t(ClientAuthErrorMessage.stateNotFoundError.code,ClientAuthErrorMessage.stateNotFoundError.desc+":  "+r)},t.createNonceMismatchError=function(){return new t(ClientAuthErrorMessage.nonceMismatchError.code,ClientAuthErrorMessage.nonceMismatchError.desc)},t.createAuthTimeNotFoundError=function(){return new t(ClientAuthErrorMessage.authTimeNotFoundError.code,ClientAuthErrorMessage.authTimeNotFoundError.desc)},t.createMaxAgeTranspiredError=function(){return new t(ClientAuthErrorMessage.maxAgeTranspiredError.code,ClientAuthErrorMessage.maxAgeTranspiredError.desc)},t.createNonceNotFoundError=function(r){return new t(ClientAuthErrorMessage.nonceNotFoundError.code,ClientAuthErrorMessage.nonceNotFoundError.desc+":  "+r)},t.createMultipleMatchingTokensInCacheError=function(){return new t(ClientAuthErrorMessage.multipleMatchingTokens.code,ClientAuthErrorMessage.multipleMatchingTokens.desc+".")},t.createMultipleMatchingAccountsInCacheError=function(){return new t(ClientAuthErrorMessage.multipleMatchingAccounts.code,ClientAuthErrorMessage.multipleMatchingAccounts.desc)},t.createMultipleMatchingAppMetadataInCacheError=function(){return new t(ClientAuthErrorMessage.multipleMatchingAppMetadata.code,ClientAuthErrorMessage.multipleMatchingAppMetadata.desc)},t.createTokenRequestCannotBeMadeError=function(){return new t(ClientAuthErrorMessage.tokenRequestCannotBeMade.code,ClientAuthErrorMessage.tokenRequestCannotBeMade.desc)},t.createAppendEmptyScopeToSetError=function(r){return new t(ClientAuthErrorMessage.appendEmptyScopeError.code,ClientAuthErrorMessage.appendEmptyScopeError.desc+" Given Scope: "+r)},t.createRemoveEmptyScopeFromSetError=function(r){return new t(ClientAuthErrorMessage.removeEmptyScopeError.code,ClientAuthErrorMessage.removeEmptyScopeError.desc+" Given Scope: "+r)},t.createAppendScopeSetError=function(r){return new t(ClientAuthErrorMessage.appendScopeSetError.code,ClientAuthErrorMessage.appendScopeSetError.desc+" Detail Error: "+r)},t.createEmptyInputScopeSetError=function(){return new t(ClientAuthErrorMessage.emptyInputScopeSetError.code,""+ClientAuthErrorMessage.emptyInputScopeSetError.desc)},t.createDeviceCodeCancelledError=function(){return new t(ClientAuthErrorMessage.DeviceCodePollingCancelled.code,""+ClientAuthErrorMessage.DeviceCodePollingCancelled.desc)},t.createDeviceCodeExpiredError=function(){return new t(ClientAuthErrorMessage.DeviceCodeExpired.code,""+ClientAuthErrorMessage.DeviceCodeExpired.desc)},t.createDeviceCodeUnknownError=function(){return new t(ClientAuthErrorMessage.DeviceCodeUnknownError.code,""+ClientAuthErrorMessage.DeviceCodeUnknownError.desc)},t.createNoAccountInSilentRequestError=function(){return new t(ClientAuthErrorMessage.NoAccountInSilentRequest.code,""+ClientAuthErrorMessage.NoAccountInSilentRequest.desc)},t.createNullOrUndefinedCacheRecord=function(){return new t(ClientAuthErrorMessage.invalidCacheRecord.code,ClientAuthErrorMessage.invalidCacheRecord.desc)},t.createInvalidCacheEnvironmentError=function(){return new t(ClientAuthErrorMessage.invalidCacheEnvironment.code,ClientAuthErrorMessage.invalidCacheEnvironment.desc)},t.createNoAccountFoundError=function(){return new t(ClientAuthErrorMessage.noAccountFound.code,ClientAuthErrorMessage.noAccountFound.desc)},t.createCachePluginError=function(){return new t(ClientAuthErrorMessage.CachePluginError.code,""+ClientAuthErrorMessage.CachePluginError.desc)},t.createNoCryptoObjectError=function(r){return new t(ClientAuthErrorMessage.noCryptoObj.code,""+ClientAuthErrorMessage.noCryptoObj.desc+r)},t.createInvalidCacheTypeError=function(){return new t(ClientAuthErrorMessage.invalidCacheType.code,""+ClientAuthErrorMessage.invalidCacheType.desc)},t.createUnexpectedAccountTypeError=function(){return new t(ClientAuthErrorMessage.unexpectedAccountType.code,""+ClientAuthErrorMessage.unexpectedAccountType.desc)},t.createUnexpectedCredentialTypeError=function(){return new t(ClientAuthErrorMessage.unexpectedCredentialType.code,""+ClientAuthErrorMessage.unexpectedCredentialType.desc)},t.createInvalidAssertionError=function(){return new t(ClientAuthErrorMessage.invalidAssertion.code,""+ClientAuthErrorMessage.invalidAssertion.desc)},t.createInvalidCredentialError=function(){return new t(ClientAuthErrorMessage.invalidClientCredential.code,""+ClientAuthErrorMessage.invalidClientCredential.desc)},t.createRefreshRequiredError=function(){return new t(ClientAuthErrorMessage.tokenRefreshRequired.code,ClientAuthErrorMessage.tokenRefreshRequired.desc)},t.createUserTimeoutReachedError=function(){return new t(ClientAuthErrorMessage.userTimeoutReached.code,ClientAuthErrorMessage.userTimeoutReached.desc)},t.createTokenClaimsRequiredError=function(){return new t(ClientAuthErrorMessage.tokenClaimsRequired.code,ClientAuthErrorMessage.tokenClaimsRequired.desc)},t.createNoAuthCodeInServerResponseError=function(){return new t(ClientAuthErrorMessage.noAuthorizationCodeFromServer.code,ClientAuthErrorMessage.noAuthorizationCodeFromServer.desc)},t.createBindingKeyNotRemovedError=function(){return new t(ClientAuthErrorMessage.bindingKeyNotRemovedError.code,ClientAuthErrorMessage.bindingKeyNotRemovedError.desc)},t.createLogoutNotSupportedError=function(){return new t(ClientAuthErrorMessage.logoutNotSupported.code,ClientAuthErrorMessage.logoutNotSupported.desc)},t.createKeyIdMissingError=function(){return new t(ClientAuthErrorMessage.keyIdMissing.code,ClientAuthErrorMessage.keyIdMissing.desc)},t}(AuthError);/*! @azure/msal-common v10.0.0 2023-02-06 */var StringUtils=function(){function i(){}return i.decodeAuthToken=function(t){if(i.isEmpty(t))throw ClientAuthError.createTokenNullOrEmptyError(t);var r=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/,a=r.exec(t);if(!a||a.length<4)throw ClientAuthError.createTokenParsingError("Given token is malformed: "+JSON.stringify(t));var l={header:a[1],JWSPayload:a[2],JWSSig:a[3]};return l},i.isEmpty=function(t){return typeof t>"u"||!t||t.length===0},i.isEmptyObj=function(t){if(t&&!i.isEmpty(t))try{var r=JSON.parse(t);return Object.keys(r).length===0}catch{}return!0},i.startsWith=function(t,r){return t.indexOf(r)===0},i.endsWith=function(t,r){return t.length>=r.length&&t.lastIndexOf(r)===t.length-r.length},i.queryStringToObject=function(t){var r={},a=t.split("&"),l=function(g){return decodeURIComponent(g.replace(/\+/g," "))};return a.forEach(function(g){if(g.trim()){var d=g.split(/=(.+)/g,2),s=d[0],u=d[1];s&&u&&(r[l(s)]=l(u))}}),r},i.trimArrayEntries=function(t){return t.map(function(r){return r.trim()})},i.removeEmptyStringsFromArray=function(t){return t.filter(function(r){return!i.isEmpty(r)})},i.jsonParseHelper=function(t){try{return JSON.parse(t)}catch{return null}},i.matchPattern=function(t,r){var a=new RegExp(t.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?"));return a.test(r)},i}();/*! @azure/msal-common v10.0.0 2023-02-06 */var LogLevel;(function(i){i[i.Error=0]="Error",i[i.Warning=1]="Warning",i[i.Info=2]="Info",i[i.Verbose=3]="Verbose",i[i.Trace=4]="Trace"})(LogLevel||(LogLevel={}));var Logger=function(){function i(t,r,a){this.level=LogLevel.Info;var l=function(){},g=t||i.createDefaultLoggerOptions();this.localCallback=g.loggerCallback||l,this.piiLoggingEnabled=g.piiLoggingEnabled||!1,this.level=typeof g.logLevel=="number"?g.logLevel:LogLevel.Info,this.correlationId=g.correlationId||Constants.EMPTY_STRING,this.packageName=r||Constants.EMPTY_STRING,this.packageVersion=a||Constants.EMPTY_STRING}return i.createDefaultLoggerOptions=function(){return{loggerCallback:function(){},piiLoggingEnabled:!1,logLevel:LogLevel.Info}},i.prototype.clone=function(t,r,a){return new i({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:a||this.correlationId},t,r)},i.prototype.logMessage=function(t,r){if(!(r.logLevel>this.level||!this.piiLoggingEnabled&&r.containsPii)){var a=new Date().toUTCString(),l;StringUtils.isEmpty(r.correlationId)?StringUtils.isEmpty(this.correlationId)?l="["+a+"]":l="["+a+"] : ["+this.correlationId+"]":l="["+a+"] : ["+r.correlationId+"]";var g=l+" : "+this.packageName+"@"+this.packageVersion+" : "+LogLevel[r.logLevel]+" - "+t;this.executeCallback(r.logLevel,g,r.containsPii||!1)}},i.prototype.executeCallback=function(t,r,a){this.localCallback&&this.localCallback(t,r,a)},i.prototype.error=function(t,r){this.logMessage(t,{logLevel:LogLevel.Error,containsPii:!1,correlationId:r||Constants.EMPTY_STRING})},i.prototype.errorPii=function(t,r){this.logMessage(t,{logLevel:LogLevel.Error,containsPii:!0,correlationId:r||Constants.EMPTY_STRING})},i.prototype.warning=function(t,r){this.logMessage(t,{logLevel:LogLevel.Warning,containsPii:!1,correlationId:r||Constants.EMPTY_STRING})},i.prototype.warningPii=function(t,r){this.logMessage(t,{logLevel:LogLevel.Warning,containsPii:!0,correlationId:r||Constants.EMPTY_STRING})},i.prototype.info=function(t,r){this.logMessage(t,{logLevel:LogLevel.Info,containsPii:!1,correlationId:r||Constants.EMPTY_STRING})},i.prototype.infoPii=function(t,r){this.logMessage(t,{logLevel:LogLevel.Info,containsPii:!0,correlationId:r||Constants.EMPTY_STRING})},i.prototype.verbose=function(t,r){this.logMessage(t,{logLevel:LogLevel.Verbose,containsPii:!1,correlationId:r||Constants.EMPTY_STRING})},i.prototype.verbosePii=function(t,r){this.logMessage(t,{logLevel:LogLevel.Verbose,containsPii:!0,correlationId:r||Constants.EMPTY_STRING})},i.prototype.trace=function(t,r){this.logMessage(t,{logLevel:LogLevel.Trace,containsPii:!1,correlationId:r||Constants.EMPTY_STRING})},i.prototype.tracePii=function(t,r){this.logMessage(t,{logLevel:LogLevel.Trace,containsPii:!0,correlationId:r||Constants.EMPTY_STRING})},i.prototype.isPiiLoggingEnabled=function(){return this.piiLoggingEnabled||!1},i}();/*! @azure/msal-common v10.0.0 2023-02-06 */var name$1="@azure/msal-common",version$2="10.0.0";/*! @azure/msal-common v10.0.0 2023-02-06 */var AzureCloudInstance;(function(i){i[i.None=0]="None",i.AzurePublic="https://login.microsoftonline.com",i.AzurePpe="https://login.windows-ppe.net",i.AzureChina="https://login.chinacloudapi.cn",i.AzureGermany="https://login.microsoftonline.de",i.AzureUsGovernment="https://login.microsoftonline.us"})(AzureCloudInstance||(AzureCloudInstance={}));/*! @azure/msal-common v10.0.0 2023-02-06 */var CredentialEntity=function(){function i(){}return i._initRegex=function(){var t=Separators.CACHE_KEY_SEPARATOR;i.credentialRegexMap=new Map;for(var r=0,a=Object.keys(CredentialType);r<a.length;r++){var l=a[r],g=CredentialType[l].toLowerCase();try{i.credentialRegexMap.set(CredentialType[l],new RegExp("(?<="+t+i.credentialDomainRegex+")"+t+g+t))}catch{i.credentialRegexMap.set(CredentialType[l],new RegExp(""+t+i.credentialDomainRegex+t+g+t))}}},i.prototype.generateAccountId=function(){return i.generateAccountIdForCacheKey(this.homeAccountId,this.environment)},i.prototype.generateCredentialId=function(){return i.generateCredentialIdForCacheKey(this.credentialType,this.clientId,this.realm,this.familyId)},i.prototype.generateTarget=function(){return i.generateTargetForCacheKey(this.target)},i.prototype.generateCredentialKey=function(){return i.generateCredentialCacheKey(this.homeAccountId,this.environment,this.credentialType,this.clientId,this.realm,this.target,this.familyId,this.tokenType,this.requestedClaimsHash)},i.prototype.generateType=function(){switch(this.credentialType){case CredentialType.ID_TOKEN:return CacheType.ID_TOKEN;case CredentialType.ACCESS_TOKEN:case CredentialType.ACCESS_TOKEN_WITH_AUTH_SCHEME:return CacheType.ACCESS_TOKEN;case CredentialType.REFRESH_TOKEN:return CacheType.REFRESH_TOKEN;default:throw ClientAuthError.createUnexpectedCredentialTypeError()}},i.getCredentialType=function(t){for(var r,a=0,l=Object.keys(CredentialType);a<l.length;a++){var g=l[a];if(!((r=this.credentialRegexMap.get(CredentialType[g]))===null||r===void 0)&&r.test(t.toLowerCase()))return CredentialType[g]}return Constants.NOT_DEFINED},i.generateCredentialCacheKey=function(t,r,a,l,g,d,s,u,n){var c=[this.generateAccountIdForCacheKey(t,r),this.generateCredentialIdForCacheKey(a,l,g,s),this.generateTargetForCacheKey(d),this.generateClaimsHashForCacheKey(n),this.generateSchemeForCacheKey(u)];return c.join(Separators.CACHE_KEY_SEPARATOR).toLowerCase()},i.generateAccountIdForCacheKey=function(t,r){var a=[t,r];return a.join(Separators.CACHE_KEY_SEPARATOR).toLowerCase()},i.generateCredentialIdForCacheKey=function(t,r,a,l){var g=t===CredentialType.REFRESH_TOKEN&&l||r,d=[t,g,a||Constants.EMPTY_STRING];return d.join(Separators.CACHE_KEY_SEPARATOR).toLowerCase()},i.generateTargetForCacheKey=function(t){return(t||Constants.EMPTY_STRING).toLowerCase()},i.generateClaimsHashForCacheKey=function(t){return(t||Constants.EMPTY_STRING).toLowerCase()},i.generateSchemeForCacheKey=function(t){return t&&t.toLowerCase()!==AuthenticationScheme.BEARER.toLowerCase()?t.toLowerCase():Constants.EMPTY_STRING},i.credentialDomainRegex="(https?:\\/\\/)?((([\\w-]+\\.)*([\\w-]{1,63})(\\.(\\w{2,63})))|(localhost))(\\:[0-9]{4,5})?",i}();CredentialEntity._initRegex();/*! @azure/msal-common v10.0.0 2023-02-06 */var ClientConfigurationErrorMessage={redirectUriNotSet:{code:"redirect_uri_empty",desc:"A redirect URI is required for all calls, and none has been set."},postLogoutUriNotSet:{code:"post_logout_uri_empty",desc:"A post logout redirect has not been set."},claimsRequestParsingError:{code:"claims_request_parsing_error",desc:"Could not parse the given claims request object."},authorityUriInsecure:{code:"authority_uri_insecure",desc:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options"},urlParseError:{code:"url_parse_error",desc:"URL could not be parsed into appropriate segments."},urlEmptyError:{code:"empty_url_error",desc:"URL was empty or null."},emptyScopesError:{code:"empty_input_scopes_error",desc:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token."},nonArrayScopesError:{code:"nonarray_input_scopes_error",desc:"Scopes cannot be passed as non-array."},clientIdSingleScopeError:{code:"clientid_input_scopes_error",desc:"Client ID can only be provided as a single scope."},invalidPrompt:{code:"invalid_prompt_value",desc:"Supported prompt values are 'login', 'select_account', 'consent', 'create', 'none' and 'no_session'.  Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest"},invalidClaimsRequest:{code:"invalid_claims",desc:"Given claims parameter must be a stringified JSON object."},tokenRequestEmptyError:{code:"token_request_empty",desc:"Token request was empty and not found in cache."},logoutRequestEmptyError:{code:"logout_request_empty",desc:"The logout request was null or undefined."},invalidCodeChallengeMethod:{code:"invalid_code_challenge_method",desc:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".'},invalidCodeChallengeParams:{code:"pkce_params_missing",desc:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request"},invalidCloudDiscoveryMetadata:{code:"invalid_cloud_discovery_metadata",desc:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields"},invalidAuthorityMetadata:{code:"invalid_authority_metadata",desc:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields."},untrustedAuthority:{code:"untrusted_authority",desc:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter."},invalidAzureCloudInstance:{code:"invalid_azure_cloud_instance",desc:"Invalid AzureCloudInstance provided. Please refer MSAL JS docs: aks.ms/msaljs/azure_cloud_instance for valid values"},missingSshJwk:{code:"missing_ssh_jwk",desc:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme."},missingSshKid:{code:"missing_ssh_kid",desc:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme."},missingNonceAuthenticationHeader:{code:"missing_nonce_authentication_header",desc:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce."},invalidAuthenticationHeader:{code:"invalid_authentication_header",desc:"Invalid authentication header provided"}},ClientConfigurationError=function(i){__extends(t,i);function t(r,a){var l=i.call(this,r,a)||this;return l.name="ClientConfigurationError",Object.setPrototypeOf(l,t.prototype),l}return t.createRedirectUriEmptyError=function(){return new t(ClientConfigurationErrorMessage.redirectUriNotSet.code,ClientConfigurationErrorMessage.redirectUriNotSet.desc)},t.createPostLogoutRedirectUriEmptyError=function(){return new t(ClientConfigurationErrorMessage.postLogoutUriNotSet.code,ClientConfigurationErrorMessage.postLogoutUriNotSet.desc)},t.createClaimsRequestParsingError=function(r){return new t(ClientConfigurationErrorMessage.claimsRequestParsingError.code,ClientConfigurationErrorMessage.claimsRequestParsingError.desc+" Given value: "+r)},t.createInsecureAuthorityUriError=function(r){return new t(ClientConfigurationErrorMessage.authorityUriInsecure.code,ClientConfigurationErrorMessage.authorityUriInsecure.desc+" Given URI: "+r)},t.createUrlParseError=function(r){return new t(ClientConfigurationErrorMessage.urlParseError.code,ClientConfigurationErrorMessage.urlParseError.desc+" Given Error: "+r)},t.createUrlEmptyError=function(){return new t(ClientConfigurationErrorMessage.urlEmptyError.code,ClientConfigurationErrorMessage.urlEmptyError.desc)},t.createEmptyScopesArrayError=function(){return new t(ClientConfigurationErrorMessage.emptyScopesError.code,""+ClientConfigurationErrorMessage.emptyScopesError.desc)},t.createClientIdSingleScopeError=function(r){return new t(ClientConfigurationErrorMessage.clientIdSingleScopeError.code,ClientConfigurationErrorMessage.clientIdSingleScopeError.desc+" Given Scopes: "+r)},t.createInvalidPromptError=function(r){return new t(ClientConfigurationErrorMessage.invalidPrompt.code,ClientConfigurationErrorMessage.invalidPrompt.desc+" Given value: "+r)},t.createInvalidClaimsRequestError=function(){return new t(ClientConfigurationErrorMessage.invalidClaimsRequest.code,ClientConfigurationErrorMessage.invalidClaimsRequest.desc)},t.createEmptyLogoutRequestError=function(){return new t(ClientConfigurationErrorMessage.logoutRequestEmptyError.code,ClientConfigurationErrorMessage.logoutRequestEmptyError.desc)},t.createEmptyTokenRequestError=function(){return new t(ClientConfigurationErrorMessage.tokenRequestEmptyError.code,ClientConfigurationErrorMessage.tokenRequestEmptyError.desc)},t.createInvalidCodeChallengeMethodError=function(){return new t(ClientConfigurationErrorMessage.invalidCodeChallengeMethod.code,ClientConfigurationErrorMessage.invalidCodeChallengeMethod.desc)},t.createInvalidCodeChallengeParamsError=function(){return new t(ClientConfigurationErrorMessage.invalidCodeChallengeParams.code,ClientConfigurationErrorMessage.invalidCodeChallengeParams.desc)},t.createInvalidCloudDiscoveryMetadataError=function(){return new t(ClientConfigurationErrorMessage.invalidCloudDiscoveryMetadata.code,ClientConfigurationErrorMessage.invalidCloudDiscoveryMetadata.desc)},t.createInvalidAuthorityMetadataError=function(){return new t(ClientConfigurationErrorMessage.invalidAuthorityMetadata.code,ClientConfigurationErrorMessage.invalidAuthorityMetadata.desc)},t.createUntrustedAuthorityError=function(){return new t(ClientConfigurationErrorMessage.untrustedAuthority.code,ClientConfigurationErrorMessage.untrustedAuthority.desc)},t.createInvalidAzureCloudInstanceError=function(){return new t(ClientConfigurationErrorMessage.invalidAzureCloudInstance.code,ClientConfigurationErrorMessage.invalidAzureCloudInstance.desc)},t.createMissingSshJwkError=function(){return new t(ClientConfigurationErrorMessage.missingSshJwk.code,ClientConfigurationErrorMessage.missingSshJwk.desc)},t.createMissingSshKidError=function(){return new t(ClientConfigurationErrorMessage.missingSshKid.code,ClientConfigurationErrorMessage.missingSshKid.desc)},t.createMissingNonceAuthenticationHeadersError=function(){return new t(ClientConfigurationErrorMessage.missingNonceAuthenticationHeader.code,ClientConfigurationErrorMessage.missingNonceAuthenticationHeader.desc)},t.createInvalidAuthenticationHeaderError=function(r,a){return new t(ClientConfigurationErrorMessage.invalidAuthenticationHeader.code,ClientConfigurationErrorMessage.invalidAuthenticationHeader.desc+". Invalid header: "+r+". Details: "+a)},t}(ClientAuthError);/*! @azure/msal-common v10.0.0 2023-02-06 */var ScopeSet=function(){function i(t){var r=this,a=t?StringUtils.trimArrayEntries(__spreadArrays(t)):[],l=a?StringUtils.removeEmptyStringsFromArray(a):[];this.validateInputScopes(l),this.scopes=new Set,l.forEach(function(g){return r.scopes.add(g)})}return i.fromString=function(t){var r=t||Constants.EMPTY_STRING,a=r.split(" ");return new i(a)},i.prototype.validateInputScopes=function(t){if(!t||t.length<1)throw ClientConfigurationError.createEmptyScopesArrayError()},i.prototype.containsScope=function(t){var r=this.printScopesLowerCase().split(" "),a=new i(r);return StringUtils.isEmpty(t)?!1:a.scopes.has(t.toLowerCase())},i.prototype.containsScopeSet=function(t){var r=this;return!t||t.scopes.size<=0?!1:this.scopes.size>=t.scopes.size&&t.asArray().every(function(a){return r.containsScope(a)})},i.prototype.containsOnlyOIDCScopes=function(){var t=this,r=0;return OIDC_SCOPES.forEach(function(a){t.containsScope(a)&&(r+=1)}),this.scopes.size===r},i.prototype.appendScope=function(t){StringUtils.isEmpty(t)||this.scopes.add(t.trim())},i.prototype.appendScopes=function(t){var r=this;try{t.forEach(function(a){return r.appendScope(a)})}catch(a){throw ClientAuthError.createAppendScopeSetError(a)}},i.prototype.removeScope=function(t){if(StringUtils.isEmpty(t))throw ClientAuthError.createRemoveEmptyScopeFromSetError(t);this.scopes.delete(t.trim())},i.prototype.removeOIDCScopes=function(){var t=this;OIDC_SCOPES.forEach(function(r){t.scopes.delete(r)})},i.prototype.unionScopeSets=function(t){if(!t)throw ClientAuthError.createEmptyInputScopeSetError();var r=new Set;return t.scopes.forEach(function(a){return r.add(a.toLowerCase())}),this.scopes.forEach(function(a){return r.add(a.toLowerCase())}),r},i.prototype.intersectingScopeSets=function(t){if(!t)throw ClientAuthError.createEmptyInputScopeSetError();t.containsOnlyOIDCScopes()||t.removeOIDCScopes();var r=this.unionScopeSets(t),a=t.getScopeCount(),l=this.getScopeCount(),g=r.size;return g<l+a},i.prototype.getScopeCount=function(){return this.scopes.size},i.prototype.asArray=function(){var t=[];return this.scopes.forEach(function(r){return t.push(r)}),t},i.prototype.printScopes=function(){if(this.scopes){var t=this.asArray();return t.join(" ")}return Constants.EMPTY_STRING},i.prototype.printScopesLowerCase=function(){return this.printScopes().toLowerCase()},i}();/*! @azure/msal-common v10.0.0 2023-02-06 */function buildClientInfo(i,t){if(StringUtils.isEmpty(i))throw ClientAuthError.createClientInfoEmptyError();try{var r=t.base64Decode(i);return JSON.parse(r)}catch(a){throw ClientAuthError.createClientInfoDecodingError(a.message)}}function buildClientInfoFromHomeAccountId(i){if(StringUtils.isEmpty(i))throw ClientAuthError.createClientInfoDecodingError("Home account ID was empty.");var t=i.split(Separators.CLIENT_INFO_SEPARATOR,2);return{uid:t[0],utid:t.length<2?Constants.EMPTY_STRING:t[1]}}/*! @azure/msal-common v10.0.0 2023-02-06 */var AuthorityType;(function(i){i[i.Default=0]="Default",i[i.Adfs=1]="Adfs",i[i.Dsts=2]="Dsts"})(AuthorityType||(AuthorityType={}));/*! @azure/msal-common v10.0.0 2023-02-06 */var AccountEntity=function(){function i(){}return i.prototype.generateAccountId=function(){var t=[this.homeAccountId,this.environment];return t.join(Separators.CACHE_KEY_SEPARATOR).toLowerCase()},i.prototype.generateAccountKey=function(){return i.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})},i.prototype.generateType=function(){switch(this.authorityType){case CacheAccountType.ADFS_ACCOUNT_TYPE:return CacheType.ADFS;case CacheAccountType.MSAV1_ACCOUNT_TYPE:return CacheType.MSA;case CacheAccountType.MSSTS_ACCOUNT_TYPE:return CacheType.MSSTS;case CacheAccountType.GENERIC_ACCOUNT_TYPE:return CacheType.GENERIC;default:throw ClientAuthError.createUnexpectedAccountTypeError()}},i.prototype.getAccountInfo=function(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,idTokenClaims:this.idTokenClaims,nativeAccountId:this.nativeAccountId}},i.generateAccountCacheKey=function(t){var r=[t.homeAccountId,t.environment||Constants.EMPTY_STRING,t.tenantId||Constants.EMPTY_STRING];return r.join(Separators.CACHE_KEY_SEPARATOR).toLowerCase()},i.createAccount=function(t,r,a,l,g,d,s,u){var n,c,C,m,e,E,A=new i;A.authorityType=CacheAccountType.MSSTS_ACCOUNT_TYPE,A.clientInfo=t,A.homeAccountId=r,A.nativeAccountId=u;var B=s||l&&l.getPreferredCache();if(!B)throw ClientAuthError.createInvalidCacheEnvironmentError();if(A.environment=B,A.realm=((n=a==null?void 0:a.claims)===null||n===void 0?void 0:n.tid)||Constants.EMPTY_STRING,a){A.idTokenClaims=a.claims,A.localAccountId=((c=a==null?void 0:a.claims)===null||c===void 0?void 0:c.oid)||((C=a==null?void 0:a.claims)===null||C===void 0?void 0:C.sub)||Constants.EMPTY_STRING;var O=(m=a==null?void 0:a.claims)===null||m===void 0?void 0:m.preferred_username,v=!((e=a==null?void 0:a.claims)===null||e===void 0)&&e.emails?a.claims.emails[0]:null;A.username=O||v||Constants.EMPTY_STRING,A.name=(E=a==null?void 0:a.claims)===null||E===void 0?void 0:E.name}return A.cloudGraphHostName=g,A.msGraphHost=d,A},i.createGenericAccount=function(t,r,a,l,g,d){var s,u,n,c,C=new i;C.authorityType=a&&a.authorityType===AuthorityType.Adfs?CacheAccountType.ADFS_ACCOUNT_TYPE:CacheAccountType.GENERIC_ACCOUNT_TYPE,C.homeAccountId=t,C.realm=Constants.EMPTY_STRING;var m=d||a&&a.getPreferredCache();if(!m)throw ClientAuthError.createInvalidCacheEnvironmentError();return r&&(C.localAccountId=((s=r==null?void 0:r.claims)===null||s===void 0?void 0:s.oid)||((u=r==null?void 0:r.claims)===null||u===void 0?void 0:u.sub)||Constants.EMPTY_STRING,C.username=((n=r==null?void 0:r.claims)===null||n===void 0?void 0:n.upn)||Constants.EMPTY_STRING,C.name=((c=r==null?void 0:r.claims)===null||c===void 0?void 0:c.name)||Constants.EMPTY_STRING,C.idTokenClaims=r==null?void 0:r.claims),C.environment=m,C.cloudGraphHostName=l,C.msGraphHost=g,C},i.generateHomeAccountId=function(t,r,a,l,g){var d,s=!((d=g==null?void 0:g.claims)===null||d===void 0)&&d.sub?g.claims.sub:Constants.EMPTY_STRING;if(r===AuthorityType.Adfs||r===AuthorityType.Dsts)return s;if(t)try{var u=buildClientInfo(t,l);if(!StringUtils.isEmpty(u.uid)&&!StringUtils.isEmpty(u.utid))return""+u.uid+Separators.CLIENT_INFO_SEPARATOR+u.utid}catch{}return a.verbose("No client info in response"),s},i.isAccountEntity=function(t){return t?t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("realm")&&t.hasOwnProperty("localAccountId")&&t.hasOwnProperty("username")&&t.hasOwnProperty("authorityType"):!1},i.accountInfoIsEqual=function(t,r,a){if(!t||!r)return!1;var l=!0;if(a){var g=t.idTokenClaims||{},d=r.idTokenClaims||{};l=g.iat===d.iat&&g.nonce===d.nonce}return t.homeAccountId===r.homeAccountId&&t.localAccountId===r.localAccountId&&t.username===r.username&&t.tenantId===r.tenantId&&t.environment===r.environment&&t.nativeAccountId===r.nativeAccountId&&l},i}();/*! @azure/msal-common v10.0.0 2023-02-06 */var AuthToken=function(){function i(t,r){if(StringUtils.isEmpty(t))throw ClientAuthError.createTokenNullOrEmptyError(t);this.rawToken=t,this.claims=i.extractTokenClaims(t,r)}return i.extractTokenClaims=function(t,r){var a=StringUtils.decodeAuthToken(t);try{var l=a.JWSPayload,g=r.base64Decode(l);return JSON.parse(g)}catch(d){throw ClientAuthError.createTokenParsingError(d)}},i.checkMaxAge=function(t,r){var a=3e5;if(r===0||Date.now()-a>t+r)throw ClientAuthError.createMaxAgeTranspiredError()},i}();/*! @azure/msal-common v10.0.0 2023-02-06 */var CacheManager=function(){function i(t,r){this.clientId=t,this.cryptoImpl=r}return i.prototype.getAllAccounts=function(){var t=this,r=this.getAccountsFilteredBy(),a=Object.keys(r).map(function(d){return r[d]}),l=a.length;if(l<1)return[];var g=a.map(function(d){var s=i.toObject(new AccountEntity,d),u=s.getAccountInfo(),n=t.readIdTokenFromCache(t.clientId,u);return n&&!u.idTokenClaims&&(u.idToken=n.secret,u.idTokenClaims=new AuthToken(n.secret,t.cryptoImpl).claims),u});return g},i.prototype.saveCacheRecord=function(t){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(r){switch(r.label){case 0:if(!t)throw ClientAuthError.createNullOrUndefinedCacheRecord();return t.account&&this.setAccount(t.account),t.idToken&&this.setIdTokenCredential(t.idToken),t.accessToken?[4,this.saveAccessToken(t.accessToken)]:[3,2];case 1:r.sent(),r.label=2;case 2:return t.refreshToken&&this.setRefreshTokenCredential(t.refreshToken),t.appMetadata&&this.setAppMetadata(t.appMetadata),[2]}})})},i.prototype.saveAccessToken=function(t){return __awaiter$1(this,void 0,void 0,function(){var r,a,l,g,d=this;return __generator$1(this,function(s){switch(s.label){case 0:return r=this.getCredentialsFilteredBy({clientId:t.clientId,credentialType:t.credentialType,environment:t.environment,homeAccountId:t.homeAccountId,realm:t.realm,tokenType:t.tokenType,requestedClaimsHash:t.requestedClaimsHash}),a=ScopeSet.fromString(t.target),l=Object.keys(r.accessTokens).map(function(u){return r.accessTokens[u]}),l?(g=[],l.forEach(function(u){var n=ScopeSet.fromString(u.target);n.intersectingScopeSets(a)&&g.push(d.removeCredential(u))}),[4,Promise.all(g)]):[3,2];case 1:s.sent(),s.label=2;case 2:return this.setAccessTokenCredential(t),[2]}})})},i.prototype.getAccountsFilteredBy=function(t){return this.getAccountsFilteredByInternal(t?t.homeAccountId:Constants.EMPTY_STRING,t?t.environment:Constants.EMPTY_STRING,t?t.realm:Constants.EMPTY_STRING,t?t.nativeAccountId:Constants.EMPTY_STRING)},i.prototype.getAccountsFilteredByInternal=function(t,r,a,l){var g=this,d=this.getKeys(),s={};return d.forEach(function(u){var n=g.getAccount(u);!n||!!t&&!g.matchHomeAccountId(n,t)||!!r&&!g.matchEnvironment(n,r)||!!a&&!g.matchRealm(n,a)||!!l&&!g.matchNativeAccountId(n,l)||(s[u]=n)}),s},i.prototype.getCredentialsFilteredBy=function(t){return this.getCredentialsFilteredByInternal(t.homeAccountId,t.environment,t.credentialType,t.clientId,t.familyId,t.realm,t.target,t.userAssertionHash,t.tokenType,t.keyId,t.requestedClaimsHash)},i.prototype.getCredentialsFilteredByInternal=function(t,r,a,l,g,d,s,u,n,c,C){var m=this,e=this.getKeys(),E={idTokens:{},accessTokens:{},refreshTokens:{}};return e.forEach(function(A){var B=CredentialEntity.getCredentialType(A);if(B!==Constants.NOT_DEFINED){var O=m.getSpecificCredential(A,B);if(!!O&&!(!!u&&!m.matchUserAssertionHash(O,u))&&!(typeof t=="string"&&!m.matchHomeAccountId(O,t))&&!(!!r&&!m.matchEnvironment(O,r))&&!(!!d&&!m.matchRealm(O,d))&&!(!!a&&!m.matchCredentialType(O,a))&&!(!!l&&!m.matchClientId(O,l))&&!(!!g&&!m.matchFamilyId(O,g))&&!(!!s&&!m.matchTarget(O,s))&&!((C||O.requestedClaimsHash)&&O.requestedClaimsHash!==C)&&!(a===CredentialType.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(!!n&&!m.matchTokenType(O,n)||n===AuthenticationScheme.SSH&&c&&!m.matchKeyId(O,c)))){var v=m.updateCredentialCacheKey(A,O);switch(B){case CredentialType.ID_TOKEN:E.idTokens[v]=O;break;case CredentialType.ACCESS_TOKEN:case CredentialType.ACCESS_TOKEN_WITH_AUTH_SCHEME:E.accessTokens[v]=O;break;case CredentialType.REFRESH_TOKEN:E.refreshTokens[v]=O;break}}}}),E},i.prototype.getAppMetadataFilteredBy=function(t){return this.getAppMetadataFilteredByInternal(t.environment,t.clientId)},i.prototype.getAppMetadataFilteredByInternal=function(t,r){var a=this,l=this.getKeys(),g={};return l.forEach(function(d){if(!!a.isAppMetadata(d)){var s=a.getAppMetadata(d);!s||!!t&&!a.matchEnvironment(s,t)||!!r&&!a.matchClientId(s,r)||(g[d]=s)}}),g},i.prototype.getAuthorityMetadataByAlias=function(t){var r=this,a=this.getAuthorityMetadataKeys(),l=null;return a.forEach(function(g){if(!(!r.isAuthorityMetadata(g)||g.indexOf(r.clientId)===-1)){var d=r.getAuthorityMetadata(g);!d||d.aliases.indexOf(t)!==-1&&(l=d)}}),l},i.prototype.removeAllAccounts=function(){return __awaiter$1(this,void 0,void 0,function(){var t,r,a=this;return __generator$1(this,function(l){switch(l.label){case 0:return t=this.getKeys(),r=[],t.forEach(function(g){var d=a.getAccount(g);!d||r.push(a.removeAccount(g))}),[4,Promise.all(r)];case 1:return l.sent(),[2,!0]}})})},i.prototype.removeAccount=function(t){return __awaiter$1(this,void 0,void 0,function(){var r;return __generator$1(this,function(a){switch(a.label){case 0:if(r=this.getAccount(t),!r)throw ClientAuthError.createNoAccountFoundError();return[4,this.removeAccountContext(r)];case 1:return[2,a.sent()&&this.removeItem(t,CacheSchemaType.ACCOUNT)]}})})},i.prototype.removeAccountContext=function(t){return __awaiter$1(this,void 0,void 0,function(){var r,a,l,g=this;return __generator$1(this,function(d){switch(d.label){case 0:return r=this.getKeys(),a=t.generateAccountId(),l=[],r.forEach(function(s){var u=CredentialEntity.getCredentialType(s);if(u!==Constants.NOT_DEFINED){var n=g.getSpecificCredential(s,u);!!n&&a===n.generateAccountId()&&l.push(g.removeCredential(n))}}),[4,Promise.all(l)];case 1:return d.sent(),[2,!0]}})})},i.prototype.removeCredential=function(t){return __awaiter$1(this,void 0,void 0,function(){var r,a,l;return __generator$1(this,function(g){switch(g.label){case 0:if(r=t.generateCredentialKey(),t.credentialType.toLowerCase()!==CredentialType.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())return[3,4];if(t.tokenType!==AuthenticationScheme.POP)return[3,4];if(a=t,l=a.keyId,!l)return[3,4];g.label=1;case 1:return g.trys.push([1,3,,4]),[4,this.cryptoImpl.removeTokenBindingKey(l)];case 2:return g.sent(),[3,4];case 3:throw g.sent(),ClientAuthError.createBindingKeyNotRemovedError();case 4:return[2,this.removeItem(r,CacheSchemaType.CREDENTIAL)]}})})},i.prototype.removeAppMetadata=function(){var t=this,r=this.getKeys();return r.forEach(function(a){t.isAppMetadata(a)&&t.removeItem(a,CacheSchemaType.APP_METADATA)}),!0},i.prototype.readCacheRecord=function(t,r,a,l){var g=this.readAccountFromCache(t),d=this.readIdTokenFromCache(r,t),s=this.readAccessTokenFromCache(r,t,a),u=this.readRefreshTokenFromCache(r,t,!1),n=this.readAppMetadataFromCache(l,r);return g&&d&&(g.idTokenClaims=new AuthToken(d.secret,this.cryptoImpl).claims),{account:g,idToken:d,accessToken:s,refreshToken:u,appMetadata:n}},i.prototype.readAccountFromCache=function(t){var r=AccountEntity.generateAccountCacheKey(t);return this.getAccount(r)},i.prototype.readAccountFromCacheWithNativeAccountId=function(t){var r={nativeAccountId:t},a=this.getAccountsFilteredBy(r),l=Object.keys(a).map(function(g){return a[g]});if(l.length<1)return null;if(l.length>1)throw ClientAuthError.createMultipleMatchingAccountsInCacheError();return a[0]},i.prototype.readIdTokenFromCache=function(t,r){var a={homeAccountId:r.homeAccountId,environment:r.environment,credentialType:CredentialType.ID_TOKEN,clientId:t,realm:r.tenantId},l=this.getCredentialsFilteredBy(a),g=Object.keys(l.idTokens).map(function(s){return l.idTokens[s]}),d=g.length;if(d<1)return null;if(d>1)throw ClientAuthError.createMultipleMatchingTokensInCacheError();return g[0]},i.prototype.readAccessTokenFromCache=function(t,r,a){var l=new ScopeSet(a.scopes||[]),g=a.authenticationScheme||AuthenticationScheme.BEARER,d=g&&g.toLowerCase()!==AuthenticationScheme.BEARER.toLowerCase()?CredentialType.ACCESS_TOKEN_WITH_AUTH_SCHEME:CredentialType.ACCESS_TOKEN,s={homeAccountId:r.homeAccountId,environment:r.environment,credentialType:d,clientId:t,realm:r.tenantId,target:l.printScopesLowerCase(),tokenType:g,keyId:a.sshKid,requestedClaimsHash:a.requestedClaimsHash},u=this.getCredentialsFilteredBy(s),n=Object.keys(u.accessTokens).map(function(C){return u.accessTokens[C]}),c=n.length;if(c<1)return null;if(c>1)throw ClientAuthError.createMultipleMatchingTokensInCacheError();return n[0]},i.prototype.readRefreshTokenFromCache=function(t,r,a){var l=a?THE_FAMILY_ID:void 0,g={homeAccountId:r.homeAccountId,environment:r.environment,credentialType:CredentialType.REFRESH_TOKEN,clientId:t,familyId:l},d=this.getCredentialsFilteredBy(g),s=Object.keys(d.refreshTokens).map(function(n){return d.refreshTokens[n]}),u=s.length;return u<1?null:s[0]},i.prototype.readAppMetadataFromCache=function(t,r){var a={environment:t,clientId:r},l=this.getAppMetadataFilteredBy(a),g=Object.keys(l).map(function(s){return l[s]}),d=g.length;if(d<1)return null;if(d>1)throw ClientAuthError.createMultipleMatchingAppMetadataInCacheError();return g[0]},i.prototype.isAppMetadataFOCI=function(t,r){var a=this.readAppMetadataFromCache(t,r);return!!(a&&a.familyId===THE_FAMILY_ID)},i.prototype.matchHomeAccountId=function(t,r){return typeof t.homeAccountId=="string"&&r===t.homeAccountId},i.prototype.matchUserAssertionHash=function(t,r){return!!(t.userAssertionHash&&r===t.userAssertionHash)},i.prototype.matchEnvironment=function(t,r){var a=this.getAuthorityMetadataByAlias(r);return!!(a&&a.aliases.indexOf(t.environment)>-1)},i.prototype.matchCredentialType=function(t,r){return t.credentialType&&r.toLowerCase()===t.credentialType.toLowerCase()},i.prototype.matchClientId=function(t,r){return!!(t.clientId&&r===t.clientId)},i.prototype.matchFamilyId=function(t,r){return!!(t.familyId&&r===t.familyId)},i.prototype.matchRealm=function(t,r){return!!(t.realm&&r===t.realm)},i.prototype.matchNativeAccountId=function(t,r){return!!(t.nativeAccountId&&r===t.nativeAccountId)},i.prototype.matchTarget=function(t,r){var a=t.credentialType!==CredentialType.ACCESS_TOKEN&&t.credentialType!==CredentialType.ACCESS_TOKEN_WITH_AUTH_SCHEME;if(a||!t.target)return!1;var l=ScopeSet.fromString(t.target),g=ScopeSet.fromString(r);return g.containsOnlyOIDCScopes()?g.removeScope(Constants.OFFLINE_ACCESS_SCOPE):g.removeOIDCScopes(),l.containsScopeSet(g)},i.prototype.matchTokenType=function(t,r){return!!(t.tokenType&&t.tokenType===r)},i.prototype.matchKeyId=function(t,r){return!!(t.keyId&&t.keyId===r)},i.prototype.isAppMetadata=function(t){return t.indexOf(APP_METADATA)!==-1},i.prototype.isAuthorityMetadata=function(t){return t.indexOf(AUTHORITY_METADATA_CONSTANTS.CACHE_KEY)!==-1},i.prototype.generateAuthorityMetadataCacheKey=function(t){return AUTHORITY_METADATA_CONSTANTS.CACHE_KEY+"-"+this.clientId+"-"+t},i.prototype.getSpecificCredential=function(t,r){switch(r){case CredentialType.ID_TOKEN:return this.getIdTokenCredential(t);case CredentialType.ACCESS_TOKEN:case CredentialType.ACCESS_TOKEN_WITH_AUTH_SCHEME:return this.getAccessTokenCredential(t);case CredentialType.REFRESH_TOKEN:return this.getRefreshTokenCredential(t);default:return null}},i.toObject=function(t,r){for(var a in r)t[a]=r[a];return t},i}(),DefaultStorageClass=function(i){__extends(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.setAccount=function(){var r="Storage interface - setAccount() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(r)},t.prototype.getAccount=function(){var r="Storage interface - getAccount() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(r)},t.prototype.setIdTokenCredential=function(){var r="Storage interface - setIdTokenCredential() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(r)},t.prototype.getIdTokenCredential=function(){var r="Storage interface - getIdTokenCredential() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(r)},t.prototype.setAccessTokenCredential=function(){var r="Storage interface - setAccessTokenCredential() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(r)},t.prototype.getAccessTokenCredential=function(){var r="Storage interface - getAccessTokenCredential() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(r)},t.prototype.setRefreshTokenCredential=function(){var r="Storage interface - setRefreshTokenCredential() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(r)},t.prototype.getRefreshTokenCredential=function(){var r="Storage interface - getRefreshTokenCredential() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(r)},t.prototype.setAppMetadata=function(){var r="Storage interface - setAppMetadata() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(r)},t.prototype.getAppMetadata=function(){var r="Storage interface - getAppMetadata() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(r)},t.prototype.setServerTelemetry=function(){var r="Storage interface - setServerTelemetry() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(r)},t.prototype.getServerTelemetry=function(){var r="Storage interface - getServerTelemetry() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(r)},t.prototype.setAuthorityMetadata=function(){var r="Storage interface - setAuthorityMetadata() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(r)},t.prototype.getAuthorityMetadata=function(){var r="Storage interface - getAuthorityMetadata() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(r)},t.prototype.getAuthorityMetadataKeys=function(){var r="Storage interface - getAuthorityMetadataKeys() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(r)},t.prototype.setThrottlingCache=function(){var r="Storage interface - setThrottlingCache() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(r)},t.prototype.getThrottlingCache=function(){var r="Storage interface - getThrottlingCache() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(r)},t.prototype.removeItem=function(){var r="Storage interface - removeItem() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(r)},t.prototype.containsKey=function(){var r="Storage interface - containsKey() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(r)},t.prototype.getKeys=function(){var r="Storage interface - getKeys() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(r)},t.prototype.clear=function(){return __awaiter$1(this,void 0,void 0,function(){var r;return __generator$1(this,function(a){throw r="Storage interface - clear() has not been implemented for the cacheStorage interface.",AuthError.createUnexpectedError(r)})})},t.prototype.updateCredentialCacheKey=function(){var r="Storage interface - updateCredentialCacheKey() has not been implemented for the cacheStorage interface.";throw AuthError.createUnexpectedError(r)},t}(CacheManager);/*! @azure/msal-common v10.0.0 2023-02-06 */var DEFAULT_TOKEN_RENEWAL_OFFSET_SEC=300,DEFAULT_SYSTEM_OPTIONS={tokenRenewalOffsetSeconds:DEFAULT_TOKEN_RENEWAL_OFFSET_SEC,preventCorsPreflight:!1},DEFAULT_LOGGER_IMPLEMENTATION={loggerCallback:function(){},piiLoggingEnabled:!1,logLevel:LogLevel.Info,correlationId:Constants.EMPTY_STRING},DEFAULT_NETWORK_IMPLEMENTATION={sendGetRequestAsync:function(){return __awaiter$1(this,void 0,void 0,function(){var i;return __generator$1(this,function(t){throw i="Network interface - sendGetRequestAsync() has not been implemented",AuthError.createUnexpectedError(i)})})},sendPostRequestAsync:function(){return __awaiter$1(this,void 0,void 0,function(){var i;return __generator$1(this,function(t){throw i="Network interface - sendPostRequestAsync() has not been implemented",AuthError.createUnexpectedError(i)})})}},DEFAULT_LIBRARY_INFO={sku:Constants.SKU,version:version$2,cpu:Constants.EMPTY_STRING,os:Constants.EMPTY_STRING},DEFAULT_CLIENT_CREDENTIALS={clientSecret:Constants.EMPTY_STRING,clientAssertion:void 0},DEFAULT_AZURE_CLOUD_OPTIONS={azureCloudInstance:AzureCloudInstance.None,tenant:""+Constants.DEFAULT_COMMON_TENANT},DEFAULT_TELEMETRY_OPTIONS={application:{appName:"",appVersion:""}};function buildClientConfiguration(i){var t=i.authOptions,r=i.systemOptions,a=i.loggerOptions,l=i.storageInterface,g=i.networkInterface,d=i.cryptoInterface,s=i.clientCredentials,u=i.libraryInfo,n=i.telemetry,c=i.serverTelemetryManager,C=i.persistencePlugin,m=i.serializableCache,e=__assign(__assign({},DEFAULT_LOGGER_IMPLEMENTATION),a);return{authOptions:buildAuthOptions(t),systemOptions:__assign(__assign({},DEFAULT_SYSTEM_OPTIONS),r),loggerOptions:e,storageInterface:l||new DefaultStorageClass(t.clientId,DEFAULT_CRYPTO_IMPLEMENTATION),networkInterface:g||DEFAULT_NETWORK_IMPLEMENTATION,cryptoInterface:d||DEFAULT_CRYPTO_IMPLEMENTATION,clientCredentials:s||DEFAULT_CLIENT_CREDENTIALS,libraryInfo:__assign(__assign({},DEFAULT_LIBRARY_INFO),u),telemetry:__assign(__assign({},DEFAULT_TELEMETRY_OPTIONS),n),serverTelemetryManager:c||null,persistencePlugin:C||null,serializableCache:m||null}}function buildAuthOptions(i){return __assign({clientCapabilities:[],azureCloudOptions:DEFAULT_AZURE_CLOUD_OPTIONS,skipAuthorityMetadataCache:!1},i)}/*! @azure/msal-common v10.0.0 2023-02-06 */var ServerError=function(i){__extends(t,i);function t(r,a,l){var g=i.call(this,r,a,l)||this;return g.name="ServerError",Object.setPrototypeOf(g,t.prototype),g}return t}(AuthError);/*! @azure/msal-common v10.0.0 2023-02-06 */var ThrottlingUtils=function(){function i(){}return i.generateThrottlingStorageKey=function(t){return ThrottlingConstants.THROTTLING_PREFIX+"."+JSON.stringify(t)},i.preProcess=function(t,r){var a,l=i.generateThrottlingStorageKey(r),g=t.getThrottlingCache(l);if(g){if(g.throttleTime<Date.now()){t.removeItem(l,CacheSchemaType.THROTTLING);return}throw new ServerError(((a=g.errorCodes)===null||a===void 0?void 0:a.join(" "))||Constants.EMPTY_STRING,g.errorMessage,g.subError)}},i.postProcess=function(t,r,a){if(i.checkResponseStatus(a)||i.checkResponseForRetryAfter(a)){var l={throttleTime:i.calculateThrottleTime(parseInt(a.headers[HeaderNames.RETRY_AFTER])),error:a.body.error,errorCodes:a.body.error_codes,errorMessage:a.body.error_description,subError:a.body.suberror};t.setThrottlingCache(i.generateThrottlingStorageKey(r),l)}},i.checkResponseStatus=function(t){return t.status===429||t.status>=500&&t.status<600},i.checkResponseForRetryAfter=function(t){return t.headers?t.headers.hasOwnProperty(HeaderNames.RETRY_AFTER)&&(t.status<200||t.status>=300):!1},i.calculateThrottleTime=function(t){var r=t<=0?0:t,a=Date.now()/1e3;return Math.floor(Math.min(a+(r||ThrottlingConstants.DEFAULT_THROTTLE_TIME_SECONDS),a+ThrottlingConstants.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)},i.removeThrottle=function(t,r,a,l){var g={clientId:r,authority:a.authority,scopes:a.scopes,homeAccountIdentifier:l,claims:a.claims,authenticationScheme:a.authenticationScheme,resourceRequestMethod:a.resourceRequestMethod,resourceRequestUri:a.resourceRequestUri,shrClaims:a.shrClaims,sshKid:a.sshKid},d=this.generateThrottlingStorageKey(g);return t.removeItem(d,CacheSchemaType.THROTTLING)},i}();/*! @azure/msal-common v10.0.0 2023-02-06 */var NetworkManager=function(){function i(t,r){this.networkClient=t,this.cacheManager=r}return i.prototype.sendPostRequest=function(t,r,a){return __awaiter$1(this,void 0,void 0,function(){var l,g;return __generator$1(this,function(d){switch(d.label){case 0:ThrottlingUtils.preProcess(this.cacheManager,t),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.networkClient.sendPostRequestAsync(r,a)];case 2:return l=d.sent(),[3,4];case 3:throw g=d.sent(),g instanceof AuthError?g:ClientAuthError.createNetworkError(r,g);case 4:return ThrottlingUtils.postProcess(this.cacheManager,t,l),[2,l]}})})},i}();/*! @azure/msal-common v10.0.0 2023-02-06 */var CcsCredentialType;(function(i){i.HOME_ACCOUNT_ID="home_account_id",i.UPN="UPN"})(CcsCredentialType||(CcsCredentialType={}));/*! @azure/msal-common v10.0.0 2023-02-06 */var RequestValidator=function(){function i(){}return i.validateRedirectUri=function(t){if(StringUtils.isEmpty(t))throw ClientConfigurationError.createRedirectUriEmptyError()},i.validatePrompt=function(t){var r=[];for(var a in PromptValue)r.push(PromptValue[a]);if(r.indexOf(t)<0)throw ClientConfigurationError.createInvalidPromptError(t)},i.validateClaims=function(t){try{JSON.parse(t)}catch{throw ClientConfigurationError.createInvalidClaimsRequestError()}},i.validateCodeChallengeParams=function(t,r){if(StringUtils.isEmpty(t)||StringUtils.isEmpty(r))throw ClientConfigurationError.createInvalidCodeChallengeParamsError();this.validateCodeChallengeMethod(r)},i.validateCodeChallengeMethod=function(t){if([CodeChallengeMethodValues.PLAIN,CodeChallengeMethodValues.S256].indexOf(t)<0)throw ClientConfigurationError.createInvalidCodeChallengeMethodError()},i.sanitizeEQParams=function(t,r){return t?(r.forEach(function(a,l){t[l]&&delete t[l]}),Object.fromEntries(Object.entries(t).filter(function(a){var l=a[1];return l!==""}))):{}},i}();/*! @azure/msal-common v10.0.0 2023-02-06 */var RequestParameterBuilder=function(){function i(){this.parameters=new Map}return i.prototype.addResponseTypeCode=function(){this.parameters.set(AADServerParamKeys.RESPONSE_TYPE,encodeURIComponent(Constants.CODE_RESPONSE_TYPE))},i.prototype.addResponseTypeForTokenAndIdToken=function(){this.parameters.set(AADServerParamKeys.RESPONSE_TYPE,encodeURIComponent(Constants.TOKEN_RESPONSE_TYPE+" "+Constants.ID_TOKEN_RESPONSE_TYPE))},i.prototype.addResponseMode=function(t){this.parameters.set(AADServerParamKeys.RESPONSE_MODE,encodeURIComponent(t||ResponseMode.QUERY))},i.prototype.addNativeBroker=function(){this.parameters.set(AADServerParamKeys.NATIVE_BROKER,encodeURIComponent("1"))},i.prototype.addScopes=function(t,r){r===void 0&&(r=!0);var a=r?__spreadArrays(t||[],OIDC_DEFAULT_SCOPES):t||[],l=new ScopeSet(a);this.parameters.set(AADServerParamKeys.SCOPE,encodeURIComponent(l.printScopes()))},i.prototype.addClientId=function(t){this.parameters.set(AADServerParamKeys.CLIENT_ID,encodeURIComponent(t))},i.prototype.addRedirectUri=function(t){RequestValidator.validateRedirectUri(t),this.parameters.set(AADServerParamKeys.REDIRECT_URI,encodeURIComponent(t))},i.prototype.addPostLogoutRedirectUri=function(t){RequestValidator.validateRedirectUri(t),this.parameters.set(AADServerParamKeys.POST_LOGOUT_URI,encodeURIComponent(t))},i.prototype.addIdTokenHint=function(t){this.parameters.set(AADServerParamKeys.ID_TOKEN_HINT,encodeURIComponent(t))},i.prototype.addDomainHint=function(t){this.parameters.set(SSOTypes.DOMAIN_HINT,encodeURIComponent(t))},i.prototype.addLoginHint=function(t){this.parameters.set(SSOTypes.LOGIN_HINT,encodeURIComponent(t))},i.prototype.addCcsUpn=function(t){this.parameters.set(HeaderNames.CCS_HEADER,encodeURIComponent("UPN:"+t))},i.prototype.addCcsOid=function(t){this.parameters.set(HeaderNames.CCS_HEADER,encodeURIComponent("Oid:"+t.uid+"@"+t.utid))},i.prototype.addSid=function(t){this.parameters.set(SSOTypes.SID,encodeURIComponent(t))},i.prototype.addClaims=function(t,r){var a=this.addClientCapabilitiesToClaims(t,r);RequestValidator.validateClaims(a),this.parameters.set(AADServerParamKeys.CLAIMS,encodeURIComponent(a))},i.prototype.addCorrelationId=function(t){this.parameters.set(AADServerParamKeys.CLIENT_REQUEST_ID,encodeURIComponent(t))},i.prototype.addLibraryInfo=function(t){this.parameters.set(AADServerParamKeys.X_CLIENT_SKU,t.sku),this.parameters.set(AADServerParamKeys.X_CLIENT_VER,t.version),t.os&&this.parameters.set(AADServerParamKeys.X_CLIENT_OS,t.os),t.cpu&&this.parameters.set(AADServerParamKeys.X_CLIENT_CPU,t.cpu)},i.prototype.addApplicationTelemetry=function(t){t!=null&&t.appName&&this.parameters.set(AADServerParamKeys.X_APP_NAME,t.appName),t!=null&&t.appVersion&&this.parameters.set(AADServerParamKeys.X_APP_VER,t.appVersion)},i.prototype.addPrompt=function(t){RequestValidator.validatePrompt(t),this.parameters.set(""+AADServerParamKeys.PROMPT,encodeURIComponent(t))},i.prototype.addState=function(t){StringUtils.isEmpty(t)||this.parameters.set(AADServerParamKeys.STATE,encodeURIComponent(t))},i.prototype.addNonce=function(t){this.parameters.set(AADServerParamKeys.NONCE,encodeURIComponent(t))},i.prototype.addCodeChallengeParams=function(t,r){if(RequestValidator.validateCodeChallengeParams(t,r),t&&r)this.parameters.set(AADServerParamKeys.CODE_CHALLENGE,encodeURIComponent(t)),this.parameters.set(AADServerParamKeys.CODE_CHALLENGE_METHOD,encodeURIComponent(r));else throw ClientConfigurationError.createInvalidCodeChallengeParamsError()},i.prototype.addAuthorizationCode=function(t){this.parameters.set(AADServerParamKeys.CODE,encodeURIComponent(t))},i.prototype.addDeviceCode=function(t){this.parameters.set(AADServerParamKeys.DEVICE_CODE,encodeURIComponent(t))},i.prototype.addRefreshToken=function(t){this.parameters.set(AADServerParamKeys.REFRESH_TOKEN,encodeURIComponent(t))},i.prototype.addCodeVerifier=function(t){this.parameters.set(AADServerParamKeys.CODE_VERIFIER,encodeURIComponent(t))},i.prototype.addClientSecret=function(t){this.parameters.set(AADServerParamKeys.CLIENT_SECRET,encodeURIComponent(t))},i.prototype.addClientAssertion=function(t){StringUtils.isEmpty(t)||this.parameters.set(AADServerParamKeys.CLIENT_ASSERTION,encodeURIComponent(t))},i.prototype.addClientAssertionType=function(t){StringUtils.isEmpty(t)||this.parameters.set(AADServerParamKeys.CLIENT_ASSERTION_TYPE,encodeURIComponent(t))},i.prototype.addOboAssertion=function(t){this.parameters.set(AADServerParamKeys.OBO_ASSERTION,encodeURIComponent(t))},i.prototype.addRequestTokenUse=function(t){this.parameters.set(AADServerParamKeys.REQUESTED_TOKEN_USE,encodeURIComponent(t))},i.prototype.addGrantType=function(t){this.parameters.set(AADServerParamKeys.GRANT_TYPE,encodeURIComponent(t))},i.prototype.addClientInfo=function(){this.parameters.set(CLIENT_INFO,"1")},i.prototype.addExtraQueryParameters=function(t){var r=this,a=RequestValidator.sanitizeEQParams(t,this.parameters);Object.keys(a).forEach(function(l){r.parameters.set(l,t[l])})},i.prototype.addClientCapabilitiesToClaims=function(t,r){var a;if(!t)a={};else try{a=JSON.parse(t)}catch{throw ClientConfigurationError.createInvalidClaimsRequestError()}return r&&r.length>0&&(a.hasOwnProperty(ClaimsRequestKeys.ACCESS_TOKEN)||(a[ClaimsRequestKeys.ACCESS_TOKEN]={}),a[ClaimsRequestKeys.ACCESS_TOKEN][ClaimsRequestKeys.XMS_CC]={values:r}),JSON.stringify(a)},i.prototype.addUsername=function(t){this.parameters.set(PasswordGrantConstants.username,encodeURIComponent(t))},i.prototype.addPassword=function(t){this.parameters.set(PasswordGrantConstants.password,encodeURIComponent(t))},i.prototype.addPopToken=function(t){StringUtils.isEmpty(t)||(this.parameters.set(AADServerParamKeys.TOKEN_TYPE,AuthenticationScheme.POP),this.parameters.set(AADServerParamKeys.REQ_CNF,encodeURIComponent(t)))},i.prototype.addSshJwk=function(t){StringUtils.isEmpty(t)||(this.parameters.set(AADServerParamKeys.TOKEN_TYPE,AuthenticationScheme.SSH),this.parameters.set(AADServerParamKeys.REQ_CNF,encodeURIComponent(t)))},i.prototype.addServerTelemetry=function(t){this.parameters.set(AADServerParamKeys.X_CLIENT_CURR_TELEM,t.generateCurrentRequestHeaderValue()),this.parameters.set(AADServerParamKeys.X_CLIENT_LAST_TELEM,t.generateLastRequestHeaderValue())},i.prototype.addThrottling=function(){this.parameters.set(AADServerParamKeys.X_MS_LIB_CAPABILITY,ThrottlingConstants.X_MS_LIB_CAPABILITY_VALUE)},i.prototype.addLogoutHint=function(t){this.parameters.set(AADServerParamKeys.LOGOUT_HINT,encodeURIComponent(t))},i.prototype.createQueryString=function(){var t=new Array;return this.parameters.forEach(function(r,a){t.push(a+"="+r)}),t.join("&")},i}();/*! @azure/msal-common v10.0.0 2023-02-06 */var BaseClient=function(){function i(t,r){this.config=buildClientConfiguration(t),this.logger=new Logger(this.config.loggerOptions,name$1,version$2),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new NetworkManager(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=r}return i.prototype.createTokenRequestHeaders=function(t){var r={};if(r[HeaderNames.CONTENT_TYPE]=Constants.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&t)switch(t.type){case CcsCredentialType.HOME_ACCOUNT_ID:try{var a=buildClientInfoFromHomeAccountId(t.credential);r[HeaderNames.CCS_HEADER]="Oid:"+a.uid+"@"+a.utid}catch(l){this.logger.verbose("Could not parse home account ID for CCS Header: "+l)}break;case CcsCredentialType.UPN:r[HeaderNames.CCS_HEADER]="UPN: "+t.credential;break}return r},i.prototype.executePostToTokenEndpoint=function(t,r,a,l){return __awaiter$1(this,void 0,void 0,function(){var g;return __generator$1(this,function(d){switch(d.label){case 0:return[4,this.networkManager.sendPostRequest(l,t,{body:r,headers:a})];case 1:return g=d.sent(),this.config.serverTelemetryManager&&g.status<500&&g.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),[2,g]}})})},i.prototype.updateAuthority=function(t){if(!t.discoveryComplete())throw ClientAuthError.createEndpointDiscoveryIncompleteError("Updated authority has not completed endpoint discovery.");this.authority=t},i.prototype.createTokenQueryParameters=function(t){var r=new RequestParameterBuilder;return t.tokenQueryParameters&&r.addExtraQueryParameters(t.tokenQueryParameters),r.createQueryString()},i}();/*! @azure/msal-common v10.0.0 2023-02-06 */var IdTokenEntity=function(i){__extends(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.createIdTokenEntity=function(r,a,l,g,d){var s=new t;return s.credentialType=CredentialType.ID_TOKEN,s.homeAccountId=r,s.environment=a,s.clientId=g,s.secret=l,s.realm=d,s},t.isIdTokenEntity=function(r){return r?r.hasOwnProperty("homeAccountId")&&r.hasOwnProperty("environment")&&r.hasOwnProperty("credentialType")&&r.hasOwnProperty("realm")&&r.hasOwnProperty("clientId")&&r.hasOwnProperty("secret")&&r.credentialType===CredentialType.ID_TOKEN:!1},t}(CredentialEntity);/*! @azure/msal-common v10.0.0 2023-02-06 */var TimeUtils=function(){function i(){}return i.nowSeconds=function(){return Math.round(new Date().getTime()/1e3)},i.isTokenExpired=function(t,r){var a=Number(t)||0,l=i.nowSeconds()+r;return l>a},i.wasClockTurnedBack=function(t){var r=Number(t);return r>i.nowSeconds()},i.delay=function(t,r){return new Promise(function(a){return setTimeout(function(){return a(r)},t)})},i}();/*! @azure/msal-common v10.0.0 2023-02-06 */var AccessTokenEntity=function(i){__extends(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.createAccessTokenEntity=function(r,a,l,g,d,s,u,n,c,C,m,e,E,A,B){var O,v,b=new t;b.homeAccountId=r,b.credentialType=CredentialType.ACCESS_TOKEN,b.secret=l;var o=TimeUtils.nowSeconds();if(b.cachedAt=o.toString(),b.expiresOn=u.toString(),b.extendedExpiresOn=n.toString(),C&&(b.refreshOn=C.toString()),b.environment=a,b.clientId=g,b.realm=d,b.target=s,b.userAssertionHash=e,b.tokenType=StringUtils.isEmpty(m)?AuthenticationScheme.BEARER:m,A&&(b.requestedClaims=A,b.requestedClaimsHash=B),((O=b.tokenType)===null||O===void 0?void 0:O.toLowerCase())!==AuthenticationScheme.BEARER.toLowerCase())switch(b.credentialType=CredentialType.ACCESS_TOKEN_WITH_AUTH_SCHEME,b.tokenType){case AuthenticationScheme.POP:var T=AuthToken.extractTokenClaims(l,c);if(!(!((v=T==null?void 0:T.cnf)===null||v===void 0)&&v.kid))throw ClientAuthError.createTokenClaimsRequiredError();b.keyId=T.cnf.kid;break;case AuthenticationScheme.SSH:b.keyId=E}return b},t.isAccessTokenEntity=function(r){return r?r.hasOwnProperty("homeAccountId")&&r.hasOwnProperty("environment")&&r.hasOwnProperty("credentialType")&&r.hasOwnProperty("realm")&&r.hasOwnProperty("clientId")&&r.hasOwnProperty("secret")&&r.hasOwnProperty("target")&&(r.credentialType===CredentialType.ACCESS_TOKEN||r.credentialType===CredentialType.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1},t}(CredentialEntity);/*! @azure/msal-common v10.0.0 2023-02-06 */var RefreshTokenEntity=function(i){__extends(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.createRefreshTokenEntity=function(r,a,l,g,d,s){var u=new t;return u.clientId=g,u.credentialType=CredentialType.REFRESH_TOKEN,u.environment=a,u.homeAccountId=r,u.secret=l,u.userAssertionHash=s,d&&(u.familyId=d),u},t.isRefreshTokenEntity=function(r){return r?r.hasOwnProperty("homeAccountId")&&r.hasOwnProperty("environment")&&r.hasOwnProperty("credentialType")&&r.hasOwnProperty("clientId")&&r.hasOwnProperty("secret")&&r.credentialType===CredentialType.REFRESH_TOKEN:!1},t}(CredentialEntity);/*! @azure/msal-common v10.0.0 2023-02-06 */var InteractionRequiredServerErrorMessage=["interaction_required","consent_required","login_required"],InteractionRequiredAuthSubErrorMessage=["message_only","additional_action","basic_action","user_password_expired","consent_required"],InteractionRequiredAuthErrorMessage={noTokensFoundError:{code:"no_tokens_found",desc:"No refresh token found in the cache. Please sign-in."},native_account_unavailable:{code:"native_account_unavailable",desc:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API."}},InteractionRequiredAuthError=function(i){__extends(t,i);function t(r,a,l,g,d,s,u){var n=i.call(this,r,a,l)||this;return Object.setPrototypeOf(n,t.prototype),n.timestamp=g||Constants.EMPTY_STRING,n.traceId=d||Constants.EMPTY_STRING,n.correlationId=s||Constants.EMPTY_STRING,n.claims=u||Constants.EMPTY_STRING,n.name="InteractionRequiredAuthError",n}return t.isInteractionRequiredError=function(r,a,l){var g=!!r&&InteractionRequiredServerErrorMessage.indexOf(r)>-1,d=!!l&&InteractionRequiredAuthSubErrorMessage.indexOf(l)>-1,s=!!a&&InteractionRequiredServerErrorMessage.some(function(u){return a.indexOf(u)>-1});return g||s||d},t.createNoTokensFoundError=function(){return new t(InteractionRequiredAuthErrorMessage.noTokensFoundError.code,InteractionRequiredAuthErrorMessage.noTokensFoundError.desc)},t.createNativeAccountUnavailableError=function(){return new t(InteractionRequiredAuthErrorMessage.native_account_unavailable.code,InteractionRequiredAuthErrorMessage.native_account_unavailable.desc)},t}(AuthError);/*! @azure/msal-common v10.0.0 2023-02-06 */var CacheRecord=function(){function i(t,r,a,l,g){this.account=t||null,this.idToken=r||null,this.accessToken=a||null,this.refreshToken=l||null,this.appMetadata=g||null}return i}();/*! @azure/msal-common v10.0.0 2023-02-06 */var ProtocolUtils=function(){function i(){}return i.setRequestState=function(t,r,a){var l=i.generateLibraryState(t,a);return StringUtils.isEmpty(r)?l:""+l+Constants.RESOURCE_DELIM+r},i.generateLibraryState=function(t,r){if(!t)throw ClientAuthError.createNoCryptoObjectError("generateLibraryState");var a={id:t.createNewGuid()};r&&(a.meta=r);var l=JSON.stringify(a);return t.base64Encode(l)},i.parseRequestState=function(t,r){if(!t)throw ClientAuthError.createNoCryptoObjectError("parseRequestState");if(StringUtils.isEmpty(r))throw ClientAuthError.createInvalidStateError(r,"Null, undefined or empty state");try{var a=r.split(Constants.RESOURCE_DELIM),l=a[0],g=a.length>1?a.slice(1).join(Constants.RESOURCE_DELIM):Constants.EMPTY_STRING,d=t.base64Decode(l),s=JSON.parse(d);return{userRequestState:StringUtils.isEmpty(g)?Constants.EMPTY_STRING:g,libraryState:s}}catch(u){throw ClientAuthError.createInvalidStateError(r,u)}},i}();/*! @azure/msal-common v10.0.0 2023-02-06 */var UrlString=function(){function i(t){if(this._urlString=t,StringUtils.isEmpty(this._urlString))throw ClientConfigurationError.createUrlEmptyError();StringUtils.isEmpty(this.getHash())&&(this._urlString=i.canonicalizeUri(t))}return Object.defineProperty(i.prototype,"urlString",{get:function(){return this._urlString},enumerable:!1,configurable:!0}),i.canonicalizeUri=function(t){if(t){var r=t.toLowerCase();return StringUtils.endsWith(r,"?")?r=r.slice(0,-1):StringUtils.endsWith(r,"?/")&&(r=r.slice(0,-2)),StringUtils.endsWith(r,"/")||(r+="/"),r}return t},i.prototype.validateAsUri=function(){var t;try{t=this.getUrlComponents()}catch(r){throw ClientConfigurationError.createUrlParseError(r)}if(!t.HostNameAndPort||!t.PathSegments)throw ClientConfigurationError.createUrlParseError("Given url string: "+this.urlString);if(!t.Protocol||t.Protocol.toLowerCase()!=="https:")throw ClientConfigurationError.createInsecureAuthorityUriError(this.urlString)},i.appendQueryString=function(t,r){return StringUtils.isEmpty(r)?t:t.indexOf("?")<0?t+"?"+r:t+"&"+r},i.removeHashFromUrl=function(t){return i.canonicalizeUri(t.split("#")[0])},i.prototype.replaceTenantPath=function(t){var r=this.getUrlComponents(),a=r.PathSegments;return t&&a.length!==0&&(a[0]===AADAuthorityConstants.COMMON||a[0]===AADAuthorityConstants.ORGANIZATIONS)&&(a[0]=t),i.constructAuthorityUriFromObject(r)},i.prototype.getHash=function(){return i.parseHash(this.urlString)},i.prototype.getUrlComponents=function(){var t=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),r=this.urlString.match(t);if(!r)throw ClientConfigurationError.createUrlParseError("Given url string: "+this.urlString);var a={Protocol:r[1],HostNameAndPort:r[4],AbsolutePath:r[5],QueryString:r[7]},l=a.AbsolutePath.split("/");return l=l.filter(function(g){return g&&g.length>0}),a.PathSegments=l,!StringUtils.isEmpty(a.QueryString)&&a.QueryString.endsWith("/")&&(a.QueryString=a.QueryString.substring(0,a.QueryString.length-1)),a},i.getDomainFromUrl=function(t){var r=RegExp("^([^:/?#]+://)?([^/?#]*)"),a=t.match(r);if(!a)throw ClientConfigurationError.createUrlParseError("Given url string: "+t);return a[2]},i.getAbsoluteUrl=function(t,r){if(t[0]===Constants.FORWARD_SLASH){var a=new i(r),l=a.getUrlComponents();return l.Protocol+"//"+l.HostNameAndPort+t}return t},i.parseHash=function(t){var r=t.indexOf("#"),a=t.indexOf("#/");return a>-1?t.substring(a+2):r>-1?t.substring(r+1):Constants.EMPTY_STRING},i.parseQueryString=function(t){var r=t.indexOf("?"),a=t.indexOf("/?");return a>-1?t.substring(a+2):r>-1?t.substring(r+1):Constants.EMPTY_STRING},i.constructAuthorityUriFromObject=function(t){return new i(t.Protocol+"//"+t.HostNameAndPort+"/"+t.PathSegments.join("/"))},i.getDeserializedHash=function(t){if(StringUtils.isEmpty(t))return{};var r=i.parseHash(t),a=StringUtils.queryStringToObject(StringUtils.isEmpty(r)?t:r);if(!a)throw ClientAuthError.createHashNotDeserializedError(JSON.stringify(a));return a},i.getDeserializedQueryString=function(t){if(StringUtils.isEmpty(t))return{};var r=i.parseQueryString(t),a=StringUtils.queryStringToObject(StringUtils.isEmpty(r)?t:r);if(!a)throw ClientAuthError.createHashNotDeserializedError(JSON.stringify(a));return a},i.hashContainsKnownProperties=function(t){if(StringUtils.isEmpty(t)||t.indexOf("=")<0)return!1;var r=i.getDeserializedHash(t);return!!(r.code||r.error_description||r.error||r.state)},i}();/*! @azure/msal-common v10.0.0 2023-02-06 */var PerformanceEvents;(function(i){i.AcquireTokenByCode="acquireTokenByCode",i.AcquireTokenByRefreshToken="acquireTokenByRefreshToken",i.AcquireTokenSilent="acquireTokenSilent",i.AcquireTokenSilentAsync="acquireTokenSilentAsync",i.AcquireTokenPopup="acquireTokenPopup",i.CryptoOptsGetPublicKeyThumbprint="cryptoOptsGetPublicKeyThumbprint",i.CryptoOptsSignJwt="cryptoOptsSignJwt",i.SilentCacheClientAcquireToken="silentCacheClientAcquireToken",i.SilentIframeClientAcquireToken="silentIframeClientAcquireToken",i.SilentRefreshClientAcquireToken="silentRefreshClientAcquireToken",i.SsoSilent="ssoSilent",i.StandardInteractionClientGetDiscoveredAuthority="standardInteractionClientGetDiscoveredAuthority",i.FetchAccountIdWithNativeBroker="fetchAccountIdWithNativeBroker",i.NativeInteractionClientAcquireToken="nativeInteractionClientAcquireToken",i.BaseClientCreateTokenRequestHeaders="baseClientCreateTokenRequestHeaders",i.BrokerHandhshake="brokerHandshake",i.AcquireTokenByRefreshTokenInBroker="acquireTokenByRefreshTokenInBroker",i.AcquireTokenByBroker="acquireTokenByBroker",i.RefreshTokenClientExecuteTokenRequest="refreshTokenClientExecuteTokenRequest",i.RefreshTokenClientAcquireToken="refreshTokenClientAcquireToken",i.RefreshTokenClientAcquireTokenWithCachedRefreshToken="refreshTokenClientAcquireTokenWithCachedRefreshToken",i.RefreshTokenClientAcquireTokenByRefreshToken="refreshTokenClientAcquireTokenByRefreshToken",i.RefreshTokenClientCreateTokenRequestBody="refreshTokenClientCreateTokenRequestBody",i.AcquireTokenFromCache="acquireTokenFromCache",i.AcquireTokenBySilentIframe="acquireTokenBySilentIframe",i.InitializeBaseRequest="initializeBaseRequest",i.InitializeSilentRequest="initializeSilentRequest",i.SilentIframeClientTokenHelper="silentIframeClientTokenHelper",i.SilentHandlerInitiateAuthRequest="silentHandlerInitiateAuthRequest",i.SilentHandlerMonitorIframeForHash="silentHandlerMonitorIframeForHash",i.SilentHandlerLoadFrame="silentHandlerLoadFrame",i.StandardInteractionClientCreateAuthCodeClient="standardInteractionClientCreateAuthCodeClient",i.StandardInteractionClientGetClientConfiguration="standardInteractionClientGetClientConfiguration",i.StandardInteractionClientInitializeAuthorizationRequest="standardInteractionClientInitializeAuthorizationRequest",i.StandardInteractionClientInitializeAuthorizationCodeRequest="standardInteractionClientInitializeAuthorizationCodeRequest",i.GetAuthCodeUrl="getAuthCodeUrl",i.HandleCodeResponseFromServer="handleCodeResponseFromServer",i.HandleCodeResponseFromHash="handleCodeResponseFromHash",i.UpdateTokenEndpointAuthority="updateTokenEndpointAuthority",i.AuthClientAcquireToken="authClientAcquireToken",i.AuthClientExecuteTokenRequest="authClientExecuteTokenRequest",i.AuthClientCreateTokenRequestBody="authClientCreateTokenRequestBody",i.AuthClientCreateQueryString="authClientCreateQueryString",i.PopTokenGenerateCnf="popTokenGenerateCnf",i.PopTokenGenerateKid="popTokenGenerateKid",i.HandleServerTokenResponse="handleServerTokenResponse",i.AuthorityFactoryCreateDiscoveredInstance="authorityFactoryCreateDiscoveredInstance",i.AuthorityResolveEndpointsAsync="authorityResolveEndpointsAsync",i.AuthorityGetCloudDiscoveryMetadataFromNetwork="authorityGetCloudDiscoveryMetadataFromNetwork",i.AuthorityUpdateCloudDiscoveryMetadata="authorityUpdateCloudDiscoveryMetadata",i.AuthorityGetEndpointMetadataFromNetwork="authorityGetEndpointMetadataFromNetwork",i.AuthorityUpdateEndpointMetadata="authorityUpdateEndpointMetadata",i.AuthorityUpdateMetadataWithRegionalInformation="authorityUpdateMetadataWithRegionalInformation",i.RegionDiscoveryDetectRegion="regionDiscoveryDetectRegion",i.RegionDiscoveryGetRegionFromIMDS="regionDiscoveryGetRegionFromIMDS",i.RegionDiscoveryGetCurrentVersion="regionDiscoveryGetCurrentVersion",i.AcquireTokenByCodeAsync="acquireTokenByCodeAsync",i.GetEndpointMetadataFromNetwork="getEndpointMetadataFromNetwork",i.GetCloudDiscoveryMetadataFromNetworkMeasurement="getCloudDiscoveryMetadataFromNetworkMeasurement",i.HandleRedirectPromiseMeasurement="handleRedirectPromiseMeasurement",i.UpdateCloudDiscoveryMetadataMeasurement="updateCloudDiscoveryMetadataMeasurement",i.UsernamePasswordClientAcquireToken="usernamePasswordClientAcquireToken"})(PerformanceEvents||(PerformanceEvents={}));var PerformanceEventStatus;(function(i){i[i.NotStarted=0]="NotStarted",i[i.InProgress=1]="InProgress",i[i.Completed=2]="Completed"})(PerformanceEventStatus||(PerformanceEventStatus={}));var IntFields=new Set(["accessTokenSize","durationMs","idTokenSize","matsSilentStatus","matsHttpStatus","refreshTokenSize","queuedTimeMs","startTimeMs","status"]);/*! @azure/msal-common v10.0.0 2023-02-06 */var KeyLocation;(function(i){i.SW="sw",i.UHW="uhw"})(KeyLocation||(KeyLocation={}));var PopTokenGenerator=function(){function i(t,r){this.cryptoUtils=t,this.performanceClient=r}return i.prototype.generateCnf=function(t){var r,a;return __awaiter$1(this,void 0,void 0,function(){var l,g,d;return __generator$1(this,function(s){switch(s.label){case 0:return(r=this.performanceClient)===null||r===void 0||r.addQueueMeasurement(PerformanceEvents.PopTokenGenerateCnf,t.correlationId),(a=this.performanceClient)===null||a===void 0||a.setPreQueueTime(PerformanceEvents.PopTokenGenerateKid,t.correlationId),[4,this.generateKid(t)];case 1:return l=s.sent(),g=this.cryptoUtils.base64Encode(JSON.stringify(l)),d={kid:l.kid,reqCnfString:g},[4,this.cryptoUtils.hashString(g)];case 2:return[2,(d.reqCnfHash=s.sent(),d)]}})})},i.prototype.generateKid=function(t){var r;return __awaiter$1(this,void 0,void 0,function(){var a;return __generator$1(this,function(l){switch(l.label){case 0:return(r=this.performanceClient)===null||r===void 0||r.addQueueMeasurement(PerformanceEvents.PopTokenGenerateKid,t.correlationId),[4,this.cryptoUtils.getPublicKeyThumbprint(t)];case 1:return a=l.sent(),[2,{kid:a,xms_ksl:KeyLocation.SW}]}})})},i.prototype.signPopToken=function(t,r,a){return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(l){return[2,this.signPayload(t,r,a)]})})},i.prototype.signPayload=function(t,r,a,l){return __awaiter$1(this,void 0,void 0,function(){var g,d,s,u,n,c;return __generator$1(this,function(C){switch(C.label){case 0:return g=a.resourceRequestMethod,d=a.resourceRequestUri,s=a.shrClaims,u=a.shrNonce,n=d?new UrlString(d):void 0,c=n==null?void 0:n.getUrlComponents(),[4,this.cryptoUtils.signJwt(__assign({at:t,ts:TimeUtils.nowSeconds(),m:g==null?void 0:g.toUpperCase(),u:c==null?void 0:c.HostNameAndPort,nonce:u||this.cryptoUtils.createNewGuid(),p:c==null?void 0:c.AbsolutePath,q:c!=null&&c.QueryString?[[],c.QueryString]:void 0,client_claims:s||void 0},l),r,a.correlationId)];case 1:return[2,C.sent()]}})})},i}();/*! @azure/msal-common v10.0.0 2023-02-06 */var AppMetadataEntity=function(){function i(){}return i.prototype.generateAppMetadataKey=function(){return i.generateAppMetadataCacheKey(this.environment,this.clientId)},i.generateAppMetadataCacheKey=function(t,r){var a=[APP_METADATA,t,r];return a.join(Separators.CACHE_KEY_SEPARATOR).toLowerCase()},i.createAppMetadataEntity=function(t,r,a){var l=new i;return l.clientId=t,l.environment=r,a&&(l.familyId=a),l},i.isAppMetadataEntity=function(t,r){return r?t.indexOf(APP_METADATA)===0&&r.hasOwnProperty("clientId")&&r.hasOwnProperty("environment"):!1},i}();/*! @azure/msal-common v10.0.0 2023-02-06 */var TokenCacheContext=function(){function i(t,r){this.cache=t,this.hasChanged=r}return Object.defineProperty(i.prototype,"cacheHasChanged",{get:function(){return this.hasChanged},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tokenCache",{get:function(){return this.cache},enumerable:!1,configurable:!0}),i}();/*! @azure/msal-common v10.0.0 2023-02-06 */var ResponseHandler=function(){function i(t,r,a,l,g,d,s){this.clientId=t,this.cacheStorage=r,this.cryptoObj=a,this.logger=l,this.serializableCache=g,this.persistencePlugin=d,this.performanceClient=s}return i.prototype.validateServerAuthorizationCodeResponse=function(t,r,a){if(!t.state||!r)throw t.state?ClientAuthError.createStateNotFoundError("Cached State"):ClientAuthError.createStateNotFoundError("Server State");if(decodeURIComponent(t.state)!==decodeURIComponent(r))throw ClientAuthError.createStateMismatchError();if(t.error||t.error_description||t.suberror)throw InteractionRequiredAuthError.isInteractionRequiredError(t.error,t.error_description,t.suberror)?new InteractionRequiredAuthError(t.error||Constants.EMPTY_STRING,t.error_description,t.suberror,t.timestamp||Constants.EMPTY_STRING,t.trace_id||Constants.EMPTY_STRING,t.correlation_id||Constants.EMPTY_STRING,t.claims||Constants.EMPTY_STRING):new ServerError(t.error||Constants.EMPTY_STRING,t.error_description,t.suberror);t.client_info&&buildClientInfo(t.client_info,a)},i.prototype.validateTokenResponse=function(t){if(t.error||t.error_description||t.suberror){if(InteractionRequiredAuthError.isInteractionRequiredError(t.error,t.error_description,t.suberror))throw new InteractionRequiredAuthError(t.error,t.error_description,t.suberror,t.timestamp||Constants.EMPTY_STRING,t.trace_id||Constants.EMPTY_STRING,t.correlation_id||Constants.EMPTY_STRING,t.claims||Constants.EMPTY_STRING);var r=t.error_codes+" - ["+t.timestamp+"]: "+t.error_description+" - Correlation ID: "+t.correlation_id+" - Trace ID: "+t.trace_id;throw new ServerError(t.error,r,t.suberror)}},i.prototype.handleServerTokenResponse=function(t,r,a,l,g,d,s,u,n){var c;return __awaiter$1(this,void 0,void 0,function(){var C,m,e,E,A,B,O;return __generator$1(this,function(v){switch(v.label){case 0:if((c=this.performanceClient)===null||c===void 0||c.addQueueMeasurement(PerformanceEvents.HandleServerTokenResponse,t.correlation_id),t.id_token){if(C=new AuthToken(t.id_token||Constants.EMPTY_STRING,this.cryptoObj),g&&!StringUtils.isEmpty(g.nonce)&&C.claims.nonce!==g.nonce)throw ClientAuthError.createNonceMismatchError();if(l.maxAge||l.maxAge===0){if(m=C.claims.auth_time,!m)throw ClientAuthError.createAuthTimeNotFoundError();AuthToken.checkMaxAge(m,l.maxAge)}}this.homeAccountIdentifier=AccountEntity.generateHomeAccountId(t.client_info||Constants.EMPTY_STRING,r.authorityType,this.logger,this.cryptoObj,C),!!g&&!!g.state&&(e=ProtocolUtils.parseRequestState(this.cryptoObj,g.state)),t.key_id=t.key_id||l.sshKid||void 0,E=this.generateCacheRecord(t,r,a,l,C,d,g),v.label=1;case 1:return v.trys.push([1,,5,8]),this.persistencePlugin&&this.serializableCache?(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),A=new TokenCacheContext(this.serializableCache,!0),[4,this.persistencePlugin.beforeCacheAccess(A)]):[3,3];case 2:v.sent(),v.label=3;case 3:return s&&!u&&E.account&&(B=E.account.generateAccountKey(),O=this.cacheStorage.getAccount(B),!O)?(this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),[2,i.generateAuthenticationResult(this.cryptoObj,r,E,!1,l,C,e,void 0,n)]):[4,this.cacheStorage.saveCacheRecord(E)];case 4:return v.sent(),[3,8];case 5:return this.persistencePlugin&&this.serializableCache&&A?(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),[4,this.persistencePlugin.afterCacheAccess(A)]):[3,7];case 6:v.sent(),v.label=7;case 7:return[7];case 8:return[2,i.generateAuthenticationResult(this.cryptoObj,r,E,!1,l,C,e,t.spa_code,n)]}})})},i.prototype.generateCacheRecord=function(t,r,a,l,g,d,s){var u=r.getPreferredCache();if(StringUtils.isEmpty(u))throw ClientAuthError.createInvalidCacheEnvironmentError();var n,c;!StringUtils.isEmpty(t.id_token)&&!!g&&(n=IdTokenEntity.createIdTokenEntity(this.homeAccountIdentifier,u,t.id_token||Constants.EMPTY_STRING,this.clientId,g.claims.tid||Constants.EMPTY_STRING),c=this.generateAccountEntity(t,g,r,s));var C=null;if(!StringUtils.isEmpty(t.access_token)){var m=t.scope?ScopeSet.fromString(t.scope):new ScopeSet(l.scopes||[]),e=(typeof t.expires_in=="string"?parseInt(t.expires_in,10):t.expires_in)||0,E=(typeof t.ext_expires_in=="string"?parseInt(t.ext_expires_in,10):t.ext_expires_in)||0,A=(typeof t.refresh_in=="string"?parseInt(t.refresh_in,10):t.refresh_in)||void 0,B=a+e,O=B+E,v=A&&A>0?a+A:void 0;C=AccessTokenEntity.createAccessTokenEntity(this.homeAccountIdentifier,u,t.access_token||Constants.EMPTY_STRING,this.clientId,g?g.claims.tid||Constants.EMPTY_STRING:r.tenant,m.printScopes(),B,O,this.cryptoObj,v,t.token_type,d,t.key_id,l.claims,l.requestedClaimsHash)}var b=null;StringUtils.isEmpty(t.refresh_token)||(b=RefreshTokenEntity.createRefreshTokenEntity(this.homeAccountIdentifier,u,t.refresh_token||Constants.EMPTY_STRING,this.clientId,t.foci,d));var o=null;return StringUtils.isEmpty(t.foci)||(o=AppMetadataEntity.createAppMetadataEntity(this.clientId,u,t.foci)),new CacheRecord(c,n,C,b,o)},i.prototype.generateAccountEntity=function(t,r,a,l){var g=a.authorityType,d=l?l.cloud_graph_host_name:Constants.EMPTY_STRING,s=l?l.msgraph_host:Constants.EMPTY_STRING;if(g===AuthorityType.Adfs)return this.logger.verbose("Authority type is ADFS, creating ADFS account"),AccountEntity.createGenericAccount(this.homeAccountIdentifier,r,a,d,s);if(StringUtils.isEmpty(t.client_info)&&a.protocolMode==="AAD")throw ClientAuthError.createClientInfoEmptyError();return t.client_info?AccountEntity.createAccount(t.client_info,this.homeAccountIdentifier,r,a,d,s):AccountEntity.createGenericAccount(this.homeAccountIdentifier,r,a,d,s)},i.generateAuthenticationResult=function(t,r,a,l,g,d,s,u,n){var c,C,m;return __awaiter$1(this,void 0,void 0,function(){var e,E,A,B,O,v,b,o,T,D,_;return __generator$1(this,function(y){switch(y.label){case 0:if(e=Constants.EMPTY_STRING,E=[],A=null,O=Constants.EMPTY_STRING,!a.accessToken)return[3,4];if(a.accessToken.tokenType!==AuthenticationScheme.POP)return[3,2];if(v=new PopTokenGenerator(t),b=a.accessToken,o=b.secret,T=b.keyId,!T)throw ClientAuthError.createKeyIdMissingError();return[4,v.signPopToken(o,T,g)];case 1:return e=y.sent(),[3,3];case 2:e=a.accessToken.secret,y.label=3;case 3:E=ScopeSet.fromString(a.accessToken.target).asArray(),A=new Date(Number(a.accessToken.expiresOn)*1e3),B=new Date(Number(a.accessToken.extendedExpiresOn)*1e3),y.label=4;case 4:return a.appMetadata&&(O=a.appMetadata.familyId===THE_FAMILY_ID?THE_FAMILY_ID:Constants.EMPTY_STRING),D=(d==null?void 0:d.claims.oid)||(d==null?void 0:d.claims.sub)||Constants.EMPTY_STRING,_=(d==null?void 0:d.claims.tid)||Constants.EMPTY_STRING,[2,{authority:r.canonicalAuthority,uniqueId:D,tenantId:_,scopes:E,account:a.account?a.account.getAccountInfo():null,idToken:d?d.rawToken:Constants.EMPTY_STRING,idTokenClaims:d?d.claims:{},accessToken:e,fromCache:l,expiresOn:A,correlationId:g.correlationId,requestId:n||Constants.EMPTY_STRING,extExpiresOn:B,familyId:O,tokenType:((c=a.accessToken)===null||c===void 0?void 0:c.tokenType)||Constants.EMPTY_STRING,state:s?s.userRequestState:Constants.EMPTY_STRING,cloudGraphHostName:((C=a.account)===null||C===void 0?void 0:C.cloudGraphHostName)||Constants.EMPTY_STRING,msGraphHost:((m=a.account)===null||m===void 0?void 0:m.msGraphHost)||Constants.EMPTY_STRING,code:u,fromNativeBroker:!1}]}})})},i}();/*! @azure/msal-common v10.0.0 2023-02-06 */var AuthorizationCodeClient=function(i){__extends(t,i);function t(r,a){var l=i.call(this,r,a)||this;return l.includeRedirectUri=!0,l}return t.prototype.getAuthCodeUrl=function(r){var a,l;return __awaiter$1(this,void 0,void 0,function(){var g;return __generator$1(this,function(d){switch(d.label){case 0:return(a=this.performanceClient)===null||a===void 0||a.addQueueMeasurement(PerformanceEvents.GetAuthCodeUrl,r.correlationId),(l=this.performanceClient)===null||l===void 0||l.setPreQueueTime(PerformanceEvents.AuthClientCreateQueryString,r.correlationId),[4,this.createAuthCodeUrlQueryString(r)];case 1:return g=d.sent(),[2,UrlString.appendQueryString(this.authority.authorizationEndpoint,g)]}})})},t.prototype.acquireToken=function(r,a){var l,g,d,s,u,n;return __awaiter$1(this,void 0,void 0,function(){var c,C,m,e,E,A,B=this;return __generator$1(this,function(O){switch(O.label){case 0:if(!r||!r.code)throw ClientAuthError.createTokenRequestCannotBeMadeError();return(l=this.performanceClient)===null||l===void 0||l.addQueueMeasurement(PerformanceEvents.AuthClientAcquireToken,r.correlationId),c=(g=this.performanceClient)===null||g===void 0?void 0:g.startMeasurement("AuthCodeClientAcquireToken",r.correlationId),this.logger.info("in acquireToken call in auth-code client"),C=TimeUtils.nowSeconds(),(d=this.performanceClient)===null||d===void 0||d.setPreQueueTime(PerformanceEvents.AuthClientExecuteTokenRequest,r.correlationId),[4,this.executeTokenRequest(this.authority,r)];case 1:return m=O.sent(),e=(s=m.headers)===null||s===void 0?void 0:s[HeaderNames.X_MS_REQUEST_ID],E=(u=m.headers)===null||u===void 0?void 0:u[HeaderNames.X_MS_HTTP_VERSION],E&&(c==null||c.addStaticFields({httpVerAuthority:E})),A=new ResponseHandler(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient),A.validateTokenResponse(m.body),(n=this.performanceClient)===null||n===void 0||n.setPreQueueTime(PerformanceEvents.HandleServerTokenResponse,r.correlationId),[2,A.handleServerTokenResponse(m.body,this.authority,C,r,a,void 0,void 0,void 0,e).then(function(v){return c==null||c.endMeasurement({success:!0}),v}).catch(function(v){throw B.logger.verbose("Error in fetching token in ACC",r.correlationId),c==null||c.endMeasurement({errorCode:v.errorCode,subErrorCode:v.subError,success:!1}),v})]}})})},t.prototype.handleFragmentResponse=function(r,a){var l=new ResponseHandler(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null),g=new UrlString(r),d=UrlString.getDeserializedHash(g.getHash());if(l.validateServerAuthorizationCodeResponse(d,a,this.cryptoUtils),!d.code)throw ClientAuthError.createNoAuthCodeInServerResponseError();return __assign(__assign({},d),{code:d.code})},t.prototype.getLogoutUri=function(r){if(!r)throw ClientConfigurationError.createEmptyLogoutRequestError();var a=this.createLogoutUrlQueryString(r);return UrlString.appendQueryString(this.authority.endSessionEndpoint,a)},t.prototype.executeTokenRequest=function(r,a){var l,g;return __awaiter$1(this,void 0,void 0,function(){var d,s,u,n,c,C,m;return __generator$1(this,function(e){switch(e.label){case 0:return(l=this.performanceClient)===null||l===void 0||l.addQueueMeasurement(PerformanceEvents.AuthClientExecuteTokenRequest,a.correlationId),(g=this.performanceClient)===null||g===void 0||g.setPreQueueTime(PerformanceEvents.AuthClientCreateTokenRequestBody,a.correlationId),d=this.createTokenQueryParameters(a),s=UrlString.appendQueryString(r.tokenEndpoint,d),[4,this.createTokenRequestBody(a)];case 1:if(u=e.sent(),n=void 0,a.clientInfo)try{c=buildClientInfo(a.clientInfo,this.cryptoUtils),n={credential:""+c.uid+Separators.CLIENT_INFO_SEPARATOR+c.utid,type:CcsCredentialType.HOME_ACCOUNT_ID}}catch(E){this.logger.verbose("Could not parse client info for CCS Header: "+E)}return C=this.createTokenRequestHeaders(n||a.ccsCredential),m={clientId:this.config.authOptions.clientId,authority:r.canonicalAuthority,scopes:a.scopes,claims:a.claims,authenticationScheme:a.authenticationScheme,resourceRequestMethod:a.resourceRequestMethod,resourceRequestUri:a.resourceRequestUri,shrClaims:a.shrClaims,sshKid:a.sshKid},[2,this.executePostToTokenEndpoint(s,u,C,m)]}})})},t.prototype.createTokenRequestBody=function(r){var a,l;return __awaiter$1(this,void 0,void 0,function(){var g,d,s,u,n,c,C,C,m;return __generator$1(this,function(e){switch(e.label){case 0:return(a=this.performanceClient)===null||a===void 0||a.addQueueMeasurement(PerformanceEvents.AuthClientCreateTokenRequestBody,r.correlationId),g=new RequestParameterBuilder,g.addClientId(this.config.authOptions.clientId),this.includeRedirectUri?g.addRedirectUri(r.redirectUri):RequestValidator.validateRedirectUri(r.redirectUri),g.addScopes(r.scopes),g.addAuthorizationCode(r.code),g.addLibraryInfo(this.config.libraryInfo),g.addApplicationTelemetry(this.config.telemetry.application),g.addThrottling(),this.serverTelemetryManager&&g.addServerTelemetry(this.serverTelemetryManager),r.codeVerifier&&g.addCodeVerifier(r.codeVerifier),this.config.clientCredentials.clientSecret&&g.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(d=this.config.clientCredentials.clientAssertion,g.addClientAssertion(d.assertion),g.addClientAssertionType(d.assertionType)),g.addGrantType(GrantType.AUTHORIZATION_CODE_GRANT),g.addClientInfo(),r.authenticationScheme!==AuthenticationScheme.POP?[3,2]:(s=new PopTokenGenerator(this.cryptoUtils,this.performanceClient),(l=this.performanceClient)===null||l===void 0||l.setPreQueueTime(PerformanceEvents.PopTokenGenerateCnf,r.correlationId),[4,s.generateCnf(r)]);case 1:return u=e.sent(),g.addPopToken(u.reqCnfString),[3,3];case 2:if(r.authenticationScheme===AuthenticationScheme.SSH)if(r.sshJwk)g.addSshJwk(r.sshJwk);else throw ClientConfigurationError.createMissingSshJwkError();e.label=3;case 3:if(n=r.correlationId||this.config.cryptoInterface.createNewGuid(),g.addCorrelationId(n),(!StringUtils.isEmptyObj(r.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&g.addClaims(r.claims,this.config.authOptions.clientCapabilities),c=void 0,r.clientInfo)try{C=buildClientInfo(r.clientInfo,this.cryptoUtils),c={credential:""+C.uid+Separators.CLIENT_INFO_SEPARATOR+C.utid,type:CcsCredentialType.HOME_ACCOUNT_ID}}catch(E){this.logger.verbose("Could not parse client info for CCS Header: "+E)}else c=r.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&c)switch(c.type){case CcsCredentialType.HOME_ACCOUNT_ID:try{C=buildClientInfoFromHomeAccountId(c.credential),g.addCcsOid(C)}catch(E){this.logger.verbose("Could not parse home account ID for CCS Header: "+E)}break;case CcsCredentialType.UPN:g.addCcsUpn(c.credential);break}return r.tokenBodyParameters&&g.addExtraQueryParameters(r.tokenBodyParameters),r.enableSpaAuthorizationCode&&(!r.tokenBodyParameters||!r.tokenBodyParameters[AADServerParamKeys.RETURN_SPA_CODE])&&g.addExtraQueryParameters((m={},m[AADServerParamKeys.RETURN_SPA_CODE]="1",m)),[2,g.createQueryString()]}})})},t.prototype.createAuthCodeUrlQueryString=function(r){var a;return __awaiter$1(this,void 0,void 0,function(){var l,g,d,s,u,n,n,n,c,C;return __generator$1(this,function(m){switch(m.label){case 0:if((a=this.performanceClient)===null||a===void 0||a.addQueueMeasurement(PerformanceEvents.AuthClientCreateQueryString,r.correlationId),l=new RequestParameterBuilder,l.addClientId(this.config.authOptions.clientId),g=__spreadArrays(r.scopes||[],r.extraScopesToConsent||[]),l.addScopes(g),l.addRedirectUri(r.redirectUri),d=r.correlationId||this.config.cryptoInterface.createNewGuid(),l.addCorrelationId(d),l.addResponseMode(r.responseMode),l.addResponseTypeCode(),l.addLibraryInfo(this.config.libraryInfo),l.addApplicationTelemetry(this.config.telemetry.application),l.addClientInfo(),r.codeChallenge&&r.codeChallengeMethod&&l.addCodeChallengeParams(r.codeChallenge,r.codeChallengeMethod),r.prompt&&l.addPrompt(r.prompt),r.domainHint&&l.addDomainHint(r.domainHint),r.prompt!==PromptValue.SELECT_ACCOUNT)if(r.sid&&r.prompt===PromptValue.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),l.addSid(r.sid);else if(r.account){if(s=this.extractAccountSid(r.account),u=this.extractLoginHint(r.account),u){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),l.addLoginHint(u);try{n=buildClientInfoFromHomeAccountId(r.account.homeAccountId),l.addCcsOid(n)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(s&&r.prompt===PromptValue.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),l.addSid(s);try{n=buildClientInfoFromHomeAccountId(r.account.homeAccountId),l.addCcsOid(n)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(r.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),l.addLoginHint(r.loginHint),l.addCcsUpn(r.loginHint);else if(r.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),l.addLoginHint(r.account.username);try{n=buildClientInfoFromHomeAccountId(r.account.homeAccountId),l.addCcsOid(n)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else r.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),l.addLoginHint(r.loginHint),l.addCcsUpn(r.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return r.nonce&&l.addNonce(r.nonce),r.state&&l.addState(r.state),(!StringUtils.isEmpty(r.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&l.addClaims(r.claims,this.config.authOptions.clientCapabilities),r.extraQueryParameters&&l.addExtraQueryParameters(r.extraQueryParameters),r.nativeBroker?(l.addNativeBroker(),r.authenticationScheme!==AuthenticationScheme.POP?[3,2]:(c=new PopTokenGenerator(this.cryptoUtils),[4,c.generateCnf(r)])):[3,2];case 1:C=m.sent(),l.addPopToken(C.reqCnfHash),m.label=2;case 2:return[2,l.createQueryString()]}})})},t.prototype.createLogoutUrlQueryString=function(r){var a=new RequestParameterBuilder;return r.postLogoutRedirectUri&&a.addPostLogoutRedirectUri(r.postLogoutRedirectUri),r.correlationId&&a.addCorrelationId(r.correlationId),r.idTokenHint&&a.addIdTokenHint(r.idTokenHint),r.state&&a.addState(r.state),r.logoutHint&&a.addLogoutHint(r.logoutHint),r.extraQueryParameters&&a.addExtraQueryParameters(r.extraQueryParameters),a.createQueryString()},t.prototype.extractAccountSid=function(r){var a;return((a=r.idTokenClaims)===null||a===void 0?void 0:a.sid)||null},t.prototype.extractLoginHint=function(r){var a;return((a=r.idTokenClaims)===null||a===void 0?void 0:a.login_hint)||null},t}(BaseClient);/*! @azure/msal-common v10.0.0 2023-02-06 */var RefreshTokenClient=function(i){__extends(t,i);function t(r,a){return i.call(this,r,a)||this}return t.prototype.acquireToken=function(r){var a,l,g,d,s,u,n;return __awaiter$1(this,void 0,void 0,function(){var c,C,m,e,E,A,B=this;return __generator$1(this,function(O){switch(O.label){case 0:return(a=this.performanceClient)===null||a===void 0||a.addQueueMeasurement(PerformanceEvents.RefreshTokenClientAcquireToken,r.correlationId),c=(l=this.performanceClient)===null||l===void 0?void 0:l.startMeasurement(PerformanceEvents.RefreshTokenClientAcquireToken,r.correlationId),this.logger.verbose("RefreshTokenClientAcquireToken called",r.correlationId),C=TimeUtils.nowSeconds(),(g=this.performanceClient)===null||g===void 0||g.setPreQueueTime(PerformanceEvents.RefreshTokenClientExecuteTokenRequest,r.correlationId),[4,this.executeTokenRequest(r,this.authority)];case 1:return m=O.sent(),e=(d=m.headers)===null||d===void 0?void 0:d[HeaderNames.X_MS_HTTP_VERSION],c==null||c.addStaticFields({refreshTokenSize:((s=m.body.refresh_token)===null||s===void 0?void 0:s.length)||0}),e&&(c==null||c.addStaticFields({httpVerToken:e})),E=(u=m.headers)===null||u===void 0?void 0:u[HeaderNames.X_MS_REQUEST_ID],A=new ResponseHandler(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin),A.validateTokenResponse(m.body),(n=this.performanceClient)===null||n===void 0||n.setPreQueueTime(PerformanceEvents.HandleServerTokenResponse,r.correlationId),[2,A.handleServerTokenResponse(m.body,this.authority,C,r,void 0,void 0,!0,r.forceCache,E).then(function(v){return c==null||c.endMeasurement({success:!0}),v}).catch(function(v){throw B.logger.verbose("Error in fetching refresh token",r.correlationId),c==null||c.endMeasurement({errorCode:v.errorCode,subErrorCode:v.subError,success:!1}),v})]}})})},t.prototype.acquireTokenByRefreshToken=function(r){var a,l,g,d;return __awaiter$1(this,void 0,void 0,function(){var s,u,n;return __generator$1(this,function(c){if(!r)throw ClientConfigurationError.createEmptyTokenRequestError();if((a=this.performanceClient)===null||a===void 0||a.addQueueMeasurement(PerformanceEvents.RefreshTokenClientAcquireTokenByRefreshToken,r.correlationId),!r.account)throw ClientAuthError.createNoAccountInSilentRequestError();if(s=this.cacheManager.isAppMetadataFOCI(r.account.environment,this.config.authOptions.clientId),s)try{return(l=this.performanceClient)===null||l===void 0||l.setPreQueueTime(PerformanceEvents.RefreshTokenClientAcquireTokenWithCachedRefreshToken,r.correlationId),[2,this.acquireTokenWithCachedRefreshToken(r,!0)]}catch(C){if(u=C instanceof InteractionRequiredAuthError&&C.errorCode===InteractionRequiredAuthErrorMessage.noTokensFoundError.code,n=C instanceof ServerError&&C.errorCode===Errors.INVALID_GRANT_ERROR&&C.subError===Errors.CLIENT_MISMATCH_ERROR,u||n)return(g=this.performanceClient)===null||g===void 0||g.setPreQueueTime(PerformanceEvents.RefreshTokenClientAcquireTokenWithCachedRefreshToken,r.correlationId),[2,this.acquireTokenWithCachedRefreshToken(r,!1)];throw C}return(d=this.performanceClient)===null||d===void 0||d.setPreQueueTime(PerformanceEvents.RefreshTokenClientAcquireTokenWithCachedRefreshToken,r.correlationId),[2,this.acquireTokenWithCachedRefreshToken(r,!1)]})})},t.prototype.acquireTokenWithCachedRefreshToken=function(r,a){var l,g,d;return __awaiter$1(this,void 0,void 0,function(){var s,u,n;return __generator$1(this,function(c){if((l=this.performanceClient)===null||l===void 0||l.addQueueMeasurement(PerformanceEvents.RefreshTokenClientAcquireTokenWithCachedRefreshToken,r.correlationId),s=(g=this.performanceClient)===null||g===void 0?void 0:g.startMeasurement(PerformanceEvents.RefreshTokenClientAcquireTokenWithCachedRefreshToken,r.correlationId),this.logger.verbose("RefreshTokenClientAcquireTokenWithCachedRefreshToken called",r.correlationId),u=this.cacheManager.readRefreshTokenFromCache(this.config.authOptions.clientId,r.account,a),!u)throw s==null||s.discardMeasurement(),InteractionRequiredAuthError.createNoTokensFoundError();return s==null||s.endMeasurement({success:!0}),n=__assign(__assign({},r),{refreshToken:u.secret,authenticationScheme:r.authenticationScheme||AuthenticationScheme.BEARER,ccsCredential:{credential:r.account.homeAccountId,type:CcsCredentialType.HOME_ACCOUNT_ID}}),(d=this.performanceClient)===null||d===void 0||d.setPreQueueTime(PerformanceEvents.RefreshTokenClientAcquireToken,r.correlationId),[2,this.acquireToken(n)]})})},t.prototype.executeTokenRequest=function(r,a){var l,g,d;return __awaiter$1(this,void 0,void 0,function(){var s,u,n,c,C,m;return __generator$1(this,function(e){switch(e.label){case 0:return(l=this.performanceClient)===null||l===void 0||l.addQueueMeasurement(PerformanceEvents.RefreshTokenClientExecuteTokenRequest,r.correlationId),s=(g=this.performanceClient)===null||g===void 0?void 0:g.startMeasurement(PerformanceEvents.RefreshTokenClientExecuteTokenRequest,r.correlationId),(d=this.performanceClient)===null||d===void 0||d.setPreQueueTime(PerformanceEvents.RefreshTokenClientCreateTokenRequestBody,r.correlationId),u=this.createTokenQueryParameters(r),n=UrlString.appendQueryString(a.tokenEndpoint,u),[4,this.createTokenRequestBody(r)];case 1:return c=e.sent(),C=this.createTokenRequestHeaders(r.ccsCredential),m={clientId:this.config.authOptions.clientId,authority:a.canonicalAuthority,scopes:r.scopes,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid},[2,this.executePostToTokenEndpoint(n,c,C,m).then(function(E){return s==null||s.endMeasurement({success:!0}),E}).catch(function(E){throw s==null||s.endMeasurement({success:!1}),E})]}})})},t.prototype.createTokenRequestBody=function(r){var a,l,g;return __awaiter$1(this,void 0,void 0,function(){var d,s,u,n,c,C,m;return __generator$1(this,function(e){switch(e.label){case 0:return(a=this.performanceClient)===null||a===void 0||a.addQueueMeasurement(PerformanceEvents.RefreshTokenClientCreateTokenRequestBody,r.correlationId),d=r.correlationId,s=(l=this.performanceClient)===null||l===void 0?void 0:l.startMeasurement(PerformanceEvents.BaseClientCreateTokenRequestHeaders,d),u=new RequestParameterBuilder,u.addClientId(this.config.authOptions.clientId),u.addScopes(r.scopes),u.addGrantType(GrantType.REFRESH_TOKEN_GRANT),u.addClientInfo(),u.addLibraryInfo(this.config.libraryInfo),u.addApplicationTelemetry(this.config.telemetry.application),u.addThrottling(),this.serverTelemetryManager&&u.addServerTelemetry(this.serverTelemetryManager),u.addCorrelationId(d),u.addRefreshToken(r.refreshToken),this.config.clientCredentials.clientSecret&&u.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(n=this.config.clientCredentials.clientAssertion,u.addClientAssertion(n.assertion),u.addClientAssertionType(n.assertionType)),r.authenticationScheme!==AuthenticationScheme.POP?[3,2]:(c=new PopTokenGenerator(this.cryptoUtils,this.performanceClient),(g=this.performanceClient)===null||g===void 0||g.setPreQueueTime(PerformanceEvents.PopTokenGenerateCnf,r.correlationId),[4,c.generateCnf(r)]);case 1:return C=e.sent(),u.addPopToken(C.reqCnfString),[3,3];case 2:if(r.authenticationScheme===AuthenticationScheme.SSH)if(r.sshJwk)u.addSshJwk(r.sshJwk);else throw s==null||s.endMeasurement({success:!1}),ClientConfigurationError.createMissingSshJwkError();e.label=3;case 3:if((!StringUtils.isEmptyObj(r.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&u.addClaims(r.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&r.ccsCredential)switch(r.ccsCredential.type){case CcsCredentialType.HOME_ACCOUNT_ID:try{m=buildClientInfoFromHomeAccountId(r.ccsCredential.credential),u.addCcsOid(m)}catch(E){this.logger.verbose("Could not parse home account ID for CCS Header: "+E)}break;case CcsCredentialType.UPN:u.addCcsUpn(r.ccsCredential.credential);break}return s==null||s.endMeasurement({success:!0}),[2,u.createQueryString()]}})})},t}(BaseClient);/*! @azure/msal-common v10.0.0 2023-02-06 */var SilentFlowClient=function(i){__extends(t,i);function t(r,a){return i.call(this,r,a)||this}return t.prototype.acquireToken=function(r){return __awaiter$1(this,void 0,void 0,function(){var a,l;return __generator$1(this,function(g){switch(g.label){case 0:return g.trys.push([0,2,,3]),[4,this.acquireCachedToken(r)];case 1:return[2,g.sent()];case 2:if(a=g.sent(),a instanceof ClientAuthError&&a.errorCode===ClientAuthErrorMessage.tokenRefreshRequired.code)return l=new RefreshTokenClient(this.config,this.performanceClient),[2,l.acquireTokenByRefreshToken(r)];throw a;case 3:return[2]}})})},t.prototype.acquireCachedToken=function(r){var a,l,g,d;return __awaiter$1(this,void 0,void 0,function(){var s,u;return __generator$1(this,function(n){switch(n.label){case 0:if(!r)throw ClientConfigurationError.createEmptyTokenRequestError();if(r.forceRefresh)throw(a=this.serverTelemetryManager)===null||a===void 0||a.setCacheOutcome(CacheOutcome.FORCE_REFRESH),this.logger.info("SilentFlowClient:acquireCachedToken - Skipping cache because forceRefresh is true."),ClientAuthError.createRefreshRequiredError();if(!r.account)throw ClientAuthError.createNoAccountInSilentRequestError();if(s=r.authority||this.authority.getPreferredCache(),u=this.cacheManager.readCacheRecord(r.account,this.config.authOptions.clientId,r,s),u.accessToken){if(TimeUtils.wasClockTurnedBack(u.accessToken.cachedAt)||TimeUtils.isTokenExpired(u.accessToken.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw(g=this.serverTelemetryManager)===null||g===void 0||g.setCacheOutcome(CacheOutcome.CACHED_ACCESS_TOKEN_EXPIRED),this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token is expired or will expire within "+this.config.systemOptions.tokenRenewalOffsetSeconds+" seconds."),ClientAuthError.createRefreshRequiredError();if(u.accessToken.refreshOn&&TimeUtils.isTokenExpired(u.accessToken.refreshOn,0))throw(d=this.serverTelemetryManager)===null||d===void 0||d.setCacheOutcome(CacheOutcome.REFRESH_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'."),ClientAuthError.createRefreshRequiredError()}else throw(l=this.serverTelemetryManager)===null||l===void 0||l.setCacheOutcome(CacheOutcome.NO_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - No access token found in cache for the given properties."),ClientAuthError.createRefreshRequiredError();return this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[4,this.generateResultFromCacheRecord(u,r)];case 1:return[2,n.sent()]}})})},t.prototype.generateResultFromCacheRecord=function(r,a){return __awaiter$1(this,void 0,void 0,function(){var l,g;return __generator$1(this,function(d){switch(d.label){case 0:if(r.idToken&&(l=new AuthToken(r.idToken.secret,this.config.cryptoInterface)),a.maxAge||a.maxAge===0){if(g=l==null?void 0:l.claims.auth_time,!g)throw ClientAuthError.createAuthTimeNotFoundError();AuthToken.checkMaxAge(g,a.maxAge)}return[4,ResponseHandler.generateAuthenticationResult(this.cryptoUtils,this.authority,r,!0,a,l)];case 1:return[2,d.sent()]}})})},t}(BaseClient);/*! @azure/msal-common v10.0.0 2023-02-06 */function isOpenIdConfigResponse(i){return i.hasOwnProperty("authorization_endpoint")&&i.hasOwnProperty("token_endpoint")&&i.hasOwnProperty("issuer")&&i.hasOwnProperty("jwks_uri")}/*! @azure/msal-common v10.0.0 2023-02-06 */var rawMetdataJSON={endpointMetadata:{"https://login.microsoftonline.com/common/":{token_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/common/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/common/":{token_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/common/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/common/":{token_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/common/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"},"https://login.microsoftonline.com/consumers/":{token_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/consumers/":{token_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/consumers/":{token_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"},"https://login.microsoftonline.com/organizations/":{token_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/organizations/":{token_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/organizations/":{token_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"}},instanceDiscoveryMetadata:{"https://login.microsoftonline.com/common/":{tenant_discovery_endpoint:"https://login.microsoftonline.com/common/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.chinacloudapi.cn/common/":{tenant_discovery_endpoint:"https://login.chinacloudapi.cn/common/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.us/common/":{tenant_discovery_endpoint:"https://login.microsoftonline.us/common/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.com/consumers/":{tenant_discovery_endpoint:"https://login.microsoftonline.com/consumers/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.chinacloudapi.cn/consumers/":{tenant_discovery_endpoint:"https://login.chinacloudapi.cn/consumers/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.us/consumers/":{tenant_discovery_endpoint:"https://login.microsoftonline.us/consumers/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.com/organizations/":{tenant_discovery_endpoint:"https://login.microsoftonline.com/organizations/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.chinacloudapi.cn/organizations/":{tenant_discovery_endpoint:"https://login.chinacloudapi.cn/organizations/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},"https://login.microsoftonline.us/organizations/":{tenant_discovery_endpoint:"https://login.microsoftonline.us/organizations/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}}},EndpointMetadata=rawMetdataJSON.endpointMetadata,InstanceDiscoveryMetadata=rawMetdataJSON.instanceDiscoveryMetadata;/*! @azure/msal-common v10.0.0 2023-02-06 */var ProtocolMode;(function(i){i.AAD="AAD",i.OIDC="OIDC"})(ProtocolMode||(ProtocolMode={}));/*! @azure/msal-common v10.0.0 2023-02-06 */var AuthorityMetadataEntity=function(){function i(){this.expiresAt=TimeUtils.nowSeconds()+AUTHORITY_METADATA_CONSTANTS.REFRESH_TIME_SECONDS}return i.prototype.updateCloudDiscoveryMetadata=function(t,r){this.aliases=t.aliases,this.preferred_cache=t.preferred_cache,this.preferred_network=t.preferred_network,this.aliasesFromNetwork=r},i.prototype.updateEndpointMetadata=function(t,r){this.authorization_endpoint=t.authorization_endpoint,this.token_endpoint=t.token_endpoint,this.end_session_endpoint=t.end_session_endpoint,this.issuer=t.issuer,this.endpointsFromNetwork=r,this.jwks_uri=t.jwks_uri},i.prototype.updateCanonicalAuthority=function(t){this.canonical_authority=t},i.prototype.resetExpiresAt=function(){this.expiresAt=TimeUtils.nowSeconds()+AUTHORITY_METADATA_CONSTANTS.REFRESH_TIME_SECONDS},i.prototype.isExpired=function(){return this.expiresAt<=TimeUtils.nowSeconds()},i.isAuthorityMetadataEntity=function(t,r){return r?t.indexOf(AUTHORITY_METADATA_CONSTANTS.CACHE_KEY)===0&&r.hasOwnProperty("aliases")&&r.hasOwnProperty("preferred_cache")&&r.hasOwnProperty("preferred_network")&&r.hasOwnProperty("canonical_authority")&&r.hasOwnProperty("authorization_endpoint")&&r.hasOwnProperty("token_endpoint")&&r.hasOwnProperty("issuer")&&r.hasOwnProperty("aliasesFromNetwork")&&r.hasOwnProperty("endpointsFromNetwork")&&r.hasOwnProperty("expiresAt")&&r.hasOwnProperty("jwks_uri"):!1},i}();/*! @azure/msal-common v10.0.0 2023-02-06 */function isCloudInstanceDiscoveryResponse(i){return i.hasOwnProperty("tenant_discovery_endpoint")&&i.hasOwnProperty("metadata")}/*! @azure/msal-common v10.0.0 2023-02-06 */function isCloudInstanceDiscoveryErrorResponse(i){return i.hasOwnProperty("error")&&i.hasOwnProperty("error_description")}/*! @azure/msal-common v10.0.0 2023-02-06 */var RegionDiscovery=function(){function i(t,r,a){this.networkInterface=t,this.performanceClient=r,this.correlationId=a}return i.prototype.detectRegion=function(t,r){var a,l,g,d;return __awaiter$1(this,void 0,void 0,function(){var s,u,n,c,C;return __generator$1(this,function(m){switch(m.label){case 0:if((a=this.performanceClient)===null||a===void 0||a.addQueueMeasurement(PerformanceEvents.RegionDiscoveryDetectRegion,this.correlationId),s=t,s)return[3,8];u=i.IMDS_OPTIONS,m.label=1;case 1:return m.trys.push([1,6,,7]),(l=this.performanceClient)===null||l===void 0||l.setPreQueueTime(PerformanceEvents.RegionDiscoveryGetRegionFromIMDS,this.correlationId),[4,this.getRegionFromIMDS(Constants.IMDS_VERSION,u)];case 2:return n=m.sent(),n.status===ResponseCodes.httpSuccess&&(s=n.body,r.region_source=RegionDiscoverySources.IMDS),n.status!==ResponseCodes.httpBadRequest?[3,5]:((g=this.performanceClient)===null||g===void 0||g.setPreQueueTime(PerformanceEvents.RegionDiscoveryGetCurrentVersion,this.correlationId),[4,this.getCurrentVersion(u)]);case 3:return c=m.sent(),c?((d=this.performanceClient)===null||d===void 0||d.setPreQueueTime(PerformanceEvents.RegionDiscoveryGetRegionFromIMDS,this.correlationId),[4,this.getRegionFromIMDS(c,u)]):(r.region_source=RegionDiscoverySources.FAILED_AUTO_DETECTION,[2,null]);case 4:C=m.sent(),C.status===ResponseCodes.httpSuccess&&(s=C.body,r.region_source=RegionDiscoverySources.IMDS),m.label=5;case 5:return[3,7];case 6:return m.sent(),r.region_source=RegionDiscoverySources.FAILED_AUTO_DETECTION,[2,null];case 7:return[3,9];case 8:r.region_source=RegionDiscoverySources.ENVIRONMENT_VARIABLE,m.label=9;case 9:return s||(r.region_source=RegionDiscoverySources.FAILED_AUTO_DETECTION),[2,s||null]}})})},i.prototype.getRegionFromIMDS=function(t,r){var a;return __awaiter$1(this,void 0,void 0,function(){return __generator$1(this,function(l){return(a=this.performanceClient)===null||a===void 0||a.addQueueMeasurement(PerformanceEvents.RegionDiscoveryGetRegionFromIMDS,this.correlationId),[2,this.networkInterface.sendGetRequestAsync(Constants.IMDS_ENDPOINT+"?api-version="+t+"&format=text",r,Constants.IMDS_TIMEOUT)]})})},i.prototype.getCurrentVersion=function(t){var r;return __awaiter$1(this,void 0,void 0,function(){var a;return __generator$1(this,function(l){switch(l.label){case 0:(r=this.performanceClient)===null||r===void 0||r.addQueueMeasurement(PerformanceEvents.RegionDiscoveryGetCurrentVersion,this.correlationId),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(Constants.IMDS_ENDPOINT+"?format=json",t)];case 2:return a=l.sent(),a.status===ResponseCodes.httpBadRequest&&a.body&&a.body["newest-versions"]&&a.body["newest-versions"].length>0?[2,a.body["newest-versions"][0]]:[2,null];case 3:return l.sent(),[2,null];case 4:return[2]}})})},i.IMDS_OPTIONS={headers:{Metadata:"true"}},i}();/*! @azure/msal-common v10.0.0 2023-02-06 */var Authority=function(){function i(t,r,a,l,g,d,s){this.canonicalAuthority=t,this._canonicalAuthority.validateAsUri(),this.networkInterface=r,this.cacheManager=a,this.authorityOptions=l,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=g,this.performanceClient=d,this.correlationId=s,this.regionDiscovery=new RegionDiscovery(r,this.performanceClient,this.correlationId)}return Object.defineProperty(i.prototype,"authorityType",{get:function(){var t=this.canonicalAuthorityUrlComponents.PathSegments;if(t.length)switch(t[0].toLowerCase()){case Constants.ADFS:return AuthorityType.Adfs;case Constants.DSTS:return AuthorityType.Dsts}return AuthorityType.Default},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"protocolMode",{get:function(){return this.authorityOptions.protocolMode},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"options",{get:function(){return this.authorityOptions},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"canonicalAuthority",{get:function(){return this._canonicalAuthority.urlString},set:function(t){this._canonicalAuthority=new UrlString(t),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"canonicalAuthorityUrlComponents",{get:function(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hostnameAndPort",{get:function(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tenant",{get:function(){return this.canonicalAuthorityUrlComponents.PathSegments[0]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"authorizationEndpoint",{get:function(){if(this.discoveryComplete()){var t=this.replacePath(this.metadata.authorization_endpoint);return this.replaceTenant(t)}else throw ClientAuthError.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tokenEndpoint",{get:function(){if(this.discoveryComplete()){var t=this.replacePath(this.metadata.token_endpoint);return this.replaceTenant(t)}else throw ClientAuthError.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"deviceCodeEndpoint",{get:function(){if(this.discoveryComplete()){var t=this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));return this.replaceTenant(t)}else throw ClientAuthError.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"endSessionEndpoint",{get:function(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw ClientAuthError.createLogoutNotSupportedError();var t=this.replacePath(this.metadata.end_session_endpoint);return this.replaceTenant(t)}else throw ClientAuthError.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"selfSignedJwtAudience",{get:function(){if(this.discoveryComplete()){var t=this.replacePath(this.metadata.issuer);return this.replaceTenant(t)}else throw ClientAuthError.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"jwksUri",{get:function(){if(this.discoveryComplete()){var t=this.replacePath(this.metadata.jwks_uri);return this.replaceTenant(t)}else throw ClientAuthError.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),i.prototype.replaceTenant=function(t){return t.replace(/{tenant}|{tenantid}/g,this.tenant)},i.prototype.replacePath=function(t){var r=t,a=new UrlString(this.metadata.canonical_authority),l=a.getUrlComponents().PathSegments,g=this.canonicalAuthorityUrlComponents.PathSegments;return g.forEach(function(d,s){var u=l[s];d!==u&&(r=r.replace("/"+u+"/","/"+d+"/"))}),r},Object.defineProperty(i.prototype,"defaultOpenIdConfigurationEndpoint",{get:function(){return this.authorityType===AuthorityType.Adfs||this.authorityType===AuthorityType.Dsts||this.protocolMode===ProtocolMode.OIDC?this.canonicalAuthority+".well-known/openid-configuration":this.canonicalAuthority+"v2.0/.well-known/openid-configuration"},enumerable:!1,configurable:!0}),i.prototype.discoveryComplete=function(){return!!this.metadata},i.prototype.resolveEndpointsAsync=function(){var t,r,a;return __awaiter$1(this,void 0,void 0,function(){var l,g,d,s;return __generator$1(this,function(u){switch(u.label){case 0:return(t=this.performanceClient)===null||t===void 0||t.addQueueMeasurement(PerformanceEvents.AuthorityResolveEndpointsAsync,this.correlationId),l=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort),l||(l=new AuthorityMetadataEntity,l.updateCanonicalAuthority(this.canonicalAuthority)),(r=this.performanceClient)===null||r===void 0||r.setPreQueueTime(PerformanceEvents.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId),[4,this.updateCloudDiscoveryMetadata(l)];case 1:return g=u.sent(),this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,l.preferred_network),(a=this.performanceClient)===null||a===void 0||a.setPreQueueTime(PerformanceEvents.AuthorityUpdateEndpointMetadata,this.correlationId),[4,this.updateEndpointMetadata(l)];case 2:return d=u.sent(),g!==AuthorityMetadataSource.CACHE&&d!==AuthorityMetadataSource.CACHE&&(l.resetExpiresAt(),l.updateCanonicalAuthority(this.canonicalAuthority)),s=this.cacheManager.generateAuthorityMetadataCacheKey(l.preferred_cache),this.cacheManager.setAuthorityMetadata(s,l),this.metadata=l,[2]}})})},i.prototype.updateEndpointMetadata=function(t){var r,a,l,g,d,s;return __awaiter$1(this,void 0,void 0,function(){var u,n;return __generator$1(this,function(c){switch(c.label){case 0:return(r=this.performanceClient)===null||r===void 0||r.addQueueMeasurement(PerformanceEvents.AuthorityUpdateEndpointMetadata,this.correlationId),u=this.getEndpointMetadataFromConfig(),u?(t.updateEndpointMetadata(u,!1),[2,AuthorityMetadataSource.CONFIG]):this.isAuthoritySameType(t)&&t.endpointsFromNetwork&&!t.isExpired()?[2,AuthorityMetadataSource.CACHE]:(n=this.getEndpointMetadataFromHardcodedValues(),(a=this.performanceClient)===null||a===void 0||a.setPreQueueTime(PerformanceEvents.AuthorityGetEndpointMetadataFromNetwork,this.correlationId),[4,this.getEndpointMetadataFromNetwork()]);case 1:return u=c.sent(),u?!((l=this.authorityOptions.azureRegionConfiguration)===null||l===void 0)&&l.azureRegion?((g=this.performanceClient)===null||g===void 0||g.setPreQueueTime(PerformanceEvents.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId),[4,this.updateMetadataWithRegionalInformation(u)]):[3,3]:[3,4];case 2:u=c.sent(),c.label=3;case 3:return t.updateEndpointMetadata(u,!0),[2,AuthorityMetadataSource.NETWORK];case 4:return n&&!this.authorityOptions.skipAuthorityMetadataCache?!((d=this.authorityOptions.azureRegionConfiguration)===null||d===void 0)&&d.azureRegion?((s=this.performanceClient)===null||s===void 0||s.setPreQueueTime(PerformanceEvents.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId),[4,this.updateMetadataWithRegionalInformation(n)]):[3,6]:[3,7];case 5:n=c.sent(),c.label=6;case 6:return t.updateEndpointMetadata(n,!1),[2,AuthorityMetadataSource.HARDCODED_VALUES];case 7:throw ClientAuthError.createUnableToGetOpenidConfigError(this.defaultOpenIdConfigurationEndpoint)}})})},i.prototype.isAuthoritySameType=function(t){var r=new UrlString(t.canonical_authority),a=r.getUrlComponents().PathSegments;return a.length===this.canonicalAuthorityUrlComponents.PathSegments.length},i.prototype.getEndpointMetadataFromConfig=function(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw ClientConfigurationError.createInvalidAuthorityMetadataError()}return null},i.prototype.getEndpointMetadataFromNetwork=function(){var t;return __awaiter$1(this,void 0,void 0,function(){var r,a;return __generator$1(this,function(l){switch(l.label){case 0:(t=this.performanceClient)===null||t===void 0||t.addQueueMeasurement(PerformanceEvents.AuthorityGetEndpointMetadataFromNetwork,this.correlationId),r={},l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(this.defaultOpenIdConfigurationEndpoint,r)];case 2:return a=l.sent(),[2,isOpenIdConfigResponse(a.body)?a.body:null];case 3:return l.sent(),[2,null];case 4:return[2]}})})},i.prototype.getEndpointMetadataFromHardcodedValues=function(){return this.canonicalAuthority in EndpointMetadata?EndpointMetadata[this.canonicalAuthority]:null},i.prototype.updateMetadataWithRegionalInformation=function(t){var r,a,l,g,d,s,u;return __awaiter$1(this,void 0,void 0,function(){var n,c;return __generator$1(this,function(C){switch(C.label){case 0:return(r=this.performanceClient)===null||r===void 0||r.addQueueMeasurement(PerformanceEvents.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId),(a=this.performanceClient)===null||a===void 0||a.setPreQueueTime(PerformanceEvents.RegionDiscoveryDetectRegion,this.correlationId),[4,this.regionDiscovery.detectRegion((l=this.authorityOptions.azureRegionConfiguration)===null||l===void 0?void 0:l.environmentRegion,this.regionDiscoveryMetadata)];case 1:return n=C.sent(),c=((g=this.authorityOptions.azureRegionConfiguration)===null||g===void 0?void 0:g.azureRegion)===Constants.AZURE_REGION_AUTO_DISCOVER_FLAG?n:(d=this.authorityOptions.azureRegionConfiguration)===null||d===void 0?void 0:d.azureRegion,((s=this.authorityOptions.azureRegionConfiguration)===null||s===void 0?void 0:s.azureRegion)===Constants.AZURE_REGION_AUTO_DISCOVER_FLAG?this.regionDiscoveryMetadata.region_outcome=n?RegionDiscoveryOutcomes.AUTO_DETECTION_REQUESTED_SUCCESSFUL:RegionDiscoveryOutcomes.AUTO_DETECTION_REQUESTED_FAILED:n?this.regionDiscoveryMetadata.region_outcome=((u=this.authorityOptions.azureRegionConfiguration)===null||u===void 0?void 0:u.azureRegion)===n?RegionDiscoveryOutcomes.CONFIGURED_MATCHES_DETECTED:RegionDiscoveryOutcomes.CONFIGURED_NOT_DETECTED:this.regionDiscoveryMetadata.region_outcome=RegionDiscoveryOutcomes.CONFIGURED_NO_AUTO_DETECTION,c?(this.regionDiscoveryMetadata.region_used=c,[2,i.replaceWithRegionalInformation(t,c)]):[2,t]}})})},i.prototype.updateCloudDiscoveryMetadata=function(t){var r,a;return __awaiter$1(this,void 0,void 0,function(){var l,g,d;return __generator$1(this,function(s){switch(s.label){case 0:return(r=this.performanceClient)===null||r===void 0||r.addQueueMeasurement(PerformanceEvents.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId),this.logger.verbose("Attempting to get cloud discovery metadata in the config"),this.logger.verbosePii("Known Authorities: "+(this.authorityOptions.knownAuthorities||Constants.NOT_APPLICABLE)),this.logger.verbosePii("Authority Metadata: "+(this.authorityOptions.authorityMetadata||Constants.NOT_APPLICABLE)),this.logger.verbosePii("Canonical Authority: "+(t.canonical_authority||Constants.NOT_APPLICABLE)),l=this.getCloudDiscoveryMetadataFromConfig(),l?(this.logger.verbose("Found cloud discovery metadata in the config."),t.updateCloudDiscoveryMetadata(l,!1),[2,AuthorityMetadataSource.CONFIG]):(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the cache."),g=t.isExpired(),this.isAuthoritySameType(t)&&t.aliasesFromNetwork&&!g?(this.logger.verbose("Found metadata in the cache."),[2,AuthorityMetadataSource.CACHE]):(g&&this.logger.verbose("The metadata entity is expired."),this.logger.verbose("Did not find cloud discovery metadata in the cache... Attempting to get cloud discovery metadata from the network."),(a=this.performanceClient)===null||a===void 0||a.setPreQueueTime(PerformanceEvents.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId),[4,this.getCloudDiscoveryMetadataFromNetwork()]));case 1:if(l=s.sent(),l)return this.logger.verbose("cloud discovery metadata was successfully returned from getCloudDiscoveryMetadataFromNetwork()"),t.updateCloudDiscoveryMetadata(l,!0),[2,AuthorityMetadataSource.NETWORK];if(this.logger.verbose("Did not find cloud discovery metadata from the network... Attempting to get cloud discovery metadata from hardcoded values."),d=this.getCloudDiscoveryMetadataFromHarcodedValues(),d&&!this.options.skipAuthorityMetadataCache)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),t.updateCloudDiscoveryMetadata(d,!1),[2,AuthorityMetadataSource.HARDCODED_VALUES];throw this.logger.error("Did not find cloud discovery metadata from hardcoded values... Metadata could not be obtained from config, cache, network or hardcoded values. Throwing Untrusted Authority Error."),ClientConfigurationError.createUntrustedAuthorityError()}})})},i.prototype.getCloudDiscoveryMetadataFromConfig=function(){if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");var t=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),r=i.getCloudDiscoveryMetadataFromNetworkResponse(t.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),r)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),r;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),ClientConfigurationError.createInvalidCloudDiscoveryMetadataError()}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),i.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null},i.prototype.getCloudDiscoveryMetadataFromNetwork=function(){var t;return __awaiter$1(this,void 0,void 0,function(){var r,a,l,g,d,s,u,n;return __generator$1(this,function(c){switch(c.label){case 0:(t=this.performanceClient)===null||t===void 0||t.addQueueMeasurement(PerformanceEvents.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId),r=""+Constants.AAD_INSTANCE_DISCOVERY_ENDPT+this.canonicalAuthority+"oauth2/v2.0/authorize",a={},l=null,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(r,a)];case 2:if(g=c.sent(),d=void 0,s=void 0,isCloudInstanceDiscoveryResponse(g.body))d=g.body,s=d.metadata,this.logger.verbosePii("tenant_discovery_endpoint is: "+d.tenant_discovery_endpoint);else if(isCloudInstanceDiscoveryErrorResponse(g.body)){if(this.logger.warning("A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: "+g.status),d=g.body,d.error===Constants.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),[2,null];this.logger.warning("The CloudInstanceDiscoveryErrorResponse error is "+d.error),this.logger.warning("The CloudInstanceDiscoveryErrorResponse error description is "+d.error_description),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),s=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),[2,null];return this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),l=i.getCloudDiscoveryMetadataFromNetworkResponse(s,this.hostnameAndPort),[3,4];case 3:return u=c.sent(),u instanceof AuthError?this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: `+u.errorCode+`
Error Description: `+u.errorMessage):(n=u,this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: `+n.name+`
Error Description: `+n.message)),[2,null];case 4:return l||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),l=i.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),[2,l]}})})},i.prototype.getCloudDiscoveryMetadataFromHarcodedValues=function(){return this.canonicalAuthority in InstanceDiscoveryMetadata?InstanceDiscoveryMetadata[this.canonicalAuthority]:null},i.prototype.isInKnownAuthorities=function(){var t=this,r=this.authorityOptions.knownAuthorities.filter(function(a){return UrlString.getDomainFromUrl(a).toLowerCase()===t.hostnameAndPort});return r.length>0},i.generateAuthority=function(t,r){var a;if(r&&r.azureCloudInstance!==AzureCloudInstance.None){var l=r.tenant?r.tenant:Constants.DEFAULT_COMMON_TENANT;a=r.azureCloudInstance+"/"+l+"/"}return a||t},i.createCloudDiscoveryMetadataFromHost=function(t){return{preferred_network:t,preferred_cache:t,aliases:[t]}},i.getCloudDiscoveryMetadataFromNetworkResponse=function(t,r){for(var a=0;a<t.length;a++){var l=t[a];if(l.aliases.indexOf(r)>-1)return l}return null},i.prototype.getPreferredCache=function(){if(this.discoveryComplete())return this.metadata.preferred_cache;throw ClientAuthError.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},i.prototype.isAlias=function(t){return this.metadata.aliases.indexOf(t)>-1},i.isPublicCloudAuthority=function(t){return Constants.KNOWN_PUBLIC_CLOUDS.indexOf(t)>=0},i.buildRegionalAuthorityString=function(t,r,a){var l=new UrlString(t);l.validateAsUri();var g=l.getUrlComponents(),d=r+"."+g.HostNameAndPort;this.isPublicCloudAuthority(g.HostNameAndPort)&&(d=r+"."+Constants.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX);var s=UrlString.constructAuthorityUriFromObject(__assign(__assign({},l.getUrlComponents()),{HostNameAndPort:d})).urlString;return a?s+"?"+a:s},i.replaceWithRegionalInformation=function(t,r){return t.authorization_endpoint=i.buildRegionalAuthorityString(t.authorization_endpoint,r),t.token_endpoint=i.buildRegionalAuthorityString(t.token_endpoint,r,Constants.REGIONAL_AUTH_NON_MSI_QUERY_STRING),t.end_session_endpoint&&(t.end_session_endpoint=i.buildRegionalAuthorityString(t.end_session_endpoint,r)),t},i}();/*! @azure/msal-common v10.0.0 2023-02-06 */var AuthorityFactory=function(){function i(){}return i.createDiscoveredInstance=function(t,r,a,l,g,d,s){return __awaiter$1(this,void 0,void 0,function(){var u,n;return __generator$1(this,function(c){switch(c.label){case 0:d==null||d.addQueueMeasurement(PerformanceEvents.AuthorityFactoryCreateDiscoveredInstance,s),u=i.createInstance(t,r,a,l,g,d,s),c.label=1;case 1:return c.trys.push([1,3,,4]),d==null||d.setPreQueueTime(PerformanceEvents.AuthorityResolveEndpointsAsync,s),[4,u.resolveEndpointsAsync()];case 2:return c.sent(),[2,u];case 3:throw n=c.sent(),ClientAuthError.createEndpointDiscoveryIncompleteError(n);case 4:return[2]}})})},i.createInstance=function(t,r,a,l,g,d,s){if(StringUtils.isEmpty(t))throw ClientConfigurationError.createUrlEmptyError();return new Authority(t,r,a,l,g,d,s)},i}();/*! @azure/msal-common v10.0.0 2023-02-06 */var ServerTelemetryEntity=function(){function i(){this.failedRequests=[],this.errors=[],this.cacheHits=0}return i.isServerTelemetryEntity=function(t,r){var a=t.indexOf(SERVER_TELEM_CONSTANTS.CACHE_KEY)===0,l=!0;return r&&(l=r.hasOwnProperty("failedRequests")&&r.hasOwnProperty("errors")&&r.hasOwnProperty("cacheHits")),a&&l},i}();/*! @azure/msal-common v10.0.0 2023-02-06 */var ThrottlingEntity=function(){function i(){}return i.isThrottlingEntity=function(t,r){var a=!1;t&&(a=t.indexOf(ThrottlingConstants.THROTTLING_PREFIX)===0);var l=!0;return r&&(l=r.hasOwnProperty("throttleTime")),a&&l},i}();/*! @azure/msal-common v10.0.0 2023-02-06 */var StubbedNetworkModule={sendGetRequestAsync:function(){var i="Network interface - sendGetRequestAsync() has not been implemented for the Network interface.";return Promise.reject(AuthError.createUnexpectedError(i))},sendPostRequestAsync:function(){var i="Network interface - sendPostRequestAsync() has not been implemented for the Network interface.";return Promise.reject(AuthError.createUnexpectedError(i))}};/*! @azure/msal-common v10.0.0 2023-02-06 */var JoseHeaderErrorMessage={missingKidError:{code:"missing_kid_error",desc:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided."},missingAlgError:{code:"missing_alg_error",desc:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."}},JoseHeaderError=function(i){__extends(t,i);function t(r,a){var l=i.call(this,r,a)||this;return l.name="JoseHeaderError",Object.setPrototypeOf(l,t.prototype),l}return t.createMissingKidError=function(){return new t(JoseHeaderErrorMessage.missingKidError.code,JoseHeaderErrorMessage.missingKidError.desc)},t.createMissingAlgError=function(){return new t(JoseHeaderErrorMessage.missingAlgError.code,JoseHeaderErrorMessage.missingAlgError.desc)},t}(AuthError);/*! @azure/msal-common v10.0.0 2023-02-06 */var JoseHeader=function(){function i(t){this.typ=t.typ,this.alg=t.alg,this.kid=t.kid}return i.getShrHeaderString=function(t){if(!t.kid)throw JoseHeaderError.createMissingKidError();if(!t.alg)throw JoseHeaderError.createMissingAlgError();var r=new i({typ:t.typ||JsonTypes.Jwt,kid:t.kid,alg:t.alg});return JSON.stringify(r)},i}();/*! @azure/msal-common v10.0.0 2023-02-06 */var ServerTelemetryManager=function(){function i(t,r){this.cacheOutcome=CacheOutcome.NO_CACHE_HIT,this.cacheManager=r,this.apiId=t.apiId,this.correlationId=t.correlationId,this.wrapperSKU=t.wrapperSKU||Constants.EMPTY_STRING,this.wrapperVer=t.wrapperVer||Constants.EMPTY_STRING,this.telemetryCacheKey=SERVER_TELEM_CONSTANTS.CACHE_KEY+Separators.CACHE_KEY_SEPARATOR+t.clientId}return i.prototype.generateCurrentRequestHeaderValue=function(){var t=""+this.apiId+SERVER_TELEM_CONSTANTS.VALUE_SEPARATOR+this.cacheOutcome,r=[this.wrapperSKU,this.wrapperVer].join(SERVER_TELEM_CONSTANTS.VALUE_SEPARATOR),a=this.getRegionDiscoveryFields(),l=[t,a].join(SERVER_TELEM_CONSTANTS.VALUE_SEPARATOR);return[SERVER_TELEM_CONSTANTS.SCHEMA_VERSION,l,r].join(SERVER_TELEM_CONSTANTS.CATEGORY_SEPARATOR)},i.prototype.generateLastRequestHeaderValue=function(){var t=this.getLastRequests(),r=i.maxErrorsToSend(t),a=t.failedRequests.slice(0,2*r).join(SERVER_TELEM_CONSTANTS.VALUE_SEPARATOR),l=t.errors.slice(0,r).join(SERVER_TELEM_CONSTANTS.VALUE_SEPARATOR),g=t.errors.length,d=r<g?SERVER_TELEM_CONSTANTS.OVERFLOW_TRUE:SERVER_TELEM_CONSTANTS.OVERFLOW_FALSE,s=[g,d].join(SERVER_TELEM_CONSTANTS.VALUE_SEPARATOR);return[SERVER_TELEM_CONSTANTS.SCHEMA_VERSION,t.cacheHits,a,l,s].join(SERVER_TELEM_CONSTANTS.CATEGORY_SEPARATOR)},i.prototype.cacheFailedRequest=function(t){var r=this.getLastRequests();r.errors.length>=SERVER_TELEM_CONSTANTS.MAX_CACHED_ERRORS&&(r.failedRequests.shift(),r.failedRequests.shift(),r.errors.shift()),r.failedRequests.push(this.apiId,this.correlationId),StringUtils.isEmpty(t.subError)?StringUtils.isEmpty(t.errorCode)?!!t&&t.toString()?r.errors.push(t.toString()):r.errors.push(SERVER_TELEM_CONSTANTS.UNKNOWN_ERROR):r.errors.push(t.errorCode):r.errors.push(t.subError),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r)},i.prototype.incrementCacheHits=function(){var t=this.getLastRequests();return t.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t),t.cacheHits},i.prototype.getLastRequests=function(){var t=new ServerTelemetryEntity,r=this.cacheManager.getServerTelemetry(this.telemetryCacheKey);return r||t},i.prototype.clearTelemetryCache=function(){var t=this.getLastRequests(),r=i.maxErrorsToSend(t),a=t.errors.length;if(r===a)this.cacheManager.removeItem(this.telemetryCacheKey);else{var l=new ServerTelemetryEntity;l.failedRequests=t.failedRequests.slice(r*2),l.errors=t.errors.slice(r),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,l)}},i.maxErrorsToSend=function(t){var r,a=0,l=0,g=t.errors.length;for(r=0;r<g;r++){var d=t.failedRequests[2*r]||Constants.EMPTY_STRING,s=t.failedRequests[2*r+1]||Constants.EMPTY_STRING,u=t.errors[r]||Constants.EMPTY_STRING;if(l+=d.toString().length+s.toString().length+u.length+3,l<SERVER_TELEM_CONSTANTS.MAX_LAST_HEADER_BYTES)a+=1;else break}return a},i.prototype.getRegionDiscoveryFields=function(){var t=[];return t.push(this.regionUsed||Constants.EMPTY_STRING),t.push(this.regionSource||Constants.EMPTY_STRING),t.push(this.regionOutcome||Constants.EMPTY_STRING),t.join(",")},i.prototype.updateRegionDiscoveryMetadata=function(t){this.regionUsed=t.region_used,this.regionSource=t.region_source,this.regionOutcome=t.region_outcome},i.prototype.setCacheOutcome=function(t){this.cacheOutcome=t},i}();/*! @azure/msal-common v10.0.0 2023-02-06 */var PerformanceClient=function(){function i(t,r,a,l,g,d){this.authority=r,this.libraryName=l,this.libraryVersion=g,this.applicationTelemetry=d,this.clientId=t,this.logger=a,this.callbacks=new Map,this.eventsByCorrelationId=new Map,this.staticFieldsByCorrelationId=new Map,this.measurementsById=new Map,this.queueMeasurements=new Map,this.preQueueTimeByCorrelationId=new Map,this.countersByCorrelationId=new Map}return i.prototype.startPerformanceMeasurement=function(t,r){return{}},i.prototype.startPerformanceMeasuremeant=function(t,r){return{}},i.prototype.getIntFields=function(){return IntFields},i.prototype.getPreQueueTime=function(t,r){var a=this.preQueueTimeByCorrelationId.get(r);if(a){if(!a.get(t)){this.logger.trace("PerformanceClient.getPreQueueTime: no pre-queue time found for "+t+", unable to add queue measurement");return}}else{this.logger.trace("PerformanceClient.getPreQueueTime: no pre-queue times found for correlationId: "+r+", unable to add queue measurement");return}return a.get(t)},i.prototype.calculateQueuedTime=function(t,r){return t<1?(this.logger.trace("PerformanceClient: preQueueTime should be a positive integer and not "+t),0):r<1?(this.logger.trace("PerformanceClient: currentTime should be a positive integer and not "+r),0):r<t?(this.logger.trace("PerformanceClient: currentTime is less than preQueueTime, check how time is being retrieved"),0):r-t},i.prototype.addQueueMeasurement=function(t,r,a){if(!r){this.logger.trace("PerformanceClient.addQueueMeasurement: correlationId not provided for "+t+", cannot add queue measurement");return}if(a===0)this.logger.trace("PerformanceClient.addQueueMeasurement: queue time provided for "+t+" is "+a);else if(!a){this.logger.trace("PerformanceClient.addQueueMeasurement: no queue time provided for "+t);return}var l={eventName:t,queueTime:a},g=this.queueMeasurements.get(r);if(g)g.push(l),this.queueMeasurements.set(r,g);else{this.logger.trace("PerformanceClient.addQueueMeasurement: adding correlationId "+r+" to queue measurements");var d=[l];this.queueMeasurements.set(r,d)}},i.prototype.startMeasurement=function(t,r){var a=this,l,g,d=r||this.generateId();r||this.logger.info("PerformanceClient: No correlation id provided for "+t+", generating",d),this.logger.trace("PerformanceClient: Performance measurement started for "+t,d);var s,u=this.startPerformanceMeasuremeant(t,d);if(u.startMeasurement)u.startMeasurement(),s=u;else{var n=this.startPerformanceMeasurement(t,d);n.startMeasurement(),s=n}var c={eventId:this.generateId(),status:PerformanceEventStatus.InProgress,authority:this.authority,libraryName:this.libraryName,libraryVersion:this.libraryVersion,clientId:this.clientId,name:t,startTimeMs:Date.now(),correlationId:d};this.cacheEventByCorrelationId(c);var C={appName:(l=this.applicationTelemetry)===null||l===void 0?void 0:l.appName,appVersion:(g=this.applicationTelemetry)===null||g===void 0?void 0:g.appVersion};return this.addStaticFields(C,d),this.cacheMeasurement(c,s),{endMeasurement:function(m){var e=a.endMeasurement(__assign(__assign({},c),m));return e&&a.cacheEventByCorrelationId(e),e},flushMeasurement:function(){return a.flushMeasurements(c.name,c.correlationId)},discardMeasurement:function(){return a.discardMeasurements(c.correlationId)},addStaticFields:function(m){return a.addStaticFields(m,c.correlationId)},increment:function(m){return a.increment(m,c.correlationId)},measurement:s,event:c}},i.prototype.endMeasurement=function(t){var r=this.measurementsById.get(t.eventId);if(r){this.measurementsById.delete(t.eventId),r.endMeasurement();var a=r.flushMeasurement();if(a!==null){this.logger.trace("PerformanceClient: Performance measurement ended for "+t.name+": "+a+" ms",t.correlationId);var l=__assign(__assign({durationMs:Math.round(a)},t),{status:PerformanceEventStatus.Completed});return l}else this.logger.trace("PerformanceClient: Performance measurement not taken",t.correlationId)}else this.logger.trace("PerformanceClient: Measurement not found for "+t.eventId,t.correlationId);return null},i.prototype.addStaticFields=function(t,r){var a=this.staticFieldsByCorrelationId.get(r);a?(this.logger.trace("PerformanceClient: Updating static fields"),this.staticFieldsByCorrelationId.set(r,__assign(__assign({},a),t))):(this.logger.trace("PerformanceClient: Adding static fields"),this.staticFieldsByCorrelationId.set(r,t))},i.prototype.increment=function(t,r){var a=this.countersByCorrelationId.get(r);if(!a){this.logger.trace("PerformanceClient: Setting counters"),this.countersByCorrelationId.set(r,__assign({},t));return}this.logger.trace("PerformanceClient: Updating counters");for(var l in t)a.hasOwnProperty(l)||(a[l]=0),a[l]+=t[l]},i.prototype.cacheEventByCorrelationId=function(t){var r=this.eventsByCorrelationId.get(t.correlationId);r?(this.logger.trace("PerformanceClient: Performance measurement for "+t.name+" added/updated",t.correlationId),r.set(t.eventId,t)):(this.logger.trace("PerformanceClient: Performance measurement for "+t.name+" started",t.correlationId),this.eventsByCorrelationId.set(t.correlationId,new Map().set(t.eventId,t)))},i.prototype.cacheMeasurement=function(t,r){this.measurementsById.set(t.eventId,r)},i.prototype.flushMeasurements=function(t,r){var a=this;this.logger.trace("PerformanceClient: Performance measurements flushed for "+t,r);var l=this.queueMeasurements.get(r);l||this.logger.trace("PerformanceClient: no queue measurements found for for correlationId: "+r);var g=0,d=0;l==null||l.forEach(function(O){g+=O.queueTime,d++});var s=this.eventsByCorrelationId.get(r),u=this.staticFieldsByCorrelationId.get(r),n=this.countersByCorrelationId.get(r);if(s){this.discardCache(r);var c=[],C=0;s.forEach(function(O){if(O.name!==t&&O.status!==PerformanceEventStatus.Completed){a.logger.trace("PerformanceClient: Incomplete submeasurement "+O.name+" found for "+t,r),C++;var v=a.endMeasurement(O);v&&c.push(v)}c.push(O)});var m=c.sort(function(O,v){return O.startTimeMs-v.startTimeMs}),e=m.filter(function(O){return O.name===t&&O.status===PerformanceEventStatus.Completed});if(e.length>0){e.length>1&&this.logger.verbose("PerformanceClient: Multiple distinct top-level performance events found, using the first",r);var E=e[0];this.logger.verbose("PerformanceClient: Measurement found for "+t,r);var A=m.reduce(function(O,v){if(v.name!==t){a.logger.trace("PerformanceClient: Complete submeasurement found for "+v.name,r);var b=v.name+"DurationMs";O[b]?a.logger.verbose("PerformanceClient: Submeasurement for "+t+" already exists for "+v.name+", ignoring",r):O[b]=v.durationMs}return O},E),B=__assign(__assign(__assign(__assign({},A),u),n),{queuedTimeMs:g,queuedCount:d,incompleteSubsCount:C});this.truncateIntegralFields(B,this.getIntFields()),this.emitEvents([B],A.correlationId)}else this.logger.verbose("PerformanceClient: No completed top-level measurements found for "+t,r)}else this.logger.verbose("PerformanceClient: No measurements found",r)},i.prototype.discardMeasurements=function(t){this.logger.trace("PerformanceClient: Performance measurements discarded",t),this.eventsByCorrelationId.delete(t)},i.prototype.discardCache=function(t){this.discardMeasurements(t),this.logger.trace("PerformanceClient: Static fields discarded",t),this.staticFieldsByCorrelationId.delete(t),this.logger.trace("PerformanceClient: Counters discarded",t),this.countersByCorrelationId.delete(t),this.logger.trace("PerformanceClient: QueueMeasurements discarded",t),this.queueMeasurements.delete(t),this.logger.trace("PerformanceClient: Pre-queue times discarded",t),this.preQueueTimeByCorrelationId.delete(t)},i.prototype.addPerformanceCallback=function(t){var r=this.generateId();return this.callbacks.set(r,t),this.logger.verbose("PerformanceClient: Performance callback registered with id: "+r),r},i.prototype.removePerformanceCallback=function(t){var r=this.callbacks.delete(t);return r?this.logger.verbose("PerformanceClient: Performance callback "+t+" removed."):this.logger.verbose("PerformanceClient: Performance callback "+t+" not removed."),r},i.prototype.emitEvents=function(t,r){var a=this;this.logger.verbose("PerformanceClient: Emitting performance events",r),this.callbacks.forEach(function(l,g){a.logger.trace("PerformanceClient: Emitting event to callback "+g,r),l.apply(null,[t])})},i.prototype.truncateIntegralFields=function(t,r){r.forEach(function(a){a in t&&typeof t[a]=="number"&&(t[a]=Math.floor(t[a]))})},i}();/*! @azure/msal-common v10.0.0 2023-02-06 */var StubPerformanceMeasurement=function(){function i(){}return i.prototype.startMeasurement=function(){},i.prototype.endMeasurement=function(){},i.prototype.flushMeasurement=function(){return null},i}(),StubPerformanceClient=function(i){__extends(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.generateId=function(){return"callback-id"},t.prototype.startPerformanceMeasuremeant=function(){return new StubPerformanceMeasurement},t.prototype.startPerformanceMeasurement=function(){return new StubPerformanceMeasurement},t.prototype.calculateQueuedTime=function(r,a){return 0},t.prototype.addQueueMeasurement=function(r,a,l){},t.prototype.setPreQueueTime=function(r,a){},t}(PerformanceClient);/*! @azure/msal-browser v2.33.0 2023-02-06 */var BrowserAuthErrorMessage={pkceNotGenerated:{code:"pkce_not_created",desc:"The PKCE code challenge and verifier could not be generated."},cryptoDoesNotExist:{code:"crypto_nonexistent",desc:"The crypto object or function is not available."},httpMethodNotImplementedError:{code:"http_method_not_implemented",desc:"The HTTP method given has not been implemented in this library."},emptyNavigateUriError:{code:"empty_navigate_uri",desc:"Navigation URI is empty. Please check stack trace for more info."},hashEmptyError:{code:"hash_empty_error",desc:"Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. For more visit: aka.ms/msaljs/browser-errors."},hashDoesNotContainStateError:{code:"no_state_in_hash",desc:"Hash does not contain state. Please verify that the request originated from msal."},hashDoesNotContainKnownPropertiesError:{code:"hash_does_not_contain_known_properties",desc:"Hash does not contain known properites. Please verify that your redirectUri is not changing the hash. For more visit: aka.ms/msaljs/browser-errors."},unableToParseStateError:{code:"unable_to_parse_state",desc:"Unable to parse state. Please verify that the request originated from msal."},stateInteractionTypeMismatchError:{code:"state_interaction_type_mismatch",desc:"Hash contains state but the interaction type does not match the caller."},interactionInProgress:{code:"interaction_in_progress",desc:"Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.  For more visit: aka.ms/msaljs/browser-errors."},popupWindowError:{code:"popup_window_error",desc:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser."},emptyWindowError:{code:"empty_window_error",desc:"window.open returned null or undefined window object."},userCancelledError:{code:"user_cancelled",desc:"User cancelled the flow."},monitorPopupTimeoutError:{code:"monitor_window_timeout",desc:"Token acquisition in popup failed due to timeout. For more visit: aka.ms/msaljs/browser-errors."},monitorIframeTimeoutError:{code:"monitor_window_timeout",desc:"Token acquisition in iframe failed due to timeout. For more visit: aka.ms/msaljs/browser-errors."},redirectInIframeError:{code:"redirect_in_iframe",desc:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs."},blockTokenRequestsInHiddenIframeError:{code:"block_iframe_reload",desc:"Request was blocked inside an iframe because MSAL detected an authentication response. For more visit: aka.ms/msaljs/browser-errors"},blockAcquireTokenInPopupsError:{code:"block_nested_popups",desc:"Request was blocked inside a popup because MSAL detected it was running in a popup."},iframeClosedPrematurelyError:{code:"iframe_closed_prematurely",desc:"The iframe being monitored was closed prematurely."},silentLogoutUnsupportedError:{code:"silent_logout_unsupported",desc:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead."},noAccountError:{code:"no_account_error",desc:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request."},silentPromptValueError:{code:"silent_prompt_value_error",desc:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'."},noTokenRequestCacheError:{code:"no_token_request_cache_error",desc:"No token request found in cache."},unableToParseTokenRequestCacheError:{code:"unable_to_parse_token_request_cache_error",desc:"The cached token request could not be parsed."},noCachedAuthorityError:{code:"no_cached_authority_error",desc:"No cached authority found."},authRequestNotSet:{code:"auth_request_not_set_error",desc:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler"},invalidCacheType:{code:"invalid_cache_type",desc:"Invalid cache type"},notInBrowserEnvironment:{code:"non_browser_environment",desc:"Login and token requests are not supported in non-browser environments."},databaseNotOpen:{code:"database_not_open",desc:"Database is not open!"},noNetworkConnectivity:{code:"no_network_connectivity",desc:"No network connectivity. Check your internet connection."},postRequestFailed:{code:"post_request_failed",desc:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'"},getRequestFailed:{code:"get_request_failed",desc:"Network request failed. Please check the network trace to determine root cause."},failedToParseNetworkResponse:{code:"failed_to_parse_response",desc:"Failed to parse network response. Check network trace."},unableToLoadTokenError:{code:"unable_to_load_token",desc:"Error loading token to cache."},signingKeyNotFoundInStorage:{code:"crypto_key_not_found",desc:"Cryptographic Key or Keypair not found in browser storage."},authCodeRequired:{code:"auth_code_required",desc:"An authorization code must be provided (as the `code` property on the request) to this flow."},authCodeOrNativeAccountRequired:{code:"auth_code_or_nativeAccountId_required",desc:"An authorization code or nativeAccountId must be provided to this flow."},databaseUnavailable:{code:"database_unavailable",desc:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts."},unableToAcquireTokenFromNativePlatform:{code:"unable_to_acquire_token_from_native_platform",desc:"Unable to acquire token from native platform. For a list of possible reasons visit aka.ms/msaljs/browser-errors."},nativeHandshakeTimeout:{code:"native_handshake_timeout",desc:"Timed out while attempting to establish connection to browser extension"},nativeExtensionNotInstalled:{code:"native_extension_not_installed",desc:"Native extension is not installed. If you think this is a mistake call the initialize function."},nativeConnectionNotEstablished:{code:"native_connection_not_established",desc:"Connection to native platform has not been established. Please install a compatible browser extension and run initialize(). For more please visit aka.ms/msaljs/browser-errors."},nativeBrokerCalledBeforeInitialize:{code:"native_broker_called_before_initialize",desc:"You must call and await the initialize function before attempting to call any other MSAL API when native brokering is enabled. For more please visit aka.ms/msaljs/browser-errors."},nativePromptNotSupported:{code:"native_prompt_not_supported",desc:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow."}},BrowserAuthError=function(i){__extends$1(t,i);function t(r,a){var l=i.call(this,r,a)||this;return Object.setPrototypeOf(l,t.prototype),l.name="BrowserAuthError",l}return t.createPkceNotGeneratedError=function(r){return new t(BrowserAuthErrorMessage.pkceNotGenerated.code,BrowserAuthErrorMessage.pkceNotGenerated.desc+" Detail:"+r)},t.createCryptoNotAvailableError=function(r){return new t(BrowserAuthErrorMessage.cryptoDoesNotExist.code,BrowserAuthErrorMessage.cryptoDoesNotExist.desc+" Detail:"+r)},t.createHttpMethodNotImplementedError=function(r){return new t(BrowserAuthErrorMessage.httpMethodNotImplementedError.code,BrowserAuthErrorMessage.httpMethodNotImplementedError.desc+" Given Method: "+r)},t.createEmptyNavigationUriError=function(){return new t(BrowserAuthErrorMessage.emptyNavigateUriError.code,BrowserAuthErrorMessage.emptyNavigateUriError.desc)},t.createEmptyHashError=function(r){return new t(BrowserAuthErrorMessage.hashEmptyError.code,BrowserAuthErrorMessage.hashEmptyError.desc+" Given Url: "+r)},t.createHashDoesNotContainStateError=function(){return new t(BrowserAuthErrorMessage.hashDoesNotContainStateError.code,BrowserAuthErrorMessage.hashDoesNotContainStateError.desc)},t.createHashDoesNotContainKnownPropertiesError=function(){return new t(BrowserAuthErrorMessage.hashDoesNotContainKnownPropertiesError.code,BrowserAuthErrorMessage.hashDoesNotContainKnownPropertiesError.desc)},t.createUnableToParseStateError=function(){return new t(BrowserAuthErrorMessage.unableToParseStateError.code,BrowserAuthErrorMessage.unableToParseStateError.desc)},t.createStateInteractionTypeMismatchError=function(){return new t(BrowserAuthErrorMessage.stateInteractionTypeMismatchError.code,BrowserAuthErrorMessage.stateInteractionTypeMismatchError.desc)},t.createInteractionInProgressError=function(){return new t(BrowserAuthErrorMessage.interactionInProgress.code,BrowserAuthErrorMessage.interactionInProgress.desc)},t.createPopupWindowError=function(r){var a=BrowserAuthErrorMessage.popupWindowError.desc;return a=StringUtils.isEmpty(r)?a:a+" Details: "+r,new t(BrowserAuthErrorMessage.popupWindowError.code,a)},t.createEmptyWindowCreatedError=function(){return new t(BrowserAuthErrorMessage.emptyWindowError.code,BrowserAuthErrorMessage.emptyWindowError.desc)},t.createUserCancelledError=function(){return new t(BrowserAuthErrorMessage.userCancelledError.code,BrowserAuthErrorMessage.userCancelledError.desc)},t.createMonitorPopupTimeoutError=function(){return new t(BrowserAuthErrorMessage.monitorPopupTimeoutError.code,BrowserAuthErrorMessage.monitorPopupTimeoutError.desc)},t.createMonitorIframeTimeoutError=function(){return new t(BrowserAuthErrorMessage.monitorIframeTimeoutError.code,BrowserAuthErrorMessage.monitorIframeTimeoutError.desc)},t.createRedirectInIframeError=function(r){return new t(BrowserAuthErrorMessage.redirectInIframeError.code,BrowserAuthErrorMessage.redirectInIframeError.desc+" (window.parent !== window) => "+r)},t.createBlockReloadInHiddenIframeError=function(){return new t(BrowserAuthErrorMessage.blockTokenRequestsInHiddenIframeError.code,BrowserAuthErrorMessage.blockTokenRequestsInHiddenIframeError.desc)},t.createBlockAcquireTokenInPopupsError=function(){return new t(BrowserAuthErrorMessage.blockAcquireTokenInPopupsError.code,BrowserAuthErrorMessage.blockAcquireTokenInPopupsError.desc)},t.createIframeClosedPrematurelyError=function(){return new t(BrowserAuthErrorMessage.iframeClosedPrematurelyError.code,BrowserAuthErrorMessage.iframeClosedPrematurelyError.desc)},t.createSilentLogoutUnsupportedError=function(){return new t(BrowserAuthErrorMessage.silentLogoutUnsupportedError.code,BrowserAuthErrorMessage.silentLogoutUnsupportedError.desc)},t.createNoAccountError=function(){return new t(BrowserAuthErrorMessage.noAccountError.code,BrowserAuthErrorMessage.noAccountError.desc)},t.createSilentPromptValueError=function(r){return new t(BrowserAuthErrorMessage.silentPromptValueError.code,BrowserAuthErrorMessage.silentPromptValueError.desc+" Given value: "+r)},t.createUnableToParseTokenRequestCacheError=function(){return new t(BrowserAuthErrorMessage.unableToParseTokenRequestCacheError.code,BrowserAuthErrorMessage.unableToParseTokenRequestCacheError.desc)},t.createNoTokenRequestCacheError=function(){return new t(BrowserAuthErrorMessage.noTokenRequestCacheError.code,BrowserAuthErrorMessage.noTokenRequestCacheError.desc)},t.createAuthRequestNotSetError=function(){return new t(BrowserAuthErrorMessage.authRequestNotSet.code,BrowserAuthErrorMessage.authRequestNotSet.desc)},t.createNoCachedAuthorityError=function(){return new t(BrowserAuthErrorMessage.noCachedAuthorityError.code,BrowserAuthErrorMessage.noCachedAuthorityError.desc)},t.createInvalidCacheTypeError=function(){return new t(BrowserAuthErrorMessage.invalidCacheType.code,""+BrowserAuthErrorMessage.invalidCacheType.desc)},t.createNonBrowserEnvironmentError=function(){return new t(BrowserAuthErrorMessage.notInBrowserEnvironment.code,BrowserAuthErrorMessage.notInBrowserEnvironment.desc)},t.createDatabaseNotOpenError=function(){return new t(BrowserAuthErrorMessage.databaseNotOpen.code,BrowserAuthErrorMessage.databaseNotOpen.desc)},t.createNoNetworkConnectivityError=function(){return new t(BrowserAuthErrorMessage.noNetworkConnectivity.code,BrowserAuthErrorMessage.noNetworkConnectivity.desc)},t.createPostRequestFailedError=function(r,a){return new t(BrowserAuthErrorMessage.postRequestFailed.code,BrowserAuthErrorMessage.postRequestFailed.desc+" | Network client threw: "+r+" | Attempted to reach: "+a.split("?")[0])},t.createGetRequestFailedError=function(r,a){return new t(BrowserAuthErrorMessage.getRequestFailed.code,BrowserAuthErrorMessage.getRequestFailed.desc+" | Network client threw: "+r+" | Attempted to reach: "+a.split("?")[0])},t.createFailedToParseNetworkResponseError=function(r){return new t(BrowserAuthErrorMessage.failedToParseNetworkResponse.code,BrowserAuthErrorMessage.failedToParseNetworkResponse.desc+" | Attempted to reach: "+r.split("?")[0])},t.createUnableToLoadTokenError=function(r){return new t(BrowserAuthErrorMessage.unableToLoadTokenError.code,BrowserAuthErrorMessage.unableToLoadTokenError.desc+" | "+r)},t.createSigningKeyNotFoundInStorageError=function(r){return new t(BrowserAuthErrorMessage.signingKeyNotFoundInStorage.code,BrowserAuthErrorMessage.signingKeyNotFoundInStorage.desc+" | No match found for KeyId: "+r)},t.createAuthCodeRequiredError=function(){return new t(BrowserAuthErrorMessage.authCodeRequired.code,BrowserAuthErrorMessage.authCodeRequired.desc)},t.createAuthCodeOrNativeAccountIdRequiredError=function(){return new t(BrowserAuthErrorMessage.authCodeOrNativeAccountRequired.code,BrowserAuthErrorMessage.authCodeOrNativeAccountRequired.desc)},t.createDatabaseUnavailableError=function(){return new t(BrowserAuthErrorMessage.databaseUnavailable.code,BrowserAuthErrorMessage.databaseUnavailable.desc)},t.createUnableToAcquireTokenFromNativePlatformError=function(){return new t(BrowserAuthErrorMessage.unableToAcquireTokenFromNativePlatform.code,BrowserAuthErrorMessage.unableToAcquireTokenFromNativePlatform.desc)},t.createNativeHandshakeTimeoutError=function(){return new t(BrowserAuthErrorMessage.nativeHandshakeTimeout.code,BrowserAuthErrorMessage.nativeHandshakeTimeout.desc)},t.createNativeExtensionNotInstalledError=function(){return new t(BrowserAuthErrorMessage.nativeExtensionNotInstalled.code,BrowserAuthErrorMessage.nativeExtensionNotInstalled.desc)},t.createNativeConnectionNotEstablishedError=function(){return new t(BrowserAuthErrorMessage.nativeConnectionNotEstablished.code,BrowserAuthErrorMessage.nativeConnectionNotEstablished.desc)},t.createNativeBrokerCalledBeforeInitialize=function(){return new t(BrowserAuthErrorMessage.nativeBrokerCalledBeforeInitialize.code,BrowserAuthErrorMessage.nativeBrokerCalledBeforeInitialize.desc)},t.createNativePromptParameterNotSupportedError=function(){return new t(BrowserAuthErrorMessage.nativePromptNotSupported.code,BrowserAuthErrorMessage.nativePromptNotSupported.desc)},t}(AuthError);/*! @azure/msal-browser v2.33.0 2023-02-06 */var BrowserConstants={INTERACTION_IN_PROGRESS_VALUE:"interaction_in_progress",INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},NativeConstants={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS"},NativeExtensionMethod;(function(i){i.HandshakeRequest="Handshake",i.HandshakeResponse="HandshakeResponse",i.GetToken="GetToken",i.Response="Response"})(NativeExtensionMethod||(NativeExtensionMethod={}));var BrowserCacheLocation;(function(i){i.LocalStorage="localStorage",i.SessionStorage="sessionStorage",i.MemoryStorage="memoryStorage"})(BrowserCacheLocation||(BrowserCacheLocation={}));var HTTP_REQUEST_TYPE;(function(i){i.GET="GET",i.POST="POST"})(HTTP_REQUEST_TYPE||(HTTP_REQUEST_TYPE={}));var TemporaryCacheKeys;(function(i){i.AUTHORITY="authority",i.ACQUIRE_TOKEN_ACCOUNT="acquireToken.account",i.SESSION_STATE="session.state",i.REQUEST_STATE="request.state",i.NONCE_IDTOKEN="nonce.id_token",i.ORIGIN_URI="request.origin",i.RENEW_STATUS="token.renew.status",i.URL_HASH="urlHash",i.REQUEST_PARAMS="request.params",i.SCOPES="scopes",i.INTERACTION_STATUS_KEY="interaction.status",i.CCS_CREDENTIAL="ccs.credential",i.CORRELATION_ID="request.correlationId",i.NATIVE_REQUEST="request.native",i.REDIRECT_CONTEXT="request.redirect.context"})(TemporaryCacheKeys||(TemporaryCacheKeys={}));var InMemoryCacheKeys;(function(i){i.WRAPPER_SKU="wrapper.sku",i.WRAPPER_VER="wrapper.version"})(InMemoryCacheKeys||(InMemoryCacheKeys={}));var ApiId;(function(i){i[i.acquireTokenRedirect=861]="acquireTokenRedirect",i[i.acquireTokenPopup=862]="acquireTokenPopup",i[i.ssoSilent=863]="ssoSilent",i[i.acquireTokenSilent_authCode=864]="acquireTokenSilent_authCode",i[i.handleRedirectPromise=865]="handleRedirectPromise",i[i.acquireTokenByCode=866]="acquireTokenByCode",i[i.acquireTokenSilent_silentFlow=61]="acquireTokenSilent_silentFlow",i[i.logout=961]="logout",i[i.logoutPopup=962]="logoutPopup"})(ApiId||(ApiId={}));var InteractionType;(function(i){i.Redirect="redirect",i.Popup="popup",i.Silent="silent",i.None="none"})(InteractionType||(InteractionType={}));var InteractionStatus;(function(i){i.Startup="startup",i.Login="login",i.Logout="logout",i.AcquireToken="acquireToken",i.SsoSilent="ssoSilent",i.HandleRedirect="handleRedirect",i.None="none"})(InteractionStatus||(InteractionStatus={}));var DEFAULT_REQUEST={scopes:OIDC_DEFAULT_SCOPES},KEY_FORMAT_JWK="jwk",WrapperSKU;(function(i){i.React="@azure/msal-react",i.Angular="@azure/msal-angular"})(WrapperSKU||(WrapperSKU={}));var DB_NAME="msal.db",DB_VERSION=1,DB_TABLE_NAME=DB_NAME+".keys",CacheLookupPolicy;(function(i){i[i.Default=0]="Default",i[i.AccessToken=1]="AccessToken",i[i.AccessTokenAndRefreshToken=2]="AccessTokenAndRefreshToken",i[i.RefreshToken=3]="RefreshToken",i[i.RefreshTokenAndNetwork=4]="RefreshTokenAndNetwork",i[i.Skip=5]="Skip"})(CacheLookupPolicy||(CacheLookupPolicy={}));/*! @azure/msal-browser v2.33.0 2023-02-06 */var BrowserConfigurationAuthErrorMessage={redirectUriNotSet:{code:"redirect_uri_empty",desc:"A redirect URI is required for all calls, and none has been set."},postLogoutUriNotSet:{code:"post_logout_uri_empty",desc:"A post logout redirect has not been set."},storageNotSupportedError:{code:"storage_not_supported",desc:"Given storage configuration option was not supported."},noRedirectCallbacksSet:{code:"no_redirect_callbacks",desc:"No redirect callbacks have been set. Please call setRedirectCallbacks() with the appropriate function arguments before continuing. More information is available here: https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/MSAL-basics."},invalidCallbackObject:{code:"invalid_callback_object",desc:"The object passed for the callback was invalid. More information is available here: https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/MSAL-basics."},stubPcaInstanceCalled:{code:"stubbed_public_client_application_called",desc:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors"},inMemRedirectUnavailable:{code:"in_mem_redirect_unavailable",desc:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."},entropyNotProvided:{code:"entropy_not_provided",desc:"The available browser crypto interface requires entropy set via system.cryptoOptions.entropy configuration option."}},BrowserConfigurationAuthError=function(i){__extends$1(t,i);function t(r,a){var l=i.call(this,r,a)||this;return l.name="BrowserConfigurationAuthError",Object.setPrototypeOf(l,t.prototype),l}return t.createRedirectUriEmptyError=function(){return new t(BrowserConfigurationAuthErrorMessage.redirectUriNotSet.code,BrowserConfigurationAuthErrorMessage.redirectUriNotSet.desc)},t.createPostLogoutRedirectUriEmptyError=function(){return new t(BrowserConfigurationAuthErrorMessage.postLogoutUriNotSet.code,BrowserConfigurationAuthErrorMessage.postLogoutUriNotSet.desc)},t.createStorageNotSupportedError=function(r){return new t(BrowserConfigurationAuthErrorMessage.storageNotSupportedError.code,BrowserConfigurationAuthErrorMessage.storageNotSupportedError.desc+" Given Location: "+r)},t.createRedirectCallbacksNotSetError=function(){return new t(BrowserConfigurationAuthErrorMessage.noRedirectCallbacksSet.code,BrowserConfigurationAuthErrorMessage.noRedirectCallbacksSet.desc)},t.createStubPcaInstanceCalledError=function(){return new t(BrowserConfigurationAuthErrorMessage.stubPcaInstanceCalled.code,BrowserConfigurationAuthErrorMessage.stubPcaInstanceCalled.desc)},t.createInMemoryRedirectUnavailableError=function(){return new t(BrowserConfigurationAuthErrorMessage.inMemRedirectUnavailable.code,BrowserConfigurationAuthErrorMessage.inMemRedirectUnavailable.desc)},t.createEntropyNotProvided=function(){return new t(BrowserConfigurationAuthErrorMessage.entropyNotProvided.code,BrowserConfigurationAuthErrorMessage.entropyNotProvided.desc)},t}(AuthError);/*! @azure/msal-browser v2.33.0 2023-02-06 */var BrowserStorage=function(){function i(t){this.validateWindowStorage(t),this.windowStorage=window[t]}return i.prototype.validateWindowStorage=function(t){if(t!==BrowserCacheLocation.LocalStorage&&t!==BrowserCacheLocation.SessionStorage)throw BrowserConfigurationAuthError.createStorageNotSupportedError(t);var r=!!window[t];if(!r)throw BrowserConfigurationAuthError.createStorageNotSupportedError(t)},i.prototype.getItem=function(t){return this.windowStorage.getItem(t)},i.prototype.setItem=function(t,r){this.windowStorage.setItem(t,r)},i.prototype.removeItem=function(t){this.windowStorage.removeItem(t)},i.prototype.getKeys=function(){return Object.keys(this.windowStorage)},i.prototype.containsKey=function(t){return this.windowStorage.hasOwnProperty(t)},i}();/*! @azure/msal-browser v2.33.0 2023-02-06 */var MemoryStorage=function(){function i(){this.cache=new Map}return i.prototype.getItem=function(t){return this.cache.get(t)||null},i.prototype.setItem=function(t,r){this.cache.set(t,r)},i.prototype.removeItem=function(t){this.cache.delete(t)},i.prototype.getKeys=function(){var t=[];return this.cache.forEach(function(r,a){t.push(a)}),t},i.prototype.containsKey=function(t){return this.cache.has(t)},i.prototype.clear=function(){this.cache.clear()},i}();/*! @azure/msal-browser v2.33.0 2023-02-06 */var BrowserProtocolUtils=function(){function i(){}return i.extractBrowserRequestState=function(t,r){if(StringUtils.isEmpty(r))return null;try{var a=ProtocolUtils.parseRequestState(t,r);return a.libraryState.meta}catch(l){throw ClientAuthError.createInvalidStateError(r,l)}},i.parseServerResponseFromHash=function(t){if(!t)return{};var r=new UrlString(t);return UrlString.getDeserializedHash(r.getHash())},i}();/*! @azure/msal-browser v2.33.0 2023-02-06 */var BrowserCacheManager=function(i){__extends$1(t,i);function t(r,a,l,g){var d=i.call(this,r,l)||this;return d.COOKIE_LIFE_MULTIPLIER=24*60*60*1e3,d.cacheConfig=a,d.logger=g,d.internalStorage=new MemoryStorage,d.browserStorage=d.setupBrowserStorage(d.cacheConfig.cacheLocation),d.temporaryCacheStorage=d.setupTemporaryCacheStorage(d.cacheConfig.cacheLocation),d.migrateCacheEntries(),d}return t.prototype.setupBrowserStorage=function(r){switch(r){case BrowserCacheLocation.LocalStorage:case BrowserCacheLocation.SessionStorage:try{return new BrowserStorage(r)}catch(a){this.logger.verbose(a);break}}return this.cacheConfig.cacheLocation=BrowserCacheLocation.MemoryStorage,new MemoryStorage},t.prototype.setupTemporaryCacheStorage=function(r){switch(r){case BrowserCacheLocation.LocalStorage:case BrowserCacheLocation.SessionStorage:try{return new BrowserStorage(BrowserCacheLocation.SessionStorage)}catch(a){return this.logger.verbose(a),this.internalStorage}case BrowserCacheLocation.MemoryStorage:default:return this.internalStorage}},t.prototype.migrateCacheEntries=function(){var r=this,a=Constants.CACHE_PREFIX+"."+PersistentCacheKeys.ID_TOKEN,l=Constants.CACHE_PREFIX+"."+PersistentCacheKeys.CLIENT_INFO,g=Constants.CACHE_PREFIX+"."+PersistentCacheKeys.ERROR,d=Constants.CACHE_PREFIX+"."+PersistentCacheKeys.ERROR_DESC,s=this.browserStorage.getItem(a),u=this.browserStorage.getItem(l),n=this.browserStorage.getItem(g),c=this.browserStorage.getItem(d),C=[s,u,n,c],m=[PersistentCacheKeys.ID_TOKEN,PersistentCacheKeys.CLIENT_INFO,PersistentCacheKeys.ERROR,PersistentCacheKeys.ERROR_DESC];m.forEach(function(e,E){return r.migrateCacheEntry(e,C[E])})},t.prototype.migrateCacheEntry=function(r,a){a&&this.setTemporaryCache(r,a,!0)},t.prototype.validateAndParseJson=function(r){try{var a=JSON.parse(r);return a&&typeof a=="object"?a:null}catch{return null}},t.prototype.getItem=function(r){return this.browserStorage.getItem(r)},t.prototype.setItem=function(r,a){this.browserStorage.setItem(r,a)},t.prototype.getAccount=function(r){var a=this.getItem(r);if(!a)return null;var l=this.validateAndParseJson(a);return!l||!AccountEntity.isAccountEntity(l)?null:CacheManager.toObject(new AccountEntity,l)},t.prototype.setAccount=function(r){this.logger.trace("BrowserCacheManager.setAccount called");var a=r.generateAccountKey();this.setItem(a,JSON.stringify(r))},t.prototype.getIdTokenCredential=function(r){var a=this.getItem(r);if(!a)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null;var l=this.validateAndParseJson(a);return!l||!IdTokenEntity.isIdTokenEntity(l)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),CacheManager.toObject(new IdTokenEntity,l))},t.prototype.setIdTokenCredential=function(r){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");var a=r.generateCredentialKey();this.setItem(a,JSON.stringify(r))},t.prototype.getAccessTokenCredential=function(r){var a=this.getItem(r);if(!a)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null;var l=this.validateAndParseJson(a);return!l||!AccessTokenEntity.isAccessTokenEntity(l)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),CacheManager.toObject(new AccessTokenEntity,l))},t.prototype.setAccessTokenCredential=function(r){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");var a=r.generateCredentialKey();this.setItem(a,JSON.stringify(r))},t.prototype.getRefreshTokenCredential=function(r){var a=this.getItem(r);if(!a)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null;var l=this.validateAndParseJson(a);return!l||!RefreshTokenEntity.isRefreshTokenEntity(l)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),CacheManager.toObject(new RefreshTokenEntity,l))},t.prototype.setRefreshTokenCredential=function(r){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");var a=r.generateCredentialKey();this.setItem(a,JSON.stringify(r))},t.prototype.getAppMetadata=function(r){var a=this.getItem(r);if(!a)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;var l=this.validateAndParseJson(a);return!l||!AppMetadataEntity.isAppMetadataEntity(r,l)?(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),CacheManager.toObject(new AppMetadataEntity,l))},t.prototype.setAppMetadata=function(r){this.logger.trace("BrowserCacheManager.setAppMetadata called");var a=r.generateAppMetadataKey();this.setItem(a,JSON.stringify(r))},t.prototype.getServerTelemetry=function(r){var a=this.getItem(r);if(!a)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;var l=this.validateAndParseJson(a);return!l||!ServerTelemetryEntity.isServerTelemetryEntity(r,l)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),CacheManager.toObject(new ServerTelemetryEntity,l))},t.prototype.setServerTelemetry=function(r,a){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(r,JSON.stringify(a))},t.prototype.getAuthorityMetadata=function(r){var a=this.internalStorage.getItem(r);if(!a)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;var l=this.validateAndParseJson(a);return l&&AuthorityMetadataEntity.isAuthorityMetadataEntity(r,l)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),CacheManager.toObject(new AuthorityMetadataEntity,l)):null},t.prototype.getAuthorityMetadataKeys=function(){var r=this,a=this.internalStorage.getKeys();return a.filter(function(l){return r.isAuthorityMetadata(l)})},t.prototype.setWrapperMetadata=function(r,a){this.internalStorage.setItem(InMemoryCacheKeys.WRAPPER_SKU,r),this.internalStorage.setItem(InMemoryCacheKeys.WRAPPER_VER,a)},t.prototype.getWrapperMetadata=function(){var r=this.internalStorage.getItem(InMemoryCacheKeys.WRAPPER_SKU)||Constants.EMPTY_STRING,a=this.internalStorage.getItem(InMemoryCacheKeys.WRAPPER_VER)||Constants.EMPTY_STRING;return[r,a]},t.prototype.setAuthorityMetadata=function(r,a){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(r,JSON.stringify(a))},t.prototype.getActiveAccount=function(){var r=this.generateCacheKey(PersistentCacheKeys.ACTIVE_ACCOUNT_FILTERS),a=this.getItem(r);if(!a){this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters cache schema found, looking for legacy schema");var l=this.generateCacheKey(PersistentCacheKeys.ACTIVE_ACCOUNT),g=this.getItem(l);if(!g)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null;var d=this.getAccountInfoByFilter({localAccountId:g})[0]||null;return d?(this.logger.trace("BrowserCacheManager.getActiveAccount: Legacy active account cache schema found"),this.logger.trace("BrowserCacheManager.getActiveAccount: Adding active account filters cache schema"),this.setActiveAccount(d),d):null}var s=this.validateAndParseJson(a);return s?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoByFilter({homeAccountId:s.homeAccountId,localAccountId:s.localAccountId})[0]||null):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)},t.prototype.setActiveAccount=function(r){var a=this.generateCacheKey(PersistentCacheKeys.ACTIVE_ACCOUNT_FILTERS),l=this.generateCacheKey(PersistentCacheKeys.ACTIVE_ACCOUNT);if(r){this.logger.verbose("setActiveAccount: Active account set");var g={homeAccountId:r.homeAccountId,localAccountId:r.localAccountId};this.browserStorage.setItem(a,JSON.stringify(g)),this.browserStorage.setItem(l,r.localAccountId)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(a),this.browserStorage.removeItem(l)},t.prototype.getAccountInfoByFilter=function(r){var a=this.getAllAccounts();return this.logger.trace("BrowserCacheManager.getAccountInfoByFilter: total "+a.length+" accounts found"),a.filter(function(l){return!(r.username&&r.username.toLowerCase()!==l.username.toLowerCase()||r.homeAccountId&&r.homeAccountId!==l.homeAccountId||r.localAccountId&&r.localAccountId!==l.localAccountId||r.tenantId&&r.tenantId!==l.tenantId||r.environment&&r.environment!==l.environment)})},t.prototype.getAccountInfoByHints=function(r,a){var l=this.getAllAccounts().filter(function(g){if(a){var d=g.idTokenClaims&&g.idTokenClaims.sid;return a===d}return r?r===g.username:!1});if(l.length===1)return l[0];if(l.length>1)throw ClientAuthError.createMultipleMatchingAccountsInCacheError();return null},t.prototype.getThrottlingCache=function(r){var a=this.getItem(r);if(!a)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;var l=this.validateAndParseJson(a);return!l||!ThrottlingEntity.isThrottlingEntity(r,l)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),CacheManager.toObject(new ThrottlingEntity,l))},t.prototype.setThrottlingCache=function(r,a){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(r,JSON.stringify(a))},t.prototype.getTemporaryCache=function(r,a){var l=a?this.generateCacheKey(r):r;if(this.cacheConfig.storeAuthStateInCookie){var g=this.getItemCookie(l);if(g)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),g}var d=this.temporaryCacheStorage.getItem(l);if(!d){if(this.cacheConfig.cacheLocation===BrowserCacheLocation.LocalStorage){var s=this.browserStorage.getItem(l);if(s)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),s}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),d},t.prototype.setTemporaryCache=function(r,a,l){var g=l?this.generateCacheKey(r):r;this.temporaryCacheStorage.setItem(g,a),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.setItemCookie(g,a))},t.prototype.removeItem=function(r){return this.browserStorage.removeItem(r),this.temporaryCacheStorage.removeItem(r),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.clearItemCookie(r)),!0},t.prototype.containsKey=function(r){return this.browserStorage.containsKey(r)||this.temporaryCacheStorage.containsKey(r)},t.prototype.getKeys=function(){return __spread(this.browserStorage.getKeys(),this.temporaryCacheStorage.getKeys())},t.prototype.clear=function(){return __awaiter$2(this,void 0,void 0,function(){var r=this;return __generator$2(this,function(a){switch(a.label){case 0:return[4,this.removeAllAccounts()];case 1:return a.sent(),this.removeAppMetadata(),this.getKeys().forEach(function(l){(r.browserStorage.containsKey(l)||r.temporaryCacheStorage.containsKey(l))&&(l.indexOf(Constants.CACHE_PREFIX)!==-1||l.indexOf(r.clientId)!==-1)&&r.removeItem(l)}),this.internalStorage.clear(),[2]}})})},t.prototype.setItemCookie=function(r,a,l){var g=encodeURIComponent(r)+"="+encodeURIComponent(a)+";path=/;SameSite=Lax;";if(l){var d=this.getCookieExpirationTime(l);g+="expires="+d+";"}this.cacheConfig.secureCookies&&(g+="Secure;"),document.cookie=g},t.prototype.getItemCookie=function(r){for(var a=encodeURIComponent(r)+"=",l=document.cookie.split(";"),g=0;g<l.length;g++){for(var d=l[g];d.charAt(0)===" ";)d=d.substring(1);if(d.indexOf(a)===0)return decodeURIComponent(d.substring(a.length,d.length))}return Constants.EMPTY_STRING},t.prototype.clearMsalCookies=function(){var r=this,a=Constants.CACHE_PREFIX+"."+this.clientId,l=document.cookie.split(";");l.forEach(function(g){for(;g.charAt(0)===" ";)g=g.substring(1);if(g.indexOf(a)===0){var d=g.split("=")[0];r.clearItemCookie(d)}})},t.prototype.clearItemCookie=function(r){this.setItemCookie(r,Constants.EMPTY_STRING,-1)},t.prototype.getCookieExpirationTime=function(r){var a=new Date,l=new Date(a.getTime()+r*this.COOKIE_LIFE_MULTIPLIER);return l.toUTCString()},t.prototype.getCache=function(){return this.browserStorage},t.prototype.setCache=function(){},t.prototype.generateCacheKey=function(r){var a=this.validateAndParseJson(r);return a?JSON.stringify(r):StringUtils.startsWith(r,Constants.CACHE_PREFIX)||StringUtils.startsWith(r,PersistentCacheKeys.ADAL_ID_TOKEN)?r:Constants.CACHE_PREFIX+"."+this.clientId+"."+r},t.prototype.generateAuthorityKey=function(r){var a=ProtocolUtils.parseRequestState(this.cryptoImpl,r).libraryState.id;return this.generateCacheKey(TemporaryCacheKeys.AUTHORITY+"."+a)},t.prototype.generateNonceKey=function(r){var a=ProtocolUtils.parseRequestState(this.cryptoImpl,r).libraryState.id;return this.generateCacheKey(TemporaryCacheKeys.NONCE_IDTOKEN+"."+a)},t.prototype.generateStateKey=function(r){var a=ProtocolUtils.parseRequestState(this.cryptoImpl,r).libraryState.id;return this.generateCacheKey(TemporaryCacheKeys.REQUEST_STATE+"."+a)},t.prototype.getCachedAuthority=function(r){var a=this.generateStateKey(r),l=this.getTemporaryCache(a);if(!l)return null;var g=this.generateAuthorityKey(l);return this.getTemporaryCache(g)},t.prototype.updateCacheEntries=function(r,a,l,g,d){this.logger.trace("BrowserCacheManager.updateCacheEntries called");var s=this.generateStateKey(r);this.setTemporaryCache(s,r,!1);var u=this.generateNonceKey(r);this.setTemporaryCache(u,a,!1);var n=this.generateAuthorityKey(r);if(this.setTemporaryCache(n,l,!1),d){var c={credential:d.homeAccountId,type:CcsCredentialType.HOME_ACCOUNT_ID};this.setTemporaryCache(TemporaryCacheKeys.CCS_CREDENTIAL,JSON.stringify(c),!0)}else if(!StringUtils.isEmpty(g)){var c={credential:g,type:CcsCredentialType.UPN};this.setTemporaryCache(TemporaryCacheKeys.CCS_CREDENTIAL,JSON.stringify(c),!0)}},t.prototype.resetRequestCache=function(r){var a=this;this.logger.trace("BrowserCacheManager.resetRequestCache called"),StringUtils.isEmpty(r)||this.getKeys().forEach(function(l){l.indexOf(r)!==-1&&a.removeItem(l)}),r&&(this.removeItem(this.generateStateKey(r)),this.removeItem(this.generateNonceKey(r)),this.removeItem(this.generateAuthorityKey(r))),this.removeItem(this.generateCacheKey(TemporaryCacheKeys.REQUEST_PARAMS)),this.removeItem(this.generateCacheKey(TemporaryCacheKeys.ORIGIN_URI)),this.removeItem(this.generateCacheKey(TemporaryCacheKeys.URL_HASH)),this.removeItem(this.generateCacheKey(TemporaryCacheKeys.CORRELATION_ID)),this.removeItem(this.generateCacheKey(TemporaryCacheKeys.CCS_CREDENTIAL)),this.removeItem(this.generateCacheKey(TemporaryCacheKeys.NATIVE_REQUEST)),this.setInteractionInProgress(!1)},t.prototype.cleanRequestByState=function(r){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),r){var a=this.generateStateKey(r),l=this.temporaryCacheStorage.getItem(a);this.logger.infoPii("BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: "+l),this.resetRequestCache(l||Constants.EMPTY_STRING)}this.clearMsalCookies()},t.prototype.cleanRequestByInteractionType=function(r){var a=this;this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.getKeys().forEach(function(l){if(l.indexOf(TemporaryCacheKeys.REQUEST_STATE)!==-1){var g=a.temporaryCacheStorage.getItem(l);if(!!g){var d=BrowserProtocolUtils.extractBrowserRequestState(a.cryptoImpl,g);d&&d.interactionType===r&&(a.logger.infoPii("BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: "+g),a.resetRequestCache(g))}}}),this.clearMsalCookies(),this.setInteractionInProgress(!1)},t.prototype.cacheCodeRequest=function(r,a){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");var l=a.base64Encode(JSON.stringify(r));this.setTemporaryCache(TemporaryCacheKeys.REQUEST_PARAMS,l,!0)},t.prototype.getCachedRequest=function(r,a){this.logger.trace("BrowserCacheManager.getCachedRequest called");var l=this.getTemporaryCache(TemporaryCacheKeys.REQUEST_PARAMS,!0);if(!l)throw BrowserAuthError.createNoTokenRequestCacheError();var g=this.validateAndParseJson(a.base64Decode(l));if(!g)throw BrowserAuthError.createUnableToParseTokenRequestCacheError();if(this.removeItem(this.generateCacheKey(TemporaryCacheKeys.REQUEST_PARAMS)),StringUtils.isEmpty(g.authority)){var d=this.generateAuthorityKey(r),s=this.getTemporaryCache(d);if(!s)throw BrowserAuthError.createNoCachedAuthorityError();g.authority=s}return g},t.prototype.getCachedNativeRequest=function(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");var r=this.getTemporaryCache(TemporaryCacheKeys.NATIVE_REQUEST,!0);if(!r)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;var a=this.validateAndParseJson(r);return a||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)},t.prototype.isInteractionInProgress=function(r){var a=this.getInteractionInProgress();return r?a===this.clientId:!!a},t.prototype.getInteractionInProgress=function(){var r=Constants.CACHE_PREFIX+"."+TemporaryCacheKeys.INTERACTION_STATUS_KEY;return this.getTemporaryCache(r,!1)},t.prototype.setInteractionInProgress=function(r){var a=Constants.CACHE_PREFIX+"."+TemporaryCacheKeys.INTERACTION_STATUS_KEY;if(r){if(this.getInteractionInProgress())throw BrowserAuthError.createInteractionInProgressError();this.setTemporaryCache(a,this.clientId,!1)}else!r&&this.getInteractionInProgress()===this.clientId&&this.removeItem(a)},t.prototype.getLegacyLoginHint=function(){var r=this.getTemporaryCache(PersistentCacheKeys.ADAL_ID_TOKEN);r&&(this.browserStorage.removeItem(PersistentCacheKeys.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved."));var a=this.getTemporaryCache(PersistentCacheKeys.ID_TOKEN,!0);a&&(this.removeItem(this.generateCacheKey(PersistentCacheKeys.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));var l=a||r;if(l){var g=new AuthToken(l,this.cryptoImpl);if(g.claims&&g.claims.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),g.claims.preferred_username;if(g.claims&&g.claims.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),g.claims.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null},t.prototype.updateCredentialCacheKey=function(r,a){var l=a.generateCredentialKey();if(r!==l){var g=this.getItem(r);if(g)return this.removeItem(r),this.setItem(l,g),this.logger.verbose("Updated an outdated "+a.credentialType+" cache key"),l;this.logger.error("Attempted to update an outdated "+a.credentialType+" cache key but no item matching the outdated key was found in storage")}return r},t.prototype.getRedirectRequestContext=function(){return this.getTemporaryCache(TemporaryCacheKeys.REDIRECT_CONTEXT,!0)},t.prototype.setRedirectRequestContext=function(r){this.setTemporaryCache(TemporaryCacheKeys.REDIRECT_CONTEXT,r,!0)},t}(CacheManager),DEFAULT_BROWSER_CACHE_MANAGER=function(i,t){var r={cacheLocation:BrowserCacheLocation.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1};return new BrowserCacheManager(i,r,DEFAULT_CRYPTO_IMPLEMENTATION,t)};/*! @azure/msal-browser v2.33.0 2023-02-06 */var name="@azure/msal-browser",version$1="2.33.0";/*! @azure/msal-browser v2.33.0 2023-02-06 */var FetchClient=function(){function i(){}return i.prototype.sendGetRequestAsync=function(t,r){return __awaiter$2(this,void 0,void 0,function(){var a,l,g;return __generator$2(this,function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,fetch(t,{method:HTTP_REQUEST_TYPE.GET,headers:this.getFetchHeaders(r)})];case 1:return a=d.sent(),[3,3];case 2:throw l=d.sent(),window.navigator.onLine?BrowserAuthError.createGetRequestFailedError(l,t):BrowserAuthError.createNoNetworkConnectivityError();case 3:return d.trys.push([3,5,,6]),g={headers:this.getHeaderDict(a.headers)},[4,a.json()];case 4:return[2,(g.body=d.sent(),g.status=a.status,g)];case 5:throw d.sent(),BrowserAuthError.createFailedToParseNetworkResponseError(t);case 6:return[2]}})})},i.prototype.sendPostRequestAsync=function(t,r){return __awaiter$2(this,void 0,void 0,function(){var a,l,g,d;return __generator$2(this,function(s){switch(s.label){case 0:a=r&&r.body||Constants.EMPTY_STRING,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,fetch(t,{method:HTTP_REQUEST_TYPE.POST,headers:this.getFetchHeaders(r),body:a})];case 2:return l=s.sent(),[3,4];case 3:throw g=s.sent(),window.navigator.onLine?BrowserAuthError.createPostRequestFailedError(g,t):BrowserAuthError.createNoNetworkConnectivityError();case 4:return s.trys.push([4,6,,7]),d={headers:this.getHeaderDict(l.headers)},[4,l.json()];case 5:return[2,(d.body=s.sent(),d.status=l.status,d)];case 6:throw s.sent(),BrowserAuthError.createFailedToParseNetworkResponseError(t);case 7:return[2]}})})},i.prototype.getFetchHeaders=function(t){var r=new Headers;if(!(t&&t.headers))return r;var a=t.headers;return Object.keys(a).forEach(function(l){r.append(l,a[l])}),r},i.prototype.getHeaderDict=function(t){var r={};return t.forEach(function(a,l){r[l]=a}),r},i}();/*! @azure/msal-browser v2.33.0 2023-02-06 */var XhrClient=function(){function i(){}return i.prototype.sendGetRequestAsync=function(t,r){return __awaiter$2(this,void 0,void 0,function(){return __generator$2(this,function(a){return[2,this.sendRequestAsync(t,HTTP_REQUEST_TYPE.GET,r)]})})},i.prototype.sendPostRequestAsync=function(t,r){return __awaiter$2(this,void 0,void 0,function(){return __generator$2(this,function(a){return[2,this.sendRequestAsync(t,HTTP_REQUEST_TYPE.POST,r)]})})},i.prototype.sendRequestAsync=function(t,r,a){var l=this;return new Promise(function(g,d){var s=new XMLHttpRequest;if(s.open(r,t,!0),l.setXhrHeaders(s,a),s.onload=function(){(s.status<200||s.status>=300)&&(r===HTTP_REQUEST_TYPE.POST?d(BrowserAuthError.createPostRequestFailedError("Failed with status "+s.status,t)):d(BrowserAuthError.createGetRequestFailedError("Failed with status "+s.status,t)));try{var u=JSON.parse(s.responseText),n={headers:l.getHeaderDict(s),body:u,status:s.status};g(n)}catch{d(BrowserAuthError.createFailedToParseNetworkResponseError(t))}},s.onerror=function(){window.navigator.onLine?r===HTTP_REQUEST_TYPE.POST?d(BrowserAuthError.createPostRequestFailedError("Failed with status "+s.status,t)):d(BrowserAuthError.createGetRequestFailedError("Failed with status "+s.status,t)):d(BrowserAuthError.createNoNetworkConnectivityError())},r===HTTP_REQUEST_TYPE.POST&&a&&a.body)s.send(a.body);else if(r===HTTP_REQUEST_TYPE.GET)s.send();else throw BrowserAuthError.createHttpMethodNotImplementedError(r)})},i.prototype.setXhrHeaders=function(t,r){if(r&&r.headers){var a=r.headers;Object.keys(a).forEach(function(l){t.setRequestHeader(l,a[l])})}},i.prototype.getHeaderDict=function(t){var r=t.getAllResponseHeaders(),a=r.trim().split(/[\r\n]+/),l={};return a.forEach(function(g){var d=g.split(": "),s=d.shift(),u=d.join(": ");s&&u&&(l[s]=u)}),l},i}();/*! @azure/msal-browser v2.33.0 2023-02-06 */var BrowserUtils=function(){function i(){}return i.clearHash=function(t){t.location.hash=Constants.EMPTY_STRING,typeof t.history.replaceState=="function"&&t.history.replaceState(null,Constants.EMPTY_STRING,""+t.location.origin+t.location.pathname+t.location.search)},i.replaceHash=function(t){var r=t.split("#");r.shift(),window.location.hash=r.length>0?r.join("#"):Constants.EMPTY_STRING},i.isInIframe=function(){return window.parent!==window},i.isInPopup=function(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(BrowserConstants.POPUP_NAME_PREFIX+".")===0},i.getCurrentUri=function(){return window.location.href.split("?")[0].split("#")[0]},i.getHomepage=function(){var t=new UrlString(window.location.href),r=t.getUrlComponents();return r.Protocol+"//"+r.HostNameAndPort+"/"},i.getBrowserNetworkClient=function(){return window.fetch&&window.Headers?new FetchClient:new XhrClient},i.blockReloadInHiddenIframes=function(){var t=UrlString.hashContainsKnownProperties(window.location.hash);if(t&&i.isInIframe())throw BrowserAuthError.createBlockReloadInHiddenIframeError()},i.blockRedirectInIframe=function(t,r){var a=i.isInIframe();if(t===InteractionType.Redirect&&a&&!r)throw BrowserAuthError.createRedirectInIframeError(a)},i.blockAcquireTokenInPopups=function(){if(i.isInPopup())throw BrowserAuthError.createBlockAcquireTokenInPopupsError()},i.blockNonBrowserEnvironment=function(t){if(!t)throw BrowserAuthError.createNonBrowserEnvironmentError()},i.blockNativeBrokerCalledBeforeInitialized=function(t,r){if(t&&!r)throw BrowserAuthError.createNativeBrokerCalledBeforeInitialize()},i.detectIEOrEdge=function(){var t=window.navigator.userAgent,r=t.indexOf("MSIE "),a=t.indexOf("Trident/"),l=t.indexOf("Edge/"),g=r>0||a>0,d=l>0;return g||d},i}();/*! @azure/msal-browser v2.33.0 2023-02-06 */var BaseInteractionClient=function(){function i(t,r,a,l,g,d,s,u,n){this.config=t,this.browserStorage=r,this.browserCrypto=a,this.networkClient=this.config.system.networkClient,this.eventHandler=g,this.navigationClient=d,this.nativeMessageHandler=u,this.correlationId=n||this.browserCrypto.createNewGuid(),this.logger=l.clone(BrowserConstants.MSAL_SKU,version$1,this.correlationId),this.performanceClient=s}return i.prototype.clearCacheOnLogout=function(t){return __awaiter$2(this,void 0,void 0,function(){return __generator$2(this,function(r){switch(r.label){case 0:if(!t)return[3,5];AccountEntity.accountInfoIsEqual(t,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null)),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.browserStorage.removeAccount(AccountEntity.generateAccountCacheKey(t))];case 2:return r.sent(),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request."),[3,4];case 3:return r.sent(),this.logger.error("Account provided in logout request was not found. Local cache unchanged."),[3,4];case 4:return[3,9];case 5:return r.trys.push([5,8,,9]),this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),[4,this.browserStorage.clear()];case 6:return r.sent(),[4,this.browserCrypto.clearKeystore()];case 7:return r.sent(),[3,9];case 8:return r.sent(),this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged."),[3,9];case 9:return[2]}})})},i.prototype.initializeBaseRequest=function(t){return __awaiter$2(this,void 0,void 0,function(){var r,a,l,g;return __generator$2(this,function(d){switch(d.label){case 0:if(this.performanceClient.addQueueMeasurement(PerformanceEvents.InitializeBaseRequest,t.correlationId),this.logger.verbose("Initializing BaseAuthRequest"),r=t.authority||this.config.auth.authority,a=__spread(t&&t.scopes||[]),l=__assign$1(__assign$1({},t),{correlationId:this.correlationId,authority:r,scopes:a}),!l.authenticationScheme)l.authenticationScheme=AuthenticationScheme.BEARER,this.logger.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);else{if(l.authenticationScheme===AuthenticationScheme.SSH){if(!t.sshJwk)throw ClientConfigurationError.createMissingSshJwkError();if(!t.sshKid)throw ClientConfigurationError.createMissingSshKidError()}this.logger.verbose('Authentication Scheme set to "'+l.authenticationScheme+'" as configured in Auth request')}return t.claims&&!StringUtils.isEmpty(t.claims)?(g=l,[4,this.browserCrypto.hashString(t.claims)]):[3,2];case 1:g.requestedClaimsHash=d.sent(),d.label=2;case 2:return[2,l]}})})},i.prototype.getRedirectUri=function(t){this.logger.verbose("getRedirectUri called");var r=t||this.config.auth.redirectUri||BrowserUtils.getCurrentUri();return UrlString.getAbsoluteUrl(r,BrowserUtils.getCurrentUri())},i.prototype.initializeServerTelemetryManager=function(t,r){this.logger.verbose("initializeServerTelemetryManager called");var a={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:t,forceRefresh:r||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new ServerTelemetryManager(a,this.browserStorage)},i.prototype.getDiscoveredAuthority=function(t){return __awaiter$2(this,void 0,void 0,function(){var r;return __generator$2(this,function(a){switch(a.label){case 0:return this.logger.verbose("getDiscoveredAuthority called"),r={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata},t?(this.logger.verbose("Creating discovered authority with request authority"),[4,AuthorityFactory.createDiscoveredInstance(t,this.config.system.networkClient,this.browserStorage,r,this.logger)]):[3,2];case 1:return[2,a.sent()];case 2:return this.logger.verbose("Creating discovered authority with configured authority"),[4,AuthorityFactory.createDiscoveredInstance(this.config.auth.authority,this.config.system.networkClient,this.browserStorage,r,this.logger)];case 3:return[2,a.sent()]}})})},i}();/*! @azure/msal-browser v2.33.0 2023-02-06 */var StandardInteractionClient=function(i){__extends$1(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.initializeAuthorizationCodeRequest=function(r){return __awaiter$2(this,void 0,void 0,function(){var a,l;return __generator$2(this,function(g){switch(g.label){case 0:return this.performanceClient.addQueueMeasurement(PerformanceEvents.StandardInteractionClientInitializeAuthorizationCodeRequest,r.correlationId),this.logger.verbose("initializeAuthorizationRequest called",r.correlationId),[4,this.browserCrypto.generatePkceCodes()];case 1:return a=g.sent(),l=__assign$1(__assign$1({},r),{redirectUri:r.redirectUri,code:Constants.EMPTY_STRING,codeVerifier:a.verifier}),r.codeChallenge=a.challenge,r.codeChallengeMethod=Constants.S256_CODE_CHALLENGE_METHOD,[2,l]}})})},t.prototype.initializeLogoutRequest=function(r){this.logger.verbose("initializeLogoutRequest called",r==null?void 0:r.correlationId);var a=__assign$1({correlationId:this.correlationId||this.browserCrypto.createNewGuid()},r);if(r)if(r.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(r.account){var l=this.getLogoutHintFromIdTokenClaims(r.account);l&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),a.logoutHint=l)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return!r||r.postLogoutRedirectUri!==null?r&&r.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",a.correlationId),a.postLogoutRedirectUri=UrlString.getAbsoluteUrl(r.postLogoutRedirectUri,BrowserUtils.getCurrentUri())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",a.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",a.correlationId),a.postLogoutRedirectUri=UrlString.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,BrowserUtils.getCurrentUri())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",a.correlationId),a.postLogoutRedirectUri=UrlString.getAbsoluteUrl(BrowserUtils.getCurrentUri(),BrowserUtils.getCurrentUri())):this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",a.correlationId),a},t.prototype.getLogoutHintFromIdTokenClaims=function(r){var a=r.idTokenClaims;if(a){if(a.login_hint)return a.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null},t.prototype.createAuthCodeClient=function(r,a,l){return __awaiter$2(this,void 0,void 0,function(){var g;return __generator$2(this,function(d){switch(d.label){case 0:return this.performanceClient.addQueueMeasurement(PerformanceEvents.StandardInteractionClientCreateAuthCodeClient,this.correlationId),this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientGetClientConfiguration,this.correlationId),[4,this.getClientConfiguration(r,a,l)];case 1:return g=d.sent(),[2,new AuthorizationCodeClient(g,this.performanceClient)]}})})},t.prototype.getClientConfiguration=function(r,a,l){return __awaiter$2(this,void 0,void 0,function(){var g,d;return __generator$2(this,function(s){switch(s.label){case 0:return this.performanceClient.addQueueMeasurement(PerformanceEvents.StandardInteractionClientGetClientConfiguration,this.correlationId),this.logger.verbose("getClientConfiguration called",this.correlationId),this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientGetDiscoveredAuthority,this.correlationId),[4,this.getDiscoveredAuthority(a,l)];case 1:return g=s.sent(),d=this.config.system.loggerOptions,[2,{authOptions:{clientId:this.config.auth.clientId,authority:g,clientCapabilities:this.config.auth.clientCapabilities},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:d.loggerCallback,piiLoggingEnabled:d.piiLoggingEnabled,logLevel:d.logLevel,correlationId:this.correlationId},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:r,libraryInfo:{sku:BrowserConstants.MSAL_SKU,version:version$1,cpu:Constants.EMPTY_STRING,os:Constants.EMPTY_STRING},telemetry:this.config.telemetry}]}})})},t.prototype.validateAndExtractStateFromHash=function(r,a,l){if(this.logger.verbose("validateAndExtractStateFromHash called",l),!r.state)throw BrowserAuthError.createHashDoesNotContainStateError();var g=BrowserProtocolUtils.extractBrowserRequestState(this.browserCrypto,r.state);if(!g)throw BrowserAuthError.createUnableToParseStateError();if(g.interactionType!==a)throw BrowserAuthError.createStateInteractionTypeMismatchError();return this.logger.verbose("Returning state from hash",l),r.state},t.prototype.getDiscoveredAuthority=function(r,a){var l;return __awaiter$2(this,void 0,void 0,function(){var g,d,s,u;return __generator$2(this,function(n){switch(n.label){case 0:return this.performanceClient.addQueueMeasurement(PerformanceEvents.StandardInteractionClientGetDiscoveredAuthority,this.correlationId),this.logger.verbose("getDiscoveredAuthority called",this.correlationId),g=(l=this.performanceClient)===null||l===void 0?void 0:l.startMeasurement(PerformanceEvents.StandardInteractionClientGetDiscoveredAuthority,this.correlationId),d={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},s=r||this.config.auth.authority,u=Authority.generateAuthority(s,a||this.config.auth.azureCloudOptions),this.logger.verbose("Creating discovered authority with configured authority",this.correlationId),this.performanceClient.setPreQueueTime(PerformanceEvents.AuthorityFactoryCreateDiscoveredInstance,this.correlationId),[4,AuthorityFactory.createDiscoveredInstance(u,this.config.system.networkClient,this.browserStorage,d,this.logger,this.performanceClient,this.correlationId).then(function(c){return g.endMeasurement({success:!0}),c}).catch(function(c){throw g.endMeasurement({errorCode:c.errorCode,subErrorCode:c.subError,success:!1}),c})];case 1:return[2,n.sent()]}})})},t.prototype.initializeAuthorizationRequest=function(r,a){return __awaiter$2(this,void 0,void 0,function(){var l,g,d,s,u,n,c;return __generator$2(this,function(C){switch(C.label){case 0:return this.performanceClient.addQueueMeasurement(PerformanceEvents.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId),this.logger.verbose("initializeAuthorizationRequest called",this.correlationId),l=this.getRedirectUri(r.redirectUri),g={interactionType:a},d=ProtocolUtils.setRequestState(this.browserCrypto,r&&r.state||Constants.EMPTY_STRING,g),this.performanceClient.setPreQueueTime(PerformanceEvents.InitializeBaseRequest,this.correlationId),u=[{}],[4,this.initializeBaseRequest(r)];case 1:return s=__assign$1.apply(void 0,[__assign$1.apply(void 0,u.concat([C.sent()])),{redirectUri:l,state:d,nonce:r.nonce||this.browserCrypto.createNewGuid(),responseMode:ResponseMode.FRAGMENT}]),n=r.account||this.browserStorage.getActiveAccount(),n&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii("Setting validated request account: "+n.homeAccountId,this.correlationId),s.account=n),StringUtils.isEmpty(s.loginHint)&&!n&&(c=this.browserStorage.getLegacyLoginHint(),c&&(s.loginHint=c)),[2,s]}})})},t}(BaseInteractionClient);/*! @azure/msal-browser v2.33.0 2023-02-06 */var InteractionHandler=function(){function i(t,r,a,l,g){this.authModule=t,this.browserStorage=r,this.authCodeRequest=a,this.logger=l,this.performanceClient=g}return i.prototype.handleCodeResponseFromHash=function(t,r,a,l){return __awaiter$2(this,void 0,void 0,function(){var g,d,s;return __generator$2(this,function(u){if(this.performanceClient.addQueueMeasurement(PerformanceEvents.HandleCodeResponseFromHash,this.authCodeRequest.correlationId),this.logger.verbose("InteractionHandler.handleCodeResponse called"),StringUtils.isEmpty(t))throw BrowserAuthError.createEmptyHashError(t);if(g=this.browserStorage.generateStateKey(r),d=this.browserStorage.getTemporaryCache(g),!d)throw ClientAuthError.createStateNotFoundError("Cached State");try{s=this.authModule.handleFragmentResponse(t,d)}catch(n){throw n instanceof ServerError&&n.subError===BrowserAuthErrorMessage.userCancelledError.code?BrowserAuthError.createUserCancelledError():n}return this.performanceClient.setPreQueueTime(PerformanceEvents.HandleCodeResponseFromServer,this.authCodeRequest.correlationId),[2,this.handleCodeResponseFromServer(s,r,a,l)]})})},i.prototype.handleCodeResponseFromServer=function(t,r,a,l,g){return g===void 0&&(g=!0),__awaiter$2(this,void 0,void 0,function(){var d,s,u,n,c,C;return __generator$2(this,function(m){switch(m.label){case 0:if(this.performanceClient.addQueueMeasurement(PerformanceEvents.HandleCodeResponseFromServer,this.authCodeRequest.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),d=this.browserStorage.generateStateKey(r),s=this.browserStorage.getTemporaryCache(d),!s)throw ClientAuthError.createStateNotFoundError("Cached State");return u=this.browserStorage.generateNonceKey(s),n=this.browserStorage.getTemporaryCache(u),this.authCodeRequest.code=t.code,t.cloud_instance_host_name?(this.performanceClient.setPreQueueTime(PerformanceEvents.UpdateTokenEndpointAuthority,this.authCodeRequest.correlationId),[4,this.updateTokenEndpointAuthority(t.cloud_instance_host_name,a,l)]):[3,2];case 1:m.sent(),m.label=2;case 2:return g&&(t.nonce=n||void 0),t.state=s,t.client_info?this.authCodeRequest.clientInfo=t.client_info:(c=this.checkCcsCredentials(),c&&(this.authCodeRequest.ccsCredential=c)),this.performanceClient.setPreQueueTime(PerformanceEvents.AuthClientAcquireToken,this.authCodeRequest.correlationId),[4,this.authModule.acquireToken(this.authCodeRequest,t)];case 3:return C=m.sent(),this.browserStorage.cleanRequestByState(r),[2,C]}})})},i.prototype.updateTokenEndpointAuthority=function(t,r,a){return __awaiter$2(this,void 0,void 0,function(){var l,g;return __generator$2(this,function(d){switch(d.label){case 0:return this.performanceClient.addQueueMeasurement(PerformanceEvents.UpdateTokenEndpointAuthority,this.authCodeRequest.correlationId),l="https://"+t+"/"+r.tenant+"/",[4,AuthorityFactory.createDiscoveredInstance(l,a,this.browserStorage,r.options,this.logger,this.performanceClient,this.authCodeRequest.correlationId)];case 1:return g=d.sent(),this.authModule.updateAuthority(g),[2]}})})},i.prototype.checkCcsCredentials=function(){var t=this.browserStorage.getTemporaryCache(TemporaryCacheKeys.CCS_CREDENTIAL,!0);if(t)try{return JSON.parse(t)}catch{this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii("Cache credential could not be parsed: "+t)}return null},i}();/*! @azure/msal-browser v2.33.0 2023-02-06 */var RedirectHandler=function(i){__extends$1(t,i);function t(r,a,l,g,d,s){var u=i.call(this,r,a,l,g,s)||this;return u.browserCrypto=d,u}return t.prototype.initiateAuthRequest=function(r,a){return __awaiter$2(this,void 0,void 0,function(){var l,g;return __generator$2(this,function(d){switch(d.label){case 0:return this.logger.verbose("RedirectHandler.initiateAuthRequest called"),StringUtils.isEmpty(r)?[3,7]:(a.redirectStartPage&&(this.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(TemporaryCacheKeys.ORIGIN_URI,a.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(TemporaryCacheKeys.CORRELATION_ID,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest,this.browserCrypto),this.logger.infoPii("RedirectHandler.initiateAuthRequest: Navigate to: "+r),l={apiId:ApiId.acquireTokenRedirect,timeout:a.redirectTimeout,noHistory:!1},typeof a.onRedirectNavigate!="function"?[3,4]:(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),g=a.onRedirectNavigate(r),g===!1?[3,2]:(this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),[4,a.navigationClient.navigateExternal(r,l)])));case 1:return d.sent(),[2];case 2:return this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation"),[2];case 3:return[3,6];case 4:return this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),[4,a.navigationClient.navigateExternal(r,l)];case 5:return d.sent(),[2];case 6:return[3,8];case 7:throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),BrowserAuthError.createEmptyNavigationUriError();case 8:return[2]}})})},t.prototype.handleCodeResponseFromHash=function(r,a,l,g){return __awaiter$2(this,void 0,void 0,function(){var d,s,u,n,c,C,m;return __generator$2(this,function(e){switch(e.label){case 0:if(this.logger.verbose("RedirectHandler.handleCodeResponse called"),StringUtils.isEmpty(r))throw BrowserAuthError.createEmptyHashError(r);if(this.browserStorage.setInteractionInProgress(!1),d=this.browserStorage.generateStateKey(a),s=this.browserStorage.getTemporaryCache(d),!s)throw ClientAuthError.createStateNotFoundError("Cached State");try{u=this.authModule.handleFragmentResponse(r,s)}catch(E){throw E instanceof ServerError&&E.subError===BrowserAuthErrorMessage.userCancelledError.code?BrowserAuthError.createUserCancelledError():E}return n=this.browserStorage.generateNonceKey(s),c=this.browserStorage.getTemporaryCache(n),this.authCodeRequest.code=u.code,u.cloud_instance_host_name?[4,this.updateTokenEndpointAuthority(u.cloud_instance_host_name,l,g)]:[3,2];case 1:e.sent(),e.label=2;case 2:return u.nonce=c||void 0,u.state=s,u.client_info?this.authCodeRequest.clientInfo=u.client_info:(C=this.checkCcsCredentials(),C&&(this.authCodeRequest.ccsCredential=C)),[4,this.authModule.acquireToken(this.authCodeRequest,u)];case 3:return m=e.sent(),this.browserStorage.cleanRequestByState(a),[2,m]}})})},t}(InteractionHandler);/*! @azure/msal-browser v2.33.0 2023-02-06 */var EventType;(function(i){i.INITIALIZE_START="msal:initializeStart",i.INITIALIZE_END="msal:initializeEnd",i.ACCOUNT_ADDED="msal:accountAdded",i.ACCOUNT_REMOVED="msal:accountRemoved",i.LOGIN_START="msal:loginStart",i.LOGIN_SUCCESS="msal:loginSuccess",i.LOGIN_FAILURE="msal:loginFailure",i.ACQUIRE_TOKEN_START="msal:acquireTokenStart",i.ACQUIRE_TOKEN_SUCCESS="msal:acquireTokenSuccess",i.ACQUIRE_TOKEN_FAILURE="msal:acquireTokenFailure",i.ACQUIRE_TOKEN_NETWORK_START="msal:acquireTokenFromNetworkStart",i.SSO_SILENT_START="msal:ssoSilentStart",i.SSO_SILENT_SUCCESS="msal:ssoSilentSuccess",i.SSO_SILENT_FAILURE="msal:ssoSilentFailure",i.ACQUIRE_TOKEN_BY_CODE_START="msal:acquireTokenByCodeStart",i.ACQUIRE_TOKEN_BY_CODE_SUCCESS="msal:acquireTokenByCodeSuccess",i.ACQUIRE_TOKEN_BY_CODE_FAILURE="msal:acquireTokenByCodeFailure",i.HANDLE_REDIRECT_START="msal:handleRedirectStart",i.HANDLE_REDIRECT_END="msal:handleRedirectEnd",i.POPUP_OPENED="msal:popupOpened",i.LOGOUT_START="msal:logoutStart",i.LOGOUT_SUCCESS="msal:logoutSuccess",i.LOGOUT_FAILURE="msal:logoutFailure",i.LOGOUT_END="msal:logoutEnd"})(EventType||(EventType={}));/*! @azure/msal-browser v2.33.0 2023-02-06 */var NativeStatusCode;(function(i){i.USER_INTERACTION_REQUIRED="USER_INTERACTION_REQUIRED",i.USER_CANCEL="USER_CANCEL",i.NO_NETWORK="NO_NETWORK",i.TRANSIENT_ERROR="TRANSIENT_ERROR",i.PERSISTENT_ERROR="PERSISTENT_ERROR",i.DISABLED="DISABLED",i.ACCOUNT_UNAVAILABLE="ACCOUNT_UNAVAILABLE"})(NativeStatusCode||(NativeStatusCode={}));var NativeAuthErrorMessage={extensionError:{code:"ContentError"},userSwitch:{code:"user_switch",desc:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."},tokensNotFoundInCache:{code:"tokens_not_found_in_internal_memory_cache",desc:"Tokens not cached in MSAL JS internal memory, please make the WAM request"}},NativeAuthError=function(i){__extends$1(t,i);function t(r,a,l){var g=i.call(this,r,a)||this;return Object.setPrototypeOf(g,t.prototype),g.name="NativeAuthError",g.ext=l,g}return t.prototype.isFatal=function(){if(this.ext&&this.ext.status&&(this.ext.status===NativeStatusCode.PERSISTENT_ERROR||this.ext.status===NativeStatusCode.DISABLED))return!0;switch(this.errorCode){case NativeAuthErrorMessage.extensionError.code:return!0;default:return!1}},t.createError=function(r,a,l){if(l&&l.status)switch(l.status){case NativeStatusCode.ACCOUNT_UNAVAILABLE:return InteractionRequiredAuthError.createNativeAccountUnavailableError();case NativeStatusCode.USER_INTERACTION_REQUIRED:return new InteractionRequiredAuthError(r,a);case NativeStatusCode.USER_CANCEL:return BrowserAuthError.createUserCancelledError();case NativeStatusCode.NO_NETWORK:return BrowserAuthError.createNoNetworkConnectivityError()}return new t(r,a,l)},t.createUserSwitchError=function(){return new t(NativeAuthErrorMessage.userSwitch.code,NativeAuthErrorMessage.userSwitch.desc)},t.createTokensNotFoundInCacheError=function(){return new t(NativeAuthErrorMessage.tokensNotFoundInCache.code,NativeAuthErrorMessage.tokensNotFoundInCache.desc)},t}(AuthError);/*! @azure/msal-browser v2.33.0 2023-02-06 */var SilentCacheClient=function(i){__extends$1(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.acquireToken=function(r){return __awaiter$2(this,void 0,void 0,function(){var a,l,g,d,s;return __generator$2(this,function(u){switch(u.label){case 0:return a=this.performanceClient.startMeasurement(PerformanceEvents.SilentCacheClientAcquireToken,r.correlationId),l=this.initializeServerTelemetryManager(ApiId.acquireTokenSilent_silentFlow),[4,this.createSilentFlowClient(l,r.authority,r.azureCloudOptions)];case 1:g=u.sent(),this.logger.verbose("Silent auth client created"),u.label=2;case 2:return u.trys.push([2,4,,5]),[4,g.acquireCachedToken(r)];case 3:return d=u.sent(),a.endMeasurement({success:!0,fromCache:!0}),[2,d];case 4:throw s=u.sent(),s instanceof BrowserAuthError&&s.errorCode===BrowserAuthErrorMessage.signingKeyNotFoundInStorage.code&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),a.endMeasurement({errorCode:s instanceof AuthError&&s.errorCode||void 0,subErrorCode:s instanceof AuthError&&s.subError||void 0,success:!1}),s;case 5:return[2]}})})},t.prototype.logout=function(){return Promise.reject(BrowserAuthError.createSilentLogoutUnsupportedError())},t.prototype.createSilentFlowClient=function(r,a,l){return __awaiter$2(this,void 0,void 0,function(){var g;return __generator$2(this,function(d){switch(d.label){case 0:return this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientGetClientConfiguration,this.correlationId),[4,this.getClientConfiguration(r,a,l)];case 1:return g=d.sent(),[2,new SilentFlowClient(g,this.performanceClient)]}})})},t.prototype.initializeSilentRequest=function(r,a){return __awaiter$2(this,void 0,void 0,function(){var l;return __generator$2(this,function(g){switch(g.label){case 0:return this.performanceClient.addQueueMeasurement(PerformanceEvents.InitializeSilentRequest,this.correlationId),this.performanceClient.setPreQueueTime(PerformanceEvents.InitializeBaseRequest,this.correlationId),l=[__assign$1({},r)],[4,this.initializeBaseRequest(r)];case 1:return[2,__assign$1.apply(void 0,[__assign$1.apply(void 0,l.concat([g.sent()])),{account:a,forceRefresh:r.forceRefresh||!1}])]}})})},t}(StandardInteractionClient);/*! @azure/msal-browser v2.33.0 2023-02-06 */var NativeInteractionClient=function(i){__extends$1(t,i);function t(r,a,l,g,d,s,u,n,c,C,m,e){var E=i.call(this,r,a,l,g,d,s,n,c,e)||this;return E.apiId=u,E.accountId=C,E.nativeMessageHandler=c,E.nativeStorageManager=m,E.silentCacheClient=new SilentCacheClient(r,E.nativeStorageManager,l,g,d,s,n,c,e),E}return t.prototype.acquireToken=function(r){return __awaiter$2(this,void 0,void 0,function(){var a,l,g,d,s,u,n;return __generator$2(this,function(c){switch(c.label){case 0:return this.logger.trace("NativeInteractionClient - acquireToken called."),a=this.performanceClient.startMeasurement(PerformanceEvents.NativeInteractionClientAcquireToken,r.correlationId),l=TimeUtils.nowSeconds(),[4,this.initializeNativeRequest(r)];case 1:g=c.sent(),c.label=2;case 2:return c.trys.push([2,4,,5]),[4,this.acquireTokensFromCache(this.accountId,g)];case 3:return d=c.sent(),a.endMeasurement({success:!0,isNativeBroker:!1,fromCache:!0}),[2,d];case 4:return c.sent(),this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call"),[3,5];case 5:return s={method:NativeExtensionMethod.GetToken,request:g},[4,this.nativeMessageHandler.sendMessage(s)];case 6:return u=c.sent(),n=this.validateNativeResponse(u),[2,this.handleNativeResponse(n,g,l).then(function(C){return a.endMeasurement({success:!0,isNativeBroker:!0,requestId:C.requestId}),C}).catch(function(C){throw a.endMeasurement({success:!1,errorCode:C.errorCode,subErrorCode:C.subError,isNativeBroker:!0}),C})]}})})},t.prototype.createSilentCacheRequest=function(r,a){return{authority:r.authority,correlationId:this.correlationId,scopes:ScopeSet.fromString(r.scope).asArray(),account:a,forceRefresh:!1}},t.prototype.acquireTokensFromCache=function(r,a){return __awaiter$2(this,void 0,void 0,function(){var l,g,d,s,u;return __generator$2(this,function(n){switch(n.label){case 0:if(l=this.browserStorage.readAccountFromCacheWithNativeAccountId(r),!l)throw ClientAuthError.createNoAccountFoundError();g=l.getAccountInfo(),n.label=1;case 1:return n.trys.push([1,3,,4]),d=this.createSilentCacheRequest(a,g),[4,this.silentCacheClient.acquireToken(d)];case 2:return s=n.sent(),[2,s];case 3:throw u=n.sent(),u;case 4:return[2]}})})},t.prototype.acquireTokenRedirect=function(r){return __awaiter$2(this,void 0,void 0,function(){var a,l,g,d,s,u;return __generator$2(this,function(n){switch(n.label){case 0:return this.logger.trace("NativeInteractionClient - acquireTokenRedirect called."),[4,this.initializeNativeRequest(r)];case 1:a=n.sent(),l={method:NativeExtensionMethod.GetToken,request:a},n.label=2;case 2:return n.trys.push([2,4,,5]),[4,this.nativeMessageHandler.sendMessage(l)];case 3:return g=n.sent(),this.validateNativeResponse(g),[3,5];case 4:if(d=n.sent(),d instanceof NativeAuthError&&d.isFatal())throw d;return[3,5];case 5:return this.browserStorage.setTemporaryCache(TemporaryCacheKeys.NATIVE_REQUEST,JSON.stringify(a),!0),s={apiId:ApiId.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},u=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(r.redirectUri),[4,this.navigationClient.navigateExternal(u,s)];case 6:return n.sent(),[2]}})})},t.prototype.handleRedirectPromise=function(){return __awaiter$2(this,void 0,void 0,function(){var r,a,l,g,d,s,u,n;return __generator$2(this,function(c){switch(c.label){case 0:if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),[2,null];if(r=this.browserStorage.getCachedNativeRequest(),!r)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),[2,null];a=r.prompt,l=__rest(r,["prompt"]),a&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(TemporaryCacheKeys.NATIVE_REQUEST)),g={method:NativeExtensionMethod.GetToken,request:l},d=TimeUtils.nowSeconds(),c.label=1;case 1:return c.trys.push([1,3,,4]),this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker."),[4,this.nativeMessageHandler.sendMessage(g)];case 2:return s=c.sent(),this.validateNativeResponse(s),u=this.handleNativeResponse(s,l,d),this.browserStorage.setInteractionInProgress(!1),[2,u];case 3:throw n=c.sent(),this.browserStorage.setInteractionInProgress(!1),n;case 4:return[2]}})})},t.prototype.logout=function(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")},t.prototype.handleNativeResponse=function(r,a,l){return __awaiter$2(this,void 0,void 0,function(){var g,d,s,u,n,c,C,m,e,E,A,B,O,v,b,o,T,D,_,y,P=this;return __generator$2(this,function(w){switch(w.label){case 0:if(this.logger.trace("NativeInteractionClient - handleNativeResponse called."),g=this.getMATSFromResponse(r),this.performanceClient.addStaticFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:g?g.broker_version:void 0,matsAccountJoinOnStart:g?g.account_join_on_start:void 0,matsAccountJoinOnEnd:g?g.account_join_on_end:void 0,matsDeviceJoin:g?g.device_join:void 0,matsPromptBehavior:g?g.prompt_behavior:void 0,matsApiErrorCode:g?g.api_error_code:void 0,matsUiVisible:g?g.ui_visible:void 0,matsSilentCode:g?g.silent_code:void 0,matsSilentBiSubCode:g?g.silent_bi_sub_code:void 0,matsSilentMessage:g?g.silent_message:void 0,matsSilentStatus:g?g.silent_status:void 0,matsHttpStatus:g?g.http_status:void 0,matsHttpEventCount:g?g.http_event_count:void 0},this.correlationId),r.account.id!==a.accountId)throw NativeAuthError.createUserSwitchError();return d=new AuthToken(r.id_token||Constants.EMPTY_STRING,this.browserCrypto),[4,this.getDiscoveredAuthority(a.authority)];case 1:switch(s=w.sent(),u=s.getPreferredCache(),n=AccountEntity.generateHomeAccountId(r.client_info||Constants.EMPTY_STRING,AuthorityType.Default,this.logger,this.browserCrypto,d),c=AccountEntity.createAccount(r.client_info,n,d,void 0,void 0,void 0,u,r.account.id),this.browserStorage.setAccount(c),C=r.scope?ScopeSet.fromString(r.scope):ScopeSet.fromString(a.scope),m=r.account.properties||{},e=m.UID||d.claims.oid||d.claims.sub||Constants.EMPTY_STRING,E=m.TenantId||d.claims.tid||Constants.EMPTY_STRING,B=AuthenticationScheme.BEARER,O=a.tokenType,O){case AuthenticationScheme.POP:return[3,2]}return[3,4];case 2:if(B=AuthenticationScheme.POP,r.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),A=r.shr,[3,5];if(v=new PopTokenGenerator(this.browserCrypto),b={resourceRequestMethod:a.resourceRequestMethod,resourceRequestUri:a.resourceRequestUri,shrClaims:a.shrClaims,shrNonce:a.shrNonce},!a.keyId)throw ClientAuthError.createKeyIdMissingError();return[4,v.signPopToken(r.access_token,a.keyId,b)];case 3:return A=w.sent(),[3,5];case 4:A=r.access_token,w.label=5;case 5:return o={authority:s.canonicalAuthority,uniqueId:e,tenantId:E,scopes:C.asArray(),account:c.getAccountInfo(),idToken:r.id_token,idTokenClaims:d.claims,accessToken:A,fromCache:g?this.isResponseFromCache(g):!1,expiresOn:new Date(Number(l+r.expires_in)*1e3),tokenType:B,correlationId:this.correlationId,state:r.state,fromNativeBroker:!0},T=IdTokenEntity.createIdTokenEntity(n,a.authority,r.id_token||Constants.EMPTY_STRING,a.clientId,d.claims.tid||Constants.EMPTY_STRING),this.nativeStorageManager.setIdTokenCredential(T),D=B===AuthenticationScheme.POP?Constants.SHR_NONCE_VALIDITY:(typeof r.expires_in=="string"?parseInt(r.expires_in,10):r.expires_in)||0,_=l+D,y=AccessTokenEntity.createAccessTokenEntity(n,a.authority,A,a.clientId,E,C.printScopes(),_,0,this.browserCrypto),this.nativeStorageManager.setAccessTokenCredential(y),this.browserStorage.removeAccountContext(c).catch(function(M){P.logger.error("Error occurred while removing account context from browser storage. "+M)}),[2,o]}})})},t.prototype.validateNativeResponse=function(r){if(r.hasOwnProperty("access_token")&&r.hasOwnProperty("id_token")&&r.hasOwnProperty("client_info")&&r.hasOwnProperty("account")&&r.hasOwnProperty("scope")&&r.hasOwnProperty("expires_in"))return r;throw NativeAuthError.createUnexpectedError("Response missing expected properties.")},t.prototype.getMATSFromResponse=function(r){if(r.properties.MATS)try{return JSON.parse(r.properties.MATS)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null},t.prototype.isResponseFromCache=function(r){return typeof r.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!r.is_cached},t.prototype.initializeNativeRequest=function(r){return __awaiter$2(this,void 0,void 0,function(){var a,l,g,d,s,u,n,c,C,m,e=this;return __generator$2(this,function(E){switch(E.label){case 0:return this.logger.trace("NativeInteractionClient - initializeNativeRequest called"),a=r.authority||this.config.auth.authority,l=new UrlString(a),l.validateAsUri(),g=r.scopes,d=__rest(r,["scopes"]),s=new ScopeSet(g||[]),s.appendScopes(OIDC_DEFAULT_SCOPES),u=function(){switch(e.apiId){case ApiId.ssoSilent:case ApiId.acquireTokenSilent_silentFlow:return e.logger.trace("initializeNativeRequest: silent request sets prompt to none"),PromptValue.NONE}if(!r.prompt){e.logger.trace("initializeNativeRequest: prompt was not provided");return}switch(r.prompt){case PromptValue.NONE:case PromptValue.CONSENT:case PromptValue.LOGIN:return e.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),r.prompt;default:throw e.logger.trace("initializeNativeRequest: prompt = "+r.prompt+" is not compatible with native flow"),BrowserAuthError.createNativePromptParameterNotSupportedError()}},n=__assign$1(__assign$1({},d),{accountId:this.accountId,clientId:this.config.auth.clientId,authority:l.urlString,scope:s.printScopes(),redirectUri:this.getRedirectUri(r.redirectUri),prompt:u(),correlationId:this.correlationId,tokenType:r.authenticationScheme,windowTitleSubstring:document.title,extraParameters:__assign$1(__assign$1(__assign$1({},r.extraQueryParameters),r.tokenQueryParameters),{telemetry:NativeConstants.MATS_TELEMETRY}),extendedExpiryToken:!1}),r.authenticationScheme!==AuthenticationScheme.POP?[3,2]:(c={resourceRequestUri:r.resourceRequestUri,resourceRequestMethod:r.resourceRequestMethod,shrClaims:r.shrClaims,shrNonce:r.shrNonce},C=new PopTokenGenerator(this.browserCrypto),[4,C.generateCnf(c)]);case 1:m=E.sent(),n.reqCnf=m.reqCnfHash,n.keyId=m.kid,E.label=2;case 2:return[2,n]}})})},t}(BaseInteractionClient);/*! @azure/msal-browser v2.33.0 2023-02-06 */var NativeMessageHandler=function(){function i(t,r,a){this.logger=t,this.handshakeTimeoutMs=r,this.extensionId=a,this.resolvers=new Map,this.handshakeResolvers=new Map,this.responseId=0,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this)}return i.prototype.sendMessage=function(t){return __awaiter$2(this,void 0,void 0,function(){var r,a=this;return __generator$2(this,function(l){return this.logger.trace("NativeMessageHandler - sendMessage called."),r={channel:NativeConstants.CHANNEL_ID,extensionId:this.extensionId,responseId:this.responseId++,body:t},this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii("NativeMessageHandler - Sending request to browser extension: "+JSON.stringify(r)),this.messageChannel.port1.postMessage(r),[2,new Promise(function(g,d){a.resolvers.set(r.responseId,{resolve:g,reject:d})})]})})},i.createProvider=function(t,r){return __awaiter$2(this,void 0,void 0,function(){var a,l;return __generator$2(this,function(g){switch(g.label){case 0:t.trace("NativeMessageHandler - createProvider called."),g.label=1;case 1:return g.trys.push([1,3,,5]),a=new i(t,r,NativeConstants.PREFERRED_EXTENSION_ID),[4,a.sendHandshakeRequest()];case 2:return g.sent(),[2,a];case 3:return g.sent(),l=new i(t,r),[4,l.sendHandshakeRequest()];case 4:return g.sent(),[2,l];case 5:return[2]}})})},i.prototype.sendHandshakeRequest=function(){return __awaiter$2(this,void 0,void 0,function(){var t,r=this;return __generator$2(this,function(a){return this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1),t={channel:NativeConstants.CHANNEL_ID,extensionId:this.extensionId,responseId:this.responseId++,body:{method:NativeExtensionMethod.HandshakeRequest}},this.messageChannel.port1.onmessage=function(l){r.onChannelMessage(l)},window.postMessage(t,window.origin,[this.messageChannel.port2]),[2,new Promise(function(l,g){r.handshakeResolvers.set(t.responseId,{resolve:l,reject:g}),r.timeoutId=window.setTimeout(function(){window.removeEventListener("message",r.windowListener,!1),r.messageChannel.port1.close(),r.messageChannel.port2.close(),g(BrowserAuthError.createNativeHandshakeTimeoutError()),r.handshakeResolvers.delete(t.responseId)},r.handshakeTimeoutMs)})]})})},i.prototype.onWindowMessage=function(t){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),t.source===window){var r=t.data;if(!(!r.channel||r.channel!==NativeConstants.CHANNEL_ID)&&!(r.extensionId&&r.extensionId!==this.extensionId)&&r.body.method===NativeExtensionMethod.HandshakeRequest){this.logger.verbose(r.extensionId?"Extension with id: "+r.extensionId+" not installed":"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1);var a=this.handshakeResolvers.get(r.responseId);a&&a.reject(BrowserAuthError.createNativeExtensionNotInstalledError())}}},i.prototype.onChannelMessage=function(t){this.logger.trace("NativeMessageHandler - onChannelMessage called.");var r=t.data,a=this.resolvers.get(r.responseId),l=this.handshakeResolvers.get(r.responseId);try{var g=r.body.method;if(g===NativeExtensionMethod.Response){if(!a)return;var d=r.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii("NativeMessageHandler - Received response from browser extension: "+JSON.stringify(d)),d.status!=="Success")a.reject(NativeAuthError.createError(d.code,d.description,d.ext));else if(d.result)d.result.code&&d.result.description?a.reject(NativeAuthError.createError(d.result.code,d.result.description,d.result.ext)):a.resolve(d.result);else throw AuthError.createUnexpectedError("Event does not contain result.");this.resolvers.delete(r.responseId)}else if(g===NativeExtensionMethod.HandshakeResponse){if(!l)return;clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=r.extensionId,this.extensionVersion=r.body.version,this.logger.verbose("NativeMessageHandler - Received HandshakeResponse from extension: "+this.extensionId),l.resolve(),this.handshakeResolvers.delete(r.responseId)}}catch(s){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii("Error parsing response from WAM Extension: "+s.toString()),this.logger.errorPii("Unable to parse "+t),a?a.reject(s):l&&l.reject(s)}},i.prototype.getExtensionId=function(){return this.extensionId},i.prototype.getExtensionVersion=function(){return this.extensionVersion},i.isNativeAvailable=function(t,r,a,l){if(r.trace("isNativeAvailable called"),!t.system.allowNativeBroker)return r.trace("isNativeAvailable: allowNativeBroker is not enabled, returning false"),!1;if(!a)return r.trace("isNativeAvailable: WAM extension provider is not initialized, returning false"),!1;if(l)switch(l){case AuthenticationScheme.BEARER:case AuthenticationScheme.POP:return r.trace("isNativeAvailable: authenticationScheme is supported, returning true"),!0;default:return r.trace("isNativeAvailable: authenticationScheme is not supported, returning false"),!1}return!0},i}();/*! @azure/msal-browser v2.33.0 2023-02-06 */var RedirectClient=function(i){__extends$1(t,i);function t(r,a,l,g,d,s,u,n,c,C){var m=i.call(this,r,a,l,g,d,s,u,c,C)||this;return m.nativeStorage=n,m}return t.prototype.acquireToken=function(r){return __awaiter$2(this,void 0,void 0,function(){var a,l,g,d,s,u,n,c,C,m=this;return __generator$2(this,function(e){switch(e.label){case 0:return this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientInitializeAuthorizationRequest,r.correlationId),[4,this.initializeAuthorizationRequest(r,InteractionType.Redirect)];case 1:a=e.sent(),this.browserStorage.updateCacheEntries(a.state,a.nonce,a.authority,a.loginHint||Constants.EMPTY_STRING,a.account||null),l=this.initializeServerTelemetryManager(ApiId.acquireTokenRedirect),g=function(E){E.persisted&&(m.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),m.browserStorage.cleanRequestByState(a.state))},e.label=2;case 2:return e.trys.push([2,7,,8]),this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientInitializeAuthorizationCodeRequest,r.correlationId),[4,this.initializeAuthorizationCodeRequest(a)];case 3:return d=e.sent(),this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientCreateAuthCodeClient,r.correlationId),[4,this.createAuthCodeClient(l,a.authority,a.azureCloudOptions)];case 4:return s=e.sent(),this.logger.verbose("Auth code client created"),u=new RedirectHandler(s,this.browserStorage,d,this.logger,this.browserCrypto,this.performanceClient),[4,s.getAuthCodeUrl(__assign$1(__assign$1({},a),{nativeBroker:NativeMessageHandler.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,r.authenticationScheme)}))];case 5:return n=e.sent(),c=this.getRedirectStartPage(r.redirectStartPage),this.logger.verbosePii("Redirect start page: "+c),window.addEventListener("pageshow",g),[4,u.initiateAuthRequest(n,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:c,onRedirectNavigate:r.onRedirectNavigate})];case 6:return[2,e.sent()];case 7:throw C=e.sent(),C instanceof AuthError&&C.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",g),l.cacheFailedRequest(C),this.browserStorage.cleanRequestByState(a.state),C;case 8:return[2]}})})},t.prototype.handleRedirectPromise=function(r){return __awaiter$2(this,void 0,void 0,function(){var a,l,g,d,s,u,n,c,C,m,e,E;return __generator$2(this,function(A){switch(A.label){case 0:a=this.initializeServerTelemetryManager(ApiId.handleRedirectPromise),A.label=1;case 1:if(A.trys.push([1,10,,11]),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),[2,null];if(l=this.getRedirectResponseHash(r||window.location.hash),!l)return this.logger.info("handleRedirectPromise did not detect a response hash as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(InteractionType.Redirect),[2,null];g=void 0;try{d=UrlString.getDeserializedHash(l),g=this.validateAndExtractStateFromHash(d,InteractionType.Redirect),this.logger.verbose("State extracted from hash")}catch(B){return this.logger.info("handleRedirectPromise was unable to extract state due to: "+B),this.browserStorage.cleanRequestByInteractionType(InteractionType.Redirect),[2,null]}return s=this.browserStorage.getTemporaryCache(TemporaryCacheKeys.ORIGIN_URI,!0)||Constants.EMPTY_STRING,u=UrlString.removeHashFromUrl(s),n=UrlString.removeHashFromUrl(window.location.href),u===n&&this.config.auth.navigateToLoginRequestUrl?(this.logger.verbose("Current page is loginRequestUrl, handling hash"),[4,this.handleHash(l,g,a)]):[3,3];case 2:return c=A.sent(),s.indexOf("#")>-1&&BrowserUtils.replaceHash(s),[2,c];case 3:return this.config.auth.navigateToLoginRequestUrl?[3,4]:(this.logger.verbose("NavigateToLoginRequestUrl set to false, handling hash"),[2,this.handleHash(l,g,a)]);case 4:return!BrowserUtils.isInIframe()||this.config.system.allowRedirectInIframe?(this.browserStorage.setTemporaryCache(TemporaryCacheKeys.URL_HASH,l,!0),C={apiId:ApiId.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0},m=!0,!s||s==="null"?(e=BrowserUtils.getHomepage(),this.browserStorage.setTemporaryCache(TemporaryCacheKeys.ORIGIN_URI,e,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),[4,this.navigationClient.navigateInternal(e,C)]):[3,6]):[3,9];case 5:return m=A.sent(),[3,8];case 6:return this.logger.verbose("Navigating to loginRequestUrl: "+s),[4,this.navigationClient.navigateInternal(s,C)];case 7:m=A.sent(),A.label=8;case 8:if(!m)return[2,this.handleHash(l,g,a)];A.label=9;case 9:return[2,null];case 10:throw E=A.sent(),E instanceof AuthError&&E.setCorrelationId(this.correlationId),a.cacheFailedRequest(E),this.browserStorage.cleanRequestByInteractionType(InteractionType.Redirect),E;case 11:return[2]}})})},t.prototype.getRedirectResponseHash=function(r){this.logger.verbose("getRedirectResponseHash called");var a=UrlString.hashContainsKnownProperties(r);if(a)return BrowserUtils.clearHash(window),this.logger.verbose("Hash contains known properties, returning response hash"),r;var l=this.browserStorage.getTemporaryCache(TemporaryCacheKeys.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(TemporaryCacheKeys.URL_HASH)),this.logger.verbose("Hash does not contain known properties, returning cached hash"),l},t.prototype.handleHash=function(r,a,l){return __awaiter$2(this,void 0,void 0,function(){var g,d,s,u,n,c,C,m=this;return __generator$2(this,function(e){switch(e.label){case 0:if(g=this.browserStorage.getCachedRequest(a,this.browserCrypto),this.logger.verbose("handleHash called, retrieved cached request"),d=UrlString.getDeserializedHash(r),d.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw BrowserAuthError.createNativeConnectionNotEstablishedError();return s=new NativeInteractionClient(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ApiId.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,d.accountId,this.browserStorage,g.correlationId),u=ProtocolUtils.parseRequestState(this.browserCrypto,a).userRequestState,[2,s.acquireToken(__assign$1(__assign$1({},g),{state:u,prompt:void 0})).finally(function(){m.browserStorage.cleanRequestByState(a)})]}if(n=this.browserStorage.getCachedAuthority(a),!n)throw BrowserAuthError.createNoCachedAuthorityError();return this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientCreateAuthCodeClient,g.correlationId),[4,this.createAuthCodeClient(l,n)];case 1:return c=e.sent(),this.logger.verbose("Auth code client created"),ThrottlingUtils.removeThrottle(this.browserStorage,this.config.auth.clientId,g),C=new RedirectHandler(c,this.browserStorage,g,this.logger,this.browserCrypto,this.performanceClient),[4,C.handleCodeResponseFromHash(r,a,c.authority,this.networkClient)];case 2:return[2,e.sent()]}})})},t.prototype.logout=function(r){return __awaiter$2(this,void 0,void 0,function(){var a,l,g,d,s,u,n;return __generator$2(this,function(c){switch(c.label){case 0:this.logger.verbose("logoutRedirect called"),a=this.initializeLogoutRequest(r),l=this.initializeServerTelemetryManager(ApiId.logout),c.label=1;case 1:return c.trys.push([1,10,,11]),this.eventHandler.emitEvent(EventType.LOGOUT_START,InteractionType.Redirect,r),[4,this.clearCacheOnLogout(a.account)];case 2:return c.sent(),g={apiId:ApiId.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientCreateAuthCodeClient,a.correlationId),[4,this.createAuthCodeClient(l,r&&r.authority)];case 3:return d=c.sent(),this.logger.verbose("Auth code client created"),s=d.getLogoutUri(a),this.eventHandler.emitEvent(EventType.LOGOUT_SUCCESS,InteractionType.Redirect,a),r&&typeof r.onRedirectNavigate=="function"?(u=r.onRedirectNavigate(s),u===!1?[3,5]:(this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),[4,this.navigationClient.navigateExternal(s,g)])):[3,7];case 4:return c.sent(),[2];case 5:this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation"),c.label=6;case 6:return[3,9];case 7:return this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),[4,this.navigationClient.navigateExternal(s,g)];case 8:return c.sent(),[2];case 9:return[3,11];case 10:throw n=c.sent(),n instanceof AuthError&&n.setCorrelationId(this.correlationId),l.cacheFailedRequest(n),this.eventHandler.emitEvent(EventType.LOGOUT_FAILURE,InteractionType.Redirect,null,n),this.eventHandler.emitEvent(EventType.LOGOUT_END,InteractionType.Redirect),n;case 11:return this.eventHandler.emitEvent(EventType.LOGOUT_END,InteractionType.Redirect),[2]}})})},t.prototype.getRedirectStartPage=function(r){var a=r||window.location.href;return UrlString.getAbsoluteUrl(a,BrowserUtils.getCurrentUri())},t}(StandardInteractionClient);/*! @azure/msal-browser v2.33.0 2023-02-06 */var PopupClient=function(i){__extends$1(t,i);function t(r,a,l,g,d,s,u,n,c,C){var m=i.call(this,r,a,l,g,d,s,u,c,C)||this;return m.unloadWindow=m.unloadWindow.bind(m),m.nativeStorage=n,m}return t.prototype.acquireToken=function(r){try{var a=this.generatePopupName(r.scopes||OIDC_DEFAULT_SCOPES,r.authority||this.config.auth.authority),l=r.popupWindowAttributes||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(r,a,l);this.logger.verbose("asyncPopup set to false, opening popup before acquiring token");var g=this.openSizedPopup("about:blank",a,l);return this.acquireTokenPopupAsync(r,a,l,g)}catch(d){return Promise.reject(d)}},t.prototype.logout=function(r){try{this.logger.verbose("logoutPopup called");var a=this.initializeLogoutRequest(r),l=this.generateLogoutPopupName(a),g=r&&r.authority,d=r&&r.mainWindowRedirectUri,s=(r==null?void 0:r.popupWindowAttributes)||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(a,l,s,g,void 0,d);this.logger.verbose("asyncPopup set to false, opening popup");var u=this.openSizedPopup("about:blank",l,s);return this.logoutPopupAsync(a,l,s,g,u,d)}catch(n){return Promise.reject(n)}},t.prototype.acquireTokenPopupAsync=function(r,a,l,g){return __awaiter$2(this,void 0,void 0,function(){var d,s,u,n,c,C,m,e,E,A,B,O,v,b,o,T,D,_=this;return __generator$2(this,function(y){switch(y.label){case 0:return this.logger.verbose("acquireTokenPopupAsync called"),d=this.initializeServerTelemetryManager(ApiId.acquireTokenPopup),this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientInitializeAuthorizationRequest,r.correlationId),[4,this.initializeAuthorizationRequest(r,InteractionType.Popup)];case 1:s=y.sent(),this.browserStorage.updateCacheEntries(s.state,s.nonce,s.authority,s.loginHint||Constants.EMPTY_STRING,s.account||null),y.label=2;case 2:return y.trys.push([2,8,,9]),this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientInitializeAuthorizationCodeRequest,r.correlationId),[4,this.initializeAuthorizationCodeRequest(s)];case 3:return u=y.sent(),this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientCreateAuthCodeClient,r.correlationId),[4,this.createAuthCodeClient(d,s.authority,s.azureCloudOptions)];case 4:return n=y.sent(),this.logger.verbose("Auth code client created"),c=NativeMessageHandler.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,r.authenticationScheme),C=void 0,c&&(C=this.performanceClient.startMeasurement(PerformanceEvents.FetchAccountIdWithNativeBroker,r.correlationId)),[4,n.getAuthCodeUrl(__assign$1(__assign$1({},s),{nativeBroker:c}))];case 5:return m=y.sent(),e=new InteractionHandler(n,this.browserStorage,u,this.logger,this.performanceClient),E={popup:g,popupName:a,popupWindowAttributes:l},A=this.initiateAuthRequest(m,E),this.eventHandler.emitEvent(EventType.POPUP_OPENED,InteractionType.Popup,{popupWindow:A},null),[4,this.monitorPopupForHash(A)];case 6:if(B=y.sent(),O=UrlString.getDeserializedHash(B),v=this.validateAndExtractStateFromHash(O,InteractionType.Popup,s.correlationId),ThrottlingUtils.removeThrottle(this.browserStorage,this.config.auth.clientId,u),O.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),C&&C.endMeasurement({success:!0,isNativeBroker:!0}),!this.nativeMessageHandler)throw BrowserAuthError.createNativeConnectionNotEstablishedError();return b=new NativeInteractionClient(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ApiId.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,O.accountId,this.nativeStorage,s.correlationId),o=ProtocolUtils.parseRequestState(this.browserCrypto,v).userRequestState,[2,b.acquireToken(__assign$1(__assign$1({},s),{state:o,prompt:void 0})).finally(function(){_.browserStorage.cleanRequestByState(v)})]}return[4,e.handleCodeResponseFromHash(B,v,n.authority,this.networkClient)];case 7:return T=y.sent(),[2,T];case 8:throw D=y.sent(),g&&g.close(),D instanceof AuthError&&D.setCorrelationId(this.correlationId),d.cacheFailedRequest(D),this.browserStorage.cleanRequestByState(s.state),D;case 9:return[2]}})})},t.prototype.logoutPopupAsync=function(r,a,l,g,d,s){return __awaiter$2(this,void 0,void 0,function(){var u,n,c,C,m,e,E;return __generator$2(this,function(A){switch(A.label){case 0:this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(EventType.LOGOUT_START,InteractionType.Popup,r),u=this.initializeServerTelemetryManager(ApiId.logoutPopup),A.label=1;case 1:return A.trys.push([1,5,,6]),[4,this.clearCacheOnLogout(r.account)];case 2:return A.sent(),this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientCreateAuthCodeClient,r.correlationId),[4,this.createAuthCodeClient(u,g)];case 3:return n=A.sent(),this.logger.verbose("Auth code client created"),c=n.getLogoutUri(r),this.eventHandler.emitEvent(EventType.LOGOUT_SUCCESS,InteractionType.Popup,r),C=this.openPopup(c,{popupName:a,popupWindowAttributes:l,popup:d}),this.eventHandler.emitEvent(EventType.POPUP_OPENED,InteractionType.Popup,{popupWindow:C},null),[4,this.waitForLogoutPopup(C)];case 4:return A.sent(),s?(m={apiId:ApiId.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},e=UrlString.getAbsoluteUrl(s,BrowserUtils.getCurrentUri()),this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii("Redirecting main window to: "+e),this.navigationClient.navigateInternal(e,m)):this.logger.verbose("No main window navigation requested"),[3,6];case 5:throw E=A.sent(),d&&d.close(),E instanceof AuthError&&E.setCorrelationId(this.correlationId),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(EventType.LOGOUT_FAILURE,InteractionType.Popup,null,E),this.eventHandler.emitEvent(EventType.LOGOUT_END,InteractionType.Popup),u.cacheFailedRequest(E),E;case 6:return this.eventHandler.emitEvent(EventType.LOGOUT_END,InteractionType.Popup),[2]}})})},t.prototype.initiateAuthRequest=function(r,a){if(StringUtils.isEmpty(r))throw this.logger.error("Navigate url is empty"),BrowserAuthError.createEmptyNavigationUriError();return this.logger.infoPii("Navigate to: "+r),this.openPopup(r,a)},t.prototype.monitorPopupForHash=function(r){var a=this;return new Promise(function(l,g){var d=a.config.system.windowHashTimeout/a.config.system.pollIntervalMilliseconds,s=0;a.logger.verbose("PopupHandler.monitorPopupForHash - polling started");var u=setInterval(function(){if(r.closed){a.logger.error("PopupHandler.monitorPopupForHash - window closed"),a.cleanPopup(),clearInterval(u),g(BrowserAuthError.createUserCancelledError());return}var n=Constants.EMPTY_STRING,c=Constants.EMPTY_STRING;try{n=r.location.href,c=r.location.hash}catch{}StringUtils.isEmpty(n)||n==="about:blank"||(a.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),s++,c?(a.logger.verbose("PopupHandler.monitorPopupForHash - found hash in url"),clearInterval(u),a.cleanPopup(r),UrlString.hashContainsKnownProperties(c)?(a.logger.verbose("PopupHandler.monitorPopupForHash - hash contains known properties, returning."),l(c)):(a.logger.error("PopupHandler.monitorPopupForHash - found hash in url but it does not contain known properties. Check that your router is not changing the hash prematurely."),a.logger.errorPii("PopupHandler.monitorPopupForHash - hash found: "+c),g(BrowserAuthError.createHashDoesNotContainKnownPropertiesError()))):s>d&&(a.logger.error("PopupHandler.monitorPopupForHash - unable to find hash in url, timing out"),clearInterval(u),g(BrowserAuthError.createMonitorPopupTimeoutError())))},a.config.system.pollIntervalMilliseconds)})},t.prototype.waitForLogoutPopup=function(r){var a=this;return new Promise(function(l){a.logger.verbose("PopupHandler.waitForLogoutPopup - polling started");var g=setInterval(function(){r.closed&&(a.logger.error("PopupHandler.waitForLogoutPopup - window closed"),a.cleanPopup(),clearInterval(g),l());var d=Constants.EMPTY_STRING;try{d=r.location.href}catch{}StringUtils.isEmpty(d)||d==="about:blank"||(a.logger.verbose("PopupHandler.waitForLogoutPopup - popup window is on same origin as caller, closing."),clearInterval(g),a.cleanPopup(r),l())},a.config.system.pollIntervalMilliseconds)})},t.prototype.openPopup=function(r,a){try{var l=void 0;if(a.popup?(l=a.popup,this.logger.verbosePii("Navigating popup window to: "+r),l.location.assign(r)):typeof a.popup>"u"&&(this.logger.verbosePii("Opening popup window to: "+r),l=this.openSizedPopup(r,a.popupName,a.popupWindowAttributes)),!l)throw BrowserAuthError.createEmptyWindowCreatedError();return l.focus&&l.focus(),this.currentWindow=l,window.addEventListener("beforeunload",this.unloadWindow),l}catch(g){throw this.logger.error("error opening popup "+g.message),this.browserStorage.setInteractionInProgress(!1),BrowserAuthError.createPopupWindowError(g.toString())}},t.prototype.openSizedPopup=function(r,a,l){var g,d,s,u,n=window.screenLeft?window.screenLeft:window.screenX,c=window.screenTop?window.screenTop:window.screenY,C=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,m=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,e=(g=l.popupSize)===null||g===void 0?void 0:g.width,E=(d=l.popupSize)===null||d===void 0?void 0:d.height,A=(s=l.popupPosition)===null||s===void 0?void 0:s.top,B=(u=l.popupPosition)===null||u===void 0?void 0:u.left;return(!e||e<0||e>C)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),e=BrowserConstants.POPUP_WIDTH),(!E||E<0||E>m)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),E=BrowserConstants.POPUP_HEIGHT),(!A||A<0||A>m)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),A=Math.max(0,m/2-BrowserConstants.POPUP_HEIGHT/2+c)),(!B||B<0||B>C)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),B=Math.max(0,C/2-BrowserConstants.POPUP_WIDTH/2+n)),window.open(r,a,"width="+e+", height="+E+", top="+A+", left="+B+", scrollbars=yes")},t.prototype.unloadWindow=function(r){this.browserStorage.cleanRequestByInteractionType(InteractionType.Popup),this.currentWindow&&this.currentWindow.close(),r.preventDefault()},t.prototype.cleanPopup=function(r){r&&r.close(),window.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)},t.prototype.generatePopupName=function(r,a){return BrowserConstants.POPUP_NAME_PREFIX+"."+this.config.auth.clientId+"."+r.join("-")+"."+a+"."+this.correlationId},t.prototype.generateLogoutPopupName=function(r){var a=r.account&&r.account.homeAccountId;return BrowserConstants.POPUP_NAME_PREFIX+"."+this.config.auth.clientId+"."+a+"."+this.correlationId},t}(StandardInteractionClient);/*! @azure/msal-browser v2.33.0 2023-02-06 */var NavigationClient=function(){function i(){}return i.prototype.navigateInternal=function(t,r){return i.defaultNavigateWindow(t,r)},i.prototype.navigateExternal=function(t,r){return i.defaultNavigateWindow(t,r)},i.defaultNavigateWindow=function(t,r){return r.noHistory?window.location.replace(t):window.location.assign(t),new Promise(function(a){setTimeout(function(){a(!0)},r.timeout)})},i}();/*! @azure/msal-browser v2.33.0 2023-02-06 */var DEFAULT_POPUP_TIMEOUT_MS=6e4,DEFAULT_IFRAME_TIMEOUT_MS=6e3,DEFAULT_REDIRECT_TIMEOUT_MS=3e4,DEFAULT_NATIVE_BROKER_HANDSHAKE_TIMEOUT_MS=2e3;function buildConfiguration(i,t){var r=i.auth,a=i.cache,l=i.system,g=i.telemetry,d={clientId:Constants.EMPTY_STRING,authority:""+Constants.DEFAULT_AUTHORITY,knownAuthorities:[],cloudDiscoveryMetadata:Constants.EMPTY_STRING,authorityMetadata:Constants.EMPTY_STRING,redirectUri:Constants.EMPTY_STRING,postLogoutRedirectUri:Constants.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:ProtocolMode.AAD,azureCloudOptions:{azureCloudInstance:AzureCloudInstance.None,tenant:Constants.EMPTY_STRING},skipAuthorityMetadataCache:!1},s={cacheLocation:BrowserCacheLocation.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1},u={loggerCallback:function(){},logLevel:LogLevel.Info,piiLoggingEnabled:!1},n=__assign$1(__assign$1({},DEFAULT_SYSTEM_OPTIONS),{loggerOptions:u,networkClient:t?BrowserUtils.getBrowserNetworkClient():StubbedNetworkModule,navigationClient:new NavigationClient,loadFrameTimeout:0,windowHashTimeout:(l==null?void 0:l.loadFrameTimeout)||DEFAULT_POPUP_TIMEOUT_MS,iframeHashTimeout:(l==null?void 0:l.loadFrameTimeout)||DEFAULT_IFRAME_TIMEOUT_MS,navigateFrameWait:t&&BrowserUtils.detectIEOrEdge()?500:0,redirectNavigationTimeout:DEFAULT_REDIRECT_TIMEOUT_MS,asyncPopups:!1,allowRedirectInIframe:!1,allowNativeBroker:!1,nativeBrokerHandshakeTimeout:(l==null?void 0:l.nativeBrokerHandshakeTimeout)||DEFAULT_NATIVE_BROKER_HANDSHAKE_TIMEOUT_MS,pollIntervalMilliseconds:BrowserConstants.DEFAULT_POLL_INTERVAL_MS,cryptoOptions:{useMsrCrypto:!1,entropy:void 0}}),c=__assign$1(__assign$1({},l),{loggerOptions:(l==null?void 0:l.loggerOptions)||u}),C={application:{appName:Constants.EMPTY_STRING,appVersion:Constants.EMPTY_STRING}},m={auth:__assign$1(__assign$1({},d),r),cache:__assign$1(__assign$1({},s),a),system:__assign$1(__assign$1({},n),c),telemetry:__assign$1(__assign$1({},C),g)};return m}/*! @azure/msal-browser v2.33.0 2023-02-06 */var SilentHandler=function(i){__extends$1(t,i);function t(r,a,l,g,d,s){var u=i.call(this,r,a,l,g,s)||this;return u.navigateFrameWait=d.navigateFrameWait,u.pollIntervalMilliseconds=d.pollIntervalMilliseconds,u}return t.prototype.initiateAuthRequest=function(r){return __awaiter$2(this,void 0,void 0,function(){return __generator$2(this,function(a){switch(a.label){case 0:if(this.performanceClient.addQueueMeasurement(PerformanceEvents.SilentHandlerInitiateAuthRequest,this.authCodeRequest.correlationId),StringUtils.isEmpty(r))throw this.logger.info("Navigate url is empty"),BrowserAuthError.createEmptyNavigationUriError();return this.navigateFrameWait?(this.performanceClient.setPreQueueTime(PerformanceEvents.SilentHandlerLoadFrame,this.authCodeRequest.correlationId),[4,this.loadFrame(r)]):[3,2];case 1:return[2,a.sent()];case 2:return[2,this.loadFrameSync(r)]}})})},t.prototype.monitorIframeForHash=function(r,a){var l=this;return this.performanceClient.addQueueMeasurement(PerformanceEvents.SilentHandlerMonitorIframeForHash,this.authCodeRequest.correlationId),new Promise(function(g,d){a<DEFAULT_IFRAME_TIMEOUT_MS&&l.logger.warning("system.loadFrameTimeout or system.iframeHashTimeout set to lower ("+a+"ms) than the default ("+DEFAULT_IFRAME_TIMEOUT_MS+"ms). This may result in timeouts.");var s=window.performance.now(),u=s+a,n=setInterval(function(){if(window.performance.now()>u){l.removeHiddenIframe(r),clearInterval(n),d(BrowserAuthError.createMonitorIframeTimeoutError());return}var c=Constants.EMPTY_STRING,C=r.contentWindow;try{c=C?C.location.href:Constants.EMPTY_STRING}catch{}if(!StringUtils.isEmpty(c)){var m=C?C.location.hash:Constants.EMPTY_STRING;if(UrlString.hashContainsKnownProperties(m)){l.removeHiddenIframe(r),clearInterval(n),g(m);return}}},l.pollIntervalMilliseconds)})},t.prototype.loadFrame=function(r){var a=this;return this.performanceClient.addQueueMeasurement(PerformanceEvents.SilentHandlerLoadFrame,this.authCodeRequest.correlationId),new Promise(function(l,g){var d=a.createHiddenIframe();setTimeout(function(){if(!d){g("Unable to load iframe");return}d.src=r,l(d)},a.navigateFrameWait)})},t.prototype.loadFrameSync=function(r){var a=this.createHiddenIframe();return a.src=r,a},t.prototype.createHiddenIframe=function(){var r=document.createElement("iframe");return r.style.visibility="hidden",r.style.position="absolute",r.style.width=r.style.height="0",r.style.border="0",r.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.getElementsByTagName("body")[0].appendChild(r),r},t.prototype.removeHiddenIframe=function(r){document.body===r.parentNode&&document.body.removeChild(r)},t}(InteractionHandler);/*! @azure/msal-browser v2.33.0 2023-02-06 */var SilentIframeClient=function(i){__extends$1(t,i);function t(r,a,l,g,d,s,u,n,c,C,m){var e=i.call(this,r,a,l,g,d,s,n,C,m)||this;return e.apiId=u,e.nativeStorage=c,e}return t.prototype.acquireToken=function(r){return __awaiter$2(this,void 0,void 0,function(){var a,l,g,d,s;return __generator$2(this,function(u){switch(u.label){case 0:if(this.performanceClient.addQueueMeasurement(PerformanceEvents.SilentIframeClientAcquireToken,r.correlationId),this.logger.verbose("acquireTokenByIframe called"),a=this.performanceClient.startMeasurement(PerformanceEvents.SilentIframeClientAcquireToken,r.correlationId),StringUtils.isEmpty(r.loginHint)&&StringUtils.isEmpty(r.sid)&&(!r.account||StringUtils.isEmpty(r.account.username))&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request."),r.prompt&&r.prompt!==PromptValue.NONE&&r.prompt!==PromptValue.NO_SESSION)throw a.endMeasurement({success:!1}),BrowserAuthError.createSilentPromptValueError(r.prompt);return this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientInitializeAuthorizationRequest,r.correlationId),[4,this.initializeAuthorizationRequest(__assign$1(__assign$1({},r),{prompt:r.prompt||PromptValue.NONE}),InteractionType.Silent)];case 1:l=u.sent(),this.browserStorage.updateCacheEntries(l.state,l.nonce,l.authority,l.loginHint||Constants.EMPTY_STRING,l.account||null),g=this.initializeServerTelemetryManager(this.apiId),u.label=2;case 2:return u.trys.push([2,5,,6]),this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientCreateAuthCodeClient,r.correlationId),[4,this.createAuthCodeClient(g,l.authority,l.azureCloudOptions)];case 3:return d=u.sent(),this.logger.verbose("Auth code client created"),this.performanceClient.setPreQueueTime(PerformanceEvents.SilentIframeClientTokenHelper,r.correlationId),[4,this.silentTokenHelper(d,l).then(function(n){return a.endMeasurement({success:!0,fromCache:!1,requestId:n.requestId}),n})];case 4:return[2,u.sent()];case 5:throw s=u.sent(),s instanceof AuthError&&s.setCorrelationId(this.correlationId),g.cacheFailedRequest(s),this.browserStorage.cleanRequestByState(l.state),a.endMeasurement({errorCode:s instanceof AuthError&&s.errorCode||void 0,subErrorCode:s instanceof AuthError&&s.subError||void 0,success:!1}),s;case 6:return[2]}})})},t.prototype.logout=function(){return Promise.reject(BrowserAuthError.createSilentLogoutUnsupportedError())},t.prototype.silentTokenHelper=function(r,a){return __awaiter$2(this,void 0,void 0,function(){var l,g,d,s,u,n,c,C,m,e=this;return __generator$2(this,function(E){switch(E.label){case 0:return this.performanceClient.addQueueMeasurement(PerformanceEvents.SilentIframeClientTokenHelper,a.correlationId),this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientInitializeAuthorizationCodeRequest,a.correlationId),[4,this.initializeAuthorizationCodeRequest(a)];case 1:return l=E.sent(),this.performanceClient.setPreQueueTime(PerformanceEvents.GetAuthCodeUrl,a.correlationId),[4,r.getAuthCodeUrl(__assign$1(__assign$1({},a),{nativeBroker:NativeMessageHandler.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,a.authenticationScheme)}))];case 2:return g=E.sent(),d=new SilentHandler(r,this.browserStorage,l,this.logger,this.config.system,this.performanceClient),this.performanceClient.setPreQueueTime(PerformanceEvents.SilentHandlerInitiateAuthRequest,a.correlationId),[4,d.initiateAuthRequest(g)];case 3:return s=E.sent(),this.performanceClient.setPreQueueTime(PerformanceEvents.SilentHandlerMonitorIframeForHash,a.correlationId),[4,d.monitorIframeForHash(s,this.config.system.iframeHashTimeout)];case 4:if(u=E.sent(),n=UrlString.getDeserializedHash(u),c=this.validateAndExtractStateFromHash(n,InteractionType.Silent,l.correlationId),n.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw BrowserAuthError.createNativeConnectionNotEstablishedError();return C=new NativeInteractionClient(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.apiId,this.performanceClient,this.nativeMessageHandler,n.accountId,this.browserStorage,this.correlationId),m=ProtocolUtils.parseRequestState(this.browserCrypto,c).userRequestState,[2,C.acquireToken(__assign$1(__assign$1({},a),{state:m,prompt:a.prompt||PromptValue.NONE})).finally(function(){e.browserStorage.cleanRequestByState(c)})]}return this.performanceClient.setPreQueueTime(PerformanceEvents.HandleCodeResponseFromHash,a.correlationId),[2,d.handleCodeResponseFromHash(u,c,r.authority,this.networkClient)]}})})},t}(StandardInteractionClient);/*! @azure/msal-browser v2.33.0 2023-02-06 */var SilentRefreshClient=function(i){__extends$1(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.acquireToken=function(r){return __awaiter$2(this,void 0,void 0,function(){var a,l,g,d,s,u=this;return __generator$2(this,function(n){switch(n.label){case 0:return this.performanceClient.addQueueMeasurement(PerformanceEvents.SilentRefreshClientAcquireToken,r.correlationId),this.performanceClient.setPreQueueTime(PerformanceEvents.InitializeBaseRequest,r.correlationId),l=[__assign$1({},r)],[4,this.initializeBaseRequest(r)];case 1:return a=__assign$1.apply(void 0,l.concat([n.sent()])),g=this.performanceClient.startMeasurement(PerformanceEvents.SilentRefreshClientAcquireToken,a.correlationId),d=this.initializeServerTelemetryManager(ApiId.acquireTokenSilent_silentFlow),[4,this.createRefreshTokenClient(d,a.authority,a.azureCloudOptions)];case 2:return s=n.sent(),this.logger.verbose("Refresh token client created"),this.performanceClient.setPreQueueTime(PerformanceEvents.RefreshTokenClientAcquireTokenByRefreshToken,r.correlationId),[2,s.acquireTokenByRefreshToken(a).then(function(c){return g.endMeasurement({success:!0,fromCache:c.fromCache,requestId:c.requestId}),c}).catch(function(c){throw c instanceof AuthError&&c.setCorrelationId(u.correlationId),d.cacheFailedRequest(c),g.endMeasurement({errorCode:c.errorCode,subErrorCode:c.subError,success:!1}),c})]}})})},t.prototype.logout=function(){return Promise.reject(BrowserAuthError.createSilentLogoutUnsupportedError())},t.prototype.createRefreshTokenClient=function(r,a,l){return __awaiter$2(this,void 0,void 0,function(){var g;return __generator$2(this,function(d){switch(d.label){case 0:return this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientGetClientConfiguration,this.correlationId),[4,this.getClientConfiguration(r,a,l)];case 1:return g=d.sent(),[2,new RefreshTokenClient(g,this.performanceClient)]}})})},t}(StandardInteractionClient);/*! @azure/msal-browser v2.33.0 2023-02-06 */var EventHandler=function(){function i(t,r){this.eventCallbacks=new Map,this.logger=t,this.browserCrypto=r,this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}return i.prototype.addEventCallback=function(t){if(typeof window<"u"){var r=this.browserCrypto.createNewGuid();return this.eventCallbacks.set(r,t),this.logger.verbose("Event callback registered with id: "+r),r}return null},i.prototype.removeEventCallback=function(t){this.eventCallbacks.delete(t),this.logger.verbose("Event callback "+t+" removed.")},i.prototype.enableAccountStorageEvents=function(){typeof window>"u"||(this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange)))},i.prototype.disableAccountStorageEvents=function(){typeof window>"u"||(this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered."))},i.prototype.emitEvent=function(t,r,a,l){var g=this;if(typeof window<"u"){var d={eventType:t,interactionType:r||null,payload:a||null,error:l||null,timestamp:Date.now()};this.logger.info("Emitting event: "+t),this.eventCallbacks.forEach(function(s,u){g.logger.verbose("Emitting event to callback "+u+": "+t),s.apply(null,[d])})}},i.prototype.handleAccountCacheChange=function(t){try{var r=t.newValue||t.oldValue;if(!r)return;var a=JSON.parse(r);if(typeof a!="object"||!AccountEntity.isAccountEntity(a))return;var l=CacheManager.toObject(new AccountEntity,a),g=l.getAccountInfo();!t.oldValue&&t.newValue?(this.logger.info("Account was added to cache in a different window"),this.emitEvent(EventType.ACCOUNT_ADDED,void 0,g)):!t.newValue&&t.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.emitEvent(EventType.ACCOUNT_REMOVED,void 0,g))}catch{return}},i}();/*! @azure/msal-browser v2.33.0 2023-02-06 */var MathUtils=function(){function i(){}return i.decimalToHex=function(t){for(var r=t.toString(16);r.length<2;)r="0"+r;return r},i}();/*! @azure/msal-browser v2.33.0 2023-02-06 */var GuidGenerator=function(){function i(t){this.cryptoObj=t}return i.prototype.generateGuid=function(){try{var t=new Uint8Array(16);return this.cryptoObj.getRandomValues(t),t[6]|=64,t[6]&=79,t[8]|=128,t[8]&=191,MathUtils.decimalToHex(t[0])+MathUtils.decimalToHex(t[1])+MathUtils.decimalToHex(t[2])+MathUtils.decimalToHex(t[3])+"-"+MathUtils.decimalToHex(t[4])+MathUtils.decimalToHex(t[5])+"-"+MathUtils.decimalToHex(t[6])+MathUtils.decimalToHex(t[7])+"-"+MathUtils.decimalToHex(t[8])+MathUtils.decimalToHex(t[9])+"-"+MathUtils.decimalToHex(t[10])+MathUtils.decimalToHex(t[11])+MathUtils.decimalToHex(t[12])+MathUtils.decimalToHex(t[13])+MathUtils.decimalToHex(t[14])+MathUtils.decimalToHex(t[15])}catch{for(var r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",a="0123456789abcdef",l=0,g=Constants.EMPTY_STRING,d=0;d<36;d++)r[d]!=="-"&&r[d]!=="4"&&(l=Math.random()*16|0),r[d]==="x"?g+=a[l]:r[d]==="y"?(l&=3,l|=8,g+=a[l]):g+=r[d];return g}},i.prototype.isGuid=function(t){var r=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;return r.test(t)},i}();/*! @azure/msal-browser v2.33.0 2023-02-06 */var BrowserStringUtils=function(){function i(){}return i.stringToUtf8Arr=function(t){for(var r,a=0,l=t.length,g=0;g<l;g++)r=t.charCodeAt(g),a+=r<128?1:r<2048?2:r<65536?3:r<2097152?4:r<67108864?5:6;for(var d=new Uint8Array(a),s=0,u=0;s<a;u++)r=t.charCodeAt(u),r<128?d[s++]=r:r<2048?(d[s++]=192+(r>>>6),d[s++]=128+(r&63)):r<65536?(d[s++]=224+(r>>>12),d[s++]=128+(r>>>6&63),d[s++]=128+(r&63)):r<2097152?(d[s++]=240+(r>>>18),d[s++]=128+(r>>>12&63),d[s++]=128+(r>>>6&63),d[s++]=128+(r&63)):r<67108864?(d[s++]=248+(r>>>24),d[s++]=128+(r>>>18&63),d[s++]=128+(r>>>12&63),d[s++]=128+(r>>>6&63),d[s++]=128+(r&63)):(d[s++]=252+(r>>>30),d[s++]=128+(r>>>24&63),d[s++]=128+(r>>>18&63),d[s++]=128+(r>>>12&63),d[s++]=128+(r>>>6&63),d[s++]=128+(r&63));return d},i.stringToArrayBuffer=function(t){for(var r=new ArrayBuffer(t.length),a=new Uint8Array(r),l=0;l<t.length;l++)a[l]=t.charCodeAt(l);return r},i.utf8ArrToString=function(t){for(var r=Constants.EMPTY_STRING,a=void 0,l=t.length,g=0;g<l;g++)a=t[g],r+=String.fromCharCode(a>251&&a<254&&g+5<l?(a-252)*1073741824+(t[++g]-128<<24)+(t[++g]-128<<18)+(t[++g]-128<<12)+(t[++g]-128<<6)+t[++g]-128:a>247&&a<252&&g+4<l?(a-248<<24)+(t[++g]-128<<18)+(t[++g]-128<<12)+(t[++g]-128<<6)+t[++g]-128:a>239&&a<248&&g+3<l?(a-240<<18)+(t[++g]-128<<12)+(t[++g]-128<<6)+t[++g]-128:a>223&&a<240&&g+2<l?(a-224<<12)+(t[++g]-128<<6)+t[++g]-128:a>191&&a<224&&g+1<l?(a-192<<6)+t[++g]-128:a);return r},i.getSortedObjectString=function(t){return JSON.stringify(t,Object.keys(t).sort())},i}();/*! @azure/msal-browser v2.33.0 2023-02-06 */var Base64Encode=function(){function i(){}return i.prototype.urlEncode=function(t){return encodeURIComponent(this.encode(t).replace(/=/g,Constants.EMPTY_STRING).replace(/\+/g,"-").replace(/\//g,"_"))},i.prototype.urlEncodeArr=function(t){return this.base64EncArr(t).replace(/=/g,Constants.EMPTY_STRING).replace(/\+/g,"-").replace(/\//g,"_")},i.prototype.encode=function(t){var r=BrowserStringUtils.stringToUtf8Arr(t);return this.base64EncArr(r)},i.prototype.base64EncArr=function(t){for(var r=(3-t.length%3)%3,a=Constants.EMPTY_STRING,l=void 0,g=t.length,d=0,s=0;s<g;s++)l=s%3,d|=t[s]<<(16>>>l&24),(l===2||t.length-s===1)&&(a+=String.fromCharCode(this.uint6ToB64(d>>>18&63),this.uint6ToB64(d>>>12&63),this.uint6ToB64(d>>>6&63),this.uint6ToB64(d&63)),d=0);return r===0?a:a.substring(0,a.length-r)+(r===1?"=":"==")},i.prototype.uint6ToB64=function(t){return t<26?t+65:t<52?t+71:t<62?t-4:t===62?43:t===63?47:65},i}();/*! @azure/msal-browser v2.33.0 2023-02-06 */var Base64Decode=function(){function i(){}return i.prototype.decode=function(t){var r=t.replace(/-/g,"+").replace(/_/g,"/");switch(r.length%4){case 0:break;case 2:r+="==";break;case 3:r+="=";break;default:throw new Error("Invalid base64 string")}var a=this.base64DecToArr(r);return BrowserStringUtils.utf8ArrToString(a)},i.prototype.base64DecToArr=function(t,r){for(var a=t.replace(/[^A-Za-z0-9\+\/]/g,Constants.EMPTY_STRING),l=a.length,g=r?Math.ceil((l*3+1>>>2)/r)*r:l*3+1>>>2,d=new Uint8Array(g),s=void 0,u=void 0,n=0,c=0,C=0;C<l;C++)if(u=C&3,n|=this.b64ToUint6(a.charCodeAt(C))<<18-6*u,u===3||l-C===1){for(s=0;s<3&&c<g;s++,c++)d[c]=n>>>(16>>>s&24)&255;n=0}return d},i.prototype.b64ToUint6=function(t){return t>64&&t<91?t-65:t>96&&t<123?t-71:t>47&&t<58?t+4:t===43?62:t===47?63:0},i}();/*! @azure/msal-browser v2.33.0 2023-02-06 */var RANDOM_BYTE_ARR_LENGTH=32,PkceGenerator=function(){function i(t){this.base64Encode=new Base64Encode,this.cryptoObj=t}return i.prototype.generateCodes=function(){return __awaiter$2(this,void 0,void 0,function(){var t,r;return __generator$2(this,function(a){switch(a.label){case 0:return t=this.generateCodeVerifier(),[4,this.generateCodeChallengeFromVerifier(t)];case 1:return r=a.sent(),[2,{verifier:t,challenge:r}]}})})},i.prototype.generateCodeVerifier=function(){try{var t=new Uint8Array(RANDOM_BYTE_ARR_LENGTH);this.cryptoObj.getRandomValues(t);var r=this.base64Encode.urlEncodeArr(t);return r}catch(a){throw BrowserAuthError.createPkceNotGeneratedError(a)}},i.prototype.generateCodeChallengeFromVerifier=function(t){return __awaiter$2(this,void 0,void 0,function(){var r,a;return __generator$2(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.cryptoObj.sha256Digest(t)];case 1:return r=l.sent(),[2,this.base64Encode.urlEncodeArr(new Uint8Array(r))];case 2:throw a=l.sent(),BrowserAuthError.createPkceNotGeneratedError(a);case 3:return[2]}})})},i}();/*! @azure/msal-browser v2.33.0 2023-02-06 */var ModernBrowserCrypto=function(){function i(){}return i.prototype.getRandomValues=function(t){return window.crypto.getRandomValues(t)},i.prototype.generateKey=function(t,r,a){return __awaiter$2(this,void 0,void 0,function(){return __generator$2(this,function(l){return[2,window.crypto.subtle.generateKey(t,r,a)]})})},i.prototype.exportKey=function(t){return __awaiter$2(this,void 0,void 0,function(){return __generator$2(this,function(r){return[2,window.crypto.subtle.exportKey(KEY_FORMAT_JWK,t)]})})},i.prototype.importKey=function(t,r,a,l){return __awaiter$2(this,void 0,void 0,function(){return __generator$2(this,function(g){return[2,window.crypto.subtle.importKey(KEY_FORMAT_JWK,t,r,a,l)]})})},i.prototype.sign=function(t,r,a){return __awaiter$2(this,void 0,void 0,function(){return __generator$2(this,function(l){return[2,window.crypto.subtle.sign(t,r,a)]})})},i.prototype.digest=function(t,r){return __awaiter$2(this,void 0,void 0,function(){return __generator$2(this,function(a){return[2,window.crypto.subtle.digest(t,r)]})})},i}();/*! @azure/msal-browser v2.33.0 2023-02-06 */var MsrBrowserCrypto=function(){function i(){}return i.prototype.initPrng=function(t){return window.msrCrypto.initPrng(__spread(t))},i.prototype.getRandomValues=function(t){return window.msrCrypto.getRandomValues(t)},i.prototype.generateKey=function(t,r,a){return __awaiter$2(this,void 0,void 0,function(){return __generator$2(this,function(l){return[2,window.msrCrypto.subtle.generateKey(t,r,a)]})})},i.prototype.exportKey=function(t){return __awaiter$2(this,void 0,void 0,function(){return __generator$2(this,function(r){return[2,window.msrCrypto.subtle.exportKey(KEY_FORMAT_JWK,t)]})})},i.prototype.importKey=function(t,r,a,l){return __awaiter$2(this,void 0,void 0,function(){return __generator$2(this,function(g){return[2,window.msrCrypto.subtle.importKey(KEY_FORMAT_JWK,t,r,a,l)]})})},i.prototype.sign=function(t,r,a){return __awaiter$2(this,void 0,void 0,function(){return __generator$2(this,function(l){return[2,window.msrCrypto.subtle.sign(t,r,a)]})})},i.prototype.digest=function(t,r){return __awaiter$2(this,void 0,void 0,function(){return __generator$2(this,function(a){return[2,window.msrCrypto.subtle.digest(t,r)]})})},i}();/*! @azure/msal-browser v2.33.0 2023-02-06 */var MsBrowserCrypto=function(){function i(){}return i.prototype.getRandomValues=function(t){return window.msCrypto.getRandomValues(t)},i.prototype.generateKey=function(t,r,a){return __awaiter$2(this,void 0,void 0,function(){return __generator$2(this,function(l){return[2,new Promise(function(g,d){var s=window.msCrypto.subtle.generateKey(t,r,a);s.addEventListener("complete",function(u){g(u.target.result)}),s.addEventListener("error",function(u){d(u)})})]})})},i.prototype.exportKey=function(t){return __awaiter$2(this,void 0,void 0,function(){return __generator$2(this,function(r){return[2,new Promise(function(a,l){var g=window.msCrypto.subtle.exportKey(KEY_FORMAT_JWK,t);g.addEventListener("complete",function(d){var s=d.target.result,u=BrowserStringUtils.utf8ArrToString(new Uint8Array(s)).replace(/\r/g,Constants.EMPTY_STRING).replace(/\n/g,Constants.EMPTY_STRING).replace(/\t/g,Constants.EMPTY_STRING).split(" ").join(Constants.EMPTY_STRING).replace("\0",Constants.EMPTY_STRING);try{a(JSON.parse(u))}catch(n){l(n)}}),g.addEventListener("error",function(d){l(d)})})]})})},i.prototype.importKey=function(t,r,a,l){return __awaiter$2(this,void 0,void 0,function(){var g,d;return __generator$2(this,function(s){return g=BrowserStringUtils.getSortedObjectString(t),d=BrowserStringUtils.stringToArrayBuffer(g),[2,new Promise(function(u,n){var c=window.msCrypto.subtle.importKey(KEY_FORMAT_JWK,d,r,a,l);c.addEventListener("complete",function(C){u(C.target.result)}),c.addEventListener("error",function(C){n(C)})})]})})},i.prototype.sign=function(t,r,a){return __awaiter$2(this,void 0,void 0,function(){return __generator$2(this,function(l){return[2,new Promise(function(g,d){var s=window.msCrypto.subtle.sign(t,r,a);s.addEventListener("complete",function(u){g(u.target.result)}),s.addEventListener("error",function(u){d(u)})})]})})},i.prototype.digest=function(t,r){return __awaiter$2(this,void 0,void 0,function(){return __generator$2(this,function(a){return[2,new Promise(function(l,g){var d=window.msCrypto.subtle.digest(t,r.buffer);d.addEventListener("complete",function(s){l(s.target.result)}),d.addEventListener("error",function(s){g(s)})})]})})},i}();/*! @azure/msal-browser v2.33.0 2023-02-06 */var PKCS1_V15_KEYGEN_ALG="RSASSA-PKCS1-v1_5",S256_HASH_ALG="SHA-256",MODULUS_LENGTH=2048,PUBLIC_EXPONENT=new Uint8Array([1,0,1]),BrowserCrypto=function(){function i(t,r){var a,l;if(this.logger=t,this.cryptoOptions=r,this.hasBrowserCrypto())this.logger.verbose("BrowserCrypto: modern crypto interface available"),this.subtleCrypto=new ModernBrowserCrypto;else if(this.hasIECrypto())this.logger.verbose("BrowserCrypto: MS crypto interface available"),this.subtleCrypto=new MsBrowserCrypto;else if(this.hasMsrCrypto()&&((a=this.cryptoOptions)===null||a===void 0?void 0:a.useMsrCrypto))this.logger.verbose("BrowserCrypto: MSR crypto interface available"),this.subtleCrypto=new MsrBrowserCrypto;else throw this.hasMsrCrypto()&&this.logger.info("BrowserCrypto: MSR Crypto interface available but system.cryptoOptions.useMsrCrypto not enabled"),this.logger.error("BrowserCrypto: No crypto interfaces available."),BrowserAuthError.createCryptoNotAvailableError("Browser crypto, msCrypto, or msrCrypto interfaces not available.");if(this.subtleCrypto.initPrng){if(this.logger.verbose("BrowserCrypto: Interface requires entropy"),!(!((l=this.cryptoOptions)===null||l===void 0)&&l.entropy))throw this.logger.error("BrowserCrypto: Interface requires entropy but none provided."),BrowserConfigurationAuthError.createEntropyNotProvided();this.logger.verbose("BrowserCrypto: Entropy provided"),this.subtleCrypto.initPrng(this.cryptoOptions.entropy)}this.keygenAlgorithmOptions={name:PKCS1_V15_KEYGEN_ALG,hash:S256_HASH_ALG,modulusLength:MODULUS_LENGTH,publicExponent:PUBLIC_EXPONENT}}return i.prototype.hasIECrypto=function(){return"msCrypto"in window},i.prototype.hasBrowserCrypto=function(){return"crypto"in window},i.prototype.hasMsrCrypto=function(){return"msrCrypto"in window},i.prototype.sha256Digest=function(t){return __awaiter$2(this,void 0,void 0,function(){var r;return __generator$2(this,function(a){return r=BrowserStringUtils.stringToUtf8Arr(t),[2,this.subtleCrypto.digest({name:S256_HASH_ALG},r)]})})},i.prototype.getRandomValues=function(t){return this.subtleCrypto.getRandomValues(t)},i.prototype.generateKeyPair=function(t,r){return __awaiter$2(this,void 0,void 0,function(){return __generator$2(this,function(a){return[2,this.subtleCrypto.generateKey(this.keygenAlgorithmOptions,t,r)]})})},i.prototype.exportJwk=function(t){return __awaiter$2(this,void 0,void 0,function(){return __generator$2(this,function(r){return[2,this.subtleCrypto.exportKey(t)]})})},i.prototype.importJwk=function(t,r,a){return __awaiter$2(this,void 0,void 0,function(){return __generator$2(this,function(l){return[2,this.subtleCrypto.importKey(t,this.keygenAlgorithmOptions,r,a)]})})},i.prototype.sign=function(t,r){return __awaiter$2(this,void 0,void 0,function(){return __generator$2(this,function(a){return[2,this.subtleCrypto.sign(this.keygenAlgorithmOptions,t,r)]})})},i}();/*! @azure/msal-browser v2.33.0 2023-02-06 */var DatabaseStorage=function(){function i(){this.dbName=DB_NAME,this.version=DB_VERSION,this.tableName=DB_TABLE_NAME,this.dbOpen=!1}return i.prototype.open=function(){return __awaiter$2(this,void 0,void 0,function(){var t=this;return __generator$2(this,function(r){return[2,new Promise(function(a,l){var g=window.indexedDB.open(t.dbName,t.version);g.addEventListener("upgradeneeded",function(d){var s=d;s.target.result.createObjectStore(t.tableName)}),g.addEventListener("success",function(d){var s=d;t.db=s.target.result,t.dbOpen=!0,a()}),g.addEventListener("error",function(){return l(BrowserAuthError.createDatabaseUnavailableError())})})]})})},i.prototype.closeConnection=function(){var t=this.db;t&&this.dbOpen&&(t.close(),this.dbOpen=!1)},i.prototype.validateDbIsOpen=function(){return __awaiter$2(this,void 0,void 0,function(){return __generator$2(this,function(t){switch(t.label){case 0:return this.dbOpen?[3,2]:[4,this.open()];case 1:return[2,t.sent()];case 2:return[2]}})})},i.prototype.getItem=function(t){return __awaiter$2(this,void 0,void 0,function(){var r=this;return __generator$2(this,function(a){switch(a.label){case 0:return[4,this.validateDbIsOpen()];case 1:return a.sent(),[2,new Promise(function(l,g){if(!r.db)return g(BrowserAuthError.createDatabaseNotOpenError());var d=r.db.transaction([r.tableName],"readonly"),s=d.objectStore(r.tableName),u=s.get(t);u.addEventListener("success",function(n){var c=n;r.closeConnection(),l(c.target.result)}),u.addEventListener("error",function(n){r.closeConnection(),g(n)})})]}})})},i.prototype.setItem=function(t,r){return __awaiter$2(this,void 0,void 0,function(){var a=this;return __generator$2(this,function(l){switch(l.label){case 0:return[4,this.validateDbIsOpen()];case 1:return l.sent(),[2,new Promise(function(g,d){if(!a.db)return d(BrowserAuthError.createDatabaseNotOpenError());var s=a.db.transaction([a.tableName],"readwrite"),u=s.objectStore(a.tableName),n=u.put(r,t);n.addEventListener("success",function(){a.closeConnection(),g()}),n.addEventListener("error",function(c){a.closeConnection(),d(c)})})]}})})},i.prototype.removeItem=function(t){return __awaiter$2(this,void 0,void 0,function(){var r=this;return __generator$2(this,function(a){switch(a.label){case 0:return[4,this.validateDbIsOpen()];case 1:return a.sent(),[2,new Promise(function(l,g){if(!r.db)return g(BrowserAuthError.createDatabaseNotOpenError());var d=r.db.transaction([r.tableName],"readwrite"),s=d.objectStore(r.tableName),u=s.delete(t);u.addEventListener("success",function(){r.closeConnection(),l()}),u.addEventListener("error",function(n){r.closeConnection(),g(n)})})]}})})},i.prototype.getKeys=function(){return __awaiter$2(this,void 0,void 0,function(){var t=this;return __generator$2(this,function(r){switch(r.label){case 0:return[4,this.validateDbIsOpen()];case 1:return r.sent(),[2,new Promise(function(a,l){if(!t.db)return l(BrowserAuthError.createDatabaseNotOpenError());var g=t.db.transaction([t.tableName],"readonly"),d=g.objectStore(t.tableName),s=d.getAllKeys();s.addEventListener("success",function(u){var n=u;t.closeConnection(),a(n.target.result)}),s.addEventListener("error",function(u){t.closeConnection(),l(u)})})]}})})},i.prototype.containsKey=function(t){return __awaiter$2(this,void 0,void 0,function(){var r=this;return __generator$2(this,function(a){switch(a.label){case 0:return[4,this.validateDbIsOpen()];case 1:return a.sent(),[2,new Promise(function(l,g){if(!r.db)return g(BrowserAuthError.createDatabaseNotOpenError());var d=r.db.transaction([r.tableName],"readonly"),s=d.objectStore(r.tableName),u=s.count(t);u.addEventListener("success",function(n){var c=n;r.closeConnection(),l(c.target.result===1)}),u.addEventListener("error",function(n){r.closeConnection(),g(n)})})]}})})},i.prototype.deleteDatabase=function(){return __awaiter$2(this,void 0,void 0,function(){return __generator$2(this,function(t){return this.db&&this.dbOpen&&this.closeConnection(),[2,new Promise(function(r,a){var l=window.indexedDB.deleteDatabase(DB_NAME);l.addEventListener("success",function(){return r(!0)}),l.addEventListener("blocked",function(){return r(!0)}),l.addEventListener("error",function(){return a(!1)})})]})})},i}();/*! @azure/msal-browser v2.33.0 2023-02-06 */var AsyncMemoryStorage=function(){function i(t,r){this.inMemoryCache=new MemoryStorage,this.indexedDBCache=new DatabaseStorage,this.logger=t,this.storeName=r}return i.prototype.handleDatabaseAccessError=function(t){if(t instanceof BrowserAuthError&&t.errorCode===BrowserAuthErrorMessage.databaseUnavailable.code)this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.");else throw t},i.prototype.getItem=function(t){return __awaiter$2(this,void 0,void 0,function(){var r,a;return __generator$2(this,function(l){switch(l.label){case 0:if(r=this.inMemoryCache.getItem(t),r)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),[4,this.indexedDBCache.getItem(t)];case 2:return[2,l.sent()];case 3:return a=l.sent(),this.handleDatabaseAccessError(a),[3,4];case 4:return[2,r]}})})},i.prototype.setItem=function(t,r){return __awaiter$2(this,void 0,void 0,function(){var a;return __generator$2(this,function(l){switch(l.label){case 0:this.inMemoryCache.setItem(t,r),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.indexedDBCache.setItem(t,r)];case 2:return l.sent(),[3,4];case 3:return a=l.sent(),this.handleDatabaseAccessError(a),[3,4];case 4:return[2]}})})},i.prototype.removeItem=function(t){return __awaiter$2(this,void 0,void 0,function(){var r;return __generator$2(this,function(a){switch(a.label){case 0:this.inMemoryCache.removeItem(t),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.indexedDBCache.removeItem(t)];case 2:return a.sent(),[3,4];case 3:return r=a.sent(),this.handleDatabaseAccessError(r),[3,4];case 4:return[2]}})})},i.prototype.getKeys=function(){return __awaiter$2(this,void 0,void 0,function(){var t,r;return __generator$2(this,function(a){switch(a.label){case 0:if(t=this.inMemoryCache.getKeys(),t.length!==0)return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),this.logger.verbose("In-memory cache is empty, now querying persistent storage."),[4,this.indexedDBCache.getKeys()];case 2:return[2,a.sent()];case 3:return r=a.sent(),this.handleDatabaseAccessError(r),[3,4];case 4:return[2,t]}})})},i.prototype.containsKey=function(t){return __awaiter$2(this,void 0,void 0,function(){var r,a;return __generator$2(this,function(l){switch(l.label){case 0:if(r=this.inMemoryCache.containsKey(t),r)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),[4,this.indexedDBCache.containsKey(t)];case 2:return[2,l.sent()];case 3:return a=l.sent(),this.handleDatabaseAccessError(a),[3,4];case 4:return[2,r]}})})},i.prototype.clearInMemory=function(){this.logger.verbose("Deleting in-memory keystore "+this.storeName),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore "+this.storeName+" deleted")},i.prototype.clearPersistent=function(){return __awaiter$2(this,void 0,void 0,function(){var t,r;return __generator$2(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),this.logger.verbose("Deleting persistent keystore"),[4,this.indexedDBCache.deleteDatabase()];case 1:return t=a.sent(),t&&this.logger.verbose("Persistent keystore deleted"),[2,t];case 2:return r=a.sent(),this.handleDatabaseAccessError(r),[2,!1];case 3:return[2]}})})},i}();/*! @azure/msal-browser v2.33.0 2023-02-06 */var CryptoKeyStoreNames;(function(i){i.asymmetricKeys="asymmetricKeys",i.symmetricKeys="symmetricKeys"})(CryptoKeyStoreNames||(CryptoKeyStoreNames={}));var CryptoKeyStore=function(){function i(t){this.logger=t,this.asymmetricKeys=new AsyncMemoryStorage(this.logger,CryptoKeyStoreNames.asymmetricKeys),this.symmetricKeys=new AsyncMemoryStorage(this.logger,CryptoKeyStoreNames.symmetricKeys)}return i.prototype.clear=function(){return __awaiter$2(this,void 0,void 0,function(){var t;return __generator$2(this,function(r){switch(r.label){case 0:this.asymmetricKeys.clearInMemory(),this.symmetricKeys.clearInMemory(),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.asymmetricKeys.clearPersistent()];case 2:return r.sent(),[2,!0];case 3:return t=r.sent(),t instanceof Error?this.logger.error("Clearing keystore failed with error: "+t.message):this.logger.error("Clearing keystore failed with unknown error"),[2,!1];case 4:return[2]}})})},i}();/*! @azure/msal-browser v2.33.0 2023-02-06 */var CryptoOps=function(){function i(t,r,a){this.logger=t,this.browserCrypto=new BrowserCrypto(this.logger,a),this.b64Encode=new Base64Encode,this.b64Decode=new Base64Decode,this.guidGenerator=new GuidGenerator(this.browserCrypto),this.pkceGenerator=new PkceGenerator(this.browserCrypto),this.cache=new CryptoKeyStore(this.logger),this.performanceClient=r}return i.prototype.createNewGuid=function(){return this.guidGenerator.generateGuid()},i.prototype.base64Encode=function(t){return this.b64Encode.encode(t)},i.prototype.base64Decode=function(t){return this.b64Decode.decode(t)},i.prototype.generatePkceCodes=function(){return __awaiter$2(this,void 0,void 0,function(){return __generator$2(this,function(t){return[2,this.pkceGenerator.generateCodes()]})})},i.prototype.getPublicKeyThumbprint=function(t){var r;return __awaiter$2(this,void 0,void 0,function(){var a,l,g,d,s,u,n,c;return __generator$2(this,function(C){switch(C.label){case 0:return a=(r=this.performanceClient)===null||r===void 0?void 0:r.startMeasurement(PerformanceEvents.CryptoOptsGetPublicKeyThumbprint,t.correlationId),[4,this.browserCrypto.generateKeyPair(i.EXTRACTABLE,i.POP_KEY_USAGES)];case 1:return l=C.sent(),[4,this.browserCrypto.exportJwk(l.publicKey)];case 2:return g=C.sent(),d={e:g.e,kty:g.kty,n:g.n},s=BrowserStringUtils.getSortedObjectString(d),[4,this.hashString(s)];case 3:return u=C.sent(),[4,this.browserCrypto.exportJwk(l.privateKey)];case 4:return n=C.sent(),[4,this.browserCrypto.importJwk(n,!1,["sign"])];case 5:return c=C.sent(),[4,this.cache.asymmetricKeys.setItem(u,{privateKey:c,publicKey:l.publicKey,requestMethod:t.resourceRequestMethod,requestUri:t.resourceRequestUri})];case 6:return C.sent(),a&&a.endMeasurement({success:!0}),[2,u]}})})},i.prototype.removeTokenBindingKey=function(t){return __awaiter$2(this,void 0,void 0,function(){var r;return __generator$2(this,function(a){switch(a.label){case 0:return[4,this.cache.asymmetricKeys.removeItem(t)];case 1:return a.sent(),[4,this.cache.asymmetricKeys.containsKey(t)];case 2:return r=a.sent(),[2,!r]}})})},i.prototype.clearKeystore=function(){return __awaiter$2(this,void 0,void 0,function(){return __generator$2(this,function(t){switch(t.label){case 0:return[4,this.cache.clear()];case 1:return[2,t.sent()]}})})},i.prototype.signJwt=function(t,r,a){var l;return __awaiter$2(this,void 0,void 0,function(){var g,d,s,u,n,c,C,m,e,E,A,B,O;return __generator$2(this,function(v){switch(v.label){case 0:return g=(l=this.performanceClient)===null||l===void 0?void 0:l.startMeasurement(PerformanceEvents.CryptoOptsSignJwt,a),[4,this.cache.asymmetricKeys.getItem(r)];case 1:if(d=v.sent(),!d)throw BrowserAuthError.createSigningKeyNotFoundInStorageError(r);return[4,this.browserCrypto.exportJwk(d.publicKey)];case 2:return s=v.sent(),u=BrowserStringUtils.getSortedObjectString(s),n=this.b64Encode.urlEncode(JSON.stringify({kid:r})),c=JoseHeader.getShrHeaderString({kid:n,alg:s.alg}),C=this.b64Encode.urlEncode(c),t.cnf={jwk:JSON.parse(u)},m=this.b64Encode.urlEncode(JSON.stringify(t)),e=C+"."+m,E=BrowserStringUtils.stringToArrayBuffer(e),[4,this.browserCrypto.sign(d.privateKey,E)];case 3:return A=v.sent(),B=this.b64Encode.urlEncodeArr(new Uint8Array(A)),O=e+"."+B,g&&g.endMeasurement({success:!0}),[2,O]}})})},i.prototype.hashString=function(t){return __awaiter$2(this,void 0,void 0,function(){var r,a;return __generator$2(this,function(l){switch(l.label){case 0:return[4,this.browserCrypto.sha256Digest(t)];case 1:return r=l.sent(),a=new Uint8Array(r),[2,this.b64Encode.urlEncodeArr(a)]}})})},i.POP_KEY_USAGES=["sign","verify"],i.EXTRACTABLE=!0,i}();/*! @azure/msal-browser v2.33.0 2023-02-06 */var BrowserPerformanceMeasurement=function(){function i(t,r){this.correlationId=r,this.measureName="msal.measure."+t+"."+this.correlationId,this.startMark="msal.start."+t+"."+this.correlationId,this.endMark="msal.end."+t+"."+this.correlationId}return i.supportsBrowserPerformance=function(){return typeof window<"u"&&typeof window.performance<"u"&&typeof window.performance.mark=="function"&&typeof window.performance.measure=="function"&&typeof window.performance.clearMarks=="function"&&typeof window.performance.clearMeasures=="function"&&typeof window.performance.getEntriesByName=="function"},i.prototype.startMeasurement=function(){if(i.supportsBrowserPerformance())try{window.performance.mark(this.startMark)}catch{}},i.prototype.endMeasurement=function(){if(i.supportsBrowserPerformance())try{window.performance.mark(this.endMark),window.performance.measure(this.measureName,this.startMark,this.endMark)}catch{}},i.prototype.flushMeasurement=function(){if(i.supportsBrowserPerformance())try{var t=window.performance.getEntriesByName(this.measureName,"measure");if(t.length>0){var r=t[0].duration;return window.performance.clearMeasures(this.measureName),window.performance.clearMarks(this.startMark),window.performance.clearMarks(this.endMark),r}}catch{}return null},i}();/*! @azure/msal-browser v2.33.0 2023-02-06 */var BrowserPerformanceClient=function(i){__extends$1(t,i);function t(r,a,l,g,d,s,u){var n=i.call(this,r,a,l,g,d,s)||this;return n.browserCrypto=new BrowserCrypto(n.logger,u),n.guidGenerator=new GuidGenerator(n.browserCrypto),n}return t.prototype.startPerformanceMeasuremeant=function(r,a){return new BrowserPerformanceMeasurement(r,a)},t.prototype.generateId=function(){return this.guidGenerator.generateGuid()},t.prototype.getPageVisibility=function(){var r;return((r=document.visibilityState)===null||r===void 0?void 0:r.toString())||null},t.prototype.supportsBrowserPerformanceNow=function(){return typeof window<"u"&&typeof window.performance<"u"&&typeof window.performance.now=="function"},t.prototype.startMeasurement=function(r,a){var l=this,g=this.getPageVisibility(),d=i.prototype.startMeasurement.call(this,r,a);return __assign$1(__assign$1({},d),{endMeasurement:function(s){return d.endMeasurement(__assign$1({startPageVisibility:g,endPageVisibility:l.getPageVisibility()},s))}})},t.prototype.setPreQueueTime=function(r,a){if(!this.supportsBrowserPerformanceNow()){this.logger.trace("BrowserPerformanceClient: window performance API not available, unable to set telemetry queue time for "+r);return}if(!a){this.logger.trace("BrowserPerformanceClient: correlationId for "+r+" not provided, unable to set telemetry queue time");return}var l=this.preQueueTimeByCorrelationId.get(a);if(l)l.set(r,window.performance.now()),this.preQueueTimeByCorrelationId.set(a,l);else{var g=new Map;g.set(r,window.performance.now()),this.preQueueTimeByCorrelationId.set(a,g)}},t.prototype.addQueueMeasurement=function(r,a){if(!this.supportsBrowserPerformanceNow()){this.logger.trace("BrowserPerformanceClient: window performance API not available, unable to add queue measurement for "+r);return}if(!a){this.logger.trace("BrowserPerformanceClient: correlationId for "+r+" not provided, unable to add queue measurement");return}var l=i.prototype.getPreQueueTime.call(this,r,a);if(!!l){var g=window.performance.now(),d=i.prototype.calculateQueuedTime.call(this,l,g);return i.prototype.addQueueMeasurement.call(this,r,a,d)}},t}(PerformanceClient);/*! @azure/msal-browser v2.33.0 2023-02-06 */var TokenCache=function(){function i(t,r,a,l){this.isBrowserEnvironment=typeof window<"u",this.config=t,this.storage=r,this.logger=a,this.cryptoObj=l}return i.prototype.loadExternalTokens=function(t,r,a){if(this.logger.info("TokenCache - loadExternalTokens called"),!r.id_token)throw BrowserAuthError.createUnableToLoadTokenError("Please ensure server response includes id token.");var l=new AuthToken(r.id_token,this.cryptoObj),g,d;if(t.account){var s=this.loadAccount(l,t.account.environment,void 0,void 0,t.account.homeAccountId);g=new CacheRecord(s,this.loadIdToken(l,s.homeAccountId,t.account.environment,t.account.tenantId),this.loadAccessToken(t,r,s.homeAccountId,t.account.environment,t.account.tenantId,a),this.loadRefreshToken(t,r,s.homeAccountId,t.account.environment))}else if(t.authority){var u=Authority.generateAuthority(t.authority,t.azureCloudOptions),n={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache};if(d=new Authority(u,this.config.system.networkClient,this.storage,n,this.logger),a.clientInfo){this.logger.trace("TokenCache - homeAccountId from options");var s=this.loadAccount(l,d.hostnameAndPort,a.clientInfo,d.authorityType);g=new CacheRecord(s,this.loadIdToken(l,s.homeAccountId,d.hostnameAndPort,d.tenant),this.loadAccessToken(t,r,s.homeAccountId,d.hostnameAndPort,d.tenant,a),this.loadRefreshToken(t,r,s.homeAccountId,d.hostnameAndPort))}else if(r.client_info){this.logger.trace("TokenCache - homeAccountId from response");var s=this.loadAccount(l,d.hostnameAndPort,r.client_info,d.authorityType);g=new CacheRecord(s,this.loadIdToken(l,s.homeAccountId,d.hostnameAndPort,d.tenant),this.loadAccessToken(t,r,s.homeAccountId,d.hostnameAndPort,d.tenant,a),this.loadRefreshToken(t,r,s.homeAccountId,d.hostnameAndPort))}else throw BrowserAuthError.createUnableToLoadTokenError("Please provide clientInfo in the response or options.")}else throw BrowserAuthError.createUnableToLoadTokenError("Please provide a request with an account or a request with authority.");return this.generateAuthenticationResult(t,l,g,d)},i.prototype.loadAccount=function(t,r,a,l,g){var d;if(g?d=g:l!==void 0&&a&&(d=AccountEntity.generateHomeAccountId(a,l,this.logger,this.cryptoObj,t)),!d)throw BrowserAuthError.createUnableToLoadTokenError("Unexpected missing homeAccountId");var s=a?AccountEntity.createAccount(a,d,t,void 0,void 0,void 0,r):AccountEntity.createGenericAccount(d,t,void 0,void 0,void 0,r);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading account"),this.storage.setAccount(s),s;throw BrowserAuthError.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},i.prototype.loadIdToken=function(t,r,a,l){var g=IdTokenEntity.createIdTokenEntity(r,a,t.rawToken,this.config.auth.clientId,l);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading id token"),this.storage.setIdTokenCredential(g),g;throw BrowserAuthError.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},i.prototype.loadAccessToken=function(t,r,a,l,g,d){if(!r.access_token)return this.logger.verbose("TokenCache - No access token provided for caching"),null;if(!r.expires_in)throw BrowserAuthError.createUnableToLoadTokenError("Please ensure server response includes expires_in value.");if(!d.extendedExpiresOn)throw BrowserAuthError.createUnableToLoadTokenError("Please provide an extendedExpiresOn value in the options.");var s=new ScopeSet(t.scopes).printScopes(),u=d.expiresOn||r.expires_in+new Date().getTime()/1e3,n=d.extendedExpiresOn,c=AccessTokenEntity.createAccessTokenEntity(a,l,r.access_token,this.config.auth.clientId,g,s,u,n,this.cryptoObj);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading access token"),this.storage.setAccessTokenCredential(c),c;throw BrowserAuthError.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},i.prototype.loadRefreshToken=function(t,r,a,l){if(!r.refresh_token)return this.logger.verbose("TokenCache - No refresh token provided for caching"),null;var g=RefreshTokenEntity.createRefreshTokenEntity(a,l,r.refresh_token,this.config.auth.clientId);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading refresh token"),this.storage.setRefreshTokenCredential(g),g;throw BrowserAuthError.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.")},i.prototype.generateAuthenticationResult=function(t,r,a,l){var g,d,s,u=Constants.EMPTY_STRING,n=[],c=null,C;a!=null&&a.accessToken&&(u=a.accessToken.secret,n=ScopeSet.fromString(a.accessToken.target).asArray(),c=new Date(Number(a.accessToken.expiresOn)*1e3),C=new Date(Number(a.accessToken.extendedExpiresOn)*1e3));var m=(r==null?void 0:r.claims.oid)||(r==null?void 0:r.claims.sub)||Constants.EMPTY_STRING,e=(r==null?void 0:r.claims.tid)||Constants.EMPTY_STRING;return{authority:l?l.canonicalAuthority:Constants.EMPTY_STRING,uniqueId:m,tenantId:e,scopes:n,account:a!=null&&a.account?a.account.getAccountInfo():null,idToken:r?r.rawToken:Constants.EMPTY_STRING,idTokenClaims:r?r.claims:{},accessToken:u,fromCache:!0,expiresOn:c,correlationId:t.correlationId||Constants.EMPTY_STRING,requestId:Constants.EMPTY_STRING,extExpiresOn:C,familyId:Constants.EMPTY_STRING,tokenType:((g=a==null?void 0:a.accessToken)===null||g===void 0?void 0:g.tokenType)||Constants.EMPTY_STRING,state:Constants.EMPTY_STRING,cloudGraphHostName:((d=a==null?void 0:a.account)===null||d===void 0?void 0:d.cloudGraphHostName)||Constants.EMPTY_STRING,msGraphHost:((s=a==null?void 0:a.account)===null||s===void 0?void 0:s.msGraphHost)||Constants.EMPTY_STRING,code:void 0,fromNativeBroker:!1}},i}();/*! @azure/msal-browser v2.33.0 2023-02-06 */var HybridSpaAuthorizationCodeClient=function(i){__extends$1(t,i);function t(r){var a=i.call(this,r)||this;return a.includeRedirectUri=!1,a}return t}(AuthorizationCodeClient);/*! @azure/msal-browser v2.33.0 2023-02-06 */var SilentAuthCodeClient=function(i){__extends$1(t,i);function t(r,a,l,g,d,s,u,n,c,C){var m=i.call(this,r,a,l,g,d,s,n,c,C)||this;return m.apiId=u,m}return t.prototype.acquireToken=function(r){return __awaiter$2(this,void 0,void 0,function(){var a,l,g,d,s,u,n;return __generator$2(this,function(c){switch(c.label){case 0:if(this.logger.trace("SilentAuthCodeClient.acquireToken called"),!r.code)throw BrowserAuthError.createAuthCodeRequiredError();return this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientInitializeAuthorizationRequest,r.correlationId),[4,this.initializeAuthorizationRequest(r,InteractionType.Silent)];case 1:a=c.sent(),this.browserStorage.updateCacheEntries(a.state,a.nonce,a.authority,a.loginHint||Constants.EMPTY_STRING,a.account||null),l=this.initializeServerTelemetryManager(this.apiId),c.label=2;case 2:return c.trys.push([2,4,,5]),g=__assign$1(__assign$1({},a),{code:r.code}),this.performanceClient.setPreQueueTime(PerformanceEvents.StandardInteractionClientGetClientConfiguration,r.correlationId),[4,this.getClientConfiguration(l,a.authority)];case 3:return d=c.sent(),s=new HybridSpaAuthorizationCodeClient(d),this.logger.verbose("Auth code client created"),u=new SilentHandler(s,this.browserStorage,g,this.logger,this.config.system,this.performanceClient),[2,u.handleCodeResponseFromServer({code:r.code,msgraph_host:r.msGraphHost,cloud_graph_host_name:r.cloudGraphHostName,cloud_instance_host_name:r.cloudInstanceHostName},a.state,s.authority,this.networkClient,!1)];case 4:throw n=c.sent(),n instanceof AuthError&&n.setCorrelationId(this.correlationId),l.cacheFailedRequest(n),this.browserStorage.cleanRequestByState(a.state),n;case 5:return[2]}})})},t.prototype.logout=function(){return Promise.reject(BrowserAuthError.createSilentLogoutUnsupportedError())},t}(StandardInteractionClient);/*! @azure/msal-browser v2.33.0 2023-02-06 */var ClientApplication=function(){function i(t){this.isBrowserEnvironment=typeof window<"u",this.config=buildConfiguration(t,this.isBrowserEnvironment),this.initialized=!1,this.logger=new Logger(this.config.system.loggerOptions,name,version$1),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.isBrowserEnvironment?new BrowserPerformanceClient(this.config.auth.clientId,this.config.auth.authority,this.logger,name,version$1,this.config.telemetry.application,this.config.system.cryptoOptions):new StubPerformanceClient(this.config.auth.clientId,this.config.auth.authority,this.logger,name,version$1,this.config.telemetry.application),this.browserCrypto=this.isBrowserEnvironment?new CryptoOps(this.logger,this.performanceClient,this.config.system.cryptoOptions):DEFAULT_CRYPTO_IMPLEMENTATION,this.eventHandler=new EventHandler(this.logger,this.browserCrypto),this.browserStorage=this.isBrowserEnvironment?new BrowserCacheManager(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger):DEFAULT_BROWSER_CACHE_MANAGER(this.config.auth.clientId,this.logger);var r={cacheLocation:BrowserCacheLocation.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1};this.nativeInternalStorage=new BrowserCacheManager(this.config.auth.clientId,r,this.browserCrypto,this.logger),this.tokenCache=new TokenCache(this.config,this.browserStorage,this.logger,this.browserCrypto),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}return i.prototype.initialize=function(){return __awaiter$2(this,void 0,void 0,function(){var t,r;return __generator$2(this,function(a){switch(a.label){case 0:if(this.logger.trace("initialize called"),this.initialized)return this.logger.info("initialize has already been called, exiting early."),[2];if(this.eventHandler.emitEvent(EventType.INITIALIZE_START),!this.config.system.allowNativeBroker)return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),t=this,[4,NativeMessageHandler.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout)];case 2:return t.nativeExtensionProvider=a.sent(),[3,4];case 3:return r=a.sent(),this.logger.verbose(r),[3,4];case 4:return this.initialized=!0,this.eventHandler.emitEvent(EventType.INITIALIZE_END),[2]}})})},i.prototype.handleRedirectPromise=function(t){return __awaiter$2(this,void 0,void 0,function(){var r,a,l,g,d,s,u,n,c=this;return __generator$2(this,function(C){return this.logger.verbose("handleRedirectPromise called"),BrowserUtils.blockNativeBrokerCalledBeforeInitialized(this.config.system.allowNativeBroker,this.initialized),r=this.getAllAccounts(),this.isBrowserEnvironment?(a=t||Constants.EMPTY_STRING,l=this.redirectResponse.get(a),typeof l>"u"?(this.eventHandler.emitEvent(EventType.HANDLE_REDIRECT_START,InteractionType.Redirect),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise"),g=this.browserStorage.getCachedNativeRequest(),d=void 0,g&&NativeMessageHandler.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!t?(this.logger.trace("handleRedirectPromise - acquiring token from native platform"),s=new NativeInteractionClient(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ApiId.handleRedirectPromise,this.performanceClient,this.nativeExtensionProvider,g.accountId,this.nativeInternalStorage,g.correlationId),d=s.handleRedirectPromise()):(this.logger.trace("handleRedirectPromise - acquiring token from web flow"),u=this.browserStorage.getTemporaryCache(TemporaryCacheKeys.CORRELATION_ID,!0)||Constants.EMPTY_STRING,n=this.createRedirectClient(u),d=n.handleRedirectPromise(t)),l=d.then(function(m){if(m){var e=r.length<c.getAllAccounts().length;e?(c.eventHandler.emitEvent(EventType.LOGIN_SUCCESS,InteractionType.Redirect,m),c.logger.verbose("handleRedirectResponse returned result, login success")):(c.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_SUCCESS,InteractionType.Redirect,m),c.logger.verbose("handleRedirectResponse returned result, acquire token success"))}return c.eventHandler.emitEvent(EventType.HANDLE_REDIRECT_END,InteractionType.Redirect),m}).catch(function(m){throw r.length>0?c.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_FAILURE,InteractionType.Redirect,null,m):c.eventHandler.emitEvent(EventType.LOGIN_FAILURE,InteractionType.Redirect,null,m),c.eventHandler.emitEvent(EventType.HANDLE_REDIRECT_END,InteractionType.Redirect),m}),this.redirectResponse.set(a,l)):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),[2,l]):(this.logger.verbose("handleRedirectPromise returns null, not browser environment"),[2,null])})})},i.prototype.acquireTokenRedirect=function(t){return __awaiter$2(this,void 0,void 0,function(){var r,a,l,g,d,s=this;return __generator$2(this,function(u){return r=this.getRequestCorrelationId(t),this.logger.verbose("acquireTokenRedirect called",r),this.preflightBrowserEnvironmentCheck(InteractionType.Redirect),a=this.getAllAccounts().length>0,a?this.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_START,InteractionType.Redirect,t):this.eventHandler.emitEvent(EventType.LOGIN_START,InteractionType.Redirect,t),this.nativeExtensionProvider&&this.canUseNative(t)?(g=new NativeInteractionClient(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ApiId.acquireTokenRedirect,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(t),this.nativeInternalStorage,t.correlationId),l=g.acquireTokenRedirect(t).catch(function(n){if(n instanceof NativeAuthError&&n.isFatal()){s.nativeExtensionProvider=void 0;var c=s.createRedirectClient(t.correlationId);return c.acquireToken(t)}else if(n instanceof InteractionRequiredAuthError){s.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow");var c=s.createRedirectClient(t.correlationId);return c.acquireToken(t)}throw s.browserStorage.setInteractionInProgress(!1),n})):(d=this.createRedirectClient(t.correlationId),l=d.acquireToken(t)),[2,l.catch(function(n){throw a?s.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_FAILURE,InteractionType.Redirect,null,n):s.eventHandler.emitEvent(EventType.LOGIN_FAILURE,InteractionType.Redirect,null,n),n})]})})},i.prototype.acquireTokenPopup=function(t){var r=this,a=this.getRequestCorrelationId(t),l=this.performanceClient.startMeasurement(PerformanceEvents.AcquireTokenPopup,a);try{this.logger.verbose("acquireTokenPopup called",a),this.preflightBrowserEnvironmentCheck(InteractionType.Popup)}catch(u){return Promise.reject(u)}var g=this.getAllAccounts();g.length>0?this.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_START,InteractionType.Popup,t):this.eventHandler.emitEvent(EventType.LOGIN_START,InteractionType.Popup,t);var d;if(this.canUseNative(t))d=this.acquireTokenNative(t,ApiId.acquireTokenPopup).then(function(u){return r.browserStorage.setInteractionInProgress(!1),l.endMeasurement({success:!0,isNativeBroker:!0,requestId:u.requestId}),l.flushMeasurement(),u}).catch(function(u){if(u instanceof NativeAuthError&&u.isFatal()){r.nativeExtensionProvider=void 0;var n=r.createPopupClient(t.correlationId);return n.acquireToken(t)}else if(u instanceof InteractionRequiredAuthError){r.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow");var n=r.createPopupClient(t.correlationId);return n.acquireToken(t)}throw r.browserStorage.setInteractionInProgress(!1),u});else{var s=this.createPopupClient(t.correlationId);d=s.acquireToken(t)}return d.then(function(u){var n=g.length<r.getAllAccounts().length;return n?r.eventHandler.emitEvent(EventType.LOGIN_SUCCESS,InteractionType.Popup,u):r.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_SUCCESS,InteractionType.Popup,u),l.addStaticFields({accessTokenSize:u.accessToken.length,idTokenSize:u.idToken.length}),l.endMeasurement({success:!0,requestId:u.requestId}),l.flushMeasurement(),u}).catch(function(u){return g.length>0?r.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_FAILURE,InteractionType.Popup,null,u):r.eventHandler.emitEvent(EventType.LOGIN_FAILURE,InteractionType.Popup,null,u),l.endMeasurement({errorCode:u.errorCode,subErrorCode:u.subError,success:!1}),l.flushMeasurement(),Promise.reject(u)})},i.prototype.trackPageVisibilityWithMeasurement=function(){var t=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;!t||(this.logger.info("Perf: Visibility change detected in ",t.event.name),t.increment({visibilityChangeCount:1}))},i.prototype.ssoSilent=function(t){var r;return __awaiter$2(this,void 0,void 0,function(){var a,l,g,d,s=this;return __generator$2(this,function(u){return a=this.getRequestCorrelationId(t),l=__assign$1(__assign$1({},t),{prompt:t.prompt,correlationId:a}),this.preflightBrowserEnvironmentCheck(InteractionType.Silent),this.ssoSilentMeasurement=this.performanceClient.startMeasurement(PerformanceEvents.SsoSilent,a),(r=this.ssoSilentMeasurement)===null||r===void 0||r.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",a),this.eventHandler.emitEvent(EventType.SSO_SILENT_START,InteractionType.Silent,l),this.canUseNative(l)?g=this.acquireTokenNative(l,ApiId.ssoSilent).catch(function(n){if(n instanceof NativeAuthError&&n.isFatal()){s.nativeExtensionProvider=void 0;var c=s.createSilentIframeClient(l.correlationId);return c.acquireToken(l)}throw n}):(d=this.createSilentIframeClient(l.correlationId),g=d.acquireToken(l)),[2,g.then(function(n){var c,C,m;return s.eventHandler.emitEvent(EventType.SSO_SILENT_SUCCESS,InteractionType.Silent,n),(c=s.ssoSilentMeasurement)===null||c===void 0||c.addStaticFields({accessTokenSize:n.accessToken.length,idTokenSize:n.idToken.length}),(C=s.ssoSilentMeasurement)===null||C===void 0||C.endMeasurement({success:!0,isNativeBroker:n.fromNativeBroker,requestId:n.requestId}),(m=s.ssoSilentMeasurement)===null||m===void 0||m.flushMeasurement(),n}).catch(function(n){var c,C;throw s.eventHandler.emitEvent(EventType.SSO_SILENT_FAILURE,InteractionType.Silent,null,n),(c=s.ssoSilentMeasurement)===null||c===void 0||c.endMeasurement({errorCode:n.errorCode,subErrorCode:n.subError,success:!1}),(C=s.ssoSilentMeasurement)===null||C===void 0||C.flushMeasurement(),n}).finally(function(){document.removeEventListener("visibilitychange",s.trackPageVisibilityWithMeasurement)})]})})},i.prototype.acquireTokenByCode=function(t){return __awaiter$2(this,void 0,void 0,function(){var r,a,l,g,d=this;return __generator$2(this,function(s){r=this.getRequestCorrelationId(t),this.preflightBrowserEnvironmentCheck(InteractionType.Silent),this.logger.trace("acquireTokenByCode called",r),this.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_BY_CODE_START,InteractionType.Silent,t),a=this.performanceClient.startMeasurement(PerformanceEvents.AcquireTokenByCode,t.correlationId);try{if(t.code)return l=t.code,g=this.hybridAuthCodeResponses.get(l),g?(this.logger.verbose("Existing acquireTokenByCode request found",t.correlationId),a.endMeasurement({success:!0}),a.discardMeasurement()):(this.logger.verbose("Initiating new acquireTokenByCode request",r),g=this.acquireTokenByCodeAsync(__assign$1(__assign$1({},t),{correlationId:r})).then(function(u){return d.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_BY_CODE_SUCCESS,InteractionType.Silent,u),d.hybridAuthCodeResponses.delete(l),a.addStaticFields({accessTokenSize:u.accessToken.length,idTokenSize:u.idToken.length}),a.endMeasurement({success:!0,isNativeBroker:u.fromNativeBroker,requestId:u.requestId}),a.flushMeasurement(),u}).catch(function(u){throw d.hybridAuthCodeResponses.delete(l),d.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_BY_CODE_FAILURE,InteractionType.Silent,null,u),a.endMeasurement({errorCode:u.errorCode,subErrorCode:u.subError,success:!1}),a.flushMeasurement(),u}),this.hybridAuthCodeResponses.set(l,g)),[2,g];if(t.nativeAccountId){if(this.canUseNative(t,t.nativeAccountId))return[2,this.acquireTokenNative(t,ApiId.acquireTokenByCode,t.nativeAccountId).catch(function(u){throw u instanceof NativeAuthError&&u.isFatal()&&(d.nativeExtensionProvider=void 0),u})];throw BrowserAuthError.createUnableToAcquireTokenFromNativePlatformError()}else throw BrowserAuthError.createAuthCodeOrNativeAccountIdRequiredError()}catch(u){throw this.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_BY_CODE_FAILURE,InteractionType.Silent,null,u),a.endMeasurement({errorCode:u instanceof AuthError&&u.errorCode||void 0,subErrorCode:u instanceof AuthError&&u.subError||void 0,success:!1}),u}return[2]})})},i.prototype.acquireTokenByCodeAsync=function(t){var r;return __awaiter$2(this,void 0,void 0,function(){var a,l,g=this;return __generator$2(this,function(d){switch(d.label){case 0:return this.logger.trace("acquireTokenByCodeAsync called",t.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(PerformanceEvents.AcquireTokenByCodeAsync,t.correlationId),(r=this.acquireTokenByCodeAsyncMeasurement)===null||r===void 0||r.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),a=this.createSilentAuthCodeClient(t.correlationId),[4,a.acquireToken(t).then(function(s){var u;return(u=g.acquireTokenByCodeAsyncMeasurement)===null||u===void 0||u.endMeasurement({success:!0,fromCache:s.fromCache,isNativeBroker:s.fromNativeBroker,requestId:s.requestId}),s}).catch(function(s){var u;throw(u=g.acquireTokenByCodeAsyncMeasurement)===null||u===void 0||u.endMeasurement({errorCode:s.errorCode,subErrorCode:s.subError,success:!1}),s}).finally(function(){document.removeEventListener("visibilitychange",g.trackPageVisibilityWithMeasurement)})];case 1:return l=d.sent(),[2,l]}})})},i.prototype.acquireTokenFromCache=function(t,r,a){return __awaiter$2(this,void 0,void 0,function(){return __generator$2(this,function(l){switch(this.performanceClient.addQueueMeasurement(PerformanceEvents.AcquireTokenFromCache,r.correlationId),a.cacheLookupPolicy){case CacheLookupPolicy.Default:case CacheLookupPolicy.AccessToken:case CacheLookupPolicy.AccessTokenAndRefreshToken:return[2,t.acquireToken(r)];default:throw ClientAuthError.createRefreshRequiredError()}return[2]})})},i.prototype.acquireTokenByRefreshToken=function(t,r){return __awaiter$2(this,void 0,void 0,function(){var a;return __generator$2(this,function(l){switch(this.performanceClient.addQueueMeasurement(PerformanceEvents.AcquireTokenByRefreshToken,t.correlationId),r.cacheLookupPolicy){case CacheLookupPolicy.Default:case CacheLookupPolicy.AccessTokenAndRefreshToken:case CacheLookupPolicy.RefreshToken:case CacheLookupPolicy.RefreshTokenAndNetwork:return a=this.createSilentRefreshClient(t.correlationId),this.performanceClient.setPreQueueTime(PerformanceEvents.SilentRefreshClientAcquireToken,t.correlationId),[2,a.acquireToken(t)];default:throw ClientAuthError.createRefreshRequiredError()}return[2]})})},i.prototype.acquireTokenBySilentIframe=function(t){return __awaiter$2(this,void 0,void 0,function(){var r;return __generator$2(this,function(a){return this.performanceClient.addQueueMeasurement(PerformanceEvents.AcquireTokenBySilentIframe,t.correlationId),r=this.createSilentIframeClient(t.correlationId),this.performanceClient.setPreQueueTime(PerformanceEvents.SilentIframeClientAcquireToken,t.correlationId),[2,r.acquireToken(t)]})})},i.prototype.logout=function(t){return __awaiter$2(this,void 0,void 0,function(){var r;return __generator$2(this,function(a){return r=this.getRequestCorrelationId(t),this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",r),[2,this.logoutRedirect(__assign$1({correlationId:r},t))]})})},i.prototype.logoutRedirect=function(t){return __awaiter$2(this,void 0,void 0,function(){var r,a;return __generator$2(this,function(l){return r=this.getRequestCorrelationId(t),this.preflightBrowserEnvironmentCheck(InteractionType.Redirect),a=this.createRedirectClient(r),[2,a.logout(t)]})})},i.prototype.logoutPopup=function(t){try{var r=this.getRequestCorrelationId(t);this.preflightBrowserEnvironmentCheck(InteractionType.Popup);var a=this.createPopupClient(r);return a.logout(t)}catch(l){return Promise.reject(l)}},i.prototype.getAllAccounts=function(){return this.logger.verbose("getAllAccounts called"),this.isBrowserEnvironment?this.browserStorage.getAllAccounts():[]},i.prototype.getAccountByUsername=function(t){var r=this.getAllAccounts();return!StringUtils.isEmpty(t)&&r&&r.length?(this.logger.verbose("Account matching username found, returning"),this.logger.verbosePii("Returning signed-in accounts matching username: "+t),r.filter(function(a){return a.username.toLowerCase()===t.toLowerCase()})[0]||null):(this.logger.verbose("getAccountByUsername: No matching account found, returning null"),null)},i.prototype.getAccountByHomeId=function(t){var r=this.getAllAccounts();return!StringUtils.isEmpty(t)&&r&&r.length?(this.logger.verbose("Account matching homeAccountId found, returning"),this.logger.verbosePii("Returning signed-in accounts matching homeAccountId: "+t),r.filter(function(a){return a.homeAccountId===t})[0]||null):(this.logger.verbose("getAccountByHomeId: No matching account found, returning null"),null)},i.prototype.getAccountByLocalId=function(t){var r=this.getAllAccounts();return!StringUtils.isEmpty(t)&&r&&r.length?(this.logger.verbose("Account matching localAccountId found, returning"),this.logger.verbosePii("Returning signed-in accounts matching localAccountId: "+t),r.filter(function(a){return a.localAccountId===t})[0]||null):(this.logger.verbose("getAccountByLocalId: No matching account found, returning null"),null)},i.prototype.setActiveAccount=function(t){this.browserStorage.setActiveAccount(t)},i.prototype.getActiveAccount=function(){return this.browserStorage.getActiveAccount()},i.prototype.preflightBrowserEnvironmentCheck=function(t,r){if(r===void 0&&(r=!0),this.logger.verbose("preflightBrowserEnvironmentCheck started"),BrowserUtils.blockNonBrowserEnvironment(this.isBrowserEnvironment),BrowserUtils.blockRedirectInIframe(t,this.config.system.allowRedirectInIframe),BrowserUtils.blockReloadInHiddenIframes(),BrowserUtils.blockAcquireTokenInPopups(),BrowserUtils.blockNativeBrokerCalledBeforeInitialized(this.config.system.allowNativeBroker,this.initialized),t===InteractionType.Redirect&&this.config.cache.cacheLocation===BrowserCacheLocation.MemoryStorage&&!this.config.cache.storeAuthStateInCookie)throw BrowserConfigurationAuthError.createInMemoryRedirectUnavailableError();(t===InteractionType.Redirect||t===InteractionType.Popup)&&this.preflightInteractiveRequest(r)},i.prototype.preflightInteractiveRequest=function(t){this.logger.verbose("preflightInteractiveRequest called, validating app environment"),BrowserUtils.blockReloadInHiddenIframes(),t&&this.browserStorage.setInteractionInProgress(!0)},i.prototype.acquireTokenNative=function(t,r,a){return __awaiter$2(this,void 0,void 0,function(){var l;return __generator$2(this,function(g){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw BrowserAuthError.createNativeConnectionNotEstablishedError();return l=new NativeInteractionClient(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,r,this.performanceClient,this.nativeExtensionProvider,a||this.getNativeAccountId(t),this.nativeInternalStorage,t.correlationId),[2,l.acquireToken(t)]})})},i.prototype.canUseNative=function(t,r){if(this.logger.trace("canUseNative called"),!NativeMessageHandler.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,t.authenticationScheme))return this.logger.trace("canUseNative: isNativeAvailable returned false, returning false"),!1;if(t.prompt)switch(t.prompt){case PromptValue.NONE:case PromptValue.CONSENT:case PromptValue.LOGIN:this.logger.trace("canUseNative: prompt is compatible with native flow");break;default:return this.logger.trace("canUseNative: prompt = "+t.prompt+" is not compatible with native flow, returning false"),!1}return!r&&!this.getNativeAccountId(t)?(this.logger.trace("canUseNative: nativeAccountId is not available, returning false"),!1):!0},i.prototype.getNativeAccountId=function(t){var r=t.account||this.browserStorage.getAccountInfoByHints(t.loginHint,t.sid)||this.getActiveAccount();return r&&r.nativeAccountId||""},i.prototype.createPopupClient=function(t){return new PopupClient(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,t)},i.prototype.createRedirectClient=function(t){return new RedirectClient(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,t)},i.prototype.createSilentIframeClient=function(t){return new SilentIframeClient(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ApiId.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,t)},i.prototype.createSilentCacheClient=function(t){return new SilentCacheClient(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,t)},i.prototype.createSilentRefreshClient=function(t){return new SilentRefreshClient(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,t)},i.prototype.createSilentAuthCodeClient=function(t){return new SilentAuthCodeClient(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ApiId.acquireTokenByCode,this.performanceClient,this.nativeExtensionProvider,t)},i.prototype.addEventCallback=function(t){return this.eventHandler.addEventCallback(t)},i.prototype.removeEventCallback=function(t){this.eventHandler.removeEventCallback(t)},i.prototype.addPerformanceCallback=function(t){return this.performanceClient.addPerformanceCallback(t)},i.prototype.removePerformanceCallback=function(t){return this.performanceClient.removePerformanceCallback(t)},i.prototype.enableAccountStorageEvents=function(){this.eventHandler.enableAccountStorageEvents()},i.prototype.disableAccountStorageEvents=function(){this.eventHandler.disableAccountStorageEvents()},i.prototype.getTokenCache=function(){return this.tokenCache},i.prototype.getLogger=function(){return this.logger},i.prototype.setLogger=function(t){this.logger=t},i.prototype.initializeWrapperLibrary=function(t,r){this.browserStorage.setWrapperMetadata(t,r)},i.prototype.setNavigationClient=function(t){this.navigationClient=t},i.prototype.getConfiguration=function(){return this.config},i.prototype.getRequestCorrelationId=function(t){return t!=null&&t.correlationId?t.correlationId:this.isBrowserEnvironment?this.browserCrypto.createNewGuid():Constants.EMPTY_STRING},i}();/*! @azure/msal-browser v2.33.0 2023-02-06 */var PublicClientApplication=function(i){__extends$1(t,i);function t(r){var a=i.call(this,r)||this;return a.astsAsyncMeasurement=void 0,a.activeSilentTokenRequests=new Map,a.trackPageVisibility=a.trackPageVisibility.bind(a),a}return t.prototype.loginRedirect=function(r){return __awaiter$2(this,void 0,void 0,function(){var a;return __generator$2(this,function(l){return a=this.getRequestCorrelationId(r),this.logger.verbose("loginRedirect called",a),[2,this.acquireTokenRedirect(__assign$1({correlationId:a},r||DEFAULT_REQUEST))]})})},t.prototype.loginPopup=function(r){var a=this.getRequestCorrelationId(r);return this.logger.verbose("loginPopup called",a),this.acquireTokenPopup(__assign$1({correlationId:a},r||DEFAULT_REQUEST))},t.prototype.acquireTokenSilent=function(r){return __awaiter$2(this,void 0,void 0,function(){var a,l,g,d,s,u,n,c=this;return __generator$2(this,function(C){if(a=this.getRequestCorrelationId(r),l=this.performanceClient.startMeasurement(PerformanceEvents.AcquireTokenSilent,a),l.addStaticFields({cacheLookupPolicy:r.cacheLookupPolicy}),this.preflightBrowserEnvironmentCheck(InteractionType.Silent),this.logger.verbose("acquireTokenSilent called",a),g=r.account||this.getActiveAccount(),!g)throw BrowserAuthError.createNoAccountError();return d={clientId:this.config.auth.clientId,authority:r.authority||Constants.EMPTY_STRING,scopes:r.scopes,homeAccountIdentifier:g.homeAccountId,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid},s=JSON.stringify(d),u=this.activeSilentTokenRequests.get(s),typeof u>"u"?(this.logger.verbose("acquireTokenSilent called for the first time, storing active request",a),this.performanceClient.setPreQueueTime(PerformanceEvents.AcquireTokenSilentAsync,a),n=this.acquireTokenSilentAsync(__assign$1(__assign$1({},r),{correlationId:a}),g).then(function(m){return c.activeSilentTokenRequests.delete(s),l.addStaticFields({accessTokenSize:m.accessToken.length,idTokenSize:m.idToken.length}),l.endMeasurement({success:!0,fromCache:m.fromCache,isNativeBroker:m.fromNativeBroker,cacheLookupPolicy:r.cacheLookupPolicy,requestId:m.requestId}),l.flushMeasurement(),m}).catch(function(m){throw c.activeSilentTokenRequests.delete(s),l.endMeasurement({errorCode:m.errorCode,subErrorCode:m.subError,success:!1}),l.flushMeasurement(),m}),this.activeSilentTokenRequests.set(s,n),[2,n]):(this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",a),l.endMeasurement({success:!0}),l.discardMeasurement(),[2,u])})})},t.prototype.trackPageVisibility=function(){!this.astsAsyncMeasurement||(this.logger.info("Perf: Visibility change detected"),this.astsAsyncMeasurement.increment({visibilityChangeCount:1}))},t.prototype.acquireTokenSilentAsync=function(r,a){var l;return __awaiter$2(this,void 0,void 0,function(){var g,d,s,u,n,c=this;return __generator$2(this,function(C){switch(C.label){case 0:return this.performanceClient.addQueueMeasurement(PerformanceEvents.AcquireTokenSilentAsync,r.correlationId),this.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_START,InteractionType.Silent,r),this.astsAsyncMeasurement=this.performanceClient.startMeasurement(PerformanceEvents.AcquireTokenSilentAsync,r.correlationId),(l=this.astsAsyncMeasurement)===null||l===void 0||l.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibility),NativeMessageHandler.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,r.authenticationScheme)&&a.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),d=__assign$1(__assign$1({},r),{account:a}),g=this.acquireTokenNative(d,ApiId.acquireTokenSilent_silentFlow).catch(function(m){return __awaiter$2(c,void 0,void 0,function(){var e;return __generator$2(this,function(E){if(m instanceof NativeAuthError&&m.isFatal())return this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,e=this.createSilentIframeClient(r.correlationId),[2,e.acquireToken(r)];throw m})})}),[3,3]):[3,1];case 1:return this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),s=this.createSilentCacheClient(r.correlationId),this.performanceClient.setPreQueueTime(PerformanceEvents.InitializeSilentRequest,r.correlationId),[4,s.initializeSilentRequest(r,a)];case 2:u=C.sent(),n=__assign$1(__assign$1({},r),{cacheLookupPolicy:r.cacheLookupPolicy||CacheLookupPolicy.Default}),this.performanceClient.setPreQueueTime(PerformanceEvents.AcquireTokenFromCache,u.correlationId),g=this.acquireTokenFromCache(s,u,n).catch(function(m){if(n.cacheLookupPolicy===CacheLookupPolicy.AccessToken)throw m;return BrowserUtils.blockReloadInHiddenIframes(),c.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_NETWORK_START,InteractionType.Silent,u),c.performanceClient.setPreQueueTime(PerformanceEvents.AcquireTokenByRefreshToken,u.correlationId),c.acquireTokenByRefreshToken(u,n).catch(function(e){var E=e instanceof ServerError,A=e instanceof InteractionRequiredAuthError,B=e.errorCode===BrowserConstants.INVALID_GRANT_ERROR;if((!E||!B||A||n.cacheLookupPolicy===CacheLookupPolicy.AccessTokenAndRefreshToken||n.cacheLookupPolicy===CacheLookupPolicy.RefreshToken)&&n.cacheLookupPolicy!==CacheLookupPolicy.Skip)throw e;return c.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",r.correlationId),c.performanceClient.setPreQueueTime(PerformanceEvents.AcquireTokenBySilentIframe,u.correlationId),c.acquireTokenBySilentIframe(u)})}),C.label=3;case 3:return[2,g.then(function(m){var e;return c.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_SUCCESS,InteractionType.Silent,m),(e=c.astsAsyncMeasurement)===null||e===void 0||e.endMeasurement({success:!0,fromCache:m.fromCache,isNativeBroker:m.fromNativeBroker,requestId:m.requestId}),m}).catch(function(m){var e;throw c.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_FAILURE,InteractionType.Silent,null,m),(e=c.astsAsyncMeasurement)===null||e===void 0||e.endMeasurement({errorCode:m.errorCode,subErrorCode:m.subError,success:!1}),m}).finally(function(){document.removeEventListener("visibilitychange",c.trackPageVisibility)})]}})})},t}(ClientApplication);/*! @azure/msal-browser v2.33.0 2023-02-06 */var EventMessageUtils=function(){function i(){}return i.getInteractionStatusFromEvent=function(t,r){switch(t.eventType){case EventType.LOGIN_START:return InteractionStatus.Login;case EventType.SSO_SILENT_START:return InteractionStatus.SsoSilent;case EventType.ACQUIRE_TOKEN_START:if(t.interactionType===InteractionType.Redirect||t.interactionType===InteractionType.Popup)return InteractionStatus.AcquireToken;break;case EventType.HANDLE_REDIRECT_START:return InteractionStatus.HandleRedirect;case EventType.LOGOUT_START:return InteractionStatus.Logout;case EventType.SSO_SILENT_SUCCESS:case EventType.SSO_SILENT_FAILURE:if(r&&r!==InteractionStatus.SsoSilent)break;return InteractionStatus.None;case EventType.LOGOUT_END:if(r&&r!==InteractionStatus.Logout)break;return InteractionStatus.None;case EventType.HANDLE_REDIRECT_END:if(r&&r!==InteractionStatus.HandleRedirect)break;return InteractionStatus.None;case EventType.LOGIN_SUCCESS:case EventType.LOGIN_FAILURE:case EventType.ACQUIRE_TOKEN_SUCCESS:case EventType.ACQUIRE_TOKEN_FAILURE:if(t.interactionType===InteractionType.Redirect||t.interactionType===InteractionType.Popup){if(r&&r!==InteractionStatus.Login&&r!==InteractionStatus.AcquireToken)break;return InteractionStatus.None}break}return null},i}();function useMsal(){const i=getCurrentInstance();if(!i)throw"useMsal() cannot be called outside the setup() function of a component";const{instance:t,accounts:r,inProgress:a}=toRefs(i.appContext.config.globalProperties.$msal);if(!t||!r||!a)throw"Please install the msalPlugin";return a.value===InteractionStatus.Startup&&t.value.handleRedirectPromise().catch(()=>{}),{instance:t.value,accounts:r,inProgress:a}}function useIsAuthenticated(){const{accounts:i}=useMsal(),t=ref(i.value.length>0);return watch(i,()=>{t.value=i.value.length>0}),t}const msalConfig={auth:{clientId:"d31b380a-b865-455e-864f-c2f47f15d95c",authority:"https://login.microsoftonline.com/4c25b8a6-17f7-46f9-83f0-54734ab81fb1",redirectUri:"http://lively-meadow-0c02fb810.2.azurestaticapps.net:3000",postLogoutRedirectUri:"http://lively-meadow-0c02fb810.2.azurestaticapps.net:3000"},cache:{cacheLocation:"localStorage"},system:{loggerOptions:{loggerCallback:(i,t,r)=>{if(!r)switch(i){case LogLevel.Error:console.error(t);return;case LogLevel.Info:console.info(t);return;case LogLevel.Verbose:console.debug(t);return;case LogLevel.Warning:console.warn(t);return;default:return}},logLevel:LogLevel.Verbose}}},msalInstance=new PublicClientApplication(msalConfig),loginRequest={scopes:["User.Read"]},graphConfig={graphMeEndpoint:"https://graph.microsoft.com/v1.0/me"},_sfc_main$b=defineComponent({__name:"SignInButton",setup(i){const{instance:t}=useMsal(),r=()=>{t.loginRedirect(loginRequest)};return(a,l)=>(openBlock(),createElementBlock("div",null,[createBaseVNode("div",{onClick:r,class:"cursor-pointer"},"Sign In")]))}}),_sfc_main$a=defineComponent({__name:"SignOutButton",setup(i){const{instance:t}=useMsal(),r=()=>{t.logoutRedirect()};return(a,l)=>(openBlock(),createElementBlock("div",null,[createBaseVNode("div",{class:"cursor-pointer",onClick:r},"Logout")]))}}),_hoisted_1$a={class:"welcome-name"},_hoisted_2$a={key:0},_sfc_main$9=defineComponent({__name:"WelcomeName",setup(i){const{accounts:t}=useMsal();console.log(t.value[0]);const r=computed(()=>t.value.length>0?t.value[0].name:"");return(a,l)=>(openBlock(),createElementBlock("div",_hoisted_1$a,[unref(r)?(openBlock(),createElementBlock("span",_hoisted_2$a,"Welcome: "+toDisplayString(unref(r)),1)):createCommentVNode("",!0)]))}}),WelcomeName_vue_vue_type_style_index_0_lang="";var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(i,t){return i.concat([t+"-"+start,t+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(i,t){return i.concat([t,t+"-"+start,t+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(i){return i?(i.nodeName||"").toLowerCase():null}function getWindow(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var t=i.ownerDocument;return t&&t.defaultView||window}return i}function isElement(i){var t=getWindow(i).Element;return i instanceof t||i instanceof Element}function isHTMLElement(i){var t=getWindow(i).HTMLElement;return i instanceof t||i instanceof HTMLElement}function isShadowRoot(i){if(typeof ShadowRoot>"u")return!1;var t=getWindow(i).ShadowRoot;return i instanceof t||i instanceof ShadowRoot}function applyStyles(i){var t=i.state;Object.keys(t.elements).forEach(function(r){var a=t.styles[r]||{},l=t.attributes[r]||{},g=t.elements[r];!isHTMLElement(g)||!getNodeName(g)||(Object.assign(g.style,a),Object.keys(l).forEach(function(d){var s=l[d];s===!1?g.removeAttribute(d):g.setAttribute(d,s===!0?"":s)}))})}function effect$2(i){var t=i.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(a){var l=t.elements[a],g=t.attributes[a]||{},d=Object.keys(t.styles.hasOwnProperty(a)?t.styles[a]:r[a]),s=d.reduce(function(u,n){return u[n]="",u},{});!isHTMLElement(l)||!getNodeName(l)||(Object.assign(l.style,s),Object.keys(g).forEach(function(u){l.removeAttribute(u)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(i){return i.split("-")[0]}var max$1=Math.max,min$2=Math.min,round=Math.round;function getUAString(){var i=navigator.userAgentData;return i!=null&&i.brands?i.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(i,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var a=i.getBoundingClientRect(),l=1,g=1;t&&isHTMLElement(i)&&(l=i.offsetWidth>0&&round(a.width)/i.offsetWidth||1,g=i.offsetHeight>0&&round(a.height)/i.offsetHeight||1);var d=isElement(i)?getWindow(i):window,s=d.visualViewport,u=!isLayoutViewport()&&r,n=(a.left+(u&&s?s.offsetLeft:0))/l,c=(a.top+(u&&s?s.offsetTop:0))/g,C=a.width/l,m=a.height/g;return{width:C,height:m,top:c,right:n+C,bottom:c+m,left:n,x:n,y:c}}function getLayoutRect(i){var t=getBoundingClientRect(i),r=i.offsetWidth,a=i.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-a)<=1&&(a=t.height),{x:i.offsetLeft,y:i.offsetTop,width:r,height:a}}function contains(i,t){var r=t.getRootNode&&t.getRootNode();if(i.contains(t))return!0;if(r&&isShadowRoot(r)){var a=t;do{if(a&&i.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function getComputedStyle$1(i){return getWindow(i).getComputedStyle(i)}function isTableElement(i){return["table","td","th"].indexOf(getNodeName(i))>=0}function getDocumentElement(i){return((isElement(i)?i.ownerDocument:i.document)||window.document).documentElement}function getParentNode(i){return getNodeName(i)==="html"?i:i.assignedSlot||i.parentNode||(isShadowRoot(i)?i.host:null)||getDocumentElement(i)}function getTrueOffsetParent(i){return!isHTMLElement(i)||getComputedStyle$1(i).position==="fixed"?null:i.offsetParent}function getContainingBlock(i){var t=/firefox/i.test(getUAString()),r=/Trident/i.test(getUAString());if(r&&isHTMLElement(i)){var a=getComputedStyle$1(i);if(a.position==="fixed")return null}var l=getParentNode(i);for(isShadowRoot(l)&&(l=l.host);isHTMLElement(l)&&["html","body"].indexOf(getNodeName(l))<0;){var g=getComputedStyle$1(l);if(g.transform!=="none"||g.perspective!=="none"||g.contain==="paint"||["transform","perspective"].indexOf(g.willChange)!==-1||t&&g.willChange==="filter"||t&&g.filter&&g.filter!=="none")return l;l=l.parentNode}return null}function getOffsetParent(i){for(var t=getWindow(i),r=getTrueOffsetParent(i);r&&isTableElement(r)&&getComputedStyle$1(r).position==="static";)r=getTrueOffsetParent(r);return r&&(getNodeName(r)==="html"||getNodeName(r)==="body"&&getComputedStyle$1(r).position==="static")?t:r||getContainingBlock(i)||t}function getMainAxisFromPlacement(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}function within(i,t,r){return max$1(i,min$2(t,r))}function withinMaxClamp(i,t,r){var a=within(i,t,r);return a>r?r:a}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(i){return Object.assign({},getFreshSideObject(),i)}function expandToHashMap(i,t){return t.reduce(function(r,a){return r[a]=i,r},{})}var toPaddingObject=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,mergePaddingObject(typeof t!="number"?t:expandToHashMap(t,basePlacements))};function arrow(i){var t,r=i.state,a=i.name,l=i.options,g=r.elements.arrow,d=r.modifiersData.popperOffsets,s=getBasePlacement(r.placement),u=getMainAxisFromPlacement(s),n=[left,right].indexOf(s)>=0,c=n?"height":"width";if(!(!g||!d)){var C=toPaddingObject(l.padding,r),m=getLayoutRect(g),e=u==="y"?top:left,E=u==="y"?bottom:right,A=r.rects.reference[c]+r.rects.reference[u]-d[u]-r.rects.popper[c],B=d[u]-r.rects.reference[u],O=getOffsetParent(g),v=O?u==="y"?O.clientHeight||0:O.clientWidth||0:0,b=A/2-B/2,o=C[e],T=v-m[c]-C[E],D=v/2-m[c]/2+b,_=within(o,D,T),y=u;r.modifiersData[a]=(t={},t[y]=_,t.centerOffset=_-D,t)}}function effect$1(i){var t=i.state,r=i.options,a=r.element,l=a===void 0?"[data-popper-arrow]":a;l!=null&&(typeof l=="string"&&(l=t.elements.popper.querySelector(l),!l)||!contains(t.elements.popper,l)||(t.elements.arrow=l))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(i){return i.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(i){var t=i.x,r=i.y,a=window,l=a.devicePixelRatio||1;return{x:round(t*l)/l||0,y:round(r*l)/l||0}}function mapToStyles(i){var t,r=i.popper,a=i.popperRect,l=i.placement,g=i.variation,d=i.offsets,s=i.position,u=i.gpuAcceleration,n=i.adaptive,c=i.roundOffsets,C=i.isFixed,m=d.x,e=m===void 0?0:m,E=d.y,A=E===void 0?0:E,B=typeof c=="function"?c({x:e,y:A}):{x:e,y:A};e=B.x,A=B.y;var O=d.hasOwnProperty("x"),v=d.hasOwnProperty("y"),b=left,o=top,T=window;if(n){var D=getOffsetParent(r),_="clientHeight",y="clientWidth";if(D===getWindow(r)&&(D=getDocumentElement(r),getComputedStyle$1(D).position!=="static"&&s==="absolute"&&(_="scrollHeight",y="scrollWidth")),D=D,l===top||(l===left||l===right)&&g===end){o=bottom;var P=C&&D===T&&T.visualViewport?T.visualViewport.height:D[_];A-=P-a.height,A*=u?1:-1}if(l===left||(l===top||l===bottom)&&g===end){b=right;var w=C&&D===T&&T.visualViewport?T.visualViewport.width:D[y];e-=w-a.width,e*=u?1:-1}}var M=Object.assign({position:s},n&&unsetSides),q=c===!0?roundOffsetsByDPR({x:e,y:A}):{x:e,y:A};if(e=q.x,A=q.y,u){var F;return Object.assign({},M,(F={},F[o]=v?"0":"",F[b]=O?"0":"",F.transform=(T.devicePixelRatio||1)<=1?"translate("+e+"px, "+A+"px)":"translate3d("+e+"px, "+A+"px, 0)",F))}return Object.assign({},M,(t={},t[o]=v?A+"px":"",t[b]=O?e+"px":"",t.transform="",t))}function computeStyles(i){var t=i.state,r=i.options,a=r.gpuAcceleration,l=a===void 0?!0:a,g=r.adaptive,d=g===void 0?!0:g,s=r.roundOffsets,u=s===void 0?!0:s,n={placement:getBasePlacement(t.placement),variation:getVariation(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:l,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,mapToStyles(Object.assign({},n,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:d,roundOffsets:u})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,mapToStyles(Object.assign({},n,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(i){var t=i.state,r=i.instance,a=i.options,l=a.scroll,g=l===void 0?!0:l,d=a.resize,s=d===void 0?!0:d,u=getWindow(t.elements.popper),n=[].concat(t.scrollParents.reference,t.scrollParents.popper);return g&&n.forEach(function(c){c.addEventListener("scroll",r.update,passive)}),s&&u.addEventListener("resize",r.update,passive),function(){g&&n.forEach(function(c){c.removeEventListener("scroll",r.update,passive)}),s&&u.removeEventListener("resize",r.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(i){return i.replace(/left|right|bottom|top/g,function(t){return hash$1[t]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(i){return i.replace(/start|end/g,function(t){return hash[t]})}function getWindowScroll(i){var t=getWindow(i),r=t.pageXOffset,a=t.pageYOffset;return{scrollLeft:r,scrollTop:a}}function getWindowScrollBarX(i){return getBoundingClientRect(getDocumentElement(i)).left+getWindowScroll(i).scrollLeft}function getViewportRect(i,t){var r=getWindow(i),a=getDocumentElement(i),l=r.visualViewport,g=a.clientWidth,d=a.clientHeight,s=0,u=0;if(l){g=l.width,d=l.height;var n=isLayoutViewport();(n||!n&&t==="fixed")&&(s=l.offsetLeft,u=l.offsetTop)}return{width:g,height:d,x:s+getWindowScrollBarX(i),y:u}}function getDocumentRect(i){var t,r=getDocumentElement(i),a=getWindowScroll(i),l=(t=i.ownerDocument)==null?void 0:t.body,g=max$1(r.scrollWidth,r.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),d=max$1(r.scrollHeight,r.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),s=-a.scrollLeft+getWindowScrollBarX(i),u=-a.scrollTop;return getComputedStyle$1(l||r).direction==="rtl"&&(s+=max$1(r.clientWidth,l?l.clientWidth:0)-g),{width:g,height:d,x:s,y:u}}function isScrollParent(i){var t=getComputedStyle$1(i),r=t.overflow,a=t.overflowX,l=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+l+a)}function getScrollParent(i){return["html","body","#document"].indexOf(getNodeName(i))>=0?i.ownerDocument.body:isHTMLElement(i)&&isScrollParent(i)?i:getScrollParent(getParentNode(i))}function listScrollParents(i,t){var r;t===void 0&&(t=[]);var a=getScrollParent(i),l=a===((r=i.ownerDocument)==null?void 0:r.body),g=getWindow(a),d=l?[g].concat(g.visualViewport||[],isScrollParent(a)?a:[]):a,s=t.concat(d);return l?s:s.concat(listScrollParents(getParentNode(d)))}function rectToClientRect(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}function getInnerBoundingClientRect(i,t){var r=getBoundingClientRect(i,!1,t==="fixed");return r.top=r.top+i.clientTop,r.left=r.left+i.clientLeft,r.bottom=r.top+i.clientHeight,r.right=r.left+i.clientWidth,r.width=i.clientWidth,r.height=i.clientHeight,r.x=r.left,r.y=r.top,r}function getClientRectFromMixedType(i,t,r){return t===viewport?rectToClientRect(getViewportRect(i,r)):isElement(t)?getInnerBoundingClientRect(t,r):rectToClientRect(getDocumentRect(getDocumentElement(i)))}function getClippingParents(i){var t=listScrollParents(getParentNode(i)),r=["absolute","fixed"].indexOf(getComputedStyle$1(i).position)>=0,a=r&&isHTMLElement(i)?getOffsetParent(i):i;return isElement(a)?t.filter(function(l){return isElement(l)&&contains(l,a)&&getNodeName(l)!=="body"}):[]}function getClippingRect(i,t,r,a){var l=t==="clippingParents"?getClippingParents(i):[].concat(t),g=[].concat(l,[r]),d=g[0],s=g.reduce(function(u,n){var c=getClientRectFromMixedType(i,n,a);return u.top=max$1(c.top,u.top),u.right=min$2(c.right,u.right),u.bottom=min$2(c.bottom,u.bottom),u.left=max$1(c.left,u.left),u},getClientRectFromMixedType(i,d,a));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function computeOffsets(i){var t=i.reference,r=i.element,a=i.placement,l=a?getBasePlacement(a):null,g=a?getVariation(a):null,d=t.x+t.width/2-r.width/2,s=t.y+t.height/2-r.height/2,u;switch(l){case top:u={x:d,y:t.y-r.height};break;case bottom:u={x:d,y:t.y+t.height};break;case right:u={x:t.x+t.width,y:s};break;case left:u={x:t.x-r.width,y:s};break;default:u={x:t.x,y:t.y}}var n=l?getMainAxisFromPlacement(l):null;if(n!=null){var c=n==="y"?"height":"width";switch(g){case start:u[n]=u[n]-(t[c]/2-r[c]/2);break;case end:u[n]=u[n]+(t[c]/2-r[c]/2);break}}return u}function detectOverflow(i,t){t===void 0&&(t={});var r=t,a=r.placement,l=a===void 0?i.placement:a,g=r.strategy,d=g===void 0?i.strategy:g,s=r.boundary,u=s===void 0?clippingParents:s,n=r.rootBoundary,c=n===void 0?viewport:n,C=r.elementContext,m=C===void 0?popper:C,e=r.altBoundary,E=e===void 0?!1:e,A=r.padding,B=A===void 0?0:A,O=mergePaddingObject(typeof B!="number"?B:expandToHashMap(B,basePlacements)),v=m===popper?reference:popper,b=i.rects.popper,o=i.elements[E?v:m],T=getClippingRect(isElement(o)?o:o.contextElement||getDocumentElement(i.elements.popper),u,c,d),D=getBoundingClientRect(i.elements.reference),_=computeOffsets({reference:D,element:b,strategy:"absolute",placement:l}),y=rectToClientRect(Object.assign({},b,_)),P=m===popper?y:D,w={top:T.top-P.top+O.top,bottom:P.bottom-T.bottom+O.bottom,left:T.left-P.left+O.left,right:P.right-T.right+O.right},M=i.modifiersData.offset;if(m===popper&&M){var q=M[l];Object.keys(w).forEach(function(F){var G=[right,bottom].indexOf(F)>=0?1:-1,R=[top,bottom].indexOf(F)>=0?"y":"x";w[F]+=q[R]*G})}return w}function computeAutoPlacement(i,t){t===void 0&&(t={});var r=t,a=r.placement,l=r.boundary,g=r.rootBoundary,d=r.padding,s=r.flipVariations,u=r.allowedAutoPlacements,n=u===void 0?placements:u,c=getVariation(a),C=c?s?variationPlacements:variationPlacements.filter(function(E){return getVariation(E)===c}):basePlacements,m=C.filter(function(E){return n.indexOf(E)>=0});m.length===0&&(m=C);var e=m.reduce(function(E,A){return E[A]=detectOverflow(i,{placement:A,boundary:l,rootBoundary:g,padding:d})[getBasePlacement(A)],E},{});return Object.keys(e).sort(function(E,A){return e[E]-e[A]})}function getExpandedFallbackPlacements(i){if(getBasePlacement(i)===auto)return[];var t=getOppositePlacement(i);return[getOppositeVariationPlacement(i),t,getOppositeVariationPlacement(t)]}function flip(i){var t=i.state,r=i.options,a=i.name;if(!t.modifiersData[a]._skip){for(var l=r.mainAxis,g=l===void 0?!0:l,d=r.altAxis,s=d===void 0?!0:d,u=r.fallbackPlacements,n=r.padding,c=r.boundary,C=r.rootBoundary,m=r.altBoundary,e=r.flipVariations,E=e===void 0?!0:e,A=r.allowedAutoPlacements,B=t.options.placement,O=getBasePlacement(B),v=O===B,b=u||(v||!E?[getOppositePlacement(B)]:getExpandedFallbackPlacements(B)),o=[B].concat(b).reduce(function(J,k){return J.concat(getBasePlacement(k)===auto?computeAutoPlacement(t,{placement:k,boundary:c,rootBoundary:C,padding:n,flipVariations:E,allowedAutoPlacements:A}):k)},[]),T=t.rects.reference,D=t.rects.popper,_=new Map,y=!0,P=o[0],w=0;w<o.length;w++){var M=o[w],q=getBasePlacement(M),F=getVariation(M)===start,G=[top,bottom].indexOf(q)>=0,R=G?"width":"height",I=detectOverflow(t,{placement:M,boundary:c,rootBoundary:C,altBoundary:m,padding:n}),L=G?F?right:left:F?bottom:top;T[R]>D[R]&&(L=getOppositePlacement(L));var x=getOppositePlacement(L),S=[];if(g&&S.push(I[q]<=0),s&&S.push(I[L]<=0,I[x]<=0),S.every(function(J){return J})){P=M,y=!1;break}_.set(M,S)}if(y)for(var W=E?3:1,U=function(k){var H=o.find(function(Z){var Q=_.get(Z);if(Q)return Q.slice(0,k).every(function(V){return V})});if(H)return P=H,"break"},z=W;z>0;z--){var re=U(z);if(re==="break")break}t.placement!==P&&(t.modifiersData[a]._skip=!0,t.placement=P,t.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(i,t,r){return r===void 0&&(r={x:0,y:0}),{top:i.top-t.height-r.y,right:i.right-t.width+r.x,bottom:i.bottom-t.height+r.y,left:i.left-t.width-r.x}}function isAnySideFullyClipped(i){return[top,right,bottom,left].some(function(t){return i[t]>=0})}function hide(i){var t=i.state,r=i.name,a=t.rects.reference,l=t.rects.popper,g=t.modifiersData.preventOverflow,d=detectOverflow(t,{elementContext:"reference"}),s=detectOverflow(t,{altBoundary:!0}),u=getSideOffsets(d,a),n=getSideOffsets(s,l,g),c=isAnySideFullyClipped(u),C=isAnySideFullyClipped(n);t.modifiersData[r]={referenceClippingOffsets:u,popperEscapeOffsets:n,isReferenceHidden:c,hasPopperEscaped:C},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":C})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(i,t,r){var a=getBasePlacement(i),l=[left,top].indexOf(a)>=0?-1:1,g=typeof r=="function"?r(Object.assign({},t,{placement:i})):r,d=g[0],s=g[1];return d=d||0,s=(s||0)*l,[left,right].indexOf(a)>=0?{x:s,y:d}:{x:d,y:s}}function offset(i){var t=i.state,r=i.options,a=i.name,l=r.offset,g=l===void 0?[0,0]:l,d=placements.reduce(function(c,C){return c[C]=distanceAndSkiddingToXY(C,t.rects,g),c},{}),s=d[t.placement],u=s.x,n=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=n),t.modifiersData[a]=d}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(i){var t=i.state,r=i.name;t.modifiersData[r]=computeOffsets({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(i){return i==="x"?"y":"x"}function preventOverflow(i){var t=i.state,r=i.options,a=i.name,l=r.mainAxis,g=l===void 0?!0:l,d=r.altAxis,s=d===void 0?!1:d,u=r.boundary,n=r.rootBoundary,c=r.altBoundary,C=r.padding,m=r.tether,e=m===void 0?!0:m,E=r.tetherOffset,A=E===void 0?0:E,B=detectOverflow(t,{boundary:u,rootBoundary:n,padding:C,altBoundary:c}),O=getBasePlacement(t.placement),v=getVariation(t.placement),b=!v,o=getMainAxisFromPlacement(O),T=getAltAxis(o),D=t.modifiersData.popperOffsets,_=t.rects.reference,y=t.rects.popper,P=typeof A=="function"?A(Object.assign({},t.rects,{placement:t.placement})):A,w=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),M=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,q={x:0,y:0};if(!!D){if(g){var F,G=o==="y"?top:left,R=o==="y"?bottom:right,I=o==="y"?"height":"width",L=D[o],x=L+B[G],S=L-B[R],W=e?-y[I]/2:0,U=v===start?_[I]:y[I],z=v===start?-y[I]:-_[I],re=t.elements.arrow,J=e&&re?getLayoutRect(re):{width:0,height:0},k=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:getFreshSideObject(),H=k[G],Z=k[R],Q=within(0,_[I],J[I]),V=b?_[I]/2-W-Q-H-w.mainAxis:U-Q-H-w.mainAxis,Y=b?-_[I]/2+W+Q+Z+w.mainAxis:z+Q+Z+w.mainAxis,te=t.elements.arrow&&getOffsetParent(t.elements.arrow),$=te?o==="y"?te.clientTop||0:te.clientLeft||0:0,X=(F=M==null?void 0:M[o])!=null?F:0,ne=L+V-X-$,ce=L+Y-X,se=within(e?min$2(x,ne):x,L,e?max$1(S,ce):S);D[o]=se,q[o]=se-L}if(s){var K,ee=o==="x"?top:left,ie=o==="x"?bottom:right,oe=D[T],le=T==="y"?"height":"width",pe=oe+B[ee],fe=oe-B[ie],ue=[top,left].indexOf(O)!==-1,ge=(K=M==null?void 0:M[T])!=null?K:0,he=ue?pe:oe-_[le]-y[le]-ge+w.altAxis,xe=ue?oe+_[le]+y[le]-ge-w.altAxis:fe,ye=e&&ue?withinMaxClamp(he,oe,xe):within(e?he:pe,oe,e?xe:fe);D[T]=ye,q[T]=ye-oe}t.modifiersData[a]=q}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}function getNodeScroll(i){return i===getWindow(i)||!isHTMLElement(i)?getWindowScroll(i):getHTMLElementScroll(i)}function isElementScaled(i){var t=i.getBoundingClientRect(),r=round(t.width)/i.offsetWidth||1,a=round(t.height)/i.offsetHeight||1;return r!==1||a!==1}function getCompositeRect(i,t,r){r===void 0&&(r=!1);var a=isHTMLElement(t),l=isHTMLElement(t)&&isElementScaled(t),g=getDocumentElement(t),d=getBoundingClientRect(i,l,r),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(a||!a&&!r)&&((getNodeName(t)!=="body"||isScrollParent(g))&&(s=getNodeScroll(t)),isHTMLElement(t)?(u=getBoundingClientRect(t,!0),u.x+=t.clientLeft,u.y+=t.clientTop):g&&(u.x=getWindowScrollBarX(g))),{x:d.left+s.scrollLeft-u.x,y:d.top+s.scrollTop-u.y,width:d.width,height:d.height}}function order(i){var t=new Map,r=new Set,a=[];i.forEach(function(g){t.set(g.name,g)});function l(g){r.add(g.name);var d=[].concat(g.requires||[],g.requiresIfExists||[]);d.forEach(function(s){if(!r.has(s)){var u=t.get(s);u&&l(u)}}),a.push(g)}return i.forEach(function(g){r.has(g.name)||l(g)}),a}function orderModifiers(i){var t=order(i);return modifierPhases.reduce(function(r,a){return r.concat(t.filter(function(l){return l.phase===a}))},[])}function debounce(i){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(i())})})),t}}function mergeByName(i){var t=i.reduce(function(r,a){var l=r[a.name];return r[a.name]=l?Object.assign({},l,a,{options:Object.assign({},l.options,a.options),data:Object.assign({},l.data,a.data)}):a,r},{});return Object.keys(t).map(function(r){return t[r]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var i=arguments.length,t=new Array(i),r=0;r<i;r++)t[r]=arguments[r];return!t.some(function(a){return!(a&&typeof a.getBoundingClientRect=="function")})}function popperGenerator(i){i===void 0&&(i={});var t=i,r=t.defaultModifiers,a=r===void 0?[]:r,l=t.defaultOptions,g=l===void 0?DEFAULT_OPTIONS:l;return function(s,u,n){n===void 0&&(n=g);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,g),modifiersData:{},elements:{reference:s,popper:u},attributes:{},styles:{}},C=[],m=!1,e={state:c,setOptions:function(O){var v=typeof O=="function"?O(c.options):O;A(),c.options=Object.assign({},g,c.options,v),c.scrollParents={reference:isElement(s)?listScrollParents(s):s.contextElement?listScrollParents(s.contextElement):[],popper:listScrollParents(u)};var b=orderModifiers(mergeByName([].concat(a,c.options.modifiers)));return c.orderedModifiers=b.filter(function(o){return o.enabled}),E(),e.update()},forceUpdate:function(){if(!m){var O=c.elements,v=O.reference,b=O.popper;if(!!areValidElements(v,b)){c.rects={reference:getCompositeRect(v,getOffsetParent(b),c.options.strategy==="fixed"),popper:getLayoutRect(b)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(w){return c.modifiersData[w.name]=Object.assign({},w.data)});for(var o=0;o<c.orderedModifiers.length;o++){if(c.reset===!0){c.reset=!1,o=-1;continue}var T=c.orderedModifiers[o],D=T.fn,_=T.options,y=_===void 0?{}:_,P=T.name;typeof D=="function"&&(c=D({state:c,options:y,name:P,instance:e})||c)}}}},update:debounce(function(){return new Promise(function(B){e.forceUpdate(),B(c)})}),destroy:function(){A(),m=!0}};if(!areValidElements(s,u))return e;e.setOptions(n).then(function(B){!m&&n.onFirstUpdate&&n.onFirstUpdate(B)});function E(){c.orderedModifiers.forEach(function(B){var O=B.name,v=B.options,b=v===void 0?{}:v,o=B.effect;if(typeof o=="function"){var T=o({state:c,name:O,instance:e,options:b}),D=function(){};C.push(T||D)}})}function A(){C.forEach(function(B){return B()}),C=[]}return e}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers});const _sfc_main$8={components:{SignInButton:_sfc_main$b,SignOutButton:_sfc_main$a,WelcomeName:_sfc_main$9},name:"dropdown",data(){return{dropdownPopoverShow:!1,isAuthenticated:useIsAuthenticated()}},methods:{toggleDropdown:function(){this.dropdownPopoverShow?this.dropdownPopoverShow=!1:(this.dropdownPopoverShow=!0,createPopper(this.$refs.btnDropdownRef,this.$refs.popoverDropdownRef,{placement:"bottom",modifiers:[{name:"offset",options:{offset:[-2,10]}}]}))}}},_export_sfc=(i,t)=>{const r=i.__vccOpts||i;for(const[a,l]of t)r[a]=l;return r},_hoisted_1$9={class:"bg-[#2e54a5] pt-2 md:pt-1 pb-1 px-1 mt-0 h-auto fixed w-full z-20 top-0 border-gray shadow-lg"},_hoisted_2$9={class:"flex flex-wrap items-center"},_hoisted_3$7={class:"flex flex-shrink md:w-1/3 justify-center md:justify-start text-white"},_hoisted_4$5=createStaticVNode('<div class="flex flex-1 md:w-1/3 justify-center md:justify-start text-white px-2 my-2"><span class="relative w-full"><input type="search" placeholder="Search" class="w-full bg-slate-200 text-white transition border border-transparent focus:outline-none focus:border-gray-400 rounded py-3 px-2 pl-10 appearance-none leading-normal"><div class="absolute search-icon" style="top:1rem;left:.8rem;"><svg class="fill-current pointer-events-none text-white w-4 h-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"></path></svg></div></span></div>',1),_hoisted_5$4={class:"flex w-full pt-2 content-center justify-between md:w-1/3 md:justify-end"},_hoisted_6$4={class:"list-reset flex justify-between flex-1 md:flex-none items-center text-white"},_hoisted_7$4={key:0,class:"flex-1 md:flex-none md:mr-3 bg-slate-300 p-2 text-[#2e54a5] rounded-md"},_hoisted_8$4={class:"text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-slate-700"},_hoisted_9$4={class:"text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-slate-700"},_hoisted_10$4={key:1},_hoisted_11$4={class:"flex-1 md:flex-none md:mr-3"};function _sfc_render$5(i,t,r,a,l,g){const d=resolveComponent("router-link"),s=resolveComponent("SignOutButton"),u=resolveComponent("SignInButton"),n=resolveComponent("WelcomeName");return openBlock(),createElementBlock("nav",_hoisted_1$9,[createBaseVNode("div",_hoisted_2$9,[createBaseVNode("div",_hoisted_3$7,[createVNode(d,{to:"/",class:"text-xl pl-2 cursor-pointer"},{default:withCtx(()=>[createTextVNode("Cloud Compute ")]),_:1})]),_hoisted_4$5,createBaseVNode("div",_hoisted_5$4,[createBaseVNode("ul",_hoisted_6$4,[l.isAuthenticated?(openBlock(),createElementBlock("li",_hoisted_7$4,[createBaseVNode("button",{type:"button",onClick:t[0]||(t[0]=c=>g.toggleDropdown()),ref:"btnDropdownRef",class:"cursor-pointer"}," Settings ",512),createBaseVNode("div",{class:normalizeClass([{hidden:!l.dropdownPopoverShow,block:l.dropdownPopoverShow},"bg-white text-base z-50 py-2 list-none text-left rounded shadow-lg"]),style:{"min-width":"8rem"},ref:"popoverDropdownRef"},[createBaseVNode("div",_hoisted_8$4,[createVNode(d,{to:"/profile",onClick:t[1]||(t[1]=c=>l.dropdownPopoverShow=!1)},{default:withCtx(()=>[createTextVNode("Profile")]),_:1})]),createBaseVNode("div",_hoisted_9$4,[createVNode(s)])],2)])):(openBlock(),createElementBlock("li",_hoisted_10$4,[createVNode(u)])),createBaseVNode("li",_hoisted_11$4,[createVNode(n)])])])])])}const NavBar=_export_sfc(_sfc_main$8,[["render",_sfc_render$5]]),_sfc_main$7=defineComponent({name:"App",components:{NavBar}}),App_vue_vue_type_style_index_0_lang="",_hoisted_1$8={class:"flex flex-col md:flex-row text-left"},_hoisted_2$8={class:"bg-[#2e54a5] shadow-xl h-16 fixed bottom-0 md:relative md:h-screen z-10 w-full md:w-48"},_hoisted_3$6={class:"md:mt-20 md:w-48 md:fixed md:left-0 md:top-0 md:content-start text-left justify-between"},_hoisted_4$4={class:"list-reset flex flex-row md:flex-col py-0 md:py-3 px-1 md:px-2 text-center md:text-left"},_hoisted_5$3={class:"mr-3 flex-1"},_hoisted_6$3=createBaseVNode("i",{class:"fas fa-tasks pr-0 md:pr-3"},null,-1),_hoisted_7$3=createBaseVNode("span",{class:"pb-1 md:pb-0 text-xs md:text-base text-white md:text-white block md:inline-block"},"Papers",-1),_hoisted_8$3={class:"mr-3 flex-1"},_hoisted_9$3=createBaseVNode("i",{class:"fas fa-tasks pr-0 md:pr-3"},null,-1),_hoisted_10$3=createBaseVNode("span",{class:"pb-1 md:pb-0 text-xs md:text-base text-white md:text-white block md:inline-block"},"Upload",-1),_hoisted_11$3={class:"main-content w-full"};function _sfc_render$4(i,t,r,a,l,g){const d=resolveComponent("NavBar"),s=resolveComponent("router-link"),u=resolveComponent("router-view");return openBlock(),createElementBlock("div",null,[createVNode(d),createBaseVNode("div",_hoisted_1$8,[createBaseVNode("div",_hoisted_2$8,[createBaseVNode("div",_hoisted_3$6,[createBaseVNode("ul",_hoisted_4$4,[createBaseVNode("li",_hoisted_5$3,[createVNode(s,{to:"/",class:"block py-1 md:py-3 pl-1 align-middle text-white no-underline hover:text-white border-b-2 hover:border-gray-500"},{default:withCtx(()=>[_hoisted_6$3,_hoisted_7$3]),_:1})]),createBaseVNode("li",_hoisted_8$3,[createVNode(s,{to:"/upload-paper",class:"block py-1 md:py-3 pl-1 align-middle text-white no-underline hover:text-white border-b-2 hover:border-gray-500"},{default:withCtx(()=>[_hoisted_9$3,_hoisted_10$3]),_:1})])])])]),createBaseVNode("div",_hoisted_11$3,[createVNode(u)])])])}const App=_export_sfc(_sfc_main$7,[["render",_sfc_render$4]]),style="";/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof window<"u";function isESModule(i){return i.__esModule||i[Symbol.toStringTag]==="Module"}const assign=Object.assign;function applyToParams(i,t){const r={};for(const a in t){const l=t[a];r[a]=isArray$2(l)?l.map(i):i(l)}return r}const noop$1=()=>{},isArray$2=Array.isArray,TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=i=>i.replace(TRAILING_SLASH_RE,"");function parseURL(i,t,r="/"){let a,l={},g="",d="";const s=t.indexOf("#");let u=t.indexOf("?");return s<u&&s>=0&&(u=-1),u>-1&&(a=t.slice(0,u),g=t.slice(u+1,s>-1?s:t.length),l=i(g)),s>-1&&(a=a||t.slice(0,s),d=t.slice(s,t.length)),a=resolveRelativePath(a!=null?a:t,r),{fullPath:a+(g&&"?")+g+d,path:a,query:l,hash:d}}function stringifyURL(i,t){const r=t.query?i(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function stripBase(i,t){return!t||!i.toLowerCase().startsWith(t.toLowerCase())?i:i.slice(t.length)||"/"}function isSameRouteLocation(i,t,r){const a=t.matched.length-1,l=r.matched.length-1;return a>-1&&a===l&&isSameRouteRecord(t.matched[a],r.matched[l])&&isSameRouteLocationParams(t.params,r.params)&&i(t.query)===i(r.query)&&t.hash===r.hash}function isSameRouteRecord(i,t){return(i.aliasOf||i)===(t.aliasOf||t)}function isSameRouteLocationParams(i,t){if(Object.keys(i).length!==Object.keys(t).length)return!1;for(const r in i)if(!isSameRouteLocationParamsValue(i[r],t[r]))return!1;return!0}function isSameRouteLocationParamsValue(i,t){return isArray$2(i)?isEquivalentArray(i,t):isArray$2(t)?isEquivalentArray(t,i):i===t}function isEquivalentArray(i,t){return isArray$2(t)?i.length===t.length&&i.every((r,a)=>r===t[a]):i.length===1&&i[0]===t}function resolveRelativePath(i,t){if(i.startsWith("/"))return i;if(!i)return t;const r=t.split("/"),a=i.split("/");let l=r.length-1,g,d;for(g=0;g<a.length;g++)if(d=a[g],d!==".")if(d==="..")l>1&&l--;else break;return r.slice(0,l).join("/")+"/"+a.slice(g-(g===a.length?1:0)).join("/")}var NavigationType;(function(i){i.pop="pop",i.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(i){i.back="back",i.forward="forward",i.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(i){if(!i)if(isBrowser){const t=document.querySelector("base");i=t&&t.getAttribute("href")||"/",i=i.replace(/^\w+:\/\/[^\/]+/,"")}else i="/";return i[0]!=="/"&&i[0]!=="#"&&(i="/"+i),removeTrailingSlash(i)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(i,t){return i.replace(BEFORE_HASH_RE,"#")+t}function getElementPosition(i,t){const r=document.documentElement.getBoundingClientRect(),a=i.getBoundingClientRect();return{behavior:t.behavior,left:a.left-r.left-(t.left||0),top:a.top-r.top-(t.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(i){let t;if("el"in i){const r=i.el,a=typeof r=="string"&&r.startsWith("#"),l=typeof r=="string"?a?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!l)return;t=getElementPosition(l,i)}else t=i;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function getScrollKey(i,t){return(history.state?history.state.position-t:-1)+i}const scrollPositions=new Map;function saveScrollPosition(i,t){scrollPositions.set(i,t)}function getSavedScrollPosition(i){const t=scrollPositions.get(i);return scrollPositions.delete(i),t}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(i,t){const{pathname:r,search:a,hash:l}=t,g=i.indexOf("#");if(g>-1){let s=l.includes(i.slice(g))?i.slice(g).length:1,u=l.slice(s);return u[0]!=="/"&&(u="/"+u),stripBase(u,"")}return stripBase(r,i)+a+l}function useHistoryListeners(i,t,r,a){let l=[],g=[],d=null;const s=({state:m})=>{const e=createCurrentLocation(i,location),E=r.value,A=t.value;let B=0;if(m){if(r.value=e,t.value=m,d&&d===E){d=null;return}B=A?m.position-A.position:0}else a(e);l.forEach(O=>{O(r.value,E,{delta:B,type:NavigationType.pop,direction:B?B>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function u(){d=r.value}function n(m){l.push(m);const e=()=>{const E=l.indexOf(m);E>-1&&l.splice(E,1)};return g.push(e),e}function c(){const{history:m}=window;!m.state||m.replaceState(assign({},m.state,{scroll:computeScrollPosition()}),"")}function C(){for(const m of g)m();g=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",c),{pauseListeners:u,listen:n,destroy:C}}function buildState(i,t,r,a=!1,l=!1){return{back:i,current:t,forward:r,replaced:a,position:window.history.length,scroll:l?computeScrollPosition():null}}function useHistoryStateNavigation(i){const{history:t,location:r}=window,a={value:createCurrentLocation(i,r)},l={value:t.state};l.value||g(a.value,{back:null,current:a.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function g(u,n,c){const C=i.indexOf("#"),m=C>-1?(r.host&&document.querySelector("base")?i:i.slice(C))+u:createBaseLocation()+i+u;try{t[c?"replaceState":"pushState"](n,"",m),l.value=n}catch(e){console.error(e),r[c?"replace":"assign"](m)}}function d(u,n){const c=assign({},t.state,buildState(l.value.back,u,l.value.forward,!0),n,{position:l.value.position});g(u,c,!0),a.value=u}function s(u,n){const c=assign({},l.value,t.state,{forward:u,scroll:computeScrollPosition()});g(c.current,c,!0);const C=assign({},buildState(a.value,u,null),{position:c.position+1},n);g(u,C,!1),a.value=u}return{location:a,state:l,push:s,replace:d}}function createWebHistory(i){i=normalizeBase(i);const t=useHistoryStateNavigation(i),r=useHistoryListeners(i,t.state,t.location,t.replace);function a(g,d=!0){d||r.pauseListeners(),history.go(g)}const l=assign({location:"",base:i,go:a,createHref:createHref.bind(null,i)},t,r);return Object.defineProperty(l,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(l,"state",{enumerable:!0,get:()=>t.state.value}),l}function isRouteLocation(i){return typeof i=="string"||i&&typeof i=="object"}function isRouteName(i){return typeof i=="string"||typeof i=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(i){i[i.aborted=4]="aborted",i[i.cancelled=8]="cancelled",i[i.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(i,t){return assign(new Error,{type:i,[NavigationFailureSymbol]:!0},t)}function isNavigationFailure(i,t){return i instanceof Error&&NavigationFailureSymbol in i&&(t==null||!!(i.type&t))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(i,t){const r=assign({},BASE_PATH_PARSER_OPTIONS,t),a=[];let l=r.start?"^":"";const g=[];for(const n of i){const c=n.length?[]:[90];r.strict&&!n.length&&(l+="/");for(let C=0;C<n.length;C++){const m=n[C];let e=40+(r.sensitive?.25:0);if(m.type===0)C||(l+="/"),l+=m.value.replace(REGEX_CHARS_RE,"\\$&"),e+=40;else if(m.type===1){const{value:E,repeatable:A,optional:B,regexp:O}=m;g.push({name:E,repeatable:A,optional:B});const v=O||BASE_PARAM_PATTERN;if(v!==BASE_PARAM_PATTERN){e+=10;try{new RegExp(`(${v})`)}catch(o){throw new Error(`Invalid custom RegExp for param "${E}" (${v}): `+o.message)}}let b=A?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;C||(b=B&&n.length<2?`(?:/${b})`:"/"+b),B&&(b+="?"),l+=b,e+=20,B&&(e+=-8),A&&(e+=-20),v===".*"&&(e+=-50)}c.push(e)}a.push(c)}if(r.strict&&r.end){const n=a.length-1;a[n][a[n].length-1]+=.7000000000000001}r.strict||(l+="/?"),r.end?l+="$":r.strict&&(l+="(?:/|$)");const d=new RegExp(l,r.sensitive?"":"i");function s(n){const c=n.match(d),C={};if(!c)return null;for(let m=1;m<c.length;m++){const e=c[m]||"",E=g[m-1];C[E.name]=e&&E.repeatable?e.split("/"):e}return C}function u(n){let c="",C=!1;for(const m of i){(!C||!c.endsWith("/"))&&(c+="/"),C=!1;for(const e of m)if(e.type===0)c+=e.value;else if(e.type===1){const{value:E,repeatable:A,optional:B}=e,O=E in n?n[E]:"";if(isArray$2(O)&&!A)throw new Error(`Provided param "${E}" is an array but it is not repeatable (* or + modifiers)`);const v=isArray$2(O)?O.join("/"):O;if(!v)if(B)m.length<2&&(c.endsWith("/")?c=c.slice(0,-1):C=!0);else throw new Error(`Missing required param "${E}"`);c+=v}}return c||"/"}return{re:d,score:a,keys:g,parse:s,stringify:u}}function compareScoreArray(i,t){let r=0;for(;r<i.length&&r<t.length;){const a=t[r]-i[r];if(a)return a;r++}return i.length<t.length?i.length===1&&i[0]===40+40?-1:1:i.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function comparePathParserScore(i,t){let r=0;const a=i.score,l=t.score;for(;r<a.length&&r<l.length;){const g=compareScoreArray(a[r],l[r]);if(g)return g;r++}if(Math.abs(l.length-a.length)===1){if(isLastScoreNegative(a))return 1;if(isLastScoreNegative(l))return-1}return l.length-a.length}function isLastScoreNegative(i){const t=i[i.length-1];return i.length>0&&t[t.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(i){if(!i)return[[]];if(i==="/")return[[ROOT_TOKEN]];if(!i.startsWith("/"))throw new Error(`Invalid path "${i}"`);function t(e){throw new Error(`ERR (${r})/"${n}": ${e}`)}let r=0,a=r;const l=[];let g;function d(){g&&l.push(g),g=[]}let s=0,u,n="",c="";function C(){!n||(r===0?g.push({type:0,value:n}):r===1||r===2||r===3?(g.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${n}) must be alone in its segment. eg: '/:ids+.`),g.push({type:1,value:n,regexp:c,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),n="")}function m(){n+=u}for(;s<i.length;){if(u=i[s++],u==="\\"&&r!==2){a=r,r=4;continue}switch(r){case 0:u==="/"?(n&&C(),d()):u===":"?(C(),r=1):m();break;case 4:m(),r=a;break;case 1:u==="("?r=2:VALID_PARAM_RE.test(u)?m():(C(),r=0,u!=="*"&&u!=="?"&&u!=="+"&&s--);break;case 2:u===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+u:r=3:c+=u;break;case 3:C(),r=0,u!=="*"&&u!=="?"&&u!=="+"&&s--,c="";break;default:t("Unknown state");break}}return r===2&&t(`Unfinished custom RegExp for param "${n}"`),C(),d(),l}function createRouteRecordMatcher(i,t,r){const a=tokensToParser(tokenizePath(i.path),r),l=assign(a,{record:i,parent:t,children:[],alias:[]});return t&&!l.record.aliasOf==!t.record.aliasOf&&t.children.push(l),l}function createRouterMatcher(i,t){const r=[],a=new Map;t=mergeOptions({strict:!1,end:!0,sensitive:!1},t);function l(c){return a.get(c)}function g(c,C,m){const e=!m,E=normalizeRouteRecord(c);E.aliasOf=m&&m.record;const A=mergeOptions(t,c),B=[E];if("alias"in c){const b=typeof c.alias=="string"?[c.alias]:c.alias;for(const o of b)B.push(assign({},E,{components:m?m.record.components:E.components,path:o,aliasOf:m?m.record:E}))}let O,v;for(const b of B){const{path:o}=b;if(C&&o[0]!=="/"){const T=C.record.path,D=T[T.length-1]==="/"?"":"/";b.path=C.record.path+(o&&D+o)}if(O=createRouteRecordMatcher(b,C,A),m?m.alias.push(O):(v=v||O,v!==O&&v.alias.push(O),e&&c.name&&!isAliasRecord(O)&&d(c.name)),E.children){const T=E.children;for(let D=0;D<T.length;D++)g(T[D],O,m&&m.children[D])}m=m||O,(O.record.components&&Object.keys(O.record.components).length||O.record.name||O.record.redirect)&&u(O)}return v?()=>{d(v)}:noop$1}function d(c){if(isRouteName(c)){const C=a.get(c);C&&(a.delete(c),r.splice(r.indexOf(C),1),C.children.forEach(d),C.alias.forEach(d))}else{const C=r.indexOf(c);C>-1&&(r.splice(C,1),c.record.name&&a.delete(c.record.name),c.children.forEach(d),c.alias.forEach(d))}}function s(){return r}function u(c){let C=0;for(;C<r.length&&comparePathParserScore(c,r[C])>=0&&(c.record.path!==r[C].record.path||!isRecordChildOf(c,r[C]));)C++;r.splice(C,0,c),c.record.name&&!isAliasRecord(c)&&a.set(c.record.name,c)}function n(c,C){let m,e={},E,A;if("name"in c&&c.name){if(m=a.get(c.name),!m)throw createRouterError(1,{location:c});A=m.record.name,e=assign(paramsFromLocation(C.params,m.keys.filter(v=>!v.optional).map(v=>v.name)),c.params&&paramsFromLocation(c.params,m.keys.map(v=>v.name))),E=m.stringify(e)}else if("path"in c)E=c.path,m=r.find(v=>v.re.test(E)),m&&(e=m.parse(E),A=m.record.name);else{if(m=C.name?a.get(C.name):r.find(v=>v.re.test(C.path)),!m)throw createRouterError(1,{location:c,currentLocation:C});A=m.record.name,e=assign({},C.params,c.params),E=m.stringify(e)}const B=[];let O=m;for(;O;)B.unshift(O.record),O=O.parent;return{name:A,path:E,params:e,matched:B,meta:mergeMetaFields(B)}}return i.forEach(c=>g(c)),{addRoute:g,resolve:n,removeRoute:d,getRoutes:s,getRecordMatcher:l}}function paramsFromLocation(i,t){const r={};for(const a of t)a in i&&(r[a]=i[a]);return r}function normalizeRouteRecord(i){return{path:i.path,redirect:i.redirect,name:i.name,meta:i.meta||{},aliasOf:void 0,beforeEnter:i.beforeEnter,props:normalizeRecordProps(i),children:i.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in i?i.components||null:i.component&&{default:i.component}}}function normalizeRecordProps(i){const t={},r=i.props||!1;if("component"in i)t.default=r;else for(const a in i.components)t[a]=typeof r=="boolean"?r:r[a];return t}function isAliasRecord(i){for(;i;){if(i.record.aliasOf)return!0;i=i.parent}return!1}function mergeMetaFields(i){return i.reduce((t,r)=>assign(t,r.meta),{})}function mergeOptions(i,t){const r={};for(const a in i)r[a]=a in t?t[a]:i[a];return r}function isRecordChildOf(i,t){return t.children.some(r=>r===i||isRecordChildOf(i,r))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(i){return encodeURI(""+i).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(i){return commonEncode(i).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(i){return commonEncode(i).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(i){return encodeQueryValue(i).replace(EQUAL_RE,"%3D")}function encodePath(i){return commonEncode(i).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(i){return i==null?"":encodePath(i).replace(SLASH_RE,"%2F")}function decode(i){try{return decodeURIComponent(""+i)}catch{}return""+i}function parseQuery(i){const t={};if(i===""||i==="?")return t;const a=(i[0]==="?"?i.slice(1):i).split("&");for(let l=0;l<a.length;++l){const g=a[l].replace(PLUS_RE," "),d=g.indexOf("="),s=decode(d<0?g:g.slice(0,d)),u=d<0?null:decode(g.slice(d+1));if(s in t){let n=t[s];isArray$2(n)||(n=t[s]=[n]),n.push(u)}else t[s]=u}return t}function stringifyQuery(i){let t="";for(let r in i){const a=i[r];if(r=encodeQueryKey(r),a==null){a!==void 0&&(t+=(t.length?"&":"")+r);continue}(isArray$2(a)?a.map(g=>g&&encodeQueryValue(g)):[a&&encodeQueryValue(a)]).forEach(g=>{g!==void 0&&(t+=(t.length?"&":"")+r,g!=null&&(t+="="+g))})}return t}function normalizeQuery(i){const t={};for(const r in i){const a=i[r];a!==void 0&&(t[r]=isArray$2(a)?a.map(l=>l==null?null:""+l):a==null?a:""+a)}return t}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let i=[];function t(a){return i.push(a),()=>{const l=i.indexOf(a);l>-1&&i.splice(l,1)}}function r(){i=[]}return{add:t,list:()=>i,reset:r}}function guardToPromiseFn(i,t,r,a,l){const g=a&&(a.enterCallbacks[l]=a.enterCallbacks[l]||[]);return()=>new Promise((d,s)=>{const u=C=>{C===!1?s(createRouterError(4,{from:r,to:t})):C instanceof Error?s(C):isRouteLocation(C)?s(createRouterError(2,{from:t,to:C})):(g&&a.enterCallbacks[l]===g&&typeof C=="function"&&g.push(C),d())},n=i.call(a&&a.instances[l],t,r,u);let c=Promise.resolve(n);i.length<3&&(c=c.then(u)),c.catch(C=>s(C))})}function extractComponentsGuards(i,t,r,a){const l=[];for(const g of i)for(const d in g.components){let s=g.components[d];if(!(t!=="beforeRouteEnter"&&!g.instances[d]))if(isRouteComponent(s)){const n=(s.__vccOpts||s)[t];n&&l.push(guardToPromiseFn(n,r,a,g,d))}else{let u=s();l.push(()=>u.then(n=>{if(!n)return Promise.reject(new Error(`Couldn't resolve component "${d}" at "${g.path}"`));const c=isESModule(n)?n.default:n;g.components[d]=c;const m=(c.__vccOpts||c)[t];return m&&guardToPromiseFn(m,r,a,g,d)()}))}}return l}function isRouteComponent(i){return typeof i=="object"||"displayName"in i||"props"in i||"__vccOpts"in i}function useLink(i){const t=inject(routerKey),r=inject(routeLocationKey),a=computed(()=>t.resolve(unref(i.to))),l=computed(()=>{const{matched:u}=a.value,{length:n}=u,c=u[n-1],C=r.matched;if(!c||!C.length)return-1;const m=C.findIndex(isSameRouteRecord.bind(null,c));if(m>-1)return m;const e=getOriginalPath(u[n-2]);return n>1&&getOriginalPath(c)===e&&C[C.length-1].path!==e?C.findIndex(isSameRouteRecord.bind(null,u[n-2])):m}),g=computed(()=>l.value>-1&&includesParams(r.params,a.value.params)),d=computed(()=>l.value>-1&&l.value===r.matched.length-1&&isSameRouteLocationParams(r.params,a.value.params));function s(u={}){return guardEvent(u)?t[unref(i.replace)?"replace":"push"](unref(i.to)).catch(noop$1):Promise.resolve()}return{route:a,href:computed(()=>a.value.href),isActive:g,isExactActive:d,navigate:s}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(i,{slots:t}){const r=reactive(useLink(i)),{options:a}=inject(routerKey),l=computed(()=>({[getLinkClass(i.activeClass,a.linkActiveClass,"router-link-active")]:r.isActive,[getLinkClass(i.exactActiveClass,a.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const g=t.default&&t.default(r);return i.custom?g:h("a",{"aria-current":r.isExactActive?i.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:l.value},g)}}}),RouterLink=RouterLinkImpl;function guardEvent(i){if(!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)&&!i.defaultPrevented&&!(i.button!==void 0&&i.button!==0)){if(i.currentTarget&&i.currentTarget.getAttribute){const t=i.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return i.preventDefault&&i.preventDefault(),!0}}function includesParams(i,t){for(const r in t){const a=t[r],l=i[r];if(typeof a=="string"){if(a!==l)return!1}else if(!isArray$2(l)||l.length!==a.length||a.some((g,d)=>g!==l[d]))return!1}return!0}function getOriginalPath(i){return i?i.aliasOf?i.aliasOf.path:i.path:""}const getLinkClass=(i,t,r)=>i!=null?i:t!=null?t:r,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(i,{attrs:t,slots:r}){const a=inject(routerViewLocationKey),l=computed(()=>i.route||a.value),g=inject(viewDepthKey,0),d=computed(()=>{let n=unref(g);const{matched:c}=l.value;let C;for(;(C=c[n])&&!C.components;)n++;return n}),s=computed(()=>l.value.matched[d.value]);provide(viewDepthKey,computed(()=>d.value+1)),provide(matchedRouteKey,s),provide(routerViewLocationKey,l);const u=ref();return watch(()=>[u.value,s.value,i.name],([n,c,C],[m,e,E])=>{c&&(c.instances[C]=n,e&&e!==c&&n&&n===m&&(c.leaveGuards.size||(c.leaveGuards=e.leaveGuards),c.updateGuards.size||(c.updateGuards=e.updateGuards))),n&&c&&(!e||!isSameRouteRecord(c,e)||!m)&&(c.enterCallbacks[C]||[]).forEach(A=>A(n))},{flush:"post"}),()=>{const n=l.value,c=i.name,C=s.value,m=C&&C.components[c];if(!m)return normalizeSlot(r.default,{Component:m,route:n});const e=C.props[c],E=e?e===!0?n.params:typeof e=="function"?e(n):e:null,B=h(m,assign({},E,t,{onVnodeUnmounted:O=>{O.component.isUnmounted&&(C.instances[c]=null)},ref:u}));return normalizeSlot(r.default,{Component:B,route:n})||B}}});function normalizeSlot(i,t){if(!i)return null;const r=i(t);return r.length===1?r[0]:r}const RouterView=RouterViewImpl;function createRouter(i){const t=createRouterMatcher(i.routes,i),r=i.parseQuery||parseQuery,a=i.stringifyQuery||stringifyQuery,l=i.history,g=useCallbacks(),d=useCallbacks(),s=useCallbacks(),u=shallowRef(START_LOCATION_NORMALIZED);let n=START_LOCATION_NORMALIZED;isBrowser&&i.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=applyToParams.bind(null,k=>""+k),C=applyToParams.bind(null,encodeParam),m=applyToParams.bind(null,decode);function e(k,H){let Z,Q;return isRouteName(k)?(Z=t.getRecordMatcher(k),Q=H):Q=k,t.addRoute(Q,Z)}function E(k){const H=t.getRecordMatcher(k);H&&t.removeRoute(H)}function A(){return t.getRoutes().map(k=>k.record)}function B(k){return!!t.getRecordMatcher(k)}function O(k,H){if(H=assign({},H||u.value),typeof k=="string"){const $=parseURL(r,k,H.path),X=t.resolve({path:$.path},H),ne=l.createHref($.fullPath);return assign($,X,{params:m(X.params),hash:decode($.hash),redirectedFrom:void 0,href:ne})}let Z;if("path"in k)Z=assign({},k,{path:parseURL(r,k.path,H.path).path});else{const $=assign({},k.params);for(const X in $)$[X]==null&&delete $[X];Z=assign({},k,{params:C(k.params)}),H.params=C(H.params)}const Q=t.resolve(Z,H),V=k.hash||"";Q.params=c(m(Q.params));const Y=stringifyURL(a,assign({},k,{hash:encodeHash(V),path:Q.path})),te=l.createHref(Y);return assign({fullPath:Y,hash:V,query:a===stringifyQuery?normalizeQuery(k.query):k.query||{}},Q,{redirectedFrom:void 0,href:te})}function v(k){return typeof k=="string"?parseURL(r,k,u.value.path):assign({},k)}function b(k,H){if(n!==k)return createRouterError(8,{from:H,to:k})}function o(k){return _(k)}function T(k){return o(assign(v(k),{replace:!0}))}function D(k){const H=k.matched[k.matched.length-1];if(H&&H.redirect){const{redirect:Z}=H;let Q=typeof Z=="function"?Z(k):Z;return typeof Q=="string"&&(Q=Q.includes("?")||Q.includes("#")?Q=v(Q):{path:Q},Q.params={}),assign({query:k.query,hash:k.hash,params:"path"in Q?{}:k.params},Q)}}function _(k,H){const Z=n=O(k),Q=u.value,V=k.state,Y=k.force,te=k.replace===!0,$=D(Z);if($)return _(assign(v($),{state:typeof $=="object"?assign({},V,$.state):V,force:Y,replace:te}),H||Z);const X=Z;X.redirectedFrom=H;let ne;return!Y&&isSameRouteLocation(a,Q,Z)&&(ne=createRouterError(16,{to:X,from:Q}),W(Q,Q,!0,!1)),(ne?Promise.resolve(ne):P(X,Q)).catch(ce=>isNavigationFailure(ce)?isNavigationFailure(ce,2)?ce:S(ce):L(ce,X,Q)).then(ce=>{if(ce){if(isNavigationFailure(ce,2))return _(assign({replace:te},v(ce.to),{state:typeof ce.to=="object"?assign({},V,ce.to.state):V,force:Y}),H||X)}else ce=M(X,Q,!0,te,V);return w(X,Q,ce),ce})}function y(k,H){const Z=b(k,H);return Z?Promise.reject(Z):Promise.resolve()}function P(k,H){let Z;const[Q,V,Y]=extractChangingRecords(k,H);Z=extractComponentsGuards(Q.reverse(),"beforeRouteLeave",k,H);for(const $ of Q)$.leaveGuards.forEach(X=>{Z.push(guardToPromiseFn(X,k,H))});const te=y.bind(null,k,H);return Z.push(te),runGuardQueue(Z).then(()=>{Z=[];for(const $ of g.list())Z.push(guardToPromiseFn($,k,H));return Z.push(te),runGuardQueue(Z)}).then(()=>{Z=extractComponentsGuards(V,"beforeRouteUpdate",k,H);for(const $ of V)$.updateGuards.forEach(X=>{Z.push(guardToPromiseFn(X,k,H))});return Z.push(te),runGuardQueue(Z)}).then(()=>{Z=[];for(const $ of k.matched)if($.beforeEnter&&!H.matched.includes($))if(isArray$2($.beforeEnter))for(const X of $.beforeEnter)Z.push(guardToPromiseFn(X,k,H));else Z.push(guardToPromiseFn($.beforeEnter,k,H));return Z.push(te),runGuardQueue(Z)}).then(()=>(k.matched.forEach($=>$.enterCallbacks={}),Z=extractComponentsGuards(Y,"beforeRouteEnter",k,H),Z.push(te),runGuardQueue(Z))).then(()=>{Z=[];for(const $ of d.list())Z.push(guardToPromiseFn($,k,H));return Z.push(te),runGuardQueue(Z)}).catch($=>isNavigationFailure($,8)?$:Promise.reject($))}function w(k,H,Z){for(const Q of s.list())Q(k,H,Z)}function M(k,H,Z,Q,V){const Y=b(k,H);if(Y)return Y;const te=H===START_LOCATION_NORMALIZED,$=isBrowser?history.state:{};Z&&(Q||te?l.replace(k.fullPath,assign({scroll:te&&$&&$.scroll},V)):l.push(k.fullPath,V)),u.value=k,W(k,H,Z,te),S()}let q;function F(){q||(q=l.listen((k,H,Z)=>{if(!J.listening)return;const Q=O(k),V=D(Q);if(V){_(assign(V,{replace:!0}),Q).catch(noop$1);return}n=Q;const Y=u.value;isBrowser&&saveScrollPosition(getScrollKey(Y.fullPath,Z.delta),computeScrollPosition()),P(Q,Y).catch(te=>isNavigationFailure(te,12)?te:isNavigationFailure(te,2)?(_(te.to,Q).then($=>{isNavigationFailure($,20)&&!Z.delta&&Z.type===NavigationType.pop&&l.go(-1,!1)}).catch(noop$1),Promise.reject()):(Z.delta&&l.go(-Z.delta,!1),L(te,Q,Y))).then(te=>{te=te||M(Q,Y,!1),te&&(Z.delta&&!isNavigationFailure(te,8)?l.go(-Z.delta,!1):Z.type===NavigationType.pop&&isNavigationFailure(te,20)&&l.go(-1,!1)),w(Q,Y,te)}).catch(noop$1)}))}let G=useCallbacks(),R=useCallbacks(),I;function L(k,H,Z){S(k);const Q=R.list();return Q.length?Q.forEach(V=>V(k,H,Z)):console.error(k),Promise.reject(k)}function x(){return I&&u.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((k,H)=>{G.add([k,H])})}function S(k){return I||(I=!k,F(),G.list().forEach(([H,Z])=>k?Z(k):H()),G.reset()),k}function W(k,H,Z,Q){const{scrollBehavior:V}=i;if(!isBrowser||!V)return Promise.resolve();const Y=!Z&&getSavedScrollPosition(getScrollKey(k.fullPath,0))||(Q||!Z)&&history.state&&history.state.scroll||null;return nextTick().then(()=>V(k,H,Y)).then(te=>te&&scrollToPosition(te)).catch(te=>L(te,k,H))}const U=k=>l.go(k);let z;const re=new Set,J={currentRoute:u,listening:!0,addRoute:e,removeRoute:E,hasRoute:B,getRoutes:A,resolve:O,options:i,push:o,replace:T,go:U,back:()=>U(-1),forward:()=>U(1),beforeEach:g.add,beforeResolve:d.add,afterEach:s.add,onError:R.add,isReady:x,install(k){const H=this;k.component("RouterLink",RouterLink),k.component("RouterView",RouterView),k.config.globalProperties.$router=H,Object.defineProperty(k.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(u)}),isBrowser&&!z&&u.value===START_LOCATION_NORMALIZED&&(z=!0,o(l.location).catch(V=>{}));const Z={};for(const V in START_LOCATION_NORMALIZED)Z[V]=computed(()=>u.value[V]);k.provide(routerKey,H),k.provide(routeLocationKey,reactive(Z)),k.provide(routerViewLocationKey,u);const Q=k.unmount;re.add(k),k.unmount=function(){re.delete(k),re.size<1&&(n=START_LOCATION_NORMALIZED,q&&q(),q=null,u.value=START_LOCATION_NORMALIZED,z=!1,I=!1),Q()}}};return J}function runGuardQueue(i){return i.reduce((t,r)=>t.then(()=>r()),Promise.resolve())}function extractChangingRecords(i,t){const r=[],a=[],l=[],g=Math.max(t.matched.length,i.matched.length);for(let d=0;d<g;d++){const s=t.matched[d];s&&(i.matched.find(n=>isSameRouteRecord(n,s))?a.push(s):r.push(s));const u=i.matched[d];u&&(t.matched.find(n=>isSameRouteRecord(n,u))||l.push(u))}return[r,a,l]}function bind(i,t){return function(){return i.apply(t,arguments)}}const{toString:toString$1}=Object.prototype,{getPrototypeOf}=Object,kindOf=(i=>t=>{const r=toString$1.call(t);return i[r]||(i[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=i=>(i=i.toLowerCase(),t=>kindOf(t)===i),typeOfTest=i=>t=>typeof t===i,{isArray:isArray$1}=Array,isUndefined=typeOfTest("undefined");function isBuffer(i){return i!==null&&!isUndefined(i)&&i.constructor!==null&&!isUndefined(i.constructor)&&isFunction(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(i){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(i):t=i&&i.buffer&&isArrayBuffer(i.buffer),t}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject$1=i=>i!==null&&typeof i=="object",isBoolean=i=>i===!0||i===!1,isPlainObject=i=>{if(kindOf(i)!=="object")return!1;const t=getPrototypeOf(i);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=i=>isObject$1(i)&&isFunction(i.pipe),isFormData=i=>{const t="[object FormData]";return i&&(typeof FormData=="function"&&i instanceof FormData||toString$1.call(i)===t||isFunction(i.toString)&&i.toString()===t)},isURLSearchParams=kindOfTest("URLSearchParams"),trim$2=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(i,t,{allOwnKeys:r=!1}={}){if(i===null||typeof i>"u")return;let a,l;if(typeof i!="object"&&(i=[i]),isArray$1(i))for(a=0,l=i.length;a<l;a++)t.call(null,i[a],a,i);else{const g=r?Object.getOwnPropertyNames(i):Object.keys(i),d=g.length;let s;for(a=0;a<d;a++)s=g[a],t.call(null,i[s],s,i)}}function findKey(i,t){t=t.toLowerCase();const r=Object.keys(i);let a=r.length,l;for(;a-- >0;)if(l=r[a],t===l.toLowerCase())return l;return null}const _global=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),isContextDefined=i=>!isUndefined(i)&&i!==_global;function merge(){const{caseless:i}=isContextDefined(this)&&this||{},t={},r=(a,l)=>{const g=i&&findKey(t,l)||l;isPlainObject(t[g])&&isPlainObject(a)?t[g]=merge(t[g],a):isPlainObject(a)?t[g]=merge({},a):isArray$1(a)?t[g]=a.slice():t[g]=a};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&forEach(arguments[a],r);return t}const extend=(i,t,r,{allOwnKeys:a}={})=>(forEach(t,(l,g)=>{r&&isFunction(l)?i[g]=bind(l,r):i[g]=l},{allOwnKeys:a}),i),stripBOM=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),inherits=(i,t,r,a)=>{i.prototype=Object.create(t.prototype,a),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:t.prototype}),r&&Object.assign(i.prototype,r)},toFlatObject=(i,t,r,a)=>{let l,g,d;const s={};if(t=t||{},i==null)return t;do{for(l=Object.getOwnPropertyNames(i),g=l.length;g-- >0;)d=l[g],(!a||a(d,i,t))&&!s[d]&&(t[d]=i[d],s[d]=!0);i=r!==!1&&getPrototypeOf(i)}while(i&&(!r||r(i,t))&&i!==Object.prototype);return t},endsWith=(i,t,r)=>{i=String(i),(r===void 0||r>i.length)&&(r=i.length),r-=t.length;const a=i.indexOf(t,r);return a!==-1&&a===r},toArray=i=>{if(!i)return null;if(isArray$1(i))return i;let t=i.length;if(!isNumber(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=i[t];return r},isTypedArray=(i=>t=>i&&t instanceof i)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(i,t)=>{const a=(i&&i[Symbol.iterator]).call(i);let l;for(;(l=a.next())&&!l.done;){const g=l.value;t.call(i,g[0],g[1])}},matchAll=(i,t)=>{let r;const a=[];for(;(r=i.exec(t))!==null;)a.push(r);return a},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,l){return a.toUpperCase()+l}),hasOwnProperty$1=(({hasOwnProperty:i})=>(t,r)=>i.call(t,r))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(i,t)=>{const r=Object.getOwnPropertyDescriptors(i),a={};forEach(r,(l,g)=>{t(l,g,i)!==!1&&(a[g]=l)}),Object.defineProperties(i,a)},freezeMethods=i=>{reduceDescriptors(i,(t,r)=>{if(isFunction(i)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=i[r];if(!!isFunction(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},toObjectSet=(i,t)=>{const r={},a=l=>{l.forEach(g=>{r[g]=!0})};return isArray$1(i)?a(i):a(String(i).split(t)),r},noop=()=>{},toFiniteNumber=(i,t)=>(i=+i,Number.isFinite(i)?i:t),ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(i=16,t=ALPHABET.ALPHA_DIGIT)=>{let r="";const{length:a}=t;for(;i--;)r+=t[Math.random()*a|0];return r};function isSpecCompliantForm(i){return!!(i&&isFunction(i.append)&&i[Symbol.toStringTag]==="FormData"&&i[Symbol.iterator])}const toJSONObject=i=>{const t=new Array(10),r=(a,l)=>{if(isObject$1(a)){if(t.indexOf(a)>=0)return;if(!("toJSON"in a)){t[l]=a;const g=isArray$1(a)?[]:{};return forEach(a,(d,s)=>{const u=r(d,l+1);!isUndefined(u)&&(g[s]=u)}),t[l]=void 0,g}}return a};return r(i,0)},utils={isArray:isArray$1,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject:isObject$1,isPlainObject,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim:trim$2,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$1,hasOwnProp:hasOwnProperty$1,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject};function AxiosError(i,t,r,a,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),a&&(this.request=a),l&&(this.response=l)}utils.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors$1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{descriptors$1[i]={value:i}});Object.defineProperties(AxiosError,descriptors$1);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(i,t,r,a,l,g)=>{const d=Object.create(prototype$1);return utils.toFlatObject(i,d,function(u){return u!==Error.prototype},s=>s!=="isAxiosError"),AxiosError.call(d,i.message,t,r,a,l),d.cause=i,d.name=i.name,g&&Object.assign(d,g),d};const httpAdapter=null;function isVisitable(i){return utils.isPlainObject(i)||utils.isArray(i)}function removeBrackets(i){return utils.endsWith(i,"[]")?i.slice(0,-2):i}function renderKey(i,t,r){return i?i.concat(t).map(function(l,g){return l=removeBrackets(l),!r&&g?"["+l+"]":l}).join(r?".":""):t}function isFlatArray(i){return utils.isArray(i)&&!i.some(isVisitable)}const predicates=utils.toFlatObject(utils,{},null,function(t){return/^is[A-Z]/.test(t)});function toFormData(i,t,r){if(!utils.isObject(i))throw new TypeError("target must be an object");t=t||new FormData,r=utils.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,B){return!utils.isUndefined(B[A])});const a=r.metaTokens,l=r.visitor||c,g=r.dots,d=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&utils.isSpecCompliantForm(t);if(!utils.isFunction(l))throw new TypeError("visitor must be a function");function n(E){if(E===null)return"";if(utils.isDate(E))return E.toISOString();if(!u&&utils.isBlob(E))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils.isArrayBuffer(E)||utils.isTypedArray(E)?u&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function c(E,A,B){let O=E;if(E&&!B&&typeof E=="object"){if(utils.endsWith(A,"{}"))A=a?A:A.slice(0,-2),E=JSON.stringify(E);else if(utils.isArray(E)&&isFlatArray(E)||(utils.isFileList(E)||utils.endsWith(A,"[]"))&&(O=utils.toArray(E)))return A=removeBrackets(A),O.forEach(function(b,o){!(utils.isUndefined(b)||b===null)&&t.append(d===!0?renderKey([A],o,g):d===null?A:A+"[]",n(b))}),!1}return isVisitable(E)?!0:(t.append(renderKey(B,A,g),n(E)),!1)}const C=[],m=Object.assign(predicates,{defaultVisitor:c,convertValue:n,isVisitable});function e(E,A){if(!utils.isUndefined(E)){if(C.indexOf(E)!==-1)throw Error("Circular reference detected in "+A.join("."));C.push(E),utils.forEach(E,function(O,v){(!(utils.isUndefined(O)||O===null)&&l.call(t,O,utils.isString(v)?v.trim():v,A,m))===!0&&e(O,A?A.concat(v):[v])}),C.pop()}}if(!utils.isObject(i))throw new TypeError("data must be an object");return e(i),t}function encode$1(i){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function AxiosURLSearchParams(i,t){this._pairs=[],i&&toFormData(i,this,t)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(t,r){this._pairs.push([t,r])};prototype.toString=function(t){const r=t?function(a){return t.call(this,a,encode$1)}:encode$1;return this._pairs.map(function(l){return r(l[0])+"="+r(l[1])},"").join("&")};function encode(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(i,t,r){if(!t)return i;const a=r&&r.encode||encode,l=r&&r.serialize;let g;if(l?g=l(t,r):g=utils.isURLSearchParams(t)?t.toString():new AxiosURLSearchParams(t,r).toString(a),g){const d=i.indexOf("#");d!==-1&&(i=i.slice(0,d)),i+=(i.indexOf("?")===-1?"?":"&")+g}return i}class InterceptorManager{constructor(){this.handlers=[]}use(t,r,a){return this.handlers.push({fulfilled:t,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){utils.forEach(this.handlers,function(a){a!==null&&t(a)})}}const InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,isStandardBrowserEnv=(()=>{let i;return typeof navigator<"u"&&((i=navigator.product)==="ReactNative"||i==="NativeScript"||i==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),isStandardBrowserWebWorkerEnv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),platform={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob},isStandardBrowserEnv,isStandardBrowserWebWorkerEnv,protocols:["http","https","file","blob","url","data"]};function toURLEncodedForm(i,t){return toFormData(i,new platform.classes.URLSearchParams,Object.assign({visitor:function(r,a,l,g){return platform.isNode&&utils.isBuffer(r)?(this.append(a,r.toString("base64")),!1):g.defaultVisitor.apply(this,arguments)}},t))}function parsePropPath(i){return utils.matchAll(/\w+|\[(\w*)]/g,i).map(t=>t[0]==="[]"?"":t[1]||t[0])}function arrayToObject(i){const t={},r=Object.keys(i);let a;const l=r.length;let g;for(a=0;a<l;a++)g=r[a],t[g]=i[g];return t}function formDataToJSON(i){function t(r,a,l,g){let d=r[g++];const s=Number.isFinite(+d),u=g>=r.length;return d=!d&&utils.isArray(l)?l.length:d,u?(utils.hasOwnProp(l,d)?l[d]=[l[d],a]:l[d]=a,!s):((!l[d]||!utils.isObject(l[d]))&&(l[d]=[]),t(r,a,l[d],g)&&utils.isArray(l[d])&&(l[d]=arrayToObject(l[d])),!s)}if(utils.isFormData(i)&&utils.isFunction(i.entries)){const r={};return utils.forEachEntry(i,(a,l)=>{t(parsePropPath(a),l,r,0)}),r}return null}const DEFAULT_CONTENT_TYPE={"Content-Type":void 0};function stringifySafely(i,t,r){if(utils.isString(i))try{return(t||JSON.parse)(i),utils.trim(i)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(i)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http"],transformRequest:[function(t,r){const a=r.getContentType()||"",l=a.indexOf("application/json")>-1,g=utils.isObject(t);if(g&&utils.isHTMLForm(t)&&(t=new FormData(t)),utils.isFormData(t))return l&&l?JSON.stringify(formDataToJSON(t)):t;if(utils.isArrayBuffer(t)||utils.isBuffer(t)||utils.isStream(t)||utils.isFile(t)||utils.isBlob(t))return t;if(utils.isArrayBufferView(t))return t.buffer;if(utils.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(g){if(a.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(t,this.formSerializer).toString();if((s=utils.isFileList(t))||a.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return toFormData(s?{"files[]":t}:t,u&&new u,this.formSerializer)}}return g||l?(r.setContentType("application/json",!1),stringifySafely(t)):t}],transformResponse:[function(t){const r=this.transitional||defaults.transitional,a=r&&r.forcedJSONParsing,l=this.responseType==="json";if(t&&utils.isString(t)&&(a&&!this.responseType||l)){const d=!(r&&r.silentJSONParsing)&&l;try{return JSON.parse(t)}catch(s){if(d)throw s.name==="SyntaxError"?AxiosError.from(s,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils.forEach(["delete","get","head"],function(t){defaults.headers[t]={}});utils.forEach(["post","put","patch"],function(t){defaults.headers[t]=utils.merge(DEFAULT_CONTENT_TYPE)});const defaults$1=defaults,ignoreDuplicateOf=utils.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=i=>{const t={};let r,a,l;return i&&i.split(`
`).forEach(function(d){l=d.indexOf(":"),r=d.substring(0,l).trim().toLowerCase(),a=d.substring(l+1).trim(),!(!r||t[r]&&ignoreDuplicateOf[r])&&(r==="set-cookie"?t[r]?t[r].push(a):t[r]=[a]:t[r]=t[r]?t[r]+", "+a:a)}),t},$internals=Symbol("internals");function normalizeHeader(i){return i&&String(i).trim().toLowerCase()}function normalizeValue(i){return i===!1||i==null?i:utils.isArray(i)?i.map(normalizeValue):String(i)}function parseTokens(i){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(i);)t[a[1]]=a[2];return t}function isValidHeaderName(i){return/^[-_a-zA-Z]+$/.test(i.trim())}function matchHeaderValue(i,t,r,a,l){if(utils.isFunction(a))return a.call(this,t,r);if(l&&(t=r),!!utils.isString(t)){if(utils.isString(a))return t.indexOf(a)!==-1;if(utils.isRegExp(a))return a.test(t)}}function formatHeader(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,a)=>r.toUpperCase()+a)}function buildAccessors(i,t){const r=utils.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(i,a+r,{value:function(l,g,d){return this[a].call(this,t,l,g,d)},configurable:!0})})}class AxiosHeaders{constructor(t){t&&this.set(t)}set(t,r,a){const l=this;function g(s,u,n){const c=normalizeHeader(u);if(!c)throw new Error("header name must be a non-empty string");const C=utils.findKey(l,c);(!C||l[C]===void 0||n===!0||n===void 0&&l[C]!==!1)&&(l[C||u]=normalizeValue(s))}const d=(s,u)=>utils.forEach(s,(n,c)=>g(n,c,u));return utils.isPlainObject(t)||t instanceof this.constructor?d(t,r):utils.isString(t)&&(t=t.trim())&&!isValidHeaderName(t)?d(parseHeaders(t),r):t!=null&&g(r,t,a),this}get(t,r){if(t=normalizeHeader(t),t){const a=utils.findKey(this,t);if(a){const l=this[a];if(!r)return l;if(r===!0)return parseTokens(l);if(utils.isFunction(r))return r.call(this,l,a);if(utils.isRegExp(r))return r.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=normalizeHeader(t),t){const a=utils.findKey(this,t);return!!(a&&this[a]!==void 0&&(!r||matchHeaderValue(this,this[a],a,r)))}return!1}delete(t,r){const a=this;let l=!1;function g(d){if(d=normalizeHeader(d),d){const s=utils.findKey(a,d);s&&(!r||matchHeaderValue(a,a[s],s,r))&&(delete a[s],l=!0)}}return utils.isArray(t)?t.forEach(g):g(t),l}clear(t){const r=Object.keys(this);let a=r.length,l=!1;for(;a--;){const g=r[a];(!t||matchHeaderValue(this,this[g],g,t,!0))&&(delete this[g],l=!0)}return l}normalize(t){const r=this,a={};return utils.forEach(this,(l,g)=>{const d=utils.findKey(a,g);if(d){r[d]=normalizeValue(l),delete r[g];return}const s=t?formatHeader(g):String(g).trim();s!==g&&delete r[g],r[s]=normalizeValue(l),a[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return utils.forEach(this,(a,l)=>{a!=null&&a!==!1&&(r[l]=t&&utils.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const a=new this(t);return r.forEach(l=>a.set(l)),a}static accessor(t){const a=(this[$internals]=this[$internals]={accessors:{}}).accessors,l=this.prototype;function g(d){const s=normalizeHeader(d);a[s]||(buildAccessors(l,d),a[s]=!0)}return utils.isArray(t)?t.forEach(g):g(t),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils.freezeMethods(AxiosHeaders.prototype);utils.freezeMethods(AxiosHeaders);const AxiosHeaders$1=AxiosHeaders;function transformData(i,t){const r=this||defaults$1,a=t||r,l=AxiosHeaders$1.from(a.headers);let g=a.data;return utils.forEach(i,function(s){g=s.call(r,g,l.normalize(),t?t.status:void 0)}),l.normalize(),g}function isCancel(i){return!!(i&&i.__CANCEL__)}function CanceledError(i,t,r){AxiosError.call(this,i==null?"canceled":i,AxiosError.ERR_CANCELED,t,r),this.name="CanceledError"}utils.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(i,t,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?i(r):t(new AxiosError("Request failed with status code "+r.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const cookies=platform.isStandardBrowserEnv?function(){return{write:function(r,a,l,g,d,s){const u=[];u.push(r+"="+encodeURIComponent(a)),utils.isNumber(l)&&u.push("expires="+new Date(l).toGMTString()),utils.isString(g)&&u.push("path="+g),utils.isString(d)&&u.push("domain="+d),s===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(r){const a=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function isAbsoluteURL(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function combineURLs(i,t){return t?i.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):i}function buildFullPath(i,t){return i&&!isAbsoluteURL(t)?combineURLs(i,t):t}const isURLSameOrigin=platform.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let a;function l(g){let d=g;return t&&(r.setAttribute("href",d),d=r.href),r.setAttribute("href",d),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return a=l(window.location.href),function(d){const s=utils.isString(d)?l(d):d;return s.protocol===a.protocol&&s.host===a.host}}():function(){return function(){return!0}}();function parseProtocol(i){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return t&&t[1]||""}function speedometer(i,t){i=i||10;const r=new Array(i),a=new Array(i);let l=0,g=0,d;return t=t!==void 0?t:1e3,function(u){const n=Date.now(),c=a[g];d||(d=n),r[l]=u,a[l]=n;let C=g,m=0;for(;C!==l;)m+=r[C++],C=C%i;if(l=(l+1)%i,l===g&&(g=(g+1)%i),n-d<t)return;const e=c&&n-c;return e?Math.round(m*1e3/e):void 0}}function progressEventReducer(i,t){let r=0;const a=speedometer(50,250);return l=>{const g=l.loaded,d=l.lengthComputable?l.total:void 0,s=g-r,u=a(s),n=g<=d;r=g;const c={loaded:g,total:d,progress:d?g/d:void 0,bytes:s,rate:u||void 0,estimated:u&&d&&n?(d-g)/u:void 0,event:l};c[t?"download":"upload"]=!0,i(c)}}const isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(i){return new Promise(function(r,a){let l=i.data;const g=AxiosHeaders$1.from(i.headers).normalize(),d=i.responseType;let s;function u(){i.cancelToken&&i.cancelToken.unsubscribe(s),i.signal&&i.signal.removeEventListener("abort",s)}utils.isFormData(l)&&(platform.isStandardBrowserEnv||platform.isStandardBrowserWebWorkerEnv)&&g.setContentType(!1);let n=new XMLHttpRequest;if(i.auth){const e=i.auth.username||"",E=i.auth.password?unescape(encodeURIComponent(i.auth.password)):"";g.set("Authorization","Basic "+btoa(e+":"+E))}const c=buildFullPath(i.baseURL,i.url);n.open(i.method.toUpperCase(),buildURL(c,i.params,i.paramsSerializer),!0),n.timeout=i.timeout;function C(){if(!n)return;const e=AxiosHeaders$1.from("getAllResponseHeaders"in n&&n.getAllResponseHeaders()),A={data:!d||d==="text"||d==="json"?n.responseText:n.response,status:n.status,statusText:n.statusText,headers:e,config:i,request:n};settle(function(O){r(O),u()},function(O){a(O),u()},A),n=null}if("onloadend"in n?n.onloadend=C:n.onreadystatechange=function(){!n||n.readyState!==4||n.status===0&&!(n.responseURL&&n.responseURL.indexOf("file:")===0)||setTimeout(C)},n.onabort=function(){!n||(a(new AxiosError("Request aborted",AxiosError.ECONNABORTED,i,n)),n=null)},n.onerror=function(){a(new AxiosError("Network Error",AxiosError.ERR_NETWORK,i,n)),n=null},n.ontimeout=function(){let E=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const A=i.transitional||transitionalDefaults;i.timeoutErrorMessage&&(E=i.timeoutErrorMessage),a(new AxiosError(E,A.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,i,n)),n=null},platform.isStandardBrowserEnv){const e=(i.withCredentials||isURLSameOrigin(c))&&i.xsrfCookieName&&cookies.read(i.xsrfCookieName);e&&g.set(i.xsrfHeaderName,e)}l===void 0&&g.setContentType(null),"setRequestHeader"in n&&utils.forEach(g.toJSON(),function(E,A){n.setRequestHeader(A,E)}),utils.isUndefined(i.withCredentials)||(n.withCredentials=!!i.withCredentials),d&&d!=="json"&&(n.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&n.addEventListener("progress",progressEventReducer(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&n.upload&&n.upload.addEventListener("progress",progressEventReducer(i.onUploadProgress)),(i.cancelToken||i.signal)&&(s=e=>{!n||(a(!e||e.type?new CanceledError(null,i,n):e),n.abort(),n=null)},i.cancelToken&&i.cancelToken.subscribe(s),i.signal&&(i.signal.aborted?s():i.signal.addEventListener("abort",s)));const m=parseProtocol(c);if(m&&platform.protocols.indexOf(m)===-1){a(new AxiosError("Unsupported protocol "+m+":",AxiosError.ERR_BAD_REQUEST,i));return}n.send(l||null)})},knownAdapters={http:httpAdapter,xhr:xhrAdapter};utils.forEach(knownAdapters,(i,t)=>{if(i){try{Object.defineProperty(i,"name",{value:t})}catch{}Object.defineProperty(i,"adapterName",{value:t})}});const adapters={getAdapter:i=>{i=utils.isArray(i)?i:[i];const{length:t}=i;let r,a;for(let l=0;l<t&&(r=i[l],!(a=utils.isString(r)?knownAdapters[r.toLowerCase()]:r));l++);if(!a)throw a===!1?new AxiosError(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(utils.hasOwnProp(knownAdapters,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`);if(!utils.isFunction(a))throw new TypeError("adapter is not a function");return a},adapters:knownAdapters};function throwIfCancellationRequested(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new CanceledError(null,i)}function dispatchRequest(i){return throwIfCancellationRequested(i),i.headers=AxiosHeaders$1.from(i.headers),i.data=transformData.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(i.adapter||defaults$1.adapter)(i).then(function(a){return throwIfCancellationRequested(i),a.data=transformData.call(i,i.transformResponse,a),a.headers=AxiosHeaders$1.from(a.headers),a},function(a){return isCancel(a)||(throwIfCancellationRequested(i),a&&a.response&&(a.response.data=transformData.call(i,i.transformResponse,a.response),a.response.headers=AxiosHeaders$1.from(a.response.headers))),Promise.reject(a)})}const headersToObject=i=>i instanceof AxiosHeaders$1?i.toJSON():i;function mergeConfig(i,t){t=t||{};const r={};function a(n,c,C){return utils.isPlainObject(n)&&utils.isPlainObject(c)?utils.merge.call({caseless:C},n,c):utils.isPlainObject(c)?utils.merge({},c):utils.isArray(c)?c.slice():c}function l(n,c,C){if(utils.isUndefined(c)){if(!utils.isUndefined(n))return a(void 0,n,C)}else return a(n,c,C)}function g(n,c){if(!utils.isUndefined(c))return a(void 0,c)}function d(n,c){if(utils.isUndefined(c)){if(!utils.isUndefined(n))return a(void 0,n)}else return a(void 0,c)}function s(n,c,C){if(C in t)return a(n,c);if(C in i)return a(void 0,n)}const u={url:g,method:g,data:g,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:s,headers:(n,c)=>l(headersToObject(n),headersToObject(c),!0)};return utils.forEach(Object.keys(i).concat(Object.keys(t)),function(c){const C=u[c]||l,m=C(i[c],t[c],c);utils.isUndefined(m)&&C!==s||(r[c]=m)}),r}const VERSION="1.3.3",validators$1={};["object","boolean","number","function","string","symbol"].forEach((i,t)=>{validators$1[i]=function(a){return typeof a===i||"a"+(t<1?"n ":" ")+i}});const deprecatedWarnings={};validators$1.transitional=function(t,r,a){function l(g,d){return"[Axios v"+VERSION+"] Transitional option '"+g+"'"+d+(a?". "+a:"")}return(g,d,s)=>{if(t===!1)throw new AxiosError(l(d," has been removed"+(r?" in "+r:"")),AxiosError.ERR_DEPRECATED);return r&&!deprecatedWarnings[d]&&(deprecatedWarnings[d]=!0,console.warn(l(d," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(g,d,s):!0}};function assertOptions(i,t,r){if(typeof i!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const a=Object.keys(i);let l=a.length;for(;l-- >0;){const g=a[l],d=t[g];if(d){const s=i[g],u=s===void 0||d(s,g,i);if(u!==!0)throw new AxiosError("option "+g+" must be "+u,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new AxiosError("Unknown option "+g,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(t){this.defaults=t,this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=mergeConfig(this.defaults,r);const{transitional:a,paramsSerializer:l,headers:g}=r;a!==void 0&&validator.assertOptions(a,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),l!==void 0&&validator.assertOptions(l,{encode:validators.function,serialize:validators.function},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let d;d=g&&utils.merge(g.common,g[r.method]),d&&utils.forEach(["delete","get","head","post","put","patch","common"],E=>{delete g[E]}),r.headers=AxiosHeaders$1.concat(d,g);const s=[];let u=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(r)===!1||(u=u&&A.synchronous,s.unshift(A.fulfilled,A.rejected))});const n=[];this.interceptors.response.forEach(function(A){n.push(A.fulfilled,A.rejected)});let c,C=0,m;if(!u){const E=[dispatchRequest.bind(this),void 0];for(E.unshift.apply(E,s),E.push.apply(E,n),m=E.length,c=Promise.resolve(r);C<m;)c=c.then(E[C++],E[C++]);return c}m=s.length;let e=r;for(C=0;C<m;){const E=s[C++],A=s[C++];try{e=E(e)}catch(B){A.call(this,B);break}}try{c=dispatchRequest.call(this,e)}catch(E){return Promise.reject(E)}for(C=0,m=n.length;C<m;)c=c.then(n[C++],n[C++]);return c}getUri(t){t=mergeConfig(this.defaults,t);const r=buildFullPath(t.baseURL,t.url);return buildURL(r,t.params,t.paramsSerializer)}}utils.forEach(["delete","get","head","options"],function(t){Axios.prototype[t]=function(r,a){return this.request(mergeConfig(a||{},{method:t,url:r,data:(a||{}).data}))}});utils.forEach(["post","put","patch"],function(t){function r(a){return function(g,d,s){return this.request(mergeConfig(s||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:g,data:d}))}}Axios.prototype[t]=r(),Axios.prototype[t+"Form"]=r(!0)});const Axios$1=Axios;class CancelToken{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(g){r=g});const a=this;this.promise.then(l=>{if(!a._listeners)return;let g=a._listeners.length;for(;g-- >0;)a._listeners[g](l);a._listeners=null}),this.promise.then=l=>{let g;const d=new Promise(s=>{a.subscribe(s),g=s}).then(l);return d.cancel=function(){a.unsubscribe(g)},d},t(function(g,d,s){a.reason||(a.reason=new CanceledError(g,d,s),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}static source(){let t;return{token:new CancelToken(function(l){t=l}),cancel:t}}}const CancelToken$1=CancelToken;function spread(i){return function(r){return i.apply(null,r)}}function isAxiosError(i){return utils.isObject(i)&&i.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([i,t])=>{HttpStatusCode[t]=i});const HttpStatusCode$1=HttpStatusCode;function createInstance(i){const t=new Axios$1(i),r=bind(Axios$1.prototype.request,t);return utils.extend(r,Axios$1.prototype,t,{allOwnKeys:!0}),utils.extend(r,t,null,{allOwnKeys:!0}),r.create=function(l){return createInstance(mergeConfig(i,l))},r}const axios=createInstance(defaults$1);axios.Axios=Axios$1;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function(t){return Promise.all(t)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=i=>formDataToJSON(utils.isHTMLForm(i)?new FormData(i):i);axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const axios$1=axios,_hoisted_1$7=createBaseVNode("img",{src:"https://www.uml.edu/Images/uml_vertical_logo_no_tagline_tcm18-59064.png?w=l",class:"h-20"},null,-1),_hoisted_2$7=createBaseVNode("span",{class:"ml-5 text-xl w-full m-auto text-center"},[createTextVNode(" Sign on with your UML Credentials "),createBaseVNode("br"),createTextVNode(" Single Sign-On")],-1),_hoisted_3$5=[_hoisted_1$7,_hoisted_2$7],_hoisted_4$3=createBaseVNode("div",{class:"mt-2"},[createBaseVNode("small",null,"Azure Active Directory Integration")],-1),_sfc_main$6=defineComponent({__name:"SignInHomeButton",setup(i){const{instance:t}=useMsal(),r=()=>{t.loginRedirect(loginRequest)};return(a,l)=>(openBlock(),createElementBlock("div",null,[createBaseVNode("div",{onClick:r,class:"flex justify-center cursor-pointer p-4 text-[#2e54a5] bg-slate-200 rounded-xl shadow-lg mt-2"},_hoisted_3$5),_hoisted_4$3]))}}),svgIcon_vue_vue_type_style_index_0_scoped_76aa6b74_lang="",types={mdi:{size:24,viewbox:"0 0 24 24"},"simple-icons":{size:24,viewbox:"0 0 24 24"},default:{size:0,viewbox:"0 0 0 0"}},_sfc_main$5={name:"icon",props:{type:String,path:{type:String,required:!0},size:{type:[String,Number],default:24},viewbox:String,flip:{type:String,validator:i=>["horizontal","vertical","both","none"].includes(i)},rotate:{type:Number,default:0}},computed:{styles(){return{"--sx":["both","horizontal"].includes(this.flip)?"-1":"1","--sy":["both","vertical"].includes(this.flip)?"-1":"1","--r":isNaN(this.rotate)?this.rotate:this.rotate+"deg"}},defaults(){return types[this.type]||types.default},sizeValue(){return this.size||this.defaults.size},viewboxValue(){return this.viewbox||this.defaults.viewbox}}},_hoisted_1$6=["width","height","viewBox"],_hoisted_2$6=["d"];function _sfc_render$3(i,t,r,a,l,g){return openBlock(),createElementBlock("svg",{width:g.sizeValue,height:g.sizeValue,viewBox:g.viewboxValue,style:normalizeStyle(g.styles)},[createBaseVNode("path",{d:r.path},null,8,_hoisted_2$6)],12,_hoisted_1$6)}const SvgIcon=_export_sfc(_sfc_main$5,[["render",_sfc_render$3],["__scopeId","data-v-76aa6b74"]]);var mdiFilePlus="M14 2H6C4.89 2 4 2.89 4 4V20C4 21.11 4.89 22 6 22H13.81C13.28 21.09 13 20.05 13 19C13 15.69 15.69 13 19 13C19.34 13 19.67 13.03 20 13.08V8L14 2M13 9V3.5L18.5 9H13M23 20H20V23H18V20H15V18H18V15H20V18H23V20Z",mdiOpenInNew="M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z";const _sfc_main$4={methods:{},components:{SignInHomeButton:_sfc_main$6,SvgIcon},data(){return{isAuthenticated:useIsAuthenticated(),papers:[],mdiFilePlus,mdiOpenInNew}},mounted(){this.papers=axios$1.get("http://lively-meadow-0c02fb810.2.azurestaticapps.net/api/get-survey").then(i=>{this.papers=i.data.value}).catch(i=>{console.log(i),this.errored=!0})}},_hoisted_1$5={key:0,class:"flex p-5 mt-20"},_hoisted_2$5={class:"w-full md:w-1/2 xl:w-1/3 p-6"},_hoisted_3$4=createBaseVNode("h3",{class:"font-bold"},"Please sign-in to see Clould Computing Alumni Papers.",-1),_hoisted_4$2={key:1,class:"flex p-5 mt-20"},_hoisted_5$2={class:"w-full overflow-y-auto text-left"},_hoisted_6$2=createBaseVNode("h1",{class:"mb-5 text-xl border-b-2 border-[#2e54a5] pb-3"},"Alumni Papers and Collections",-1),_hoisted_7$2={class:"grid mb-5 gap-2"},_hoisted_8$2=createBaseVNode("p",null,"You will find papers students wrote in the Cloud Compute course taken at UML. These papers are a collection of past students' works that you can use as a resource for your professional work.",-1),_hoisted_9$2={class:"relative overflow-x-auto"},_hoisted_10$2={class:"grid grid-cols-2 justify-items-stretch"},_hoisted_11$2=createBaseVNode("p",{class:"justify-self-start mt-4 font-bold"},"UML: MSIT 5650 \u2014 Bob Bell, Senior Adjunct Professor \u2014 Cloud Computing",-1),_hoisted_12$1={class:"w-full text-sm"},_hoisted_13$1=createBaseVNode("thead",{class:"text-xs text-white uppercase bg-[#2e54a5] border-gray shadow-lg"},[createBaseVNode("tr",null,[createBaseVNode("th",{scope:"col",class:"px-6 py-3"}," # "),createBaseVNode("th",{scope:"col",class:"px-6 py-3"}," Alumni Name "),createBaseVNode("th",{scope:"col",class:"px-6 py-3"}," Paper Title "),createBaseVNode("th",{scope:"col",class:"px-6 py-3"}," Description "),createBaseVNode("th",{scope:"col",class:"px-6 py-3"}," View ")])],-1),_hoisted_14$1={class:"px-6 py-4"},_hoisted_15$1={class:"px-6 py-4"},_hoisted_16$1=["href"],_hoisted_17$1={class:"px-6 py-4"},_hoisted_18$1={class:"px-6 py-4"},_hoisted_19$1={class:"px-6 py-4"},_hoisted_20$1=["href"];function _sfc_render$2(i,t,r,a,l,g){const d=resolveComponent("SignInHomeButton"),s=resolveComponent("router-link"),u=resolveComponent("svg-icon");return openBlock(),createElementBlock("div",null,[l.isAuthenticated?(openBlock(),createElementBlock("div",_hoisted_4$2,[createBaseVNode("div",_hoisted_5$2,[_hoisted_6$2,createBaseVNode("div",_hoisted_7$2,[_hoisted_8$2,createBaseVNode("p",null,[createTextVNode("If you would like to share your paper for other classmates, please "),createVNode(s,{to:"/upload-paper",class:"underline"},{default:withCtx(()=>[createTextVNode("Upload")]),_:1}),createTextVNode(" your paper.")])]),createBaseVNode("div",_hoisted_9$2,[createBaseVNode("div",_hoisted_10$2,[_hoisted_11$2,createVNode(s,{to:"/upload-paper",class:"underline justify-self-end"},{default:withCtx(()=>[createVNode(u,{type:"mdi",path:l.mdiFilePlus,size:"40",class:"mb-2"},null,8,["path"])]),_:1})]),createBaseVNode("table",_hoisted_12$1,[_hoisted_13$1,createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.papers,(n,c)=>(openBlock(),createElementBlock("tr",{key:c,class:"bg-white border-b"},[createBaseVNode("td",_hoisted_14$1,toDisplayString(c),1),createBaseVNode("td",_hoisted_15$1,[createBaseVNode("a",{href:n.url,target:"_blank",class:"underline"},toDisplayString(n.student_name),9,_hoisted_16$1)]),createBaseVNode("td",_hoisted_17$1,toDisplayString(n.title),1),createBaseVNode("td",_hoisted_18$1,toDisplayString(n.description),1),createBaseVNode("td",_hoisted_19$1,[createBaseVNode("a",{href:n.url,target:"_blank"},[createVNode(u,{type:"mdi",path:l.mdiOpenInNew,size:"30",class:"mb-2"},null,8,["path"])],8,_hoisted_20$1)])]))),128))])])])])])):(openBlock(),createElementBlock("div",_hoisted_1$5,[createBaseVNode("div",_hoisted_2$5,[_hoisted_3$4,createVNode(d)])]))])}const Home=_export_sfc(_sfc_main$4,[["render",_sfc_render$2]]);async function callMsGraph(i){const t=new Headers,r=`Bearer ${i}`;t.append("Authorization",r);const a={method:"GET",headers:t};return fetch(graphConfig.graphMeEndpoint,a).then(l=>l.json()).catch(l=>{throw console.log(l),l})}const _hoisted_1$4={key:0,class:"flex flex-col p-5 mt-20 w-1/4 text-left"},_hoisted_2$4={class:"flex"},_hoisted_3$3=createBaseVNode("span",{class:"text-right pr-2 font-bold w-1/4"},"Name:",-1),_hoisted_4$1={class:"flex"},_hoisted_5$1=createBaseVNode("span",{class:"text-right pr-2 font-bold w-1/4"},"Title:",-1),_hoisted_6$1={class:"flex"},_hoisted_7$1=createBaseVNode("span",{class:"text-right pr-2 font-bold w-1/4"},"Mail:",-1),_hoisted_8$1={class:"flex"},_hoisted_9$1=createBaseVNode("span",{class:"text-right pr-2 font-bold w-1/4"},"Phone:",-1),_hoisted_10$1={class:"flex"},_hoisted_11$1=createBaseVNode("span",{class:"text-right pr-2 font-bold w-1/4"},"Location:",-1),_sfc_main$3=defineComponent({__name:"Profile",setup(i){const{instance:t,inProgress:r}=useMsal(),a=reactive({resolved:!1,data:{}});async function l(){const d=await t.acquireTokenSilent({...loginRequest}).catch(async s=>{throw s instanceof InteractionRequiredAuthError&&await t.acquireTokenRedirect(loginRequest),s});if(r.value===InteractionStatus.None){const s=await callMsGraph(d.accessToken);a.data=s,a.resolved=!0,g()}}onMounted(()=>{l()});const g=watch(r,()=>{a.resolved||l()});return(d,s)=>a.resolved?(openBlock(),createElementBlock("div",_hoisted_1$4,[createBaseVNode("p",_hoisted_2$4,[_hoisted_3$3,createTextVNode(),createBaseVNode("span",null,toDisplayString(a.data.displayName),1)]),createBaseVNode("p",_hoisted_4$1,[_hoisted_5$1,createTextVNode(),createBaseVNode("span",null,toDisplayString(a.data.jobTitle),1)]),createBaseVNode("p",_hoisted_6$1,[_hoisted_7$1,createTextVNode(),createBaseVNode("span",null,toDisplayString(a.data.mail),1)]),createBaseVNode("p",_hoisted_8$1,[_hoisted_9$1,createTextVNode(),createBaseVNode("span",null,toDisplayString(a.data.businessPhones?a.data.businessPhones[0]:""),1)]),createBaseVNode("p",_hoisted_10$1,[_hoisted_11$1,createTextVNode(),createBaseVNode("span",null,toDisplayString(a.data.officeLocation),1)])])):createCommentVNode("",!0)}}),_sfc_main$2={data(){return{alumni_name:null,title:null,description:null,url:null,isAuthenticated:useIsAuthenticated(),papers:[],msgDiv:!1,msg:null}},mounted(){},methods:{async submitData(){this.msg="Saving",this.msgDiv=!0,await axios$1.post("http://lively-meadow-0c02fb810.2.azurestaticapps.net/api/post-survey",{paper:"cloud_compute",student_name:this.alumni_name,title:this.title,description:this.description,url:this.url}).then(i=>{this.alumni_name=null,this.title=null,this.description=null,this.url=null,console.log(i)}).catch(i=>{console.log(i.message)}),setTimeout(()=>this.msgDiv=!1,2e3)},goBack(){return $router.go(-1)},showMsg(){alert(12)}}},_hoisted_1$3={key:0,class:"flex flex-col p-5 mt-20"},_hoisted_2$3=createBaseVNode("h1",{class:"mb-5 text-xl border-b-2 border-[#2e54a5] pb-3"},"Upload Paper",-1),_hoisted_3$2={class:"w-full overflow-y-auto text-left"},_hoisted_4={class:"w-full max-w-sm"},_hoisted_5={class:"md:flex md:items-center mb-6"},_hoisted_6=createBaseVNode("div",{class:"md:w-1/3"},[createBaseVNode("label",{class:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4",for:"alumni_name"}," Alumni Name ")],-1),_hoisted_7={class:"md:w-2/3"},_hoisted_8={class:"md:flex md:items-center mb-6"},_hoisted_9=createBaseVNode("div",{class:"md:w-1/3"},[createBaseVNode("label",{class:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4",for:"title"}," Title ")],-1),_hoisted_10={class:"md:w-2/3"},_hoisted_11={class:"md:flex md:items-center mb-6"},_hoisted_12=createBaseVNode("div",{class:"md:w-1/3"},[createBaseVNode("label",{class:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4",for:"description"}," Description ")],-1),_hoisted_13={class:"md:w-2/3"},_hoisted_14={class:"md:flex md:items-center mb-6"},_hoisted_15=createBaseVNode("div",{class:"md:w-1/3"},[createBaseVNode("label",{class:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4",for:"paste_url"}," Paste URL ")],-1),_hoisted_16={class:"md:w-2/3"},_hoisted_17={class:"md:flex md:items-center"},_hoisted_18=createBaseVNode("div",{class:"md:w-1/3"},null,-1),_hoisted_19={class:"md:w-2/3"},_hoisted_20=createBaseVNode("div",{class:"p-1 rounded-md text-center"},null,-1),_hoisted_21={key:0,class:"inline-flex items-center mt-2 px-4 py-2 font-semibold text-sm rounded transition ease-in-out duration-150 w-full bg-gray-200 text-gray-800 place-content-center"},_hoisted_22=createBaseVNode("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[createBaseVNode("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),createBaseVNode("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1);function _sfc_render$1(i,t,r,a,l,g){return openBlock(),createElementBlock("div",null,[l.isAuthenticated?(openBlock(),createElementBlock("div",_hoisted_1$3,[_hoisted_2$3,createBaseVNode("div",_hoisted_3$2,[createBaseVNode("form",_hoisted_4,[createBaseVNode("div",_hoisted_5,[_hoisted_6,createBaseVNode("div",_hoisted_7,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":t[0]||(t[0]=d=>l.alumni_name=d),placeholder:"enter name",class:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-[#2e54a5]",id:"alumni_name",type:"text"},null,512),[[vModelText,l.alumni_name]])])]),createBaseVNode("div",_hoisted_8,[_hoisted_9,createBaseVNode("div",_hoisted_10,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":t[1]||(t[1]=d=>l.title=d),placeholder:"enter title",class:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-[#2e54a5]",id:"title",type:"text"},null,512),[[vModelText,l.title]])])]),createBaseVNode("div",_hoisted_11,[_hoisted_12,createBaseVNode("div",_hoisted_13,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":t[2]||(t[2]=d=>l.description=d),placeholder:"enter title",class:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-[#2e54a5]",id:"description",type:"text"},null,512),[[vModelText,l.description]])])]),createBaseVNode("div",_hoisted_14,[_hoisted_15,createBaseVNode("div",_hoisted_16,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":t[3]||(t[3]=d=>l.url=d),placeholder:"enter url",class:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-[#2e54a5]",id:"paste_url",type:"text"},null,512),[[vModelText,l.url]])])]),createBaseVNode("div",_hoisted_17,[_hoisted_18,createBaseVNode("div",_hoisted_19,[createBaseVNode("button",{onClick:t[4]||(t[4]=d=>g.submitData()),class:"shadow bg-[#2e54a5] hover:bg-gray-400 focus:shadow-outline focus:outline-none text-white font-bold py-2 px-4 rounded",type:"button"}," Submit "),createBaseVNode("a",{onClick:t[5]||(t[5]=d=>i.$router.go(-1)),class:"ml-5 cursor-pointer"},"Cancel"),_hoisted_20,l.msgDiv?(openBlock(),createElementBlock("span",_hoisted_21,[_hoisted_22,createTextVNode(" "+toDisplayString(l.msg),1)])):createCommentVNode("",!0)])])])])])):createCommentVNode("",!0)])}const UploadPaper=_export_sfc(_sfc_main$2,[["render",_sfc_render$1]]);function useMsalAuthentication(i,t){const{instance:r,inProgress:a}=useMsal(),l=ref(!1),g=ref(null),d=ref(null),s=async n=>{if(!l.value){l.value=!0;const c=n||t;if(a.value===InteractionStatus.Startup||a.value===InteractionStatus.HandleRedirect)try{const C=await r.handleRedirectPromise();if(C){g.value=C,d.value=null;return}}catch(C){g.value=null,d.value=C;return}try{const C=await r.acquireTokenSilent(c);g.value=C,d.value=null}catch{if(a.value!==InteractionStatus.None)return;i===InteractionType.Popup?r.loginPopup(c).then(m=>{g.value=m,d.value=null}).catch(m=>{d.value=m,g.value=null}):i===InteractionType.Redirect&&await r.loginRedirect(c).catch(m=>{d.value=m,g.value=null})}l.value=!1}},u=watch(a,()=>{!g&&!d?s():u()});return s(),{acquireToken:s,result:g,error:d,inProgress:l}}const _hoisted_1$2={key:0},_hoisted_2$2={class:"flex flex-wrap"},_hoisted_3$1={class:"w-full md:w-1/2 xl:w-1/3 p-6"},_sfc_main$1=defineComponent({__name:"ProfileNoGuard",setup(i){const{result:t,acquireToken:r}=useMsalAuthentication(InteractionType.Redirect,loginRequest),a=reactive({resolved:!1,data:{}});async function l(){if(t.value){const g=await callMsGraph(t.value.accessToken).catch(()=>r());a.data=g,a.resolved=!0}}return l(),watch(t,()=>{l()}),(g,d)=>a.resolved?(openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("div",_hoisted_2$2,[createBaseVNode("div",_hoisted_3$1,[createBaseVNode("p",null,"Name: "+toDisplayString(a.data.displayName),1),createBaseVNode("p",null,"Title: "+toDisplayString(a.data.jobTitle),1),createBaseVNode("p",null,"Mail: "+toDisplayString(a.data.mail),1),createBaseVNode("p",null,"Phone: "+toDisplayString(a.data.businessPhones?a.data.businessPhones[0]:""),1),createBaseVNode("p",null,"Location: "+toDisplayString(a.data.officeLocation),1)])])])):createCommentVNode("",!0)}}),_sfc_main={},_hoisted_1$1={class:"failed"},_hoisted_2$1=createBaseVNode("h6",null,"Login Failed.",-1),_hoisted_3=[_hoisted_2$1];function _sfc_render(i,t){return openBlock(),createElementBlock("div",_hoisted_1$1,_hoisted_3)}const Failed=_export_sfc(_sfc_main,[["render",_sfc_render]]);function registerGuard(i){i.beforeEach(async(t,r)=>{if(t.meta.requiresAuth){const a={...loginRequest,redirectStartPage:t.fullPath};return await isAuthenticated(msalInstance,InteractionType.Redirect,a)||"/failed"}return!0})}async function isAuthenticated(i,t,r){return i.handleRedirectPromise().then(()=>i.getAllAccounts().length>0?!0:t===InteractionType.Popup?i.loginPopup(r).then(()=>!0).catch(()=>!1):t===InteractionType.Redirect?i.loginRedirect(r).then(()=>!0).catch(()=>!1):!1).catch(()=>!1)}const routes=[{path:"/",name:"Home",component:Home},{path:"/profile",name:"Profile",component:_sfc_main$3,meta:{requiresAuth:!0}},{path:"/upload-paper",name:"UploadPaper",component:UploadPaper,meta:{requiresAuth:!0}},{path:"/profileNoGuard",name:"ProfileNoGuard",component:_sfc_main$1},{path:"/failed",name:"Failed",component:Failed}],router=createRouter({history:createWebHistory(),routes});registerGuard(router);function accountArraysAreEqual(i,t){if(i.length!==t.length)return!1;const r=[...t];return i.every(a=>{const l=r.shift();return!a||!l?!1:a.homeAccountId===l.homeAccountId&&a.localAccountId===l.localAccountId&&a.username===l.username})}const msalPlugin={install:(i,t)=>{const r=InteractionStatus.Startup,a=t.getAllAccounts(),l=reactive({instance:t,inProgress:r,accounts:a});i.config.globalProperties.$msal=l,t.addEventCallback(g=>{switch(g.eventType){case EventType.ACCOUNT_ADDED:case EventType.ACCOUNT_REMOVED:case EventType.LOGIN_SUCCESS:case EventType.SSO_SILENT_SUCCESS:case EventType.HANDLE_REDIRECT_END:case EventType.LOGIN_FAILURE:case EventType.SSO_SILENT_FAILURE:case EventType.LOGOUT_END:case EventType.ACQUIRE_TOKEN_SUCCESS:case EventType.ACQUIRE_TOKEN_FAILURE:const s=t.getAllAccounts();accountArraysAreEqual(s,l.accounts)||(l.accounts=s);break}const d=EventMessageUtils.getInteractionStatusFromEvent(g,l.inProgress);d!==null&&(l.inProgress=d)})}};class CustomNavigationClient extends NavigationClient{constructor(r){super();li(this,"router");this.router=r}async navigateInternal(r,a){const l=r.replace(window.location.origin,"");return a.noHistory?this.router.replace(l):this.router.push(l),!1}}var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getAugmentedNamespace(i){var t=i.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(i).forEach(function(a){var l=Object.getOwnPropertyDescriptor(i,a);Object.defineProperty(r,a,l.get?l:{enumerable:!0,get:function(){return i[a]}})}),r}function commonjsRequire$1(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}},dommatrix={exports:{}};/*!
* DOMMatrix v1.0.3 (https://thednp.github.io/dommatrix/)
* Copyright 2022  thednp
* Licensed under MIT (https://github.com/thednp/DOMMatrix/blob/master/LICENSE)
*/var hasRequiredDommatrix;function requireDommatrix(){return hasRequiredDommatrix||(hasRequiredDommatrix=1,function(i,t){(function(r,a){i.exports=a()})(commonjsGlobal$1,function(){function r(v){var b=new E,o=Array.from(v);if(!o.every(function(Z){return!Number.isNaN(Z)}))throw TypeError('CSSMatrix: "'+v+'" must only have numbers.');if(o.length===16){var T=o[0],D=o[1],_=o[2],y=o[3],P=o[4],w=o[5],M=o[6],q=o[7],F=o[8],G=o[9],R=o[10],I=o[11],L=o[12],x=o[13],S=o[14],W=o[15];b.m11=T,b.a=T,b.m21=P,b.c=P,b.m31=F,b.m41=L,b.e=L,b.m12=D,b.b=D,b.m22=w,b.d=w,b.m32=G,b.m42=x,b.f=x,b.m13=_,b.m23=M,b.m33=R,b.m43=S,b.m14=y,b.m24=q,b.m34=I,b.m44=W}else if(o.length===6){var U=o[0],z=o[1],re=o[2],J=o[3],k=o[4],H=o[5];b.m11=U,b.a=U,b.m12=z,b.b=z,b.m21=re,b.c=re,b.m22=J,b.d=J,b.m41=k,b.e=k,b.m42=H,b.f=H}else throw new TypeError("CSSMatrix: expecting an Array of 6/16 values.");return b}function a(v){var b=Object.keys(new E);if(typeof v=="object"&&b.every(function(o){return o in v}))return r([v.m11,v.m12,v.m13,v.m14,v.m21,v.m22,v.m23,v.m24,v.m31,v.m32,v.m33,v.m34,v.m41,v.m42,v.m43,v.m44]);throw TypeError('CSSMatrix: "'+JSON.stringify(v)+'" is not a DOMMatrix / CSSMatrix / JSON compatible object.')}function l(v){if(typeof v!="string")throw TypeError('CSSMatrix: "'+v+'" is not a string.');var b=String(v).replace(/\s/g,""),o=new E,T='CSSMatrix: invalid transform string "'+v+'"';return b.split(")").filter(function(D){return D}).forEach(function(D){var _=D.split("("),y=_[0],P=_[1];if(!P)throw TypeError(T);var w=P.split(",").map(function(k){return k.includes("rad")?parseFloat(k)*(180/Math.PI):parseFloat(k)}),M=w[0],q=w[1],F=w[2],G=w[3],R=[M,q,F],I=[M,q,F,G];if(y==="perspective"&&M&&[q,F].every(function(k){return k===void 0}))o.m34=-1/M;else if(y.includes("matrix")&&[6,16].includes(w.length)&&w.every(function(k){return!Number.isNaN(+k)})){var L=w.map(function(k){return Math.abs(k)<1e-6?0:k});o=o.multiply(r(L))}else if(y==="translate3d"&&R.every(function(k){return!Number.isNaN(+k)}))o=o.translate(M,q,F);else if(y==="translate"&&M&&F===void 0)o=o.translate(M,q||0,0);else if(y==="rotate3d"&&I.every(function(k){return!Number.isNaN(+k)})&&G)o=o.rotateAxisAngle(M,q,F,G);else if(y==="rotate"&&M&&[q,F].every(function(k){return k===void 0}))o=o.rotate(0,0,M);else if(y==="scale3d"&&R.every(function(k){return!Number.isNaN(+k)})&&R.some(function(k){return k!==1}))o=o.scale(M,q,F);else if(y==="scale"&&!Number.isNaN(M)&&M!==1&&F===void 0){var x=Number.isNaN(+q),S=x?M:q;o=o.scale(M,S,1)}else if(y==="skew"&&(M||!Number.isNaN(M)&&q)&&F===void 0)o=o.skew(M,q||0);else if(/[XYZ]/.test(y)&&M&&[q,F].every(function(k){return k===void 0})&&["translate","rotate","scale","skew"].some(function(k){return y.includes(k)}))if(["skewX","skewY"].includes(y))o=o[y](M);else{var W=y.replace(/[XYZ]/,""),U=y.replace(W,""),z=["X","Y","Z"].indexOf(U),re=W==="scale"?1:0,J=[z===0?M:re,z===1?M:re,z===2?M:re];o=o[W].apply(o,J)}else throw TypeError(T)}),o}function g(v,b){return b?[v.a,v.b,v.c,v.d,v.e,v.f]:[v.m11,v.m12,v.m13,v.m14,v.m21,v.m22,v.m23,v.m24,v.m31,v.m32,v.m33,v.m34,v.m41,v.m42,v.m43,v.m44]}function d(v,b,o){var T=new E;return T.m41=v,T.e=v,T.m42=b,T.f=b,T.m43=o,T}function s(v,b,o){var T=new E,D=Math.PI/180,_=v*D,y=b*D,P=o*D,w=Math.cos(_),M=-Math.sin(_),q=Math.cos(y),F=-Math.sin(y),G=Math.cos(P),R=-Math.sin(P),I=q*G,L=-q*R;T.m11=I,T.a=I,T.m12=L,T.b=L,T.m13=F;var x=M*F*G+w*R;T.m21=x,T.c=x;var S=w*G-M*F*R;return T.m22=S,T.d=S,T.m23=-M*q,T.m31=M*R-w*F*G,T.m32=M*G+w*F*R,T.m33=w*q,T}function u(v,b,o,T){var D=new E,_=Math.sqrt(v*v+b*b+o*o);if(_===0)return D;var y=v/_,P=b/_,w=o/_,M=T*(Math.PI/360),q=Math.sin(M),F=Math.cos(M),G=q*q,R=y*y,I=P*P,L=w*w,x=1-2*(I+L)*G;D.m11=x,D.a=x;var S=2*(y*P*G+w*q*F);D.m12=S,D.b=S,D.m13=2*(y*w*G-P*q*F);var W=2*(P*y*G-w*q*F);D.m21=W,D.c=W;var U=1-2*(L+R)*G;return D.m22=U,D.d=U,D.m23=2*(P*w*G+y*q*F),D.m31=2*(w*y*G+P*q*F),D.m32=2*(w*P*G-y*q*F),D.m33=1-2*(R+I)*G,D}function n(v,b,o){var T=new E;return T.m11=v,T.a=v,T.m22=b,T.d=b,T.m33=o,T}function c(v,b){var o=new E;if(v){var T=v*Math.PI/180,D=Math.tan(T);o.m21=D,o.c=D}if(b){var _=b*Math.PI/180,y=Math.tan(_);o.m12=y,o.b=y}return o}function C(v){return c(v,0)}function m(v){return c(0,v)}function e(v,b){var o=b.m11*v.m11+b.m12*v.m21+b.m13*v.m31+b.m14*v.m41,T=b.m11*v.m12+b.m12*v.m22+b.m13*v.m32+b.m14*v.m42,D=b.m11*v.m13+b.m12*v.m23+b.m13*v.m33+b.m14*v.m43,_=b.m11*v.m14+b.m12*v.m24+b.m13*v.m34+b.m14*v.m44,y=b.m21*v.m11+b.m22*v.m21+b.m23*v.m31+b.m24*v.m41,P=b.m21*v.m12+b.m22*v.m22+b.m23*v.m32+b.m24*v.m42,w=b.m21*v.m13+b.m22*v.m23+b.m23*v.m33+b.m24*v.m43,M=b.m21*v.m14+b.m22*v.m24+b.m23*v.m34+b.m24*v.m44,q=b.m31*v.m11+b.m32*v.m21+b.m33*v.m31+b.m34*v.m41,F=b.m31*v.m12+b.m32*v.m22+b.m33*v.m32+b.m34*v.m42,G=b.m31*v.m13+b.m32*v.m23+b.m33*v.m33+b.m34*v.m43,R=b.m31*v.m14+b.m32*v.m24+b.m33*v.m34+b.m34*v.m44,I=b.m41*v.m11+b.m42*v.m21+b.m43*v.m31+b.m44*v.m41,L=b.m41*v.m12+b.m42*v.m22+b.m43*v.m32+b.m44*v.m42,x=b.m41*v.m13+b.m42*v.m23+b.m43*v.m33+b.m44*v.m43,S=b.m41*v.m14+b.m42*v.m24+b.m43*v.m34+b.m44*v.m44;return r([o,T,D,_,y,P,w,M,q,F,G,R,I,L,x,S])}var E=function(){for(var b=[],o=arguments.length;o--;)b[o]=arguments[o];var T=this;if(T.a=1,T.b=0,T.c=0,T.d=1,T.e=0,T.f=0,T.m11=1,T.m12=0,T.m13=0,T.m14=0,T.m21=0,T.m22=1,T.m23=0,T.m24=0,T.m31=0,T.m32=0,T.m33=1,T.m34=0,T.m41=0,T.m42=0,T.m43=0,T.m44=1,b.length){var D=[16,6].some(function(_){return _===b.length})?b:b[0];return T.setMatrixValue(D)}return T},A={isIdentity:{configurable:!0},is2D:{configurable:!0}};A.isIdentity.get=function(){var v=this;return v.m11===1&&v.m12===0&&v.m13===0&&v.m14===0&&v.m21===0&&v.m22===1&&v.m23===0&&v.m24===0&&v.m31===0&&v.m32===0&&v.m33===1&&v.m34===0&&v.m41===0&&v.m42===0&&v.m43===0&&v.m44===1},A.is2D.get=function(){var v=this;return v.m31===0&&v.m32===0&&v.m33===1&&v.m34===0&&v.m43===0&&v.m44===1},E.prototype.setMatrixValue=function(b){var o=this;return typeof b=="string"&&b.length&&b!=="none"?l(b):[Array,Float64Array,Float32Array].some(function(T){return b instanceof T})?r(b):[E,DOMMatrix,Object].some(function(T){return b instanceof T})?a(b):o},E.prototype.toFloat32Array=function(b){return Float32Array.from(g(this,b))},E.prototype.toFloat64Array=function(b){return Float64Array.from(g(this,b))},E.prototype.toString=function(){var b=this,o=b.is2D,T=b.toFloat64Array(o).join(", "),D=o?"matrix":"matrix3d";return D+"("+T+")"},E.prototype.toJSON=function(){var b=this,o=b.is2D,T=b.isIdentity;return Object.assign({},b,{is2D:o,isIdentity:T})},E.prototype.multiply=function(b){return e(this,b)},E.prototype.translate=function(b,o,T){var D=b,_=o,y=T;return _===void 0&&(_=0),y===void 0&&(y=0),e(this,d(D,_,y))},E.prototype.scale=function(b,o,T){var D=b,_=o,y=T;return _===void 0&&(_=b),y===void 0&&(y=1),e(this,n(D,_,y))},E.prototype.rotate=function(b,o,T){var D=b,_=o||0,y=T||0;return typeof b=="number"&&o===void 0&&T===void 0&&(y=D,D=0,_=0),e(this,s(D,_,y))},E.prototype.rotateAxisAngle=function(b,o,T,D){if([b,o,T,D].some(function(_){return Number.isNaN(+_)}))throw new TypeError("CSSMatrix: expecting 4 values");return e(this,u(b,o,T,D))},E.prototype.skewX=function(b){return e(this,C(b))},E.prototype.skewY=function(b){return e(this,m(b))},E.prototype.skew=function(b,o){return e(this,c(b,o))},E.prototype.transformPoint=function(b){var o=this,T=o.m11*b.x+o.m21*b.y+o.m31*b.z+o.m41*b.w,D=o.m12*b.x+o.m22*b.y+o.m32*b.z+o.m42*b.w,_=o.m13*b.x+o.m23*b.y+o.m33*b.z+o.m43*b.w,y=o.m14*b.x+o.m24*b.y+o.m34*b.z+o.m44*b.w;return b instanceof DOMPoint?new DOMPoint(T,D,_,y):{x:T,y:D,z:_,w:y}},Object.defineProperties(E.prototype,A),Object.assign(E,{Translate:d,Rotate:s,RotateAxisAngle:u,Scale:n,SkewX:C,SkewY:m,Skew:c,Multiply:e,fromArray:r,fromMatrix:a,fromString:l,toArray:g});var B="1.0.3",O=B;return Object.assign(E,{Version:O}),E})}(dommatrix)),dommatrix.exports}var ponyfill={exports:{}},hasRequiredPonyfill;function requirePonyfill(){return hasRequiredPonyfill||(hasRequiredPonyfill=1,function(i,t){(function(r,a){a(t)})(commonjsGlobal$1,function(r){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:function(ae){return"Symbol("+ae+")"};function l(){}function g(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof commonjsGlobal$1<"u")return commonjsGlobal$1}var d=g();function s(ae){return typeof ae=="object"&&ae!==null||typeof ae=="function"}var u=l,n=Promise,c=Promise.prototype.then,C=Promise.resolve.bind(n),m=Promise.reject.bind(n);function e(ae){return new n(ae)}function E(ae){return C(ae)}function A(ae){return m(ae)}function B(ae,me,_e){return c.call(ae,me,_e)}function O(ae,me,_e){B(B(ae,me,_e),void 0,u)}function v(ae,me){O(ae,me)}function b(ae,me){O(ae,void 0,me)}function o(ae,me,_e){return B(ae,me,_e)}function T(ae){B(ae,void 0,u)}var D=function(){var ae=d&&d.queueMicrotask;if(typeof ae=="function")return ae;var me=E(void 0);return function(_e){return B(me,_e)}}();function _(ae,me,_e){if(typeof ae!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(ae,me,_e)}function y(ae,me,_e){try{return E(_(ae,me,_e))}catch($e){return A($e)}}var P=16384,w=function(){function ae(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(ae.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),ae.prototype.push=function(me){var _e=this._back,$e=_e;_e._elements.length===P-1&&($e={_elements:[],_next:void 0}),_e._elements.push(me),$e!==_e&&(this._back=$e,_e._next=$e),++this._size},ae.prototype.shift=function(){var me=this._front,_e=me,$e=this._cursor,Ke=$e+1,ct=me._elements,gt=ct[$e];return Ke===P&&(_e=me._next,Ke=0),--this._size,this._cursor=Ke,me!==_e&&(this._front=_e),ct[$e]=void 0,gt},ae.prototype.forEach=function(me){for(var _e=this._cursor,$e=this._front,Ke=$e._elements;(_e!==Ke.length||$e._next!==void 0)&&!(_e===Ke.length&&($e=$e._next,Ke=$e._elements,_e=0,Ke.length===0));)me(Ke[_e]),++_e},ae.prototype.peek=function(){var me=this._front,_e=this._cursor;return me._elements[_e]},ae}();function M(ae,me){ae._ownerReadableStream=me,me._reader=ae,me._state==="readable"?R(ae):me._state==="closed"?L(ae):I(ae,me._storedError)}function q(ae,me){var _e=ae._ownerReadableStream;return lr(_e,me)}function F(ae){ae._ownerReadableStream._state==="readable"?x(ae,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):S(ae,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),ae._ownerReadableStream._reader=void 0,ae._ownerReadableStream=void 0}function G(ae){return new TypeError("Cannot "+ae+" a stream using a released reader")}function R(ae){ae._closedPromise=e(function(me,_e){ae._closedPromise_resolve=me,ae._closedPromise_reject=_e})}function I(ae,me){R(ae),x(ae,me)}function L(ae){R(ae),W(ae)}function x(ae,me){ae._closedPromise_reject!==void 0&&(T(ae._closedPromise),ae._closedPromise_reject(me),ae._closedPromise_resolve=void 0,ae._closedPromise_reject=void 0)}function S(ae,me){I(ae,me)}function W(ae){ae._closedPromise_resolve!==void 0&&(ae._closedPromise_resolve(void 0),ae._closedPromise_resolve=void 0,ae._closedPromise_reject=void 0)}var U=a("[[AbortSteps]]"),z=a("[[ErrorSteps]]"),re=a("[[CancelSteps]]"),J=a("[[PullSteps]]"),k=Number.isFinite||function(ae){return typeof ae=="number"&&isFinite(ae)},H=Math.trunc||function(ae){return ae<0?Math.ceil(ae):Math.floor(ae)};function Z(ae){return typeof ae=="object"||typeof ae=="function"}function Q(ae,me){if(ae!==void 0&&!Z(ae))throw new TypeError(me+" is not an object.")}function V(ae,me){if(typeof ae!="function")throw new TypeError(me+" is not a function.")}function Y(ae){return typeof ae=="object"&&ae!==null||typeof ae=="function"}function te(ae,me){if(!Y(ae))throw new TypeError(me+" is not an object.")}function $(ae,me,_e){if(ae===void 0)throw new TypeError("Parameter "+me+" is required in '"+_e+"'.")}function X(ae,me,_e){if(ae===void 0)throw new TypeError(me+" is required in '"+_e+"'.")}function ne(ae){return Number(ae)}function ce(ae){return ae===0?0:ae}function se(ae){return ce(H(ae))}function K(ae,me){var _e=0,$e=Number.MAX_SAFE_INTEGER,Ke=Number(ae);if(Ke=ce(Ke),!k(Ke))throw new TypeError(me+" is not a finite number");if(Ke=se(Ke),Ke<_e||Ke>$e)throw new TypeError(me+" is outside the accepted range of "+_e+" to "+$e+", inclusive");return!k(Ke)||Ke===0?0:Ke}function ee(ae,me){if(!Pr(ae))throw new TypeError(me+" is not a ReadableStream.")}function ie(ae){return new ue(ae)}function oe(ae,me){ae._reader._readRequests.push(me)}function le(ae,me,_e){var $e=ae._reader,Ke=$e._readRequests.shift();_e?Ke._closeSteps():Ke._chunkSteps(me)}function pe(ae){return ae._reader._readRequests.length}function fe(ae){var me=ae._reader;return!(me===void 0||!ge(me))}var ue=function(){function ae(me){if($(me,1,"ReadableStreamDefaultReader"),ee(me,"First parameter"),Fr(me))throw new TypeError("This stream has already been locked for exclusive reading by another reader");M(this,me),this._readRequests=new w}return Object.defineProperty(ae.prototype,"closed",{get:function(){return ge(this)?this._closedPromise:A(xe("closed"))},enumerable:!1,configurable:!0}),ae.prototype.cancel=function(me){return me===void 0&&(me=void 0),ge(this)?this._ownerReadableStream===void 0?A(G("cancel")):q(this,me):A(xe("cancel"))},ae.prototype.read=function(){if(!ge(this))return A(xe("read"));if(this._ownerReadableStream===void 0)return A(G("read from"));var me,_e,$e=e(function(ct,gt){me=ct,_e=gt}),Ke={_chunkSteps:function(ct){return me({value:ct,done:!1})},_closeSteps:function(){return me({value:void 0,done:!0})},_errorSteps:function(ct){return _e(ct)}};return he(this,Ke),$e},ae.prototype.releaseLock=function(){if(!ge(this))throw xe("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");F(this)}},ae}();Object.defineProperties(ue.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof a.toStringTag=="symbol"&&Object.defineProperty(ue.prototype,a.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function ge(ae){return!s(ae)||!Object.prototype.hasOwnProperty.call(ae,"_readRequests")?!1:ae instanceof ue}function he(ae,me){var _e=ae._ownerReadableStream;_e._disturbed=!0,_e._state==="closed"?me._closeSteps():_e._state==="errored"?me._errorSteps(_e._storedError):_e._readableStreamController[J](me)}function xe(ae){return new TypeError("ReadableStreamDefaultReader.prototype."+ae+" can only be used on a ReadableStreamDefaultReader")}var ye,ve;typeof a.asyncIterator=="symbol"&&(ve=(ye={},ye[a.asyncIterator]=function(){return this},ye),Object.defineProperty(ve,a.asyncIterator,{enumerable:!1}));var ke=function(){function ae(me,_e){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=me,this._preventCancel=_e}return ae.prototype.next=function(){var me=this,_e=function(){return me._nextSteps()};return this._ongoingPromise=this._ongoingPromise?o(this._ongoingPromise,_e,_e):_e(),this._ongoingPromise},ae.prototype.return=function(me){var _e=this,$e=function(){return _e._returnSteps(me)};return this._ongoingPromise?o(this._ongoingPromise,$e,$e):$e()},ae.prototype._nextSteps=function(){var me=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var _e=this._reader;if(_e._ownerReadableStream===void 0)return A(G("iterate"));var $e,Ke,ct=e(function(kt,Ut){$e=kt,Ke=Ut}),gt={_chunkSteps:function(kt){me._ongoingPromise=void 0,D(function(){return $e({value:kt,done:!1})})},_closeSteps:function(){me._ongoingPromise=void 0,me._isFinished=!0,F(_e),$e({value:void 0,done:!0})},_errorSteps:function(kt){me._ongoingPromise=void 0,me._isFinished=!0,F(_e),Ke(kt)}};return he(_e,gt),ct},ae.prototype._returnSteps=function(me){if(this._isFinished)return Promise.resolve({value:me,done:!0});this._isFinished=!0;var _e=this._reader;if(_e._ownerReadableStream===void 0)return A(G("finish iterating"));if(!this._preventCancel){var $e=q(_e,me);return F(_e),o($e,function(){return{value:me,done:!0}})}return F(_e),E({value:me,done:!0})},ae}(),Se={next:function(){return Ee(this)?this._asyncIteratorImpl.next():A(Oe("next"))},return:function(ae){return Ee(this)?this._asyncIteratorImpl.return(ae):A(Oe("return"))}};ve!==void 0&&Object.setPrototypeOf(Se,ve);function be(ae,me){var _e=ie(ae),$e=new ke(_e,me),Ke=Object.create(Se);return Ke._asyncIteratorImpl=$e,Ke}function Ee(ae){if(!s(ae)||!Object.prototype.hasOwnProperty.call(ae,"_asyncIteratorImpl"))return!1;try{return ae._asyncIteratorImpl instanceof ke}catch{return!1}}function Oe(ae){return new TypeError("ReadableStreamAsyncIterator."+ae+" can only be used on a ReadableSteamAsyncIterator")}var Fe=Number.isNaN||function(ae){return ae!==ae};function Re(ae){return ae.slice()}function Ne(ae,me,_e,$e,Ke){new Uint8Array(ae).set(new Uint8Array(_e,$e,Ke),me)}function Pe(ae){return ae}function Ie(ae){return!1}function Me(ae,me,_e){if(ae.slice)return ae.slice(me,_e);var $e=_e-me,Ke=new ArrayBuffer($e);return Ne(Ke,0,ae,me,$e),Ke}function Te(ae){return!(typeof ae!="number"||Fe(ae)||ae<0)}function Le(ae){var me=Me(ae.buffer,ae.byteOffset,ae.byteOffset+ae.byteLength);return new Uint8Array(me)}function Be(ae){var me=ae._queue.shift();return ae._queueTotalSize-=me.size,ae._queueTotalSize<0&&(ae._queueTotalSize=0),me.value}function Ae(ae,me,_e){if(!Te(_e)||_e===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");ae._queue.push({value:me,size:_e}),ae._queueTotalSize+=_e}function we(ae){var me=ae._queue.peek();return me.value}function Ce(ae){ae._queue=new w,ae._queueTotalSize=0}var De=function(){function ae(){throw new TypeError("Illegal constructor")}return Object.defineProperty(ae.prototype,"view",{get:function(){if(!Ze(this))throw nt("view");return this._view},enumerable:!1,configurable:!0}),ae.prototype.respond=function(me){if(!Ze(this))throw nt("respond");if($(me,1,"respond"),me=K(me,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Ie(this._view.buffer),Pt(this._associatedReadableByteStreamController,me)},ae.prototype.respondWithNewView=function(me){if(!Ze(this))throw nt("respondWithNewView");if($(me,1,"respondWithNewView"),!ArrayBuffer.isView(me))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Ie(me.buffer),Tt(this._associatedReadableByteStreamController,me)},ae}();Object.defineProperties(De.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof a.toStringTag=="symbol"&&Object.defineProperty(De.prototype,a.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var Ge=function(){function ae(){throw new TypeError("Illegal constructor")}return Object.defineProperty(ae.prototype,"byobRequest",{get:function(){if(!He(this))throw et("byobRequest");return vt(this)},enumerable:!1,configurable:!0}),Object.defineProperty(ae.prototype,"desiredSize",{get:function(){if(!He(this))throw et("desiredSize");return bt(this)},enumerable:!1,configurable:!0}),ae.prototype.close=function(){if(!He(this))throw et("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var me=this._controlledReadableByteStream._state;if(me!=="readable")throw new TypeError("The stream (in "+me+" state) is not in the readable state and cannot be closed");mt(this)},ae.prototype.enqueue=function(me){if(!He(this))throw et("enqueue");if($(me,1,"enqueue"),!ArrayBuffer.isView(me))throw new TypeError("chunk must be an array buffer view");if(me.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(me.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var _e=this._controlledReadableByteStream._state;if(_e!=="readable")throw new TypeError("The stream (in "+_e+" state) is not in the readable state and cannot be enqueued to");xt(this,me)},ae.prototype.error=function(me){if(me===void 0&&(me=void 0),!He(this))throw et("error");at(this,me)},ae.prototype[re]=function(me){je(this),Ce(this);var _e=this._cancelAlgorithm(me);return ut(this),_e},ae.prototype[J]=function(me){var _e=this._controlledReadableByteStream;if(this._queueTotalSize>0){var $e=this._queue.shift();this._queueTotalSize-=$e.byteLength,ft(this);var Ke=new Uint8Array($e.buffer,$e.byteOffset,$e.byteLength);me._chunkSteps(Ke);return}var ct=this._autoAllocateChunkSize;if(ct!==void 0){var gt=void 0;try{gt=new ArrayBuffer(ct)}catch(Ut){me._errorSteps(Ut);return}var kt={buffer:gt,bufferByteLength:ct,byteOffset:0,byteLength:ct,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(kt)}oe(_e,me),Ye(this)},ae}();Object.defineProperties(Ge.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof a.toStringTag=="symbol"&&Object.defineProperty(Ge.prototype,a.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function He(ae){return!s(ae)||!Object.prototype.hasOwnProperty.call(ae,"_controlledReadableByteStream")?!1:ae instanceof Ge}function Ze(ae){return!s(ae)||!Object.prototype.hasOwnProperty.call(ae,"_associatedReadableByteStreamController")?!1:ae instanceof De}function Ye(ae){var me=tt(ae);if(!!me){if(ae._pulling){ae._pullAgain=!0;return}ae._pulling=!0;var _e=ae._pullAlgorithm();O(_e,function(){ae._pulling=!1,ae._pullAgain&&(ae._pullAgain=!1,Ye(ae))},function($e){at(ae,$e)})}}function je(ae){St(ae),ae._pendingPullIntos=new w}function it(ae,me){var _e=!1;ae._state==="closed"&&(_e=!0);var $e=dt(me);me.readerType==="default"?le(ae,$e,_e):Gt(ae,$e,_e)}function dt(ae){var me=ae.bytesFilled,_e=ae.elementSize;return new ae.viewConstructor(ae.buffer,ae.byteOffset,me/_e)}function ze(ae,me,_e,$e){ae._queue.push({buffer:me,byteOffset:_e,byteLength:$e}),ae._queueTotalSize+=$e}function lt(ae,me){var _e=me.elementSize,$e=me.bytesFilled-me.bytesFilled%_e,Ke=Math.min(ae._queueTotalSize,me.byteLength-me.bytesFilled),ct=me.bytesFilled+Ke,gt=ct-ct%_e,kt=Ke,Ut=!1;gt>$e&&(kt=gt-me.bytesFilled,Ut=!0);for(var jt=ae._queue;kt>0;){var Vt=jt.peek(),Xt=Math.min(kt,Vt.byteLength),tr=me.byteOffset+me.bytesFilled;Ne(me.buffer,tr,Vt.buffer,Vt.byteOffset,Xt),Vt.byteLength===Xt?jt.shift():(Vt.byteOffset+=Xt,Vt.byteLength-=Xt),ae._queueTotalSize-=Xt,ot(ae,Xt,me),kt-=Xt}return Ut}function ot(ae,me,_e){_e.bytesFilled+=me}function ft(ae){ae._queueTotalSize===0&&ae._closeRequested?(ut(ae),ln(ae._controlledReadableByteStream)):Ye(ae)}function St(ae){ae._byobRequest!==null&&(ae._byobRequest._associatedReadableByteStreamController=void 0,ae._byobRequest._view=null,ae._byobRequest=null)}function Et(ae){for(;ae._pendingPullIntos.length>0;){if(ae._queueTotalSize===0)return;var me=ae._pendingPullIntos.peek();lt(ae,me)&&(rt(ae),it(ae._controlledReadableByteStream,me))}}function pt(ae,me,_e){var $e=ae._controlledReadableByteStream,Ke=1;me.constructor!==DataView&&(Ke=me.constructor.BYTES_PER_ELEMENT);var ct=me.constructor,gt=me.buffer,kt={buffer:gt,bufferByteLength:gt.byteLength,byteOffset:me.byteOffset,byteLength:me.byteLength,bytesFilled:0,elementSize:Ke,viewConstructor:ct,readerType:"byob"};if(ae._pendingPullIntos.length>0){ae._pendingPullIntos.push(kt),_t($e,_e);return}if($e._state==="closed"){var Ut=new ct(kt.buffer,kt.byteOffset,0);_e._closeSteps(Ut);return}if(ae._queueTotalSize>0){if(lt(ae,kt)){var jt=dt(kt);ft(ae),_e._chunkSteps(jt);return}if(ae._closeRequested){var Vt=new TypeError("Insufficient bytes to fill elements in the given buffer");at(ae,Vt),_e._errorSteps(Vt);return}}ae._pendingPullIntos.push(kt),_t($e,_e),Ye(ae)}function Ht(ae,me){var _e=ae._controlledReadableByteStream;if(Ft(_e))for(;It(_e)>0;){var $e=rt(ae);it(_e,$e)}}function Qe(ae,me,_e){if(ot(ae,me,_e),!(_e.bytesFilled<_e.elementSize)){rt(ae);var $e=_e.bytesFilled%_e.elementSize;if($e>0){var Ke=_e.byteOffset+_e.bytesFilled,ct=Me(_e.buffer,Ke-$e,Ke);ze(ae,ct,0,ct.byteLength)}_e.bytesFilled-=$e,it(ae._controlledReadableByteStream,_e),Et(ae)}}function qe(ae,me){var _e=ae._pendingPullIntos.peek();St(ae);var $e=ae._controlledReadableByteStream._state;$e==="closed"?Ht(ae):Qe(ae,me,_e),Ye(ae)}function rt(ae){var me=ae._pendingPullIntos.shift();return me}function tt(ae){var me=ae._controlledReadableByteStream;if(me._state!=="readable"||ae._closeRequested||!ae._started)return!1;if(fe(me)&&pe(me)>0||Ft(me)&&It(me)>0)return!0;var _e=bt(ae);return _e>0}function ut(ae){ae._pullAlgorithm=void 0,ae._cancelAlgorithm=void 0}function mt(ae){var me=ae._controlledReadableByteStream;if(!(ae._closeRequested||me._state!=="readable")){if(ae._queueTotalSize>0){ae._closeRequested=!0;return}if(ae._pendingPullIntos.length>0){var _e=ae._pendingPullIntos.peek();if(_e.bytesFilled>0){var $e=new TypeError("Insufficient bytes to fill elements in the given buffer");throw at(ae,$e),$e}}ut(ae),ln(me)}}function xt(ae,me){var _e=ae._controlledReadableByteStream;if(!(ae._closeRequested||_e._state!=="readable")){var $e=me.buffer,Ke=me.byteOffset,ct=me.byteLength,gt=$e;if(ae._pendingPullIntos.length>0){var kt=ae._pendingPullIntos.peek();Ie(kt.buffer),kt.buffer=kt.buffer}if(St(ae),fe(_e))if(pe(_e)===0)ze(ae,gt,Ke,ct);else{ae._pendingPullIntos.length>0&&rt(ae);var Ut=new Uint8Array(gt,Ke,ct);le(_e,Ut,!1)}else Ft(_e)?(ze(ae,gt,Ke,ct),Et(ae)):ze(ae,gt,Ke,ct);Ye(ae)}}function at(ae,me){var _e=ae._controlledReadableByteStream;_e._state==="readable"&&(je(ae),Ce(ae),ut(ae),Kn(_e,me))}function vt(ae){if(ae._byobRequest===null&&ae._pendingPullIntos.length>0){var me=ae._pendingPullIntos.peek(),_e=new Uint8Array(me.buffer,me.byteOffset+me.bytesFilled,me.byteLength-me.bytesFilled),$e=Object.create(De.prototype);We($e,ae,_e),ae._byobRequest=$e}return ae._byobRequest}function bt(ae){var me=ae._controlledReadableByteStream._state;return me==="errored"?null:me==="closed"?0:ae._strategyHWM-ae._queueTotalSize}function Pt(ae,me){var _e=ae._pendingPullIntos.peek(),$e=ae._controlledReadableByteStream._state;if($e==="closed"){if(me!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(me===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(_e.bytesFilled+me>_e.byteLength)throw new RangeError("bytesWritten out of range")}_e.buffer=_e.buffer,qe(ae,me)}function Tt(ae,me){var _e=ae._pendingPullIntos.peek(),$e=ae._controlledReadableByteStream._state;if($e==="closed"){if(me.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(me.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(_e.byteOffset+_e.bytesFilled!==me.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(_e.bufferByteLength!==me.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(_e.bytesFilled+me.byteLength>_e.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var Ke=me.byteLength;_e.buffer=me.buffer,qe(ae,Ke)}function wt(ae,me,_e,$e,Ke,ct,gt){me._controlledReadableByteStream=ae,me._pullAgain=!1,me._pulling=!1,me._byobRequest=null,me._queue=me._queueTotalSize=void 0,Ce(me),me._closeRequested=!1,me._started=!1,me._strategyHWM=ct,me._pullAlgorithm=$e,me._cancelAlgorithm=Ke,me._autoAllocateChunkSize=gt,me._pendingPullIntos=new w,ae._readableStreamController=me;var kt=_e();O(E(kt),function(){me._started=!0,Ye(me)},function(Ut){at(me,Ut)})}function Ue(ae,me,_e){var $e=Object.create(Ge.prototype),Ke=function(){},ct=function(){return E(void 0)},gt=function(){return E(void 0)};me.start!==void 0&&(Ke=function(){return me.start($e)}),me.pull!==void 0&&(ct=function(){return me.pull($e)}),me.cancel!==void 0&&(gt=function(Ut){return me.cancel(Ut)});var kt=me.autoAllocateChunkSize;if(kt===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");wt(ae,$e,Ke,ct,gt,_e,kt)}function We(ae,me,_e){ae._associatedReadableByteStreamController=me,ae._view=_e}function nt(ae){return new TypeError("ReadableStreamBYOBRequest.prototype."+ae+" can only be used on a ReadableStreamBYOBRequest")}function et(ae){return new TypeError("ReadableByteStreamController.prototype."+ae+" can only be used on a ReadableByteStreamController")}function ht(ae){return new $t(ae)}function _t(ae,me){ae._reader._readIntoRequests.push(me)}function Gt(ae,me,_e){var $e=ae._reader,Ke=$e._readIntoRequests.shift();_e?Ke._closeSteps(me):Ke._chunkSteps(me)}function It(ae){return ae._reader._readIntoRequests.length}function Ft(ae){var me=ae._reader;return!(me===void 0||!qt(me))}var $t=function(){function ae(me){if($(me,1,"ReadableStreamBYOBReader"),ee(me,"First parameter"),Fr(me))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!He(me._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");M(this,me),this._readIntoRequests=new w}return Object.defineProperty(ae.prototype,"closed",{get:function(){return qt(this)?this._closedPromise:A(wr("closed"))},enumerable:!1,configurable:!0}),ae.prototype.cancel=function(me){return me===void 0&&(me=void 0),qt(this)?this._ownerReadableStream===void 0?A(G("cancel")):q(this,me):A(wr("cancel"))},ae.prototype.read=function(me){if(!qt(this))return A(wr("read"));if(!ArrayBuffer.isView(me))return A(new TypeError("view must be an array buffer view"));if(me.byteLength===0)return A(new TypeError("view must have non-zero byteLength"));if(me.buffer.byteLength===0)return A(new TypeError("view's buffer must have non-zero byteLength"));if(Ie(me.buffer),this._ownerReadableStream===void 0)return A(G("read from"));var _e,$e,Ke=e(function(gt,kt){_e=gt,$e=kt}),ct={_chunkSteps:function(gt){return _e({value:gt,done:!1})},_closeSteps:function(gt){return _e({value:gt,done:!0})},_errorSteps:function(gt){return $e(gt)}};return sr(this,me,ct),Ke},ae.prototype.releaseLock=function(){if(!qt(this))throw wr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");F(this)}},ae}();Object.defineProperties($t.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof a.toStringTag=="symbol"&&Object.defineProperty($t.prototype,a.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function qt(ae){return!s(ae)||!Object.prototype.hasOwnProperty.call(ae,"_readIntoRequests")?!1:ae instanceof $t}function sr(ae,me,_e){var $e=ae._ownerReadableStream;$e._disturbed=!0,$e._state==="errored"?_e._errorSteps($e._storedError):pt($e._readableStreamController,me,_e)}function wr(ae){return new TypeError("ReadableStreamBYOBReader.prototype."+ae+" can only be used on a ReadableStreamBYOBReader")}function hr(ae,me){var _e=ae.highWaterMark;if(_e===void 0)return me;if(Fe(_e)||_e<0)throw new RangeError("Invalid highWaterMark");return _e}function Cr(ae){var me=ae.size;return me||function(){return 1}}function Ar(ae,me){Q(ae,me);var _e=ae==null?void 0:ae.highWaterMark,$e=ae==null?void 0:ae.size;return{highWaterMark:_e===void 0?void 0:ne(_e),size:$e===void 0?void 0:jr($e,me+" has member 'size' that")}}function jr(ae,me){return V(ae,me),function(_e){return ne(ae(_e))}}function Jr(ae,me){Q(ae,me);var _e=ae==null?void 0:ae.abort,$e=ae==null?void 0:ae.close,Ke=ae==null?void 0:ae.start,ct=ae==null?void 0:ae.type,gt=ae==null?void 0:ae.write;return{abort:_e===void 0?void 0:Qr(_e,ae,me+" has member 'abort' that"),close:$e===void 0?void 0:Zr($e,ae,me+" has member 'close' that"),start:Ke===void 0?void 0:en(Ke,ae,me+" has member 'start' that"),write:gt===void 0?void 0:tn(gt,ae,me+" has member 'write' that"),type:ct}}function Qr(ae,me,_e){return V(ae,_e),function($e){return y(ae,me,[$e])}}function Zr(ae,me,_e){return V(ae,_e),function(){return y(ae,me,[])}}function en(ae,me,_e){return V(ae,_e),function($e){return _(ae,me,[$e])}}function tn(ae,me,_e){return V(ae,_e),function($e,Ke){return y(ae,me,[$e,Ke])}}function Gr(ae,me){if(!cr(ae))throw new TypeError(me+" is not a WritableStream.")}function Vr(ae){if(typeof ae!="object"||ae===null)return!1;try{return typeof ae.aborted=="boolean"}catch{return!1}}var Mr=typeof AbortController=="function";function rn(){if(Mr)return new AbortController}var br=function(){function ae(me,_e){me===void 0&&(me={}),_e===void 0&&(_e={}),me===void 0?me=null:te(me,"First parameter");var $e=Ar(_e,"Second parameter"),Ke=Jr(me,"First parameter");Dr(this);var ct=Ke.type;if(ct!==void 0)throw new RangeError("Invalid type is specified");var gt=Cr($e),kt=hr($e,1);fr(this,Ke,kt,gt)}return Object.defineProperty(ae.prototype,"locked",{get:function(){if(!cr(this))throw dn("locked");return dr(this)},enumerable:!1,configurable:!0}),ae.prototype.abort=function(me){return me===void 0&&(me=void 0),cr(this)?dr(this)?A(new TypeError("Cannot abort a stream that already has a writer")):Er(this,me):A(dn("abort"))},ae.prototype.close=function(){return cr(this)?dr(this)?A(new TypeError("Cannot close a stream that already has a writer")):N(this)?A(new TypeError("Cannot close an already-closing stream")):Wr(this):A(dn("close"))},ae.prototype.getWriter=function(){if(!cr(this))throw dn("getWriter");return zr(this)},ae}();Object.defineProperties(br.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof a.toStringTag=="symbol"&&Object.defineProperty(br.prototype,a.toStringTag,{value:"WritableStream",configurable:!0});function zr(ae){return new yt(ae)}function Nr(ae,me,_e,$e,Ke,ct){Ke===void 0&&(Ke=1),ct===void 0&&(ct=function(){return 1});var gt=Object.create(br.prototype);Dr(gt);var kt=Object.create(Lt.prototype);return Dt(gt,kt,ae,me,_e,$e,Ke,ct),gt}function Dr(ae){ae._state="writable",ae._storedError=void 0,ae._writer=void 0,ae._writableStreamController=void 0,ae._writeRequests=new w,ae._inFlightWriteRequest=void 0,ae._closeRequest=void 0,ae._inFlightCloseRequest=void 0,ae._pendingAbortRequest=void 0,ae._backpressure=!1}function cr(ae){return!s(ae)||!Object.prototype.hasOwnProperty.call(ae,"_writableStreamController")?!1:ae instanceof br}function dr(ae){return ae._writer!==void 0}function Er(ae,me){var _e;if(ae._state==="closed"||ae._state==="errored")return E(void 0);ae._writableStreamController._abortReason=me,(_e=ae._writableStreamController._abortController)===null||_e===void 0||_e.abort();var $e=ae._state;if($e==="closed"||$e==="errored")return E(void 0);if(ae._pendingAbortRequest!==void 0)return ae._pendingAbortRequest._promise;var Ke=!1;$e==="erroring"&&(Ke=!0,me=void 0);var ct=e(function(gt,kt){ae._pendingAbortRequest={_promise:void 0,_resolve:gt,_reject:kt,_reason:me,_wasAlreadyErroring:Ke}});return ae._pendingAbortRequest._promise=ct,Ke||yr(ae,me),ct}function Wr(ae){var me=ae._state;if(me==="closed"||me==="errored")return A(new TypeError("The stream (in "+me+" state) is not in the writable state and cannot be closed"));var _e=e(function(Ke,ct){var gt={_resolve:Ke,_reject:ct};ae._closeRequest=gt}),$e=ae._writer;return $e!==void 0&&ae._backpressure&&me==="writable"&&On($e),nr(ae._writableStreamController),_e}function nn(ae){var me=e(function(_e,$e){var Ke={_resolve:_e,_reject:$e};ae._writeRequests.push(Ke)});return me}function Lr(ae,me){var _e=ae._state;if(_e==="writable"){yr(ae,me);return}Br(ae)}function yr(ae,me){var _e=ae._writableStreamController;ae._state="erroring",ae._storedError=me;var $e=ae._writer;$e!==void 0&&Yt($e,me),!de(ae)&&_e._started&&Br(ae)}function Br(ae){ae._state="errored",ae._writableStreamController[z]();var me=ae._storedError;if(ae._writeRequests.forEach(function(Ke){Ke._reject(me)}),ae._writeRequests=new w,ae._pendingAbortRequest===void 0){st(ae);return}var _e=ae._pendingAbortRequest;if(ae._pendingAbortRequest=void 0,_e._wasAlreadyErroring){_e._reject(me),st(ae);return}var $e=ae._writableStreamController[U](_e._reason);O($e,function(){_e._resolve(),st(ae)},function(Ke){_e._reject(Ke),st(ae)})}function Tr(ae){ae._inFlightWriteRequest._resolve(void 0),ae._inFlightWriteRequest=void 0}function an(ae,me){ae._inFlightWriteRequest._reject(me),ae._inFlightWriteRequest=void 0,Lr(ae,me)}function _r(ae){ae._inFlightCloseRequest._resolve(void 0),ae._inFlightCloseRequest=void 0;var me=ae._state;me==="erroring"&&(ae._storedError=void 0,ae._pendingAbortRequest!==void 0&&(ae._pendingAbortRequest._resolve(),ae._pendingAbortRequest=void 0)),ae._state="closed";var _e=ae._writer;_e!==void 0&&$n(_e)}function Xe(ae,me){ae._inFlightCloseRequest._reject(me),ae._inFlightCloseRequest=void 0,ae._pendingAbortRequest!==void 0&&(ae._pendingAbortRequest._reject(me),ae._pendingAbortRequest=void 0),Lr(ae,me)}function N(ae){return!(ae._closeRequest===void 0&&ae._inFlightCloseRequest===void 0)}function de(ae){return!(ae._inFlightWriteRequest===void 0&&ae._inFlightCloseRequest===void 0)}function Ve(ae){ae._inFlightCloseRequest=ae._closeRequest,ae._closeRequest=void 0}function Je(ae){ae._inFlightWriteRequest=ae._writeRequests.shift()}function st(ae){ae._closeRequest!==void 0&&(ae._closeRequest._reject(ae._storedError),ae._closeRequest=void 0);var me=ae._writer;me!==void 0&&Fn(me,ae._storedError)}function Ct(ae,me){var _e=ae._writer;_e!==void 0&&me!==ae._backpressure&&(me?pi(_e):On(_e)),ae._backpressure=me}var yt=function(){function ae(me){if($(me,1,"WritableStreamDefaultWriter"),Gr(me,"First parameter"),dr(me))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=me,me._writer=this;var _e=me._state;if(_e==="writable")!N(me)&&me._backpressure?pn(this):Hn(this),fn(this);else if(_e==="erroring")Rn(this,me._storedError),fn(this);else if(_e==="closed")Hn(this),di(this);else{var $e=me._storedError;Rn(this,$e),Un(this,$e)}}return Object.defineProperty(ae.prototype,"closed",{get:function(){return At(this)?this._closedPromise:A($r("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(ae.prototype,"desiredSize",{get:function(){if(!At(this))throw $r("desiredSize");if(this._ownerWritableStream===void 0)throw sn("desiredSize");return Jt(this)},enumerable:!1,configurable:!0}),Object.defineProperty(ae.prototype,"ready",{get:function(){return At(this)?this._readyPromise:A($r("ready"))},enumerable:!1,configurable:!0}),ae.prototype.abort=function(me){return me===void 0&&(me=void 0),At(this)?this._ownerWritableStream===void 0?A(sn("abort")):Rt(this,me):A($r("abort"))},ae.prototype.close=function(){if(!At(this))return A($r("close"));var me=this._ownerWritableStream;return me===void 0?A(sn("close")):N(me)?A(new TypeError("Cannot close an already-closing stream")):Bt(this)},ae.prototype.releaseLock=function(){if(!At(this))throw $r("releaseLock");var me=this._ownerWritableStream;me!==void 0&&Ot(this)},ae.prototype.write=function(me){return me===void 0&&(me=void 0),At(this)?this._ownerWritableStream===void 0?A(sn("write to")):Qt(this,me):A($r("write"))},ae}();Object.defineProperties(yt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof a.toStringTag=="symbol"&&Object.defineProperty(yt.prototype,a.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function At(ae){return!s(ae)||!Object.prototype.hasOwnProperty.call(ae,"_ownerWritableStream")?!1:ae instanceof yt}function Rt(ae,me){var _e=ae._ownerWritableStream;return Er(_e,me)}function Bt(ae){var me=ae._ownerWritableStream;return Wr(me)}function Wt(ae){var me=ae._ownerWritableStream,_e=me._state;return N(me)||_e==="closed"?E(void 0):_e==="errored"?A(me._storedError):Bt(ae)}function zt(ae,me){ae._closedPromiseState==="pending"?Fn(ae,me):fi(ae,me)}function Yt(ae,me){ae._readyPromiseState==="pending"?jn(ae,me):gi(ae,me)}function Jt(ae){var me=ae._ownerWritableStream,_e=me._state;return _e==="errored"||_e==="erroring"?null:_e==="closed"?0:xr(me._writableStreamController)}function Ot(ae){var me=ae._ownerWritableStream,_e=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Yt(ae,_e),zt(ae,_e),me._writer=void 0,ae._ownerWritableStream=void 0}function Qt(ae,me){var _e=ae._ownerWritableStream,$e=_e._writableStreamController,Ke=Ur($e,me);if(_e!==ae._ownerWritableStream)return A(sn("write to"));var ct=_e._state;if(ct==="errored")return A(_e._storedError);if(N(_e)||ct==="closed")return A(new TypeError("The stream is closing or closed and cannot be written to"));if(ct==="erroring")return A(_e._storedError);var gt=nn(_e);return _n($e,me,Ke),gt}var Mt={},Lt=function(){function ae(){throw new TypeError("Illegal constructor")}return Object.defineProperty(ae.prototype,"abortReason",{get:function(){if(!rr(this))throw Pn("abortReason");return this._abortReason},enumerable:!1,configurable:!0}),Object.defineProperty(ae.prototype,"signal",{get:function(){if(!rr(this))throw Pn("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal},enumerable:!1,configurable:!0}),ae.prototype.error=function(me){if(me===void 0&&(me=void 0),!rr(this))throw Pn("error");var _e=this._controlledWritableStream._state;_e==="writable"&&Bn(this,me)},ae.prototype[U]=function(me){var _e=this._abortAlgorithm(me);return ar(this),_e},ae.prototype[z]=function(){Ce(this)},ae}();Object.defineProperties(Lt.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof a.toStringTag=="symbol"&&Object.defineProperty(Lt.prototype,a.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function rr(ae){return!s(ae)||!Object.prototype.hasOwnProperty.call(ae,"_controlledWritableStream")?!1:ae instanceof Lt}function Dt(ae,me,_e,$e,Ke,ct,gt,kt){me._controlledWritableStream=ae,ae._writableStreamController=me,me._queue=void 0,me._queueTotalSize=void 0,Ce(me),me._abortReason=void 0,me._abortController=rn(),me._started=!1,me._strategySizeAlgorithm=kt,me._strategyHWM=gt,me._writeAlgorithm=$e,me._closeAlgorithm=Ke,me._abortAlgorithm=ct;var Ut=In(me);Ct(ae,Ut);var jt=_e(),Vt=E(jt);O(Vt,function(){me._started=!0,vr(me)},function(Xt){me._started=!0,Lr(ae,Xt)})}function fr(ae,me,_e,$e){var Ke=Object.create(Lt.prototype),ct=function(){},gt=function(){return E(void 0)},kt=function(){return E(void 0)},Ut=function(){return E(void 0)};me.start!==void 0&&(ct=function(){return me.start(Ke)}),me.write!==void 0&&(gt=function(jt){return me.write(jt,Ke)}),me.close!==void 0&&(kt=function(){return me.close()}),me.abort!==void 0&&(Ut=function(jt){return me.abort(jt)}),Dt(ae,Ke,ct,gt,kt,Ut,_e,$e)}function ar(ae){ae._writeAlgorithm=void 0,ae._closeAlgorithm=void 0,ae._abortAlgorithm=void 0,ae._strategySizeAlgorithm=void 0}function nr(ae){Ae(ae,Mt,0),vr(ae)}function Ur(ae,me){try{return ae._strategySizeAlgorithm(me)}catch(_e){return kn(ae,_e),1}}function xr(ae){return ae._strategyHWM-ae._queueTotalSize}function _n(ae,me,_e){try{Ae(ae,me,_e)}catch(ct){kn(ae,ct);return}var $e=ae._controlledWritableStream;if(!N($e)&&$e._state==="writable"){var Ke=In(ae);Ct($e,Ke)}vr(ae)}function vr(ae){var me=ae._controlledWritableStream;if(!!ae._started&&me._inFlightWriteRequest===void 0){var _e=me._state;if(_e==="erroring"){Br(me);return}if(ae._queue.length!==0){var $e=we(ae);$e===Mt?ui(ae):hi(ae,$e)}}}function kn(ae,me){ae._controlledWritableStream._state==="writable"&&Bn(ae,me)}function ui(ae){var me=ae._controlledWritableStream;Ve(me),Be(ae);var _e=ae._closeAlgorithm();ar(ae),O(_e,function(){_r(me)},function($e){Xe(me,$e)})}function hi(ae,me){var _e=ae._controlledWritableStream;Je(_e);var $e=ae._writeAlgorithm(me);O($e,function(){Tr(_e);var Ke=_e._state;if(Be(ae),!N(_e)&&Ke==="writable"){var ct=In(ae);Ct(_e,ct)}vr(ae)},function(Ke){_e._state==="writable"&&ar(ae),an(_e,Ke)})}function In(ae){var me=xr(ae);return me<=0}function Bn(ae,me){var _e=ae._controlledWritableStream;ar(ae),yr(_e,me)}function dn(ae){return new TypeError("WritableStream.prototype."+ae+" can only be used on a WritableStream")}function Pn(ae){return new TypeError("WritableStreamDefaultController.prototype."+ae+" can only be used on a WritableStreamDefaultController")}function $r(ae){return new TypeError("WritableStreamDefaultWriter.prototype."+ae+" can only be used on a WritableStreamDefaultWriter")}function sn(ae){return new TypeError("Cannot "+ae+" a stream using a released writer")}function fn(ae){ae._closedPromise=e(function(me,_e){ae._closedPromise_resolve=me,ae._closedPromise_reject=_e,ae._closedPromiseState="pending"})}function Un(ae,me){fn(ae),Fn(ae,me)}function di(ae){fn(ae),$n(ae)}function Fn(ae,me){ae._closedPromise_reject!==void 0&&(T(ae._closedPromise),ae._closedPromise_reject(me),ae._closedPromise_resolve=void 0,ae._closedPromise_reject=void 0,ae._closedPromiseState="rejected")}function fi(ae,me){Un(ae,me)}function $n(ae){ae._closedPromise_resolve!==void 0&&(ae._closedPromise_resolve(void 0),ae._closedPromise_resolve=void 0,ae._closedPromise_reject=void 0,ae._closedPromiseState="resolved")}function pn(ae){ae._readyPromise=e(function(me,_e){ae._readyPromise_resolve=me,ae._readyPromise_reject=_e}),ae._readyPromiseState="pending"}function Rn(ae,me){pn(ae),jn(ae,me)}function Hn(ae){pn(ae),On(ae)}function jn(ae,me){ae._readyPromise_reject!==void 0&&(T(ae._readyPromise),ae._readyPromise_reject(me),ae._readyPromise_resolve=void 0,ae._readyPromise_reject=void 0,ae._readyPromiseState="rejected")}function pi(ae){pn(ae)}function gi(ae,me){Rn(ae,me)}function On(ae){ae._readyPromise_resolve!==void 0&&(ae._readyPromise_resolve(void 0),ae._readyPromise_resolve=void 0,ae._readyPromise_reject=void 0,ae._readyPromiseState="fulfilled")}var Gn=typeof DOMException<"u"?DOMException:void 0;function mi(ae){if(!(typeof ae=="function"||typeof ae=="object"))return!1;try{return new ae,!0}catch{return!1}}function bi(){var ae=function(_e,$e){this.message=_e||"",this.name=$e||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return ae.prototype=Object.create(Error.prototype),Object.defineProperty(ae.prototype,"constructor",{value:ae,writable:!0,configurable:!0}),ae}var yi=mi(Gn)?Gn:bi();function Vn(ae,me,_e,$e,Ke,ct){var gt=ie(ae),kt=zr(me);ae._disturbed=!0;var Ut=!1,jt=E(void 0);return e(function(Vt,Xt){var tr;if(ct!==void 0){if(tr=function(){var Nt=new yi("Aborted","AbortError"),Kt=[];$e||Kt.push(function(){return me._state==="writable"?Er(me,Nt):E(void 0)}),Ke||Kt.push(function(){return ae._state==="readable"?lr(ae,Nt):E(void 0)}),or(function(){return Promise.all(Kt.map(function(er){return er()}))},!0,Nt)},ct.aborted){tr();return}ct.addEventListener("abort",tr)}function ur(){return e(function(Nt,Kt){function er(mr){mr?Nt():B(Kr(),er,Kt)}er(!1)})}function Kr(){return Ut?E(!0):B(kt._readyPromise,function(){return e(function(Nt,Kt){he(gt,{_chunkSteps:function(er){jt=B(Qt(kt,er),void 0,l),Nt(!1)},_closeSteps:function(){return Nt(!0)},_errorSteps:Kt})})})}if(ir(ae,gt._closedPromise,function(Nt){$e?Sr(!0,Nt):or(function(){return Er(me,Nt)},!0,Nt)}),ir(me,kt._closedPromise,function(Nt){Ke?Sr(!0,Nt):or(function(){return lr(ae,Nt)},!0,Nt)}),gr(ae,gt._closedPromise,function(){_e?Sr():or(function(){return Wt(kt)})}),N(me)||me._state==="closed"){var Rr=new TypeError("the destination writable stream closed before all data could be piped to it");Ke?Sr(!0,Rr):or(function(){return lr(ae,Rr)},!0,Rr)}T(ur());function pr(){var Nt=jt;return B(jt,function(){return Nt!==jt?pr():void 0})}function ir(Nt,Kt,er){Nt._state==="errored"?er(Nt._storedError):b(Kt,er)}function gr(Nt,Kt,er){Nt._state==="closed"?er():v(Kt,er)}function or(Nt,Kt,er){if(Ut)return;Ut=!0,me._state==="writable"&&!N(me)?v(pr(),mr):mr();function mr(){O(Nt(),function(){return Zt(Kt,er)},function(Or){return Zt(!0,Or)})}}function Sr(Nt,Kt){Ut||(Ut=!0,me._state==="writable"&&!N(me)?v(pr(),function(){return Zt(Nt,Kt)}):Zt(Nt,Kt))}function Zt(Nt,Kt){Ot(kt),F(gt),ct!==void 0&&ct.removeEventListener("abort",tr),Nt?Xt(Kt):Vt(void 0)}})}var Xr=function(){function ae(){throw new TypeError("Illegal constructor")}return Object.defineProperty(ae.prototype,"desiredSize",{get:function(){if(!gn(this))throw yn("desiredSize");return Mn(this)},enumerable:!1,configurable:!0}),ae.prototype.close=function(){if(!gn(this))throw yn("close");if(!qr(this))throw new TypeError("The stream is not in a state that permits close");cn(this)},ae.prototype.enqueue=function(me){if(me===void 0&&(me=void 0),!gn(this))throw yn("enqueue");if(!qr(this))throw new TypeError("The stream is not in a state that permits enqueue");return bn(this,me)},ae.prototype.error=function(me){if(me===void 0&&(me=void 0),!gn(this))throw yn("error");kr(this,me)},ae.prototype[re]=function(me){Ce(this);var _e=this._cancelAlgorithm(me);return mn(this),_e},ae.prototype[J]=function(me){var _e=this._controlledReadableStream;if(this._queue.length>0){var $e=Be(this);this._closeRequested&&this._queue.length===0?(mn(this),ln(_e)):on(this),me._chunkSteps($e)}else oe(_e,me),on(this)},ae}();Object.defineProperties(Xr.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof a.toStringTag=="symbol"&&Object.defineProperty(Xr.prototype,a.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function gn(ae){return!s(ae)||!Object.prototype.hasOwnProperty.call(ae,"_controlledReadableStream")?!1:ae instanceof Xr}function on(ae){var me=zn(ae);if(!!me){if(ae._pulling){ae._pullAgain=!0;return}ae._pulling=!0;var _e=ae._pullAlgorithm();O(_e,function(){ae._pulling=!1,ae._pullAgain&&(ae._pullAgain=!1,on(ae))},function($e){kr(ae,$e)})}}function zn(ae){var me=ae._controlledReadableStream;if(!qr(ae)||!ae._started)return!1;if(Fr(me)&&pe(me)>0)return!0;var _e=Mn(ae);return _e>0}function mn(ae){ae._pullAlgorithm=void 0,ae._cancelAlgorithm=void 0,ae._strategySizeAlgorithm=void 0}function cn(ae){if(!!qr(ae)){var me=ae._controlledReadableStream;ae._closeRequested=!0,ae._queue.length===0&&(mn(ae),ln(me))}}function bn(ae,me){if(!!qr(ae)){var _e=ae._controlledReadableStream;if(Fr(_e)&&pe(_e)>0)le(_e,me,!1);else{var $e=void 0;try{$e=ae._strategySizeAlgorithm(me)}catch(Ke){throw kr(ae,Ke),Ke}try{Ae(ae,me,$e)}catch(Ke){throw kr(ae,Ke),Ke}}on(ae)}}function kr(ae,me){var _e=ae._controlledReadableStream;_e._state==="readable"&&(Ce(ae),mn(ae),Kn(_e,me))}function Mn(ae){var me=ae._controlledReadableStream._state;return me==="errored"?null:me==="closed"?0:ae._strategyHWM-ae._queueTotalSize}function xi(ae){return!zn(ae)}function qr(ae){var me=ae._controlledReadableStream._state;return!ae._closeRequested&&me==="readable"}function Wn(ae,me,_e,$e,Ke,ct,gt){me._controlledReadableStream=ae,me._queue=void 0,me._queueTotalSize=void 0,Ce(me),me._started=!1,me._closeRequested=!1,me._pullAgain=!1,me._pulling=!1,me._strategySizeAlgorithm=gt,me._strategyHWM=ct,me._pullAlgorithm=$e,me._cancelAlgorithm=Ke,ae._readableStreamController=me;var kt=_e();O(E(kt),function(){me._started=!0,on(me)},function(Ut){kr(me,Ut)})}function vi(ae,me,_e,$e){var Ke=Object.create(Xr.prototype),ct=function(){},gt=function(){return E(void 0)},kt=function(){return E(void 0)};me.start!==void 0&&(ct=function(){return me.start(Ke)}),me.pull!==void 0&&(gt=function(){return me.pull(Ke)}),me.cancel!==void 0&&(kt=function(Ut){return me.cancel(Ut)}),Wn(ae,Ke,ct,gt,kt,_e,$e)}function yn(ae){return new TypeError("ReadableStreamDefaultController.prototype."+ae+" can only be used on a ReadableStreamDefaultController")}function Si(ae,me){return He(ae._readableStreamController)?Ci(ae):wi(ae)}function wi(ae,me){var _e=ie(ae),$e=!1,Ke=!1,ct=!1,gt=!1,kt,Ut,jt,Vt,Xt,tr=e(function(ir){Xt=ir});function ur(){if($e)return Ke=!0,E(void 0);$e=!0;var ir={_chunkSteps:function(gr){D(function(){Ke=!1;var or=gr,Sr=gr;ct||bn(jt._readableStreamController,or),gt||bn(Vt._readableStreamController,Sr),$e=!1,Ke&&ur()})},_closeSteps:function(){$e=!1,ct||cn(jt._readableStreamController),gt||cn(Vt._readableStreamController),(!ct||!gt)&&Xt(void 0)},_errorSteps:function(){$e=!1}};return he(_e,ir),E(void 0)}function Kr(ir){if(ct=!0,kt=ir,gt){var gr=Re([kt,Ut]),or=lr(ae,gr);Xt(or)}return tr}function Rr(ir){if(gt=!0,Ut=ir,ct){var gr=Re([kt,Ut]),or=lr(ae,gr);Xt(or)}return tr}function pr(){}return jt=Nn(pr,ur,Kr),Vt=Nn(pr,ur,Rr),b(_e._closedPromise,function(ir){kr(jt._readableStreamController,ir),kr(Vt._readableStreamController,ir),(!ct||!gt)&&Xt(void 0)}),[jt,Vt]}function Ci(ae){var me=ie(ae),_e=!1,$e=!1,Ke=!1,ct=!1,gt=!1,kt,Ut,jt,Vt,Xt,tr=e(function(Zt){Xt=Zt});function ur(Zt){b(Zt._closedPromise,function(Nt){Zt===me&&(at(jt._readableStreamController,Nt),at(Vt._readableStreamController,Nt),(!ct||!gt)&&Xt(void 0))})}function Kr(){qt(me)&&(F(me),me=ie(ae),ur(me));var Zt={_chunkSteps:function(Nt){D(function(){$e=!1,Ke=!1;var Kt=Nt,er=Nt;if(!ct&&!gt)try{er=Le(Nt)}catch(mr){at(jt._readableStreamController,mr),at(Vt._readableStreamController,mr),Xt(lr(ae,mr));return}ct||xt(jt._readableStreamController,Kt),gt||xt(Vt._readableStreamController,er),_e=!1,$e?pr():Ke&&ir()})},_closeSteps:function(){_e=!1,ct||mt(jt._readableStreamController),gt||mt(Vt._readableStreamController),jt._readableStreamController._pendingPullIntos.length>0&&Pt(jt._readableStreamController,0),Vt._readableStreamController._pendingPullIntos.length>0&&Pt(Vt._readableStreamController,0),(!ct||!gt)&&Xt(void 0)},_errorSteps:function(){_e=!1}};he(me,Zt)}function Rr(Zt,Nt){ge(me)&&(F(me),me=ht(ae),ur(me));var Kt=Nt?Vt:jt,er=Nt?jt:Vt,mr={_chunkSteps:function(Or){D(function(){$e=!1,Ke=!1;var Yr=Nt?gt:ct,hn=Nt?ct:gt;if(hn)Yr||Tt(Kt._readableStreamController,Or);else{var ci=void 0;try{ci=Le(Or)}catch(Ln){at(Kt._readableStreamController,Ln),at(er._readableStreamController,Ln),Xt(lr(ae,Ln));return}Yr||Tt(Kt._readableStreamController,Or),xt(er._readableStreamController,ci)}_e=!1,$e?pr():Ke&&ir()})},_closeSteps:function(Or){_e=!1;var Yr=Nt?gt:ct,hn=Nt?ct:gt;Yr||mt(Kt._readableStreamController),hn||mt(er._readableStreamController),Or!==void 0&&(Yr||Tt(Kt._readableStreamController,Or),!hn&&er._readableStreamController._pendingPullIntos.length>0&&Pt(er._readableStreamController,0)),(!Yr||!hn)&&Xt(void 0)},_errorSteps:function(){_e=!1}};sr(me,Zt,mr)}function pr(){if(_e)return $e=!0,E(void 0);_e=!0;var Zt=vt(jt._readableStreamController);return Zt===null?Kr():Rr(Zt._view,!1),E(void 0)}function ir(){if(_e)return Ke=!0,E(void 0);_e=!0;var Zt=vt(Vt._readableStreamController);return Zt===null?Kr():Rr(Zt._view,!0),E(void 0)}function gr(Zt){if(ct=!0,kt=Zt,gt){var Nt=Re([kt,Ut]),Kt=lr(ae,Nt);Xt(Kt)}return tr}function or(Zt){if(gt=!0,Ut=Zt,ct){var Nt=Re([kt,Ut]),Kt=lr(ae,Nt);Xt(Kt)}return tr}function Sr(){}return jt=qn(Sr,pr,gr),Vt=qn(Sr,ir,or),ur(me),[jt,Vt]}function Ai(ae,me){Q(ae,me);var _e=ae,$e=_e==null?void 0:_e.autoAllocateChunkSize,Ke=_e==null?void 0:_e.cancel,ct=_e==null?void 0:_e.pull,gt=_e==null?void 0:_e.start,kt=_e==null?void 0:_e.type;return{autoAllocateChunkSize:$e===void 0?void 0:K($e,me+" has member 'autoAllocateChunkSize' that"),cancel:Ke===void 0?void 0:Ei(Ke,_e,me+" has member 'cancel' that"),pull:ct===void 0?void 0:Ti(ct,_e,me+" has member 'pull' that"),start:gt===void 0?void 0:_i(gt,_e,me+" has member 'start' that"),type:kt===void 0?void 0:ki(kt,me+" has member 'type' that")}}function Ei(ae,me,_e){return V(ae,_e),function($e){return y(ae,me,[$e])}}function Ti(ae,me,_e){return V(ae,_e),function($e){return y(ae,me,[$e])}}function _i(ae,me,_e){return V(ae,_e),function($e){return _(ae,me,[$e])}}function ki(ae,me){if(ae=""+ae,ae!=="bytes")throw new TypeError(me+" '"+ae+"' is not a valid enumeration value for ReadableStreamType");return ae}function Ii(ae,me){Q(ae,me);var _e=ae==null?void 0:ae.mode;return{mode:_e===void 0?void 0:Pi(_e,me+" has member 'mode' that")}}function Pi(ae,me){if(ae=""+ae,ae!=="byob")throw new TypeError(me+" '"+ae+"' is not a valid enumeration value for ReadableStreamReaderMode");return ae}function Fi(ae,me){Q(ae,me);var _e=ae==null?void 0:ae.preventCancel;return{preventCancel:Boolean(_e)}}function Xn(ae,me){Q(ae,me);var _e=ae==null?void 0:ae.preventAbort,$e=ae==null?void 0:ae.preventCancel,Ke=ae==null?void 0:ae.preventClose,ct=ae==null?void 0:ae.signal;return ct!==void 0&&Ri(ct,me+" has member 'signal' that"),{preventAbort:Boolean(_e),preventCancel:Boolean($e),preventClose:Boolean(Ke),signal:ct}}function Ri(ae,me){if(!Vr(ae))throw new TypeError(me+" is not an AbortSignal.")}function Oi(ae,me){Q(ae,me);var _e=ae==null?void 0:ae.readable;X(_e,"readable","ReadableWritablePair"),ee(_e,me+" has member 'readable' that");var $e=ae==null?void 0:ae.writable;return X($e,"writable","ReadableWritablePair"),Gr($e,me+" has member 'writable' that"),{readable:_e,writable:$e}}var Ir=function(){function ae(me,_e){me===void 0&&(me={}),_e===void 0&&(_e={}),me===void 0?me=null:te(me,"First parameter");var $e=Ar(_e,"Second parameter"),Ke=Ai(me,"First parameter");if(Dn(this),Ke.type==="bytes"){if($e.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");var ct=hr($e,0);Ue(this,Ke,ct)}else{var gt=Cr($e),ct=hr($e,1);vi(this,Ke,ct,gt)}}return Object.defineProperty(ae.prototype,"locked",{get:function(){if(!Pr(this))throw Hr("locked");return Fr(this)},enumerable:!1,configurable:!0}),ae.prototype.cancel=function(me){return me===void 0&&(me=void 0),Pr(this)?Fr(this)?A(new TypeError("Cannot cancel a stream that already has a reader")):lr(this,me):A(Hr("cancel"))},ae.prototype.getReader=function(me){if(me===void 0&&(me=void 0),!Pr(this))throw Hr("getReader");var _e=Ii(me,"First parameter");return _e.mode===void 0?ie(this):ht(this)},ae.prototype.pipeThrough=function(me,_e){if(_e===void 0&&(_e={}),!Pr(this))throw Hr("pipeThrough");$(me,1,"pipeThrough");var $e=Oi(me,"First parameter"),Ke=Xn(_e,"Second parameter");if(Fr(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(dr($e.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");var ct=Vn(this,$e.writable,Ke.preventClose,Ke.preventAbort,Ke.preventCancel,Ke.signal);return T(ct),$e.readable},ae.prototype.pipeTo=function(me,_e){if(_e===void 0&&(_e={}),!Pr(this))return A(Hr("pipeTo"));if(me===void 0)return A("Parameter 1 is required in 'pipeTo'.");if(!cr(me))return A(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var $e;try{$e=Xn(_e,"Second parameter")}catch(Ke){return A(Ke)}return Fr(this)?A(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):dr(me)?A(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Vn(this,me,$e.preventClose,$e.preventAbort,$e.preventCancel,$e.signal)},ae.prototype.tee=function(){if(!Pr(this))throw Hr("tee");var me=Si(this);return Re(me)},ae.prototype.values=function(me){if(me===void 0&&(me=void 0),!Pr(this))throw Hr("values");var _e=Fi(me,"First parameter");return be(this,_e.preventCancel)},ae}();Object.defineProperties(Ir.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof a.toStringTag=="symbol"&&Object.defineProperty(Ir.prototype,a.toStringTag,{value:"ReadableStream",configurable:!0}),typeof a.asyncIterator=="symbol"&&Object.defineProperty(Ir.prototype,a.asyncIterator,{value:Ir.prototype.values,writable:!0,configurable:!0});function Nn(ae,me,_e,$e,Ke){$e===void 0&&($e=1),Ke===void 0&&(Ke=function(){return 1});var ct=Object.create(Ir.prototype);Dn(ct);var gt=Object.create(Xr.prototype);return Wn(ct,gt,ae,me,_e,$e,Ke),ct}function qn(ae,me,_e){var $e=Object.create(Ir.prototype);Dn($e);var Ke=Object.create(Ge.prototype);return wt($e,Ke,ae,me,_e,0,void 0),$e}function Dn(ae){ae._state="readable",ae._reader=void 0,ae._storedError=void 0,ae._disturbed=!1}function Pr(ae){return!s(ae)||!Object.prototype.hasOwnProperty.call(ae,"_readableStreamController")?!1:ae instanceof Ir}function Fr(ae){return ae._reader!==void 0}function lr(ae,me){if(ae._disturbed=!0,ae._state==="closed")return E(void 0);if(ae._state==="errored")return A(ae._storedError);ln(ae);var _e=ae._reader;_e!==void 0&&qt(_e)&&(_e._readIntoRequests.forEach(function(Ke){Ke._closeSteps(void 0)}),_e._readIntoRequests=new w);var $e=ae._readableStreamController[re](me);return o($e,l)}function ln(ae){ae._state="closed";var me=ae._reader;me!==void 0&&(W(me),ge(me)&&(me._readRequests.forEach(function(_e){_e._closeSteps()}),me._readRequests=new w))}function Kn(ae,me){ae._state="errored",ae._storedError=me;var _e=ae._reader;_e!==void 0&&(x(_e,me),ge(_e)?(_e._readRequests.forEach(function($e){$e._errorSteps(me)}),_e._readRequests=new w):(_e._readIntoRequests.forEach(function($e){$e._errorSteps(me)}),_e._readIntoRequests=new w))}function Hr(ae){return new TypeError("ReadableStream.prototype."+ae+" can only be used on a ReadableStream")}function Yn(ae,me){Q(ae,me);var _e=ae==null?void 0:ae.highWaterMark;return X(_e,"highWaterMark","QueuingStrategyInit"),{highWaterMark:ne(_e)}}var Jn=function(ae){return ae.byteLength};try{Object.defineProperty(Jn,"name",{value:"size",configurable:!0})}catch{}var xn=function(){function ae(me){$(me,1,"ByteLengthQueuingStrategy"),me=Yn(me,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=me.highWaterMark}return Object.defineProperty(ae.prototype,"highWaterMark",{get:function(){if(!Zn(this))throw Qn("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(ae.prototype,"size",{get:function(){if(!Zn(this))throw Qn("size");return Jn},enumerable:!1,configurable:!0}),ae}();Object.defineProperties(xn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof a.toStringTag=="symbol"&&Object.defineProperty(xn.prototype,a.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Qn(ae){return new TypeError("ByteLengthQueuingStrategy.prototype."+ae+" can only be used on a ByteLengthQueuingStrategy")}function Zn(ae){return!s(ae)||!Object.prototype.hasOwnProperty.call(ae,"_byteLengthQueuingStrategyHighWaterMark")?!1:ae instanceof xn}var ei=function(){return 1};try{Object.defineProperty(ei,"name",{value:"size",configurable:!0})}catch{}var vn=function(){function ae(me){$(me,1,"CountQueuingStrategy"),me=Yn(me,"First parameter"),this._countQueuingStrategyHighWaterMark=me.highWaterMark}return Object.defineProperty(ae.prototype,"highWaterMark",{get:function(){if(!ri(this))throw ti("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(ae.prototype,"size",{get:function(){if(!ri(this))throw ti("size");return ei},enumerable:!1,configurable:!0}),ae}();Object.defineProperties(vn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof a.toStringTag=="symbol"&&Object.defineProperty(vn.prototype,a.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function ti(ae){return new TypeError("CountQueuingStrategy.prototype."+ae+" can only be used on a CountQueuingStrategy")}function ri(ae){return!s(ae)||!Object.prototype.hasOwnProperty.call(ae,"_countQueuingStrategyHighWaterMark")?!1:ae instanceof vn}function Mi(ae,me){Q(ae,me);var _e=ae==null?void 0:ae.flush,$e=ae==null?void 0:ae.readableType,Ke=ae==null?void 0:ae.start,ct=ae==null?void 0:ae.transform,gt=ae==null?void 0:ae.writableType;return{flush:_e===void 0?void 0:Ni(_e,ae,me+" has member 'flush' that"),readableType:$e,start:Ke===void 0?void 0:Di(Ke,ae,me+" has member 'start' that"),transform:ct===void 0?void 0:Li(ct,ae,me+" has member 'transform' that"),writableType:gt}}function Ni(ae,me,_e){return V(ae,_e),function($e){return y(ae,me,[$e])}}function Di(ae,me,_e){return V(ae,_e),function($e){return _(ae,me,[$e])}}function Li(ae,me,_e){return V(ae,_e),function($e,Ke){return y(ae,me,[$e,Ke])}}var Sn=function(){function ae(me,_e,$e){me===void 0&&(me={}),_e===void 0&&(_e={}),$e===void 0&&($e={}),me===void 0&&(me=null);var Ke=Ar(_e,"Second parameter"),ct=Ar($e,"Third parameter"),gt=Mi(me,"First parameter");if(gt.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(gt.writableType!==void 0)throw new RangeError("Invalid writableType specified");var kt=hr(ct,0),Ut=Cr(ct),jt=hr(Ke,1),Vt=Cr(Ke),Xt,tr=e(function(ur){Xt=ur});Bi(this,tr,jt,Vt,kt,Ut),$i(this,gt),gt.start!==void 0?Xt(gt.start(this._transformStreamController)):Xt(void 0)}return Object.defineProperty(ae.prototype,"readable",{get:function(){if(!ni(this))throw oi("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(ae.prototype,"writable",{get:function(){if(!ni(this))throw oi("writable");return this._writable},enumerable:!1,configurable:!0}),ae}();Object.defineProperties(Sn.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof a.toStringTag=="symbol"&&Object.defineProperty(Sn.prototype,a.toStringTag,{value:"TransformStream",configurable:!0});function Bi(ae,me,_e,$e,Ke,ct){function gt(){return me}function kt(tr){return Gi(ae,tr)}function Ut(tr){return Vi(ae,tr)}function jt(){return zi(ae)}ae._writable=Nr(gt,kt,jt,Ut,_e,$e);function Vt(){return Wi(ae)}function Xt(tr){return Cn(ae,tr),E(void 0)}ae._readable=Nn(gt,Vt,Xt,Ke,ct),ae._backpressure=void 0,ae._backpressureChangePromise=void 0,ae._backpressureChangePromise_resolve=void 0,An(ae,!0),ae._transformStreamController=void 0}function ni(ae){return!s(ae)||!Object.prototype.hasOwnProperty.call(ae,"_transformStreamController")?!1:ae instanceof Sn}function wn(ae,me){kr(ae._readable._readableStreamController,me),Cn(ae,me)}function Cn(ae,me){ii(ae._transformStreamController),kn(ae._writable._writableStreamController,me),ae._backpressure&&An(ae,!1)}function An(ae,me){ae._backpressureChangePromise!==void 0&&ae._backpressureChangePromise_resolve(),ae._backpressureChangePromise=e(function(_e){ae._backpressureChangePromise_resolve=_e}),ae._backpressure=me}var un=function(){function ae(){throw new TypeError("Illegal constructor")}return Object.defineProperty(ae.prototype,"desiredSize",{get:function(){if(!En(this))throw Tn("desiredSize");var me=this._controlledTransformStream._readable._readableStreamController;return Mn(me)},enumerable:!1,configurable:!0}),ae.prototype.enqueue=function(me){if(me===void 0&&(me=void 0),!En(this))throw Tn("enqueue");ai(this,me)},ae.prototype.error=function(me){if(me===void 0&&(me=void 0),!En(this))throw Tn("error");Hi(this,me)},ae.prototype.terminate=function(){if(!En(this))throw Tn("terminate");ji(this)},ae}();Object.defineProperties(un.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof a.toStringTag=="symbol"&&Object.defineProperty(un.prototype,a.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function En(ae){return!s(ae)||!Object.prototype.hasOwnProperty.call(ae,"_controlledTransformStream")?!1:ae instanceof un}function Ui(ae,me,_e,$e){me._controlledTransformStream=ae,ae._transformStreamController=me,me._transformAlgorithm=_e,me._flushAlgorithm=$e}function $i(ae,me){var _e=Object.create(un.prototype),$e=function(ct){try{return ai(_e,ct),E(void 0)}catch(gt){return A(gt)}},Ke=function(){return E(void 0)};me.transform!==void 0&&($e=function(ct){return me.transform(ct,_e)}),me.flush!==void 0&&(Ke=function(){return me.flush(_e)}),Ui(ae,_e,$e,Ke)}function ii(ae){ae._transformAlgorithm=void 0,ae._flushAlgorithm=void 0}function ai(ae,me){var _e=ae._controlledTransformStream,$e=_e._readable._readableStreamController;if(!qr($e))throw new TypeError("Readable side is not in a state that permits enqueue");try{bn($e,me)}catch(ct){throw Cn(_e,ct),_e._readable._storedError}var Ke=xi($e);Ke!==_e._backpressure&&An(_e,!0)}function Hi(ae,me){wn(ae._controlledTransformStream,me)}function si(ae,me){var _e=ae._transformAlgorithm(me);return o(_e,void 0,function($e){throw wn(ae._controlledTransformStream,$e),$e})}function ji(ae){var me=ae._controlledTransformStream,_e=me._readable._readableStreamController;cn(_e);var $e=new TypeError("TransformStream terminated");Cn(me,$e)}function Gi(ae,me){var _e=ae._transformStreamController;if(ae._backpressure){var $e=ae._backpressureChangePromise;return o($e,function(){var Ke=ae._writable,ct=Ke._state;if(ct==="erroring")throw Ke._storedError;return si(_e,me)})}return si(_e,me)}function Vi(ae,me){return wn(ae,me),E(void 0)}function zi(ae){var me=ae._readable,_e=ae._transformStreamController,$e=_e._flushAlgorithm();return ii(_e),o($e,function(){if(me._state==="errored")throw me._storedError;cn(me._readableStreamController)},function(Ke){throw wn(ae,Ke),me._storedError})}function Wi(ae){return An(ae,!1),ae._backpressureChangePromise}function Tn(ae){return new TypeError("TransformStreamDefaultController.prototype."+ae+" can only be used on a TransformStreamDefaultController")}function oi(ae){return new TypeError("TransformStream.prototype."+ae+" can only be used on a TransformStream")}r.ByteLengthQueuingStrategy=xn,r.CountQueuingStrategy=vn,r.ReadableByteStreamController=Ge,r.ReadableStream=Ir,r.ReadableStreamBYOBReader=$t,r.ReadableStreamBYOBRequest=De,r.ReadableStreamDefaultController=Xr,r.ReadableStreamDefaultReader=ue,r.TransformStream=Sn,r.TransformStreamDefaultController=un,r.WritableStream=br,r.WritableStreamDefaultController=Lt,r.WritableStreamDefaultWriter=yt,Object.defineProperty(r,"__esModule",{value:!0})})}(ponyfill,ponyfill.exports)),ponyfill.exports}const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$7=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,function(module,exports){(function(t,r){module.exports=r()})(globalThis,()=>(()=>{var __webpack_modules__=[,(i,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VerbosityLevel=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.UNSUPPORTED_FEATURES=t.TextRenderingMode=t.StreamType=t.RenderingIntentFlag=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.LINE_FACTOR=t.LINE_DESCENT_FACTOR=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FontType=t.FeatureTest=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMode=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationEditorType=t.AnnotationEditorPrefix=t.AnnotationEditorParamsType=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,t.arrayByteLength=K,t.arraysToBytes=ee,t.assert=re,t.bytesToString=ce,t.createPromiseCapability=Ne,t.createValidAbsoluteUrl=k,t.escapeString=ve,t.getModificationDate=Re,t.getVerbosityLevel=S,t.info=W,t.isArrayBuffer=Oe,t.isArrayEqual=Fe,t.isAscii=ke,t.objectFromMap=le,t.objectSize=oe,t.setVerbosityLevel=x,t.shadow=H,t.string32=ie,t.stringToBytes=se,t.stringToPDFString=ye,t.stringToUTF16BEString=Se,t.stringToUTF8String=be,t.unreachable=z,t.utf8StringToString=Ee,t.warn=U,r(2);const a=[1,0,0,1,0,0];t.IDENTITY_MATRIX=a;const l=[.001,0,0,.001,0,0];t.FONT_IDENTITY_MATRIX=l;const g=1.35;t.LINE_FACTOR=g;const d=.35;t.LINE_DESCENT_FACTOR=d;const s={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};t.RenderingIntentFlag=s;const u={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};t.AnnotationMode=u;const n="pdfjs_internal_editor_";t.AnnotationEditorPrefix=n;const c={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};t.AnnotationEditorType=c;const C={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};t.AnnotationEditorParamsType=C;const m={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};t.PermissionFlag=m;const e={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};t.TextRenderingMode=e;const E={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};t.ImageKind=E;const A={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};t.AnnotationType=A;const B={MARKED:"Marked",REVIEW:"Review"};t.AnnotationStateModelType=B;const O={MARKED:"Marked",UNMARKED:"Unmarked"};t.AnnotationMarkedState=O;const v={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};t.AnnotationReviewState=v;const b={GROUP:"Group",REPLY:"R"};t.AnnotationReplyType=b;const o={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};t.AnnotationFlag=o;const T={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};t.AnnotationFieldFlag=T;const D={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};t.AnnotationBorderStyleType=D;const _={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};t.AnnotationActionEventType=_;const y={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};t.DocumentActionEventType=y;const P={O:"PageOpen",C:"PageClose"};t.PageActionEventType=P;const w={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};t.StreamType=w;const M={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};t.FontType=M;const q={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=q;const F={NONE:0,BINARY:1,STREAM:2};t.CMapCompressionType=F;const G={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};t.OPS=G;const R={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};t.UNSUPPORTED_FEATURES=R;const I={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};t.PasswordResponses=I;let L=q.WARNINGS;function x(Pe){Number.isInteger(Pe)&&(L=Pe)}function S(){return L}function W(Pe){L>=q.INFOS&&console.log(`Info: ${Pe}`)}function U(Pe){L>=q.WARNINGS&&console.log(`Warning: ${Pe}`)}function z(Pe){throw new Error(Pe)}function re(Pe,Ie){Pe||z(Ie)}function J(Pe){if(!Pe)return!1;switch(Pe.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function k(Pe){let Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!Pe)return null;try{if(Me&&typeof Pe=="string"){if(Me.addDefaultProtocol&&Pe.startsWith("www.")){const Le=Pe.match(/\./g);Le&&Le.length>=2&&(Pe=`http://${Pe}`)}if(Me.tryConvertEncoding)try{Pe=be(Pe)}catch{}}const Te=Ie?new URL(Pe,Ie):new URL(Pe);if(J(Te))return Te}catch{}return null}function H(Pe,Ie,Me){return Object.defineProperty(Pe,Ie,{value:Me,enumerable:!0,configurable:!0,writable:!1}),Me}const Z=function(){function Ie(Me,Te){this.constructor===Ie&&z("Cannot initialize BaseException."),this.message=Me,this.name=Te}return Ie.prototype=new Error,Ie.constructor=Ie,Ie}();t.BaseException=Z;class Q extends Z{constructor(Ie,Me){super(Ie,"PasswordException"),this.code=Me}}t.PasswordException=Q;class V extends Z{constructor(Ie,Me){super(Ie,"UnknownErrorException"),this.details=Me}}t.UnknownErrorException=V;class Y extends Z{constructor(Ie){super(Ie,"InvalidPDFException")}}t.InvalidPDFException=Y;class te extends Z{constructor(Ie){super(Ie,"MissingPDFException")}}t.MissingPDFException=te;class $ extends Z{constructor(Ie,Me){super(Ie,"UnexpectedResponseException"),this.status=Me}}t.UnexpectedResponseException=$;class X extends Z{constructor(Ie){super(Ie,"FormatError")}}t.FormatError=X;class ne extends Z{constructor(Ie){super(Ie,"AbortException")}}t.AbortException=ne;function ce(Pe){(typeof Pe!="object"||Pe===null||Pe.length===void 0)&&z("Invalid argument for bytesToString");const Ie=Pe.length,Me=8192;if(Ie<Me)return String.fromCharCode.apply(null,Pe);const Te=[];for(let Le=0;Le<Ie;Le+=Me){const Be=Math.min(Le+Me,Ie),Ae=Pe.subarray(Le,Be);Te.push(String.fromCharCode.apply(null,Ae))}return Te.join("")}function se(Pe){typeof Pe!="string"&&z("Invalid argument for stringToBytes");const Ie=Pe.length,Me=new Uint8Array(Ie);for(let Te=0;Te<Ie;++Te)Me[Te]=Pe.charCodeAt(Te)&255;return Me}function K(Pe){if(Pe.length!==void 0)return Pe.length;if(Pe.byteLength!==void 0)return Pe.byteLength;z("Invalid argument for arrayByteLength")}function ee(Pe){const Ie=Pe.length;if(Ie===1&&Pe[0]instanceof Uint8Array)return Pe[0];let Me=0;for(let Be=0;Be<Ie;Be++)Me+=K(Pe[Be]);let Te=0;const Le=new Uint8Array(Me);for(let Be=0;Be<Ie;Be++){let Ae=Pe[Be];Ae instanceof Uint8Array||(typeof Ae=="string"?Ae=se(Ae):Ae=new Uint8Array(Ae));const we=Ae.byteLength;Le.set(Ae,Te),Te+=we}return Le}function ie(Pe){return String.fromCharCode(Pe>>24&255,Pe>>16&255,Pe>>8&255,Pe&255)}function oe(Pe){return Object.keys(Pe).length}function le(Pe){const Ie=Object.create(null);for(const[Me,Te]of Pe)Ie[Me]=Te;return Ie}function pe(){const Pe=new Uint8Array(4);return Pe[0]=1,new Uint32Array(Pe.buffer,0,1)[0]===1}function fe(){try{return new Function(""),!0}catch{return!1}}class ue{static get isLittleEndian(){return H(this,"isLittleEndian",pe())}static get isEvalSupported(){return H(this,"isEvalSupported",fe())}static get isOffscreenCanvasSupported(){return H(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}t.FeatureTest=ue;const ge=[...Array(256).keys()].map(Pe=>Pe.toString(16).padStart(2,"0"));class he{static makeHexColor(Ie,Me,Te){return`#${ge[Ie]}${ge[Me]}${ge[Te]}`}static scaleMinMax(Ie,Me){let Te;Ie[0]?(Ie[0]<0&&(Te=Me[0],Me[0]=Me[1],Me[1]=Te),Me[0]*=Ie[0],Me[1]*=Ie[0],Ie[3]<0&&(Te=Me[2],Me[2]=Me[3],Me[3]=Te),Me[2]*=Ie[3],Me[3]*=Ie[3]):(Te=Me[0],Me[0]=Me[2],Me[2]=Te,Te=Me[1],Me[1]=Me[3],Me[3]=Te,Ie[1]<0&&(Te=Me[2],Me[2]=Me[3],Me[3]=Te),Me[2]*=Ie[1],Me[3]*=Ie[1],Ie[2]<0&&(Te=Me[0],Me[0]=Me[1],Me[1]=Te),Me[0]*=Ie[2],Me[1]*=Ie[2]),Me[0]+=Ie[4],Me[1]+=Ie[4],Me[2]+=Ie[5],Me[3]+=Ie[5]}static transform(Ie,Me){return[Ie[0]*Me[0]+Ie[2]*Me[1],Ie[1]*Me[0]+Ie[3]*Me[1],Ie[0]*Me[2]+Ie[2]*Me[3],Ie[1]*Me[2]+Ie[3]*Me[3],Ie[0]*Me[4]+Ie[2]*Me[5]+Ie[4],Ie[1]*Me[4]+Ie[3]*Me[5]+Ie[5]]}static applyTransform(Ie,Me){const Te=Ie[0]*Me[0]+Ie[1]*Me[2]+Me[4],Le=Ie[0]*Me[1]+Ie[1]*Me[3]+Me[5];return[Te,Le]}static applyInverseTransform(Ie,Me){const Te=Me[0]*Me[3]-Me[1]*Me[2],Le=(Ie[0]*Me[3]-Ie[1]*Me[2]+Me[2]*Me[5]-Me[4]*Me[3])/Te,Be=(-Ie[0]*Me[1]+Ie[1]*Me[0]+Me[4]*Me[1]-Me[5]*Me[0])/Te;return[Le,Be]}static getAxialAlignedBoundingBox(Ie,Me){const Te=he.applyTransform(Ie,Me),Le=he.applyTransform(Ie.slice(2,4),Me),Be=he.applyTransform([Ie[0],Ie[3]],Me),Ae=he.applyTransform([Ie[2],Ie[1]],Me);return[Math.min(Te[0],Le[0],Be[0],Ae[0]),Math.min(Te[1],Le[1],Be[1],Ae[1]),Math.max(Te[0],Le[0],Be[0],Ae[0]),Math.max(Te[1],Le[1],Be[1],Ae[1])]}static inverseTransform(Ie){const Me=Ie[0]*Ie[3]-Ie[1]*Ie[2];return[Ie[3]/Me,-Ie[1]/Me,-Ie[2]/Me,Ie[0]/Me,(Ie[2]*Ie[5]-Ie[4]*Ie[3])/Me,(Ie[4]*Ie[1]-Ie[5]*Ie[0])/Me]}static apply3dTransform(Ie,Me){return[Ie[0]*Me[0]+Ie[1]*Me[1]+Ie[2]*Me[2],Ie[3]*Me[0]+Ie[4]*Me[1]+Ie[5]*Me[2],Ie[6]*Me[0]+Ie[7]*Me[1]+Ie[8]*Me[2]]}static singularValueDecompose2dScale(Ie){const Me=[Ie[0],Ie[2],Ie[1],Ie[3]],Te=Ie[0]*Me[0]+Ie[1]*Me[2],Le=Ie[0]*Me[1]+Ie[1]*Me[3],Be=Ie[2]*Me[0]+Ie[3]*Me[2],Ae=Ie[2]*Me[1]+Ie[3]*Me[3],we=(Te+Ae)/2,Ce=Math.sqrt((Te+Ae)**2-4*(Te*Ae-Be*Le))/2,De=we+Ce||1,Ge=we-Ce||1;return[Math.sqrt(De),Math.sqrt(Ge)]}static normalizeRect(Ie){const Me=Ie.slice(0);return Ie[0]>Ie[2]&&(Me[0]=Ie[2],Me[2]=Ie[0]),Ie[1]>Ie[3]&&(Me[1]=Ie[3],Me[3]=Ie[1]),Me}static intersect(Ie,Me){const Te=Math.max(Math.min(Ie[0],Ie[2]),Math.min(Me[0],Me[2])),Le=Math.min(Math.max(Ie[0],Ie[2]),Math.max(Me[0],Me[2]));if(Te>Le)return null;const Be=Math.max(Math.min(Ie[1],Ie[3]),Math.min(Me[1],Me[3])),Ae=Math.min(Math.max(Ie[1],Ie[3]),Math.max(Me[1],Me[3]));return Be>Ae?null:[Te,Be,Le,Ae]}static bezierBoundingBox(Ie,Me,Te,Le,Be,Ae,we,Ce){const De=[],Ge=[[],[]];let He,Ze,Ye,je,it,dt,ze,lt;for(let Et=0;Et<2;++Et){if(Et===0?(Ze=6*Ie-12*Te+6*Be,He=-3*Ie+9*Te-9*Be+3*we,Ye=3*Te-3*Ie):(Ze=6*Me-12*Le+6*Ae,He=-3*Me+9*Le-9*Ae+3*Ce,Ye=3*Le-3*Me),Math.abs(He)<1e-12){if(Math.abs(Ze)<1e-12)continue;je=-Ye/Ze,0<je&&je<1&&De.push(je);continue}ze=Ze*Ze-4*Ye*He,lt=Math.sqrt(ze),!(ze<0)&&(it=(-Ze+lt)/(2*He),0<it&&it<1&&De.push(it),dt=(-Ze-lt)/(2*He),0<dt&&dt<1&&De.push(dt))}let ot=De.length,ft;const St=ot;for(;ot--;)je=De[ot],ft=1-je,Ge[0][ot]=ft*ft*ft*Ie+3*ft*ft*je*Te+3*ft*je*je*Be+je*je*je*we,Ge[1][ot]=ft*ft*ft*Me+3*ft*ft*je*Le+3*ft*je*je*Ae+je*je*je*Ce;return Ge[0][St]=Ie,Ge[1][St]=Me,Ge[0][St+1]=we,Ge[1][St+1]=Ce,Ge[0].length=Ge[1].length=St+2,[Math.min(...Ge[0]),Math.min(...Ge[1]),Math.max(...Ge[0]),Math.max(...Ge[1])]}}t.Util=he;const xe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ye(Pe){if(Pe[0]>="\xEF"){let Me;if(Pe[0]==="\xFE"&&Pe[1]==="\xFF"?Me="utf-16be":Pe[0]==="\xFF"&&Pe[1]==="\xFE"?Me="utf-16le":Pe[0]==="\xEF"&&Pe[1]==="\xBB"&&Pe[2]==="\xBF"&&(Me="utf-8"),Me)try{const Te=new TextDecoder(Me,{fatal:!0}),Le=se(Pe);return Te.decode(Le)}catch(Te){U(`stringToPDFString: "${Te}".`)}}const Ie=[];for(let Me=0,Te=Pe.length;Me<Te;Me++){const Le=xe[Pe.charCodeAt(Me)];Ie.push(Le?String.fromCharCode(Le):Pe.charAt(Me))}return Ie.join("")}function ve(Pe){return Pe.replace(/([()\\\n\r])/g,Ie=>Ie===`
`?"\\n":Ie==="\r"?"\\r":`\\${Ie}`)}function ke(Pe){return/^[\x00-\x7F]*$/.test(Pe)}function Se(Pe){const Ie=["\xFE\xFF"];for(let Me=0,Te=Pe.length;Me<Te;Me++){const Le=Pe.charCodeAt(Me);Ie.push(String.fromCharCode(Le>>8&255),String.fromCharCode(Le&255))}return Ie.join("")}function be(Pe){return decodeURIComponent(escape(Pe))}function Ee(Pe){return unescape(encodeURIComponent(Pe))}function Oe(Pe){return typeof Pe=="object"&&Pe!==null&&Pe.byteLength!==void 0}function Fe(Pe,Ie){if(Pe.length!==Ie.length)return!1;for(let Me=0,Te=Pe.length;Me<Te;Me++)if(Pe[Me]!==Ie[Me])return!1;return!0}function Re(){let Pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date;return[Pe.getUTCFullYear().toString(),(Pe.getUTCMonth()+1).toString().padStart(2,"0"),Pe.getUTCDate().toString().padStart(2,"0"),Pe.getUTCHours().toString().padStart(2,"0"),Pe.getUTCMinutes().toString().padStart(2,"0"),Pe.getUTCSeconds().toString().padStart(2,"0")].join("")}function Ne(){const Pe=Object.create(null);let Ie=!1;return Object.defineProperty(Pe,"settled",{get(){return Ie}}),Pe.promise=new Promise(function(Me,Te){Pe.resolve=function(Le){Ie=!0,Me(Le)},Pe.reject=function(Le){Ie=!0,Te(Le)}}),Pe}},(i,t,r)=>{var a=r(3);globalThis._pdfjsCompatibilityChecked||(globalThis._pdfjsCompatibilityChecked=!0,function(){globalThis.btoa||!a.isNodeJS||(globalThis.btoa=function(g){return Buffer.from(g,"binary").toString("base64")})}(),function(){globalThis.atob||!a.isNodeJS||(globalThis.atob=function(g){return Buffer.from(g,"base64").toString("binary")})}(),function(){globalThis.DOMMatrix||!a.isNodeJS||(globalThis.DOMMatrix=requireDommatrix())}(),function(){globalThis.ReadableStream||!a.isNodeJS||(globalThis.ReadableStream=requirePonyfill().ReadableStream)}(),function(){Array.prototype.at||r(4)}(),function(){Uint8Array.prototype.at||r(76)}(),function(){globalThis.structuredClone||r(86)}())},(i,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeJS=void 0;const r=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");t.isNodeJS=r},(i,t,r)=>{r(5);var a=r(75);i.exports=a("Array","at")},(i,t,r)=>{var a=r(6),l=r(41),g=r(65),d=r(63),s=r(70);a({target:"Array",proto:!0},{at:function(n){var c=l(this),C=g(c),m=d(n),e=m>=0?m:C+m;return e<0||e>=C?void 0:c[e]}}),s("at")},(i,t,r)=>{var a=r(7),l=r(8).f,g=r(45),d=r(49),s=r(39),u=r(57),n=r(69);i.exports=function(c,C){var m=c.target,e=c.global,E=c.stat,A,B,O,v,b,o;if(e?B=a:E?B=a[m]||s(m,{}):B=(a[m]||{}).prototype,B)for(O in C){if(b=C[O],c.dontCallGetSet?(o=l(B,O),v=o&&o.value):v=B[O],A=n(e?O:m+(E?".":"#")+O,c.forced),!A&&v!==void 0){if(typeof b==typeof v)continue;u(b,v)}(c.sham||v&&v.sham)&&g(b,"sham",!0),d(B,O,b,c)}}},i=>{var t=function(r){return r&&r.Math==Math&&r};i.exports=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof commonjsGlobal$1=="object"&&commonjsGlobal$1)||function(){return this}()||Function("return this")()},(i,t,r)=>{var a=r(9),l=r(11),g=r(13),d=r(14),s=r(15),u=r(20),n=r(40),c=r(43),C=Object.getOwnPropertyDescriptor;t.f=a?C:function(e,E){if(e=s(e),E=u(E),c)try{return C(e,E)}catch{}if(n(e,E))return d(!l(g.f,e,E),e[E])}},(i,t,r)=>{var a=r(10);i.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},i=>{i.exports=function(t){try{return!!t()}catch{return!0}}},(i,t,r)=>{var a=r(12),l=Function.prototype.call;i.exports=a?l.bind(l):function(){return l.apply(l,arguments)}},(i,t,r)=>{var a=r(10);i.exports=!a(function(){var l=function(){}.bind();return typeof l!="function"||l.hasOwnProperty("prototype")})},(i,t)=>{var r={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,l=a&&!r.call({1:2},1);t.f=l?function(d){var s=a(this,d);return!!s&&s.enumerable}:r},i=>{i.exports=function(t,r){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:r}}},(i,t,r)=>{var a=r(16),l=r(19);i.exports=function(g){return a(l(g))}},(i,t,r)=>{var a=r(17),l=r(10),g=r(18),d=Object,s=a("".split);i.exports=l(function(){return!d("z").propertyIsEnumerable(0)})?function(u){return g(u)=="String"?s(u,""):d(u)}:d},(i,t,r)=>{var a=r(12),l=Function.prototype,g=l.bind,d=l.call,s=a&&g.bind(d,d);i.exports=a?function(u){return u&&s(u)}:function(u){return u&&function(){return d.apply(u,arguments)}}},(i,t,r)=>{var a=r(17),l=a({}.toString),g=a("".slice);i.exports=function(d){return g(l(d),8,-1)}},i=>{var t=TypeError;i.exports=function(r){if(r==null)throw t("Can't call method on "+r);return r}},(i,t,r)=>{var a=r(21),l=r(24);i.exports=function(g){var d=a(g,"string");return l(d)?d:d+""}},(i,t,r)=>{var a=r(11),l=r(22),g=r(24),d=r(31),s=r(34),u=r(35),n=TypeError,c=u("toPrimitive");i.exports=function(C,m){if(!l(C)||g(C))return C;var e=d(C,c),E;if(e){if(m===void 0&&(m="default"),E=a(e,C,m),!l(E)||g(E))return E;throw n("Can't convert object to primitive value")}return m===void 0&&(m="number"),s(C,m)}},(i,t,r)=>{var a=r(23);i.exports=function(l){return typeof l=="object"?l!==null:a(l)}},i=>{i.exports=function(t){return typeof t=="function"}},(i,t,r)=>{var a=r(25),l=r(23),g=r(26),d=r(27),s=Object;i.exports=d?function(u){return typeof u=="symbol"}:function(u){var n=a("Symbol");return l(n)&&g(n.prototype,s(u))}},(i,t,r)=>{var a=r(7),l=r(23),g=function(d){return l(d)?d:void 0};i.exports=function(d,s){return arguments.length<2?g(a[d]):a[d]&&a[d][s]}},(i,t,r)=>{var a=r(17);i.exports=a({}.isPrototypeOf)},(i,t,r)=>{var a=r(28);i.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},(i,t,r)=>{var a=r(29),l=r(10);i.exports=!!Object.getOwnPropertySymbols&&!l(function(){var g=Symbol();return!String(g)||!(Object(g)instanceof Symbol)||!Symbol.sham&&a&&a<41})},(i,t,r)=>{var a=r(7),l=r(30),g=a.process,d=a.Deno,s=g&&g.versions||d&&d.version,u=s&&s.v8,n,c;u&&(n=u.split("."),c=n[0]>0&&n[0]<4?1:+(n[0]+n[1])),!c&&l&&(n=l.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=l.match(/Chrome\/(\d+)/),n&&(c=+n[1]))),i.exports=c},(i,t,r)=>{var a=r(25);i.exports=a("navigator","userAgent")||""},(i,t,r)=>{var a=r(32);i.exports=function(l,g){var d=l[g];return d==null?void 0:a(d)}},(i,t,r)=>{var a=r(23),l=r(33),g=TypeError;i.exports=function(d){if(a(d))return d;throw g(l(d)+" is not a function")}},i=>{var t=String;i.exports=function(r){try{return t(r)}catch{return"Object"}}},(i,t,r)=>{var a=r(11),l=r(23),g=r(22),d=TypeError;i.exports=function(s,u){var n,c;if(u==="string"&&l(n=s.toString)&&!g(c=a(n,s))||l(n=s.valueOf)&&!g(c=a(n,s))||u!=="string"&&l(n=s.toString)&&!g(c=a(n,s)))return c;throw d("Can't convert object to primitive value")}},(i,t,r)=>{var a=r(7),l=r(36),g=r(40),d=r(42),s=r(28),u=r(27),n=l("wks"),c=a.Symbol,C=c&&c.for,m=u?c:c&&c.withoutSetter||d;i.exports=function(e){if(!g(n,e)||!(s||typeof n[e]=="string")){var E="Symbol."+e;s&&g(c,e)?n[e]=c[e]:u&&C?n[e]=C(E):n[e]=m(E)}return n[e]}},(i,t,r)=>{var a=r(37),l=r(38);(i.exports=function(g,d){return l[g]||(l[g]=d!==void 0?d:{})})("versions",[]).push({version:"3.24.1",mode:a?"pure":"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.24.1/LICENSE",source:"https://github.com/zloirock/core-js"})},i=>{i.exports=!1},(i,t,r)=>{var a=r(7),l=r(39),g="__core-js_shared__",d=a[g]||l(g,{});i.exports=d},(i,t,r)=>{var a=r(7),l=Object.defineProperty;i.exports=function(g,d){try{l(a,g,{value:d,configurable:!0,writable:!0})}catch{a[g]=d}return d}},(i,t,r)=>{var a=r(17),l=r(41),g=a({}.hasOwnProperty);i.exports=Object.hasOwn||function(s,u){return g(l(s),u)}},(i,t,r)=>{var a=r(19),l=Object;i.exports=function(g){return l(a(g))}},(i,t,r)=>{var a=r(17),l=0,g=Math.random(),d=a(1 .toString);i.exports=function(s){return"Symbol("+(s===void 0?"":s)+")_"+d(++l+g,36)}},(i,t,r)=>{var a=r(9),l=r(10),g=r(44);i.exports=!a&&!l(function(){return Object.defineProperty(g("div"),"a",{get:function(){return 7}}).a!=7})},(i,t,r)=>{var a=r(7),l=r(22),g=a.document,d=l(g)&&l(g.createElement);i.exports=function(s){return d?g.createElement(s):{}}},(i,t,r)=>{var a=r(9),l=r(46),g=r(14);i.exports=a?function(d,s,u){return l.f(d,s,g(1,u))}:function(d,s,u){return d[s]=u,d}},(i,t,r)=>{var a=r(9),l=r(43),g=r(47),d=r(48),s=r(20),u=TypeError,n=Object.defineProperty,c=Object.getOwnPropertyDescriptor,C="enumerable",m="configurable",e="writable";t.f=a?g?function(A,B,O){if(d(A),B=s(B),d(O),typeof A=="function"&&B==="prototype"&&"value"in O&&e in O&&!O[e]){var v=c(A,B);v&&v[e]&&(A[B]=O.value,O={configurable:m in O?O[m]:v[m],enumerable:C in O?O[C]:v[C],writable:!1})}return n(A,B,O)}:n:function(A,B,O){if(d(A),B=s(B),d(O),l)try{return n(A,B,O)}catch{}if("get"in O||"set"in O)throw u("Accessors not supported");return"value"in O&&(A[B]=O.value),A}},(i,t,r)=>{var a=r(9),l=r(10);i.exports=a&&l(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},(i,t,r)=>{var a=r(22),l=String,g=TypeError;i.exports=function(d){if(a(d))return d;throw g(l(d)+" is not an object")}},(i,t,r)=>{var a=r(23),l=r(46),g=r(50),d=r(39);i.exports=function(s,u,n,c){c||(c={});var C=c.enumerable,m=c.name!==void 0?c.name:u;if(a(n)&&g(n,m,c),c.global)C?s[u]=n:d(u,n);else{try{c.unsafe?s[u]&&(C=!0):delete s[u]}catch{}C?s[u]=n:l.f(s,u,{value:n,enumerable:!1,configurable:!c.nonConfigurable,writable:!c.nonWritable})}return s}},(i,t,r)=>{var a=r(10),l=r(23),g=r(40),d=r(9),s=r(51).CONFIGURABLE,u=r(52),n=r(53),c=n.enforce,C=n.get,m=Object.defineProperty,e=d&&!a(function(){return m(function(){},"length",{value:8}).length!==8}),E=String(String).split("String"),A=i.exports=function(B,O,v){String(O).slice(0,7)==="Symbol("&&(O="["+String(O).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),v&&v.getter&&(O="get "+O),v&&v.setter&&(O="set "+O),(!g(B,"name")||s&&B.name!==O)&&(d?m(B,"name",{value:O,configurable:!0}):B.name=O),e&&v&&g(v,"arity")&&B.length!==v.arity&&m(B,"length",{value:v.arity});try{v&&g(v,"constructor")&&v.constructor?d&&m(B,"prototype",{writable:!1}):B.prototype&&(B.prototype=void 0)}catch{}var b=c(B);return g(b,"source")||(b.source=E.join(typeof O=="string"?O:"")),B};Function.prototype.toString=A(function(){return l(this)&&C(this).source||u(this)},"toString")},(i,t,r)=>{var a=r(9),l=r(40),g=Function.prototype,d=a&&Object.getOwnPropertyDescriptor,s=l(g,"name"),u=s&&function(){}.name==="something",n=s&&(!a||a&&d(g,"name").configurable);i.exports={EXISTS:s,PROPER:u,CONFIGURABLE:n}},(i,t,r)=>{var a=r(17),l=r(23),g=r(38),d=a(Function.toString);l(g.inspectSource)||(g.inspectSource=function(s){return d(s)}),i.exports=g.inspectSource},(i,t,r)=>{var a=r(54),l=r(7),g=r(17),d=r(22),s=r(45),u=r(40),n=r(38),c=r(55),C=r(56),m="Object already initialized",e=l.TypeError,E=l.WeakMap,A,B,O,v=function(P){return O(P)?B(P):A(P,{})},b=function(P){return function(w){var M;if(!d(w)||(M=B(w)).type!==P)throw e("Incompatible receiver, "+P+" required");return M}};if(a||n.state){var o=n.state||(n.state=new E),T=g(o.get),D=g(o.has),_=g(o.set);A=function(P,w){if(D(o,P))throw new e(m);return w.facade=P,_(o,P,w),w},B=function(P){return T(o,P)||{}},O=function(P){return D(o,P)}}else{var y=c("state");C[y]=!0,A=function(P,w){if(u(P,y))throw new e(m);return w.facade=P,s(P,y,w),w},B=function(P){return u(P,y)?P[y]:{}},O=function(P){return u(P,y)}}i.exports={set:A,get:B,has:O,enforce:v,getterFor:b}},(i,t,r)=>{var a=r(7),l=r(23),g=r(52),d=a.WeakMap;i.exports=l(d)&&/native code/.test(g(d))},(i,t,r)=>{var a=r(36),l=r(42),g=a("keys");i.exports=function(d){return g[d]||(g[d]=l(d))}},i=>{i.exports={}},(i,t,r)=>{var a=r(40),l=r(58),g=r(8),d=r(46);i.exports=function(s,u,n){for(var c=l(u),C=d.f,m=g.f,e=0;e<c.length;e++){var E=c[e];!a(s,E)&&!(n&&a(n,E))&&C(s,E,m(u,E))}}},(i,t,r)=>{var a=r(25),l=r(17),g=r(59),d=r(68),s=r(48),u=l([].concat);i.exports=a("Reflect","ownKeys")||function(c){var C=g.f(s(c)),m=d.f;return m?u(C,m(c)):C}},(i,t,r)=>{var a=r(60),l=r(67),g=l.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(s){return a(s,g)}},(i,t,r)=>{var a=r(17),l=r(40),g=r(15),d=r(61).indexOf,s=r(56),u=a([].push);i.exports=function(n,c){var C=g(n),m=0,e=[],E;for(E in C)!l(s,E)&&l(C,E)&&u(e,E);for(;c.length>m;)l(C,E=c[m++])&&(~d(e,E)||u(e,E));return e}},(i,t,r)=>{var a=r(15),l=r(62),g=r(65),d=function(s){return function(u,n,c){var C=a(u),m=g(C),e=l(c,m),E;if(s&&n!=n){for(;m>e;)if(E=C[e++],E!=E)return!0}else for(;m>e;e++)if((s||e in C)&&C[e]===n)return s||e||0;return!s&&-1}};i.exports={includes:d(!0),indexOf:d(!1)}},(i,t,r)=>{var a=r(63),l=Math.max,g=Math.min;i.exports=function(d,s){var u=a(d);return u<0?l(u+s,0):g(u,s)}},(i,t,r)=>{var a=r(64);i.exports=function(l){var g=+l;return g!==g||g===0?0:a(g)}},i=>{var t=Math.ceil,r=Math.floor;i.exports=Math.trunc||function(l){var g=+l;return(g>0?r:t)(g)}},(i,t,r)=>{var a=r(66);i.exports=function(l){return a(l.length)}},(i,t,r)=>{var a=r(63),l=Math.min;i.exports=function(g){return g>0?l(a(g),9007199254740991):0}},i=>{i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(i,t)=>{t.f=Object.getOwnPropertySymbols},(i,t,r)=>{var a=r(10),l=r(23),g=/#|\.prototype\./,d=function(C,m){var e=u[s(C)];return e==c?!0:e==n?!1:l(m)?a(m):!!m},s=d.normalize=function(C){return String(C).replace(g,".").toLowerCase()},u=d.data={},n=d.NATIVE="N",c=d.POLYFILL="P";i.exports=d},(i,t,r)=>{var a=r(35),l=r(71),g=r(46).f,d=a("unscopables"),s=Array.prototype;s[d]==null&&g(s,d,{configurable:!0,value:l(null)}),i.exports=function(u){s[d][u]=!0}},(i,t,r)=>{var a=r(48),l=r(72),g=r(67),d=r(56),s=r(74),u=r(44),n=r(55),c=">",C="<",m="prototype",e="script",E=n("IE_PROTO"),A=function(){},B=function(T){return C+e+c+T+C+"/"+e+c},O=function(T){T.write(B("")),T.close();var D=T.parentWindow.Object;return T=null,D},v=function(){var T=u("iframe"),D="java"+e+":",_;return T.style.display="none",s.appendChild(T),T.src=String(D),_=T.contentWindow.document,_.open(),_.write(B("document.F=Object")),_.close(),_.F},b,o=function(){try{b=new ActiveXObject("htmlfile")}catch{}o=typeof document<"u"?document.domain&&b?O(b):v():O(b);for(var T=g.length;T--;)delete o[m][g[T]];return o()};d[E]=!0,i.exports=Object.create||function(D,_){var y;return D!==null?(A[m]=a(D),y=new A,A[m]=null,y[E]=D):y=o(),_===void 0?y:l.f(y,_)}},(i,t,r)=>{var a=r(9),l=r(47),g=r(46),d=r(48),s=r(15),u=r(73);t.f=a&&!l?Object.defineProperties:function(c,C){d(c);for(var m=s(C),e=u(C),E=e.length,A=0,B;E>A;)g.f(c,B=e[A++],m[B]);return c}},(i,t,r)=>{var a=r(60),l=r(67);i.exports=Object.keys||function(d){return a(d,l)}},(i,t,r)=>{var a=r(25);i.exports=a("document","documentElement")},(i,t,r)=>{var a=r(7),l=r(17);i.exports=function(g,d){return l(a[g].prototype[d])}},(i,t,r)=>{r(77)},(i,t,r)=>{var a=r(78),l=r(65),g=r(63),d=a.aTypedArray,s=a.exportTypedArrayMethod;s("at",function(n){var c=d(this),C=l(c),m=g(n),e=m>=0?m:C+m;return e<0||e>=C?void 0:c[e]})},(i,t,r)=>{var a=r(79),l=r(9),g=r(7),d=r(23),s=r(22),u=r(40),n=r(80),c=r(33),C=r(45),m=r(49),e=r(46).f,E=r(26),A=r(82),B=r(84),O=r(35),v=r(42),b=r(53),o=b.enforce,T=b.get,D=g.Int8Array,_=D&&D.prototype,y=g.Uint8ClampedArray,P=y&&y.prototype,w=D&&A(D),M=_&&A(_),q=Object.prototype,F=g.TypeError,G=O("toStringTag"),R=v("TYPED_ARRAY_TAG"),I="TypedArrayConstructor",L=a&&!!B&&n(g.opera)!=="Opera",x=!1,S,W,U,z={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},re={BigInt64Array:8,BigUint64Array:8},J=function($){if(!s($))return!1;var X=n($);return X==="DataView"||u(z,X)||u(re,X)},k=function(te){var $=A(te);if(!!s($)){var X=T($);return X&&u(X,I)?X[I]:k($)}},H=function(te){if(!s(te))return!1;var $=n(te);return u(z,$)||u(re,$)},Z=function(te){if(H(te))return te;throw F("Target is not a typed array")},Q=function(te){if(d(te)&&(!B||E(w,te)))return te;throw F(c(te)+" is not a typed array constructor")},V=function(te,$,X,ne){if(!!l){if(X)for(var ce in z){var se=g[ce];if(se&&u(se.prototype,te))try{delete se.prototype[te]}catch{try{se.prototype[te]=$}catch{}}}(!M[te]||X)&&m(M,te,X?$:L&&_[te]||$,ne)}},Y=function(te,$,X){var ne,ce;if(!!l){if(B){if(X){for(ne in z)if(ce=g[ne],ce&&u(ce,te))try{delete ce[te]}catch{}}if(!w[te]||X)try{return m(w,te,X?$:L&&w[te]||$)}catch{}else return}for(ne in z)ce=g[ne],ce&&(!ce[te]||X)&&m(ce,te,$)}};for(S in z)W=g[S],U=W&&W.prototype,U?o(U)[I]=W:L=!1;for(S in re)W=g[S],U=W&&W.prototype,U&&(o(U)[I]=W);if((!L||!d(w)||w===Function.prototype)&&(w=function(){throw F("Incorrect invocation")},L))for(S in z)g[S]&&B(g[S],w);if((!L||!M||M===q)&&(M=w.prototype,L))for(S in z)g[S]&&B(g[S].prototype,M);if(L&&A(P)!==M&&B(P,M),l&&!u(M,G)){x=!0,e(M,G,{get:function(){return s(this)?this[R]:void 0}});for(S in z)g[S]&&C(g[S],R,S)}i.exports={NATIVE_ARRAY_BUFFER_VIEWS:L,TYPED_ARRAY_TAG:x&&R,aTypedArray:Z,aTypedArrayConstructor:Q,exportTypedArrayMethod:V,exportTypedArrayStaticMethod:Y,getTypedArrayConstructor:k,isView:J,isTypedArray:H,TypedArray:w,TypedArrayPrototype:M}},i=>{i.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},(i,t,r)=>{var a=r(81),l=r(23),g=r(18),d=r(35),s=d("toStringTag"),u=Object,n=g(function(){return arguments}())=="Arguments",c=function(C,m){try{return C[m]}catch{}};i.exports=a?g:function(C){var m,e,E;return C===void 0?"Undefined":C===null?"Null":typeof(e=c(m=u(C),s))=="string"?e:n?g(m):(E=g(m))=="Object"&&l(m.callee)?"Arguments":E}},(i,t,r)=>{var a=r(35),l=a("toStringTag"),g={};g[l]="z",i.exports=String(g)==="[object z]"},(i,t,r)=>{var a=r(40),l=r(23),g=r(41),d=r(55),s=r(83),u=d("IE_PROTO"),n=Object,c=n.prototype;i.exports=s?n.getPrototypeOf:function(C){var m=g(C);if(a(m,u))return m[u];var e=m.constructor;return l(e)&&m instanceof e?e.prototype:m instanceof n?c:null}},(i,t,r)=>{var a=r(10);i.exports=!a(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},(i,t,r)=>{var a=r(17),l=r(48),g=r(85);i.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var d=!1,s={},u;try{u=a(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),u(s,[]),d=s instanceof Array}catch{}return function(c,C){return l(c),g(C),d?u(c,C):c.__proto__=C,c}}():void 0)},(i,t,r)=>{var a=r(23),l=String,g=TypeError;i.exports=function(d){if(typeof d=="object"||a(d))return d;throw g("Can't set "+l(d)+" as a prototype")}},(i,t,r)=>{r(87),r(93),r(95),r(117),r(119);var a=r(128);i.exports=a.structuredClone},(i,t,r)=>{var a=r(15),l=r(70),g=r(88),d=r(53),s=r(46).f,u=r(89),n=r(37),c=r(9),C="Array Iterator",m=d.set,e=d.getterFor(C);i.exports=u(Array,"Array",function(A,B){m(this,{type:C,target:a(A),index:0,kind:B})},function(){var A=e(this),B=A.target,O=A.kind,v=A.index++;return!B||v>=B.length?(A.target=void 0,{value:void 0,done:!0}):O=="keys"?{value:v,done:!1}:O=="values"?{value:B[v],done:!1}:{value:[v,B[v]],done:!1}},"values");var E=g.Arguments=g.Array;if(l("keys"),l("values"),l("entries"),!n&&c&&E.name!=="values")try{s(E,"name",{value:"values"})}catch{}},i=>{i.exports={}},(i,t,r)=>{var a=r(6),l=r(11),g=r(37),d=r(51),s=r(23),u=r(90),n=r(82),c=r(84),C=r(92),m=r(45),e=r(49),E=r(35),A=r(88),B=r(91),O=d.PROPER,v=d.CONFIGURABLE,b=B.IteratorPrototype,o=B.BUGGY_SAFARI_ITERATORS,T=E("iterator"),D="keys",_="values",y="entries",P=function(){return this};i.exports=function(w,M,q,F,G,R,I){u(q,M,F);var L=function(Z){if(Z===G&&z)return z;if(!o&&Z in W)return W[Z];switch(Z){case D:return function(){return new q(this,Z)};case _:return function(){return new q(this,Z)};case y:return function(){return new q(this,Z)}}return function(){return new q(this)}},x=M+" Iterator",S=!1,W=w.prototype,U=W[T]||W["@@iterator"]||G&&W[G],z=!o&&U||L(G),re=M=="Array"&&W.entries||U,J,k,H;if(re&&(J=n(re.call(new w)),J!==Object.prototype&&J.next&&(!g&&n(J)!==b&&(c?c(J,b):s(J[T])||e(J,T,P)),C(J,x,!0,!0),g&&(A[x]=P))),O&&G==_&&U&&U.name!==_&&(!g&&v?m(W,"name",_):(S=!0,z=function(){return l(U,this)})),G)if(k={values:L(_),keys:R?z:L(D),entries:L(y)},I)for(H in k)(o||S||!(H in W))&&e(W,H,k[H]);else a({target:M,proto:!0,forced:o||S},k);return(!g||I)&&W[T]!==z&&e(W,T,z,{name:G}),A[M]=z,k}},(i,t,r)=>{var a=r(91).IteratorPrototype,l=r(71),g=r(14),d=r(92),s=r(88),u=function(){return this};i.exports=function(n,c,C,m){var e=c+" Iterator";return n.prototype=l(a,{next:g(+!m,C)}),d(n,e,!1,!0),s[e]=u,n}},(i,t,r)=>{var a=r(10),l=r(23),g=r(71),d=r(82),s=r(49),u=r(35),n=r(37),c=u("iterator"),C=!1,m,e,E;[].keys&&(E=[].keys(),"next"in E?(e=d(d(E)),e!==Object.prototype&&(m=e)):C=!0);var A=m==null||a(function(){var B={};return m[c].call(B)!==B});A?m={}:n&&(m=g(m)),l(m[c])||s(m,c,function(){return this}),i.exports={IteratorPrototype:m,BUGGY_SAFARI_ITERATORS:C}},(i,t,r)=>{var a=r(46).f,l=r(40),g=r(35),d=g("toStringTag");i.exports=function(s,u,n){s&&!n&&(s=s.prototype),s&&!l(s,d)&&a(s,d,{configurable:!0,value:u})}},(i,t,r)=>{var a=r(81),l=r(49),g=r(94);a||l(Object.prototype,"toString",g,{unsafe:!0})},(i,t,r)=>{var a=r(81),l=r(80);i.exports=a?{}.toString:function(){return"[object "+l(this)+"]"}},(i,t,r)=>{r(96)},(i,t,r)=>{var a=r(97),l=r(114);a("Map",function(g){return function(){return g(this,arguments.length?arguments[0]:void 0)}},l)},(i,t,r)=>{var a=r(6),l=r(7),g=r(17),d=r(69),s=r(49),u=r(98),n=r(105),c=r(111),C=r(23),m=r(22),e=r(10),E=r(112),A=r(92),B=r(113);i.exports=function(O,v,b){var o=O.indexOf("Map")!==-1,T=O.indexOf("Weak")!==-1,D=o?"set":"add",_=l[O],y=_&&_.prototype,P=_,w={},M=function(x){var S=g(y[x]);s(y,x,x=="add"?function(U){return S(this,U===0?0:U),this}:x=="delete"?function(W){return T&&!m(W)?!1:S(this,W===0?0:W)}:x=="get"?function(U){return T&&!m(U)?void 0:S(this,U===0?0:U)}:x=="has"?function(U){return T&&!m(U)?!1:S(this,U===0?0:U)}:function(U,z){return S(this,U===0?0:U,z),this})},q=d(O,!C(_)||!(T||y.forEach&&!e(function(){new _().entries().next()})));if(q)P=b.getConstructor(v,O,o,D),u.enable();else if(d(O,!0)){var F=new P,G=F[D](T?{}:-0,1)!=F,R=e(function(){F.has(1)}),I=E(function(x){new _(x)}),L=!T&&e(function(){for(var x=new _,S=5;S--;)x[D](S,S);return!x.has(-0)});I||(P=v(function(x,S){c(x,y);var W=B(new _,x,P);return S!=null&&n(S,W[D],{that:W,AS_ENTRIES:o}),W}),P.prototype=y,y.constructor=P),(R||L)&&(M("delete"),M("has"),o&&M("get")),(L||G)&&M(D),T&&y.clear&&delete y.clear}return w[O]=P,a({global:!0,constructor:!0,forced:P!=_},w),A(P,O),T||b.setStrong(P,O,o),P}},(i,t,r)=>{var a=r(6),l=r(17),g=r(56),d=r(22),s=r(40),u=r(46).f,n=r(59),c=r(99),C=r(102),m=r(42),e=r(104),E=!1,A=m("meta"),B=0,O=function(_){u(_,A,{value:{objectID:"O"+B++,weakData:{}}})},v=function(_,y){if(!d(_))return typeof _=="symbol"?_:(typeof _=="string"?"S":"P")+_;if(!s(_,A)){if(!C(_))return"F";if(!y)return"E";O(_)}return _[A].objectID},b=function(_,y){if(!s(_,A)){if(!C(_))return!0;if(!y)return!1;O(_)}return _[A].weakData},o=function(_){return e&&E&&C(_)&&!s(_,A)&&O(_),_},T=function(){D.enable=function(){},E=!0;var _=n.f,y=l([].splice),P={};P[A]=1,_(P).length&&(n.f=function(w){for(var M=_(w),q=0,F=M.length;q<F;q++)if(M[q]===A){y(M,q,1);break}return M},a({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:c.f}))},D=i.exports={enable:T,fastKey:v,getWeakData:b,onFreeze:o};g[A]=!0},(i,t,r)=>{var a=r(18),l=r(15),g=r(59).f,d=r(100),s=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(n){try{return g(n)}catch{return d(s)}};i.exports.f=function(c){return s&&a(c)=="Window"?u(c):g(l(c))}},(i,t,r)=>{var a=r(62),l=r(65),g=r(101),d=Array,s=Math.max;i.exports=function(u,n,c){for(var C=l(u),m=a(n,C),e=a(c===void 0?C:c,C),E=d(s(e-m,0)),A=0;m<e;m++,A++)g(E,A,u[m]);return E.length=A,E}},(i,t,r)=>{var a=r(20),l=r(46),g=r(14);i.exports=function(d,s,u){var n=a(s);n in d?l.f(d,n,g(0,u)):d[n]=u}},(i,t,r)=>{var a=r(10),l=r(22),g=r(18),d=r(103),s=Object.isExtensible,u=a(function(){});i.exports=u||d?function(c){return!l(c)||d&&g(c)=="ArrayBuffer"?!1:s?s(c):!0}:s},(i,t,r)=>{var a=r(10);i.exports=a(function(){if(typeof ArrayBuffer=="function"){var l=new ArrayBuffer(8);Object.isExtensible(l)&&Object.defineProperty(l,"a",{value:8})}})},(i,t,r)=>{var a=r(10);i.exports=!a(function(){return Object.isExtensible(Object.preventExtensions({}))})},(i,t,r)=>{var a=r(106),l=r(11),g=r(48),d=r(33),s=r(107),u=r(65),n=r(26),c=r(108),C=r(109),m=r(110),e=TypeError,E=function(B,O){this.stopped=B,this.result=O},A=E.prototype;i.exports=function(B,O,v){var b=v&&v.that,o=!!(v&&v.AS_ENTRIES),T=!!(v&&v.IS_RECORD),D=!!(v&&v.IS_ITERATOR),_=!!(v&&v.INTERRUPTED),y=a(O,b),P,w,M,q,F,G,R,I=function(x){return P&&m(P,"normal",x),new E(!0,x)},L=function(x){return o?(g(x),_?y(x[0],x[1],I):y(x[0],x[1])):_?y(x,I):y(x)};if(T)P=B.iterator;else if(D)P=B;else{if(w=C(B),!w)throw e(d(B)+" is not iterable");if(s(w)){for(M=0,q=u(B);q>M;M++)if(F=L(B[M]),F&&n(A,F))return F;return new E(!1)}P=c(B,w)}for(G=T?B.next:P.next;!(R=l(G,P)).done;){try{F=L(R.value)}catch(x){m(P,"throw",x)}if(typeof F=="object"&&F&&n(A,F))return F}return new E(!1)}},(i,t,r)=>{var a=r(17),l=r(32),g=r(12),d=a(a.bind);i.exports=function(s,u){return l(s),u===void 0?s:g?d(s,u):function(){return s.apply(u,arguments)}}},(i,t,r)=>{var a=r(35),l=r(88),g=a("iterator"),d=Array.prototype;i.exports=function(s){return s!==void 0&&(l.Array===s||d[g]===s)}},(i,t,r)=>{var a=r(11),l=r(32),g=r(48),d=r(33),s=r(109),u=TypeError;i.exports=function(n,c){var C=arguments.length<2?s(n):c;if(l(C))return g(a(C,n));throw u(d(n)+" is not iterable")}},(i,t,r)=>{var a=r(80),l=r(31),g=r(88),d=r(35),s=d("iterator");i.exports=function(u){if(u!=null)return l(u,s)||l(u,"@@iterator")||g[a(u)]}},(i,t,r)=>{var a=r(11),l=r(48),g=r(31);i.exports=function(d,s,u){var n,c;l(d);try{if(n=g(d,"return"),!n){if(s==="throw")throw u;return u}n=a(n,d)}catch(C){c=!0,n=C}if(s==="throw")throw u;if(c)throw n;return l(n),u}},(i,t,r)=>{var a=r(26),l=TypeError;i.exports=function(g,d){if(a(d,g))return g;throw l("Incorrect invocation")}},(i,t,r)=>{var a=r(35),l=a("iterator"),g=!1;try{var d=0,s={next:function(){return{done:!!d++}},return:function(){g=!0}};s[l]=function(){return this},Array.from(s,function(){throw 2})}catch{}i.exports=function(u,n){if(!n&&!g)return!1;var c=!1;try{var C={};C[l]=function(){return{next:function(){return{done:c=!0}}}},u(C)}catch{}return c}},(i,t,r)=>{var a=r(23),l=r(22),g=r(84);i.exports=function(d,s,u){var n,c;return g&&a(n=s.constructor)&&n!==u&&l(c=n.prototype)&&c!==u.prototype&&g(d,c),d}},(i,t,r)=>{var a=r(46).f,l=r(71),g=r(115),d=r(106),s=r(111),u=r(105),n=r(89),c=r(116),C=r(9),m=r(98).fastKey,e=r(53),E=e.set,A=e.getterFor;i.exports={getConstructor:function(B,O,v,b){var o=B(function(P,w){s(P,T),E(P,{type:O,index:l(null),first:void 0,last:void 0,size:0}),C||(P.size=0),w!=null&&u(w,P[b],{that:P,AS_ENTRIES:v})}),T=o.prototype,D=A(O),_=function(P,w,M){var q=D(P),F=y(P,w),G,R;return F?F.value=M:(q.last=F={index:R=m(w,!0),key:w,value:M,previous:G=q.last,next:void 0,removed:!1},q.first||(q.first=F),G&&(G.next=F),C?q.size++:P.size++,R!=="F"&&(q.index[R]=F)),P},y=function(P,w){var M=D(P),q=m(w),F;if(q!=="F")return M.index[q];for(F=M.first;F;F=F.next)if(F.key==w)return F};return g(T,{clear:function(){for(var w=this,M=D(w),q=M.index,F=M.first;F;)F.removed=!0,F.previous&&(F.previous=F.previous.next=void 0),delete q[F.index],F=F.next;M.first=M.last=void 0,C?M.size=0:w.size=0},delete:function(P){var w=this,M=D(w),q=y(w,P);if(q){var F=q.next,G=q.previous;delete M.index[q.index],q.removed=!0,G&&(G.next=F),F&&(F.previous=G),M.first==q&&(M.first=F),M.last==q&&(M.last=G),C?M.size--:w.size--}return!!q},forEach:function(w){for(var M=D(this),q=d(w,arguments.length>1?arguments[1]:void 0),F;F=F?F.next:M.first;)for(q(F.value,F.key,this);F&&F.removed;)F=F.previous},has:function(w){return!!y(this,w)}}),g(T,v?{get:function(w){var M=y(this,w);return M&&M.value},set:function(w,M){return _(this,w===0?0:w,M)}}:{add:function(w){return _(this,w=w===0?0:w,w)}}),C&&a(T,"size",{get:function(){return D(this).size}}),o},setStrong:function(B,O,v){var b=O+" Iterator",o=A(O),T=A(b);n(B,O,function(D,_){E(this,{type:b,target:D,state:o(D),kind:_,last:void 0})},function(){for(var D=T(this),_=D.kind,y=D.last;y&&y.removed;)y=y.previous;return!D.target||!(D.last=y=y?y.next:D.state.first)?(D.target=void 0,{value:void 0,done:!0}):_=="keys"?{value:y.key,done:!1}:_=="values"?{value:y.value,done:!1}:{value:[y.key,y.value],done:!1}},v?"entries":"values",!v,!0),c(O)}}},(i,t,r)=>{var a=r(49);i.exports=function(l,g,d){for(var s in g)a(l,s,g[s],d);return l}},(i,t,r)=>{var a=r(25),l=r(46),g=r(35),d=r(9),s=g("species");i.exports=function(u){var n=a(u),c=l.f;d&&n&&!n[s]&&c(n,s,{configurable:!0,get:function(){return this}})}},(i,t,r)=>{r(118)},(i,t,r)=>{var a=r(97),l=r(114);a("Set",function(g){return function(){return g(this,arguments.length?arguments[0]:void 0)}},l)},(i,t,r)=>{var a=r(37),l=r(6),g=r(7),d=r(25),s=r(17),u=r(10),n=r(42),c=r(23),C=r(120),m=r(22),e=r(24),E=r(105),A=r(48),B=r(80),O=r(40),v=r(101),b=r(45),o=r(65),T=r(121),D=r(122),_=r(124),y=r(29),P=r(125),w=r(126),M=r(127),q=g.Object,F=g.Date,G=g.Error,R=g.EvalError,I=g.RangeError,L=g.ReferenceError,x=g.SyntaxError,S=g.TypeError,W=g.URIError,U=g.PerformanceMark,z=g.WebAssembly,re=z&&z.CompileError||G,J=z&&z.LinkError||G,k=z&&z.RuntimeError||G,H=d("DOMException"),Z=d("Set"),Q=d("Map"),V=Q.prototype,Y=s(V.has),te=s(V.get),$=s(V.set),X=s(Z.prototype.add),ne=d("Object","keys"),ce=s([].push),se=s((!0).valueOf),K=s(1 .valueOf),ee=s("".valueOf),ie=s(F.prototype.getTime),oe=n("structuredClone"),le="DataCloneError",pe="Transferring",fe=function(Fe){return!u(function(){var Re=new g.Set([7]),Ne=Fe(Re),Pe=Fe(q(7));return Ne==Re||!Ne.has(7)||typeof Pe!="object"||Pe!=7})&&Fe},ue=function(Fe,Re){return!u(function(){var Ne=new Re,Pe=Fe({a:Ne,b:Ne});return!(Pe&&Pe.a===Pe.b&&Pe.a instanceof Re&&Pe.a.stack===Ne.stack)})},ge=function(Fe){return!u(function(){var Re=Fe(new g.AggregateError([1],oe,{cause:3}));return Re.name!="AggregateError"||Re.errors[0]!=1||Re.message!=oe||Re.cause!=3})},he=g.structuredClone,xe=a||!ue(he,G)||!ue(he,H)||!ge(he),ye=!he&&fe(function(Fe){return new U(oe,{detail:Fe}).detail}),ve=fe(he)||ye,ke=function(Fe){throw new H("Uncloneable type: "+Fe,le)},Se=function(Fe,Re){throw new H((Re||"Cloning")+" of "+Fe+" cannot be properly polyfilled in this engine",le)},be=function(Fe,Re){if(e(Fe)&&ke("Symbol"),!m(Fe))return Fe;if(Re){if(Y(Re,Fe))return te(Re,Fe)}else Re=new Q;var Ne=B(Fe),Pe=!1,Ie,Me,Te,Le,Be,Ae,we,Ce,De,Ge;switch(Ne){case"Array":Te=[],Pe=!0;break;case"Object":Te={},Pe=!0;break;case"Map":Te=new Q,Pe=!0;break;case"Set":Te=new Z,Pe=!0;break;case"RegExp":Te=new RegExp(Fe.source,D(Fe));break;case"Error":switch(Me=Fe.name,Me){case"AggregateError":Te=d("AggregateError")([]);break;case"EvalError":Te=R();break;case"RangeError":Te=I();break;case"ReferenceError":Te=L();break;case"SyntaxError":Te=x();break;case"TypeError":Te=S();break;case"URIError":Te=W();break;case"CompileError":Te=re();break;case"LinkError":Te=J();break;case"RuntimeError":Te=k();break;default:Te=G()}Pe=!0;break;case"DOMException":Te=new H(Fe.message,Fe.name),Pe=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":Ie=g[Ne],m(Ie)||Se(Ne),Te=new Ie(be(Fe.buffer,Re),Fe.byteOffset,Ne==="DataView"?Fe.byteLength:Fe.length);break;case"DOMQuad":try{Te=new DOMQuad(be(Fe.p1,Re),be(Fe.p2,Re),be(Fe.p3,Re),be(Fe.p4,Re))}catch{ve?Te=ve(Fe):Se(Ne)}break;case"FileList":if(Ie=g.DataTransfer,C(Ie)){for(Le=new Ie,Be=0,Ae=o(Fe);Be<Ae;Be++)Le.items.add(be(Fe[Be],Re));Te=Le.files}else ve?Te=ve(Fe):Se(Ne);break;case"ImageData":try{Te=new ImageData(be(Fe.data,Re),Fe.width,Fe.height,{colorSpace:Fe.colorSpace})}catch{ve?Te=ve(Fe):Se(Ne)}break;default:if(ve)Te=ve(Fe);else switch(Ne){case"BigInt":Te=q(Fe.valueOf());break;case"Boolean":Te=q(se(Fe));break;case"Number":Te=q(K(Fe));break;case"String":Te=q(ee(Fe));break;case"Date":Te=new F(ie(Fe));break;case"ArrayBuffer":Ie=g.DataView,!Ie&&typeof Fe.slice!="function"&&Se(Ne);try{if(typeof Fe.slice=="function")Te=Fe.slice(0);else for(Ae=Fe.byteLength,Te=new ArrayBuffer(Ae),De=new Ie(Fe),Ge=new Ie(Te),Be=0;Be<Ae;Be++)Ge.setUint8(Be,De.getUint8(Be))}catch{throw new H("ArrayBuffer is detached",le)}break;case"SharedArrayBuffer":Te=Fe;break;case"Blob":try{Te=Fe.slice(0,Fe.size,Fe.type)}catch{Se(Ne)}break;case"DOMPoint":case"DOMPointReadOnly":Ie=g[Ne];try{Te=Ie.fromPoint?Ie.fromPoint(Fe):new Ie(Fe.x,Fe.y,Fe.z,Fe.w)}catch{Se(Ne)}break;case"DOMRect":case"DOMRectReadOnly":Ie=g[Ne];try{Te=Ie.fromRect?Ie.fromRect(Fe):new Ie(Fe.x,Fe.y,Fe.width,Fe.height)}catch{Se(Ne)}break;case"DOMMatrix":case"DOMMatrixReadOnly":Ie=g[Ne];try{Te=Ie.fromMatrix?Ie.fromMatrix(Fe):new Ie(Fe)}catch{Se(Ne)}break;case"AudioData":case"VideoFrame":c(Fe.clone)||Se(Ne);try{Te=Fe.clone()}catch{ke(Ne)}break;case"File":try{Te=new File([Fe],Fe.name,Fe)}catch{Se(Ne)}break;case"CryptoKey":case"GPUCompilationMessage":case"GPUCompilationInfo":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":Se(Ne);default:ke(Ne)}}if($(Re,Fe,Te),Pe)switch(Ne){case"Array":case"Object":for(we=ne(Fe),Be=0,Ae=o(we);Be<Ae;Be++)Ce=we[Be],v(Te,Ce,be(Fe[Ce],Re));break;case"Map":Fe.forEach(function(He,Ze){$(Te,be(Ze,Re),be(He,Re))});break;case"Set":Fe.forEach(function(He){X(Te,be(He,Re))});break;case"Error":b(Te,"message",be(Fe.message,Re)),O(Fe,"cause")&&b(Te,"cause",be(Fe.cause,Re)),Me=="AggregateError"&&(Te.errors=be(Fe.errors,Re));case"DOMException":_&&b(Te,"stack",be(Fe.stack,Re))}return Te},Ee=he&&!u(function(){if(w&&y>92||M&&y>94||P&&y>97)return!1;var Fe=new ArrayBuffer(8),Re=he(Fe,{transfer:[Fe]});return Fe.byteLength!=0||Re.byteLength!=8}),Oe=function(Fe,Re){if(!m(Fe))throw S("Transfer option cannot be converted to a sequence");var Ne=[];E(Fe,function(De){ce(Ne,A(De))});var Pe=0,Ie=o(Ne),Me,Te,Le,Be,Ae,we,Ce;if(Ee)for(Be=he(Ne,{transfer:Ne});Pe<Ie;)$(Re,Ne[Pe],Be[Pe++]);else for(;Pe<Ie;){if(Me=Ne[Pe++],Y(Re,Me))throw new H("Duplicate transferable",le);switch(Te=B(Me),Te){case"ImageBitmap":Le=g.OffscreenCanvas,C(Le)||Se(Te,pe);try{we=new Le(Me.width,Me.height),Ce=we.getContext("bitmaprenderer"),Ce.transferFromImageBitmap(Me),Ae=we.transferToImageBitmap()}catch{}break;case"AudioData":case"VideoFrame":(!c(Me.clone)||!c(Me.close))&&Se(Te,pe);try{Ae=Me.clone(),Me.close()}catch{}break;case"ArrayBuffer":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":Se(Te,pe)}if(Ae===void 0)throw new H("This object cannot be transferred: "+Te,le);$(Re,Me,Ae)}};l({global:!0,enumerable:!0,sham:!Ee,forced:xe},{structuredClone:function(Re){var Ne=T(arguments.length,1)>1&&arguments[1]!=null?A(arguments[1]):void 0,Pe=Ne?Ne.transfer:void 0,Ie;return Pe!==void 0&&(Ie=new Q,Oe(Pe,Ie)),be(Re,Ie)}})},(i,t,r)=>{var a=r(17),l=r(10),g=r(23),d=r(80),s=r(25),u=r(52),n=function(){},c=[],C=s("Reflect","construct"),m=/^\s*(?:class|function)\b/,e=a(m.exec),E=!m.exec(n),A=function(v){if(!g(v))return!1;try{return C(n,c,v),!0}catch{return!1}},B=function(v){if(!g(v))return!1;switch(d(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return E||!!e(m,u(v))}catch{return!0}};B.sham=!0,i.exports=!C||l(function(){var O;return A(A.call)||!A(Object)||!A(function(){O=!0})||O})?B:A},i=>{var t=TypeError;i.exports=function(r,a){if(r<a)throw t("Not enough arguments");return r}},(i,t,r)=>{var a=r(11),l=r(40),g=r(26),d=r(123),s=RegExp.prototype;i.exports=function(u){var n=u.flags;return n===void 0&&!("flags"in s)&&!l(u,"flags")&&g(s,u)?a(d,u):n}},(i,t,r)=>{var a=r(48);i.exports=function(){var l=a(this),g="";return l.hasIndices&&(g+="d"),l.global&&(g+="g"),l.ignoreCase&&(g+="i"),l.multiline&&(g+="m"),l.dotAll&&(g+="s"),l.unicode&&(g+="u"),l.unicodeSets&&(g+="v"),l.sticky&&(g+="y"),g}},(i,t,r)=>{var a=r(10),l=r(14);i.exports=!a(function(){var g=Error("a");return"stack"in g?(Object.defineProperty(g,"stack",l(1,7)),g.stack!==7):!0})},(i,t,r)=>{var a=r(126),l=r(127);i.exports=!a&&!l&&typeof window=="object"&&typeof document=="object"},i=>{i.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},(i,t,r)=>{var a=r(18),l=r(7);i.exports=a(l.process)=="process"},(i,t,r)=>{var a=r(7);i.exports=a},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(130),_display_utils=__w_pdfjs_require__(133),_font_loader=__w_pdfjs_require__(136),_canvas=__w_pdfjs_require__(137),_worker_options=__w_pdfjs_require__(140),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(141),_metadata=__w_pdfjs_require__(142),_optional_content_config=__w_pdfjs_require__(143),_transport_stream=__w_pdfjs_require__(144),_xfa_text=__w_pdfjs_require__(145);function _classPrivateMethodInitSpec(i,t){_checkPrivateRedeclaration(i,t),t.add(i)}function _classPrivateMethodGet(i,t,r){if(!t.has(i))throw new TypeError("attempted to get private field on non-instance");return r}function _classPrivateFieldInitSpec(i,t,r){_checkPrivateRedeclaration(i,t),t.set(i,r)}function _checkPrivateRedeclaration(i,t){if(t.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldSet(i,t,r){var a=_classExtractFieldDescriptor(i,t,"set");return _classApplyDescriptorSet(i,a,r),r}function _classPrivateFieldGet(i,t){var r=_classExtractFieldDescriptor(i,t,"get");return _classApplyDescriptorGet(i,r)}function _classExtractFieldDescriptor(i,t,r){if(!t.has(i))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(i)}function _classStaticPrivateFieldSpecSet(i,t,r,a){return _classCheckPrivateStaticAccess(i,t),_classCheckPrivateStaticFieldDescriptor(r,"set"),_classApplyDescriptorSet(i,r,a),a}function _classApplyDescriptorSet(i,t,r){if(t.set)t.set.call(i,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}function _classStaticPrivateFieldSpecGet(i,t,r){return _classCheckPrivateStaticAccess(i,t),_classCheckPrivateStaticFieldDescriptor(r,"get"),_classApplyDescriptorGet(i,r)}function _classCheckPrivateStaticFieldDescriptor(i,t){if(i===void 0)throw new TypeError("attempted to "+t+" private static field before its declaration")}function _classCheckPrivateStaticAccess(i,t){if(i!==t)throw new TypeError("Private static access of wrong provenance")}function _classApplyDescriptorGet(i,t){return t.get?t.get.call(i):t.value}const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:i,NodeCMapReaderFactory:t,NodeStandardFontDataFactory:r}=__w_pdfjs_require__(146);exports.DefaultCanvasFactory=DefaultCanvasFactory=i,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=t,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=r}let createPDFNetworkStream;function setPDFNetworkStreamFactory(i){createPDFNetworkStream=i}function getDocument(i){const t=new PDFDocumentLoadingTask;let r;if(typeof i=="string"||i instanceof URL)r={url:i};else if((0,_util.isArrayBuffer)(i))r={data:i};else if(i instanceof PDFDataRangeTransport)r={range:i};else{if(typeof i!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!i.url&&!i.data&&!i.range)throw new Error("Invalid parameter object: need either .data, .range or .url");r=i}const a=Object.create(null);let l=null,g=null;for(const s in r){const u=r[s];switch(s){case"url":if(typeof window<"u")try{a[s]=new URL(u,window.location).href;continue}catch(n){(0,_util.warn)(`Cannot create valid URL: "${n}".`)}else if(typeof u=="string"||u instanceof URL){a[s]=u.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":l=u;continue;case"worker":g=u;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&u instanceof Buffer)a[s]=new Uint8Array(u);else{if(u instanceof Uint8Array)break;if(typeof u=="string")a[s]=(0,_util.stringToBytes)(u);else if(typeof u=="object"&&u!==null&&!isNaN(u.length))a[s]=new Uint8Array(u);else if((0,_util.isArrayBuffer)(u))a[s]=new Uint8Array(u);else throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}continue}a[s]=u}if(a.CMapReaderFactory=a.CMapReaderFactory||DefaultCMapReaderFactory,a.StandardFontDataFactory=a.StandardFontDataFactory||DefaultStandardFontDataFactory,a.ignoreErrors=a.stopAtErrors!==!0,a.fontExtraProperties=a.fontExtraProperties===!0,a.pdfBug=a.pdfBug===!0,a.enableXfa=a.enableXfa===!0,(!Number.isInteger(a.rangeChunkSize)||a.rangeChunkSize<1)&&(a.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof a.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(a.docBaseUrl))&&(a.docBaseUrl=null),(!Number.isInteger(a.maxImageSize)||a.maxImageSize<-1)&&(a.maxImageSize=-1),typeof a.cMapUrl!="string"&&(a.cMapUrl=null),typeof a.standardFontDataUrl!="string"&&(a.standardFontDataUrl=null),typeof a.useWorkerFetch!="boolean"&&(a.useWorkerFetch=a.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&a.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof a.isEvalSupported!="boolean"&&(a.isEvalSupported=!0),typeof a.disableFontFace!="boolean"&&(a.disableFontFace=_is_node.isNodeJS),typeof a.useSystemFonts!="boolean"&&(a.useSystemFonts=!_is_node.isNodeJS&&!a.disableFontFace),(typeof a.ownerDocument!="object"||a.ownerDocument===null)&&(a.ownerDocument=globalThis.document),typeof a.disableRange!="boolean"&&(a.disableRange=!1),typeof a.disableStream!="boolean"&&(a.disableStream=!1),typeof a.disableAutoFetch!="boolean"&&(a.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(a.verbosity),!g){const s={verbosity:a.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};g=s.port?_PDFWorker.fromPort(s):new _PDFWorker(s),t._worker=g}const d=t.docId;return g.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");const s=_fetchDocument(g,a,l,d),u=new Promise(function(n){let c;l?c=new _transport_stream.PDFDataTransportStream({length:a.length,initialData:a.initialData,progressiveDone:a.progressiveDone,contentDispositionFilename:a.contentDispositionFilename,disableRange:a.disableRange,disableStream:a.disableStream},l):a.data||(c=createPDFNetworkStream({url:a.url,length:a.length,httpHeaders:a.httpHeaders,withCredentials:a.withCredentials,rangeChunkSize:a.rangeChunkSize,disableRange:a.disableRange,disableStream:a.disableStream})),n(c)});return Promise.all([s,u]).then(function(n){let[c,C]=n;if(t.destroyed)throw new Error("Loading aborted");const m=new _message_handler.MessageHandler(d,c,g.port),e=new WorkerTransport(m,t,C,a);t._transport=e,m.send("Ready",null)})}).catch(t._capability.reject),t}async function _fetchDocument(i,t,r,a){if(i.destroyed)throw new Error("Worker was destroyed");r&&(t.length=r.length,t.initialData=r.initialData,t.progressiveDone=r.progressiveDone,t.contentDispositionFilename=r.contentDispositionFilename);const l=await i.messageHandler.sendWithPromise("GetDocRequest",{docId:a,apiVersion:"2.16.105",source:{data:t.data,url:t.url,password:t.password,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize,length:t.length},maxImageSize:t.maxImageSize,disableFontFace:t.disableFontFace,docBaseUrl:t.docBaseUrl,ignoreErrors:t.ignoreErrors,isEvalSupported:t.isEvalSupported,fontExtraProperties:t.fontExtraProperties,enableXfa:t.enableXfa,useSystemFonts:t.useSystemFonts,cMapUrl:t.useWorkerFetch?t.cMapUrl:null,standardFontDataUrl:t.useWorkerFetch?t.standardFontDataUrl:null});if(t.data&&(t.data=null),i.destroyed)throw new Error("Worker was destroyed");return l}class PDFDocumentLoadingTask{constructor(){var t,r;this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${_classStaticPrivateFieldSpecSet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId,(t=_classStaticPrivateFieldSpecGet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId),r=t++,t)),r}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){var t;this.destroyed=!0,await((t=this._transport)===null||t===void 0?void 0:t.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;var _docId={writable:!0,value:0};class PDFDataRangeTransport{constructor(t,r){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;this.length=t,this.initialData=r,this.progressiveDone=a,this.contentDispositionFilename=l,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,r){for(const a of this._rangeListeners)a(t,r)}onDataProgress(t,r){this._readyCapability.promise.then(()=>{for(const a of this._progressListeners)a(t,r)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const r of this._progressiveReadListeners)r(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,r){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(t,r){this._pdfInfo=t,this._transport=r,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(t,r,a,l){let g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;this._pageIndex=t,this._pageInfo=r,this._ownerDocument=l,this._transport=a,this._stats=g?new _display_utils.StatTimer:null,this._pdfBug=g,this.commonObjs=a.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:t,rotation:r=this.rotate,offsetX:a=0,offsetY:l=0,dontFlip:g=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new _display_utils.PageViewport({viewBox:this.view,scale:t,rotation:r,offsetX:a,offsetY:l,dontFlip:g})}getAnnotations(){let{intent:t="display"}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=this._transport.getRenderingIntent(t);let a=this._annotationPromises.get(r.cacheKey);return a||(a=this._transport.getAnnotations(this._pageIndex,r.renderingIntent),this._annotationPromises.set(r.cacheKey,a),a=a.then(l=>{for(const g of l)g.titleObj!==void 0&&Object.defineProperty(g,"title",{get(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),g.titleObj.str}}),g.contentsObj!==void 0&&Object.defineProperty(g,"contents",{get(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),g.contentsObj.str}});return l})),a}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}async getXfa(){var t;return((t=this._transport._htmlForXfa)===null||t===void 0?void 0:t.children[this._pageIndex])||null}render(t){var r,a,l;let{canvasContext:g,viewport:d,intent:s="display",annotationMode:u=_util.AnnotationMode.ENABLE,transform:n=null,imageLayer:c=null,canvasFactory:C=null,background:m=null,optionalContentConfigPromise:e=null,annotationCanvasMap:E=null,pageColors:A=null,printAnnotationStorage:B=null}=t;((r=arguments[0])===null||r===void 0?void 0:r.renderInteractiveForms)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&u===_util.AnnotationMode.ENABLE&&(u=_util.AnnotationMode.ENABLE_FORMS)),((a=arguments[0])===null||a===void 0?void 0:a.includeAnnotationStorage)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&u===_util.AnnotationMode.ENABLE&&(u=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const O=this._transport.getRenderingIntent(s,u,B);this.pendingCleanup=!1,e||(e=this._transport.getOptionalContentConfig());let v=this._intentStates.get(O.cacheKey);v||(v=Object.create(null),this._intentStates.set(O.cacheKey,v)),v.streamReaderCancelTimeout&&(clearTimeout(v.streamReaderCancelTimeout),v.streamReaderCancelTimeout=null);const b=C||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),o=!!(O.renderingIntent&_util.RenderingIntentFlag.PRINT);v.displayReadyCapability||(v.displayReadyCapability=(0,_util.createPromiseCapability)(),v.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(O));const T=y=>{v.renderTasks.delete(D),(this.cleanupAfterRender||o)&&(this.pendingCleanup=!0),this._tryCleanup(),y?(D.capability.reject(y),this._abortOperatorList({intentState:v,reason:y instanceof Error?y:new Error(y)})):D.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},D=new InternalRenderTask({callback:T,params:{canvasContext:g,viewport:d,transform:n,imageLayer:c,background:m},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:E,operatorList:v.operatorList,pageIndex:this._pageIndex,canvasFactory:b,useRequestAnimationFrame:!o,pdfBug:this._pdfBug,pageColors:A});((l=v).renderTasks||(l.renderTasks=new Set)).add(D);const _=D.task;return Promise.all([v.displayReadyCapability.promise,e]).then(y=>{let[P,w]=y;if(this.pendingCleanup){T();return}this._stats&&this._stats.time("Rendering"),D.initializeGraphics({transparency:P,optionalContentConfig:w}),D.operatorListChanged()}).catch(T),_}getOperatorList(){let{intent:t="display",annotationMode:r=_util.AnnotationMode.ENABLE,printAnnotationStorage:a=null}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function l(){d.operatorList.lastChunk&&(d.opListReadCapability.resolve(d.operatorList),d.renderTasks.delete(s))}const g=this._transport.getRenderingIntent(t,r,a,!0);let d=this._intentStates.get(g.cacheKey);d||(d=Object.create(null),this._intentStates.set(g.cacheKey,d));let s;if(!d.opListReadCapability){var u;s=Object.create(null),s.operatorListChanged=l,d.opListReadCapability=(0,_util.createPromiseCapability)(),((u=d).renderTasks||(u.renderTasks=new Set)).add(s),d.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(g)}return d.opListReadCapability.promise}streamTextContent(){let{disableCombineTextItems:t=!1,includeMarkedContent:r=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const a=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:t!==!0,includeMarkedContent:r===!0},{highWaterMark:a,size(l){return l.items.length}})}getTextContent(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(a=>_xfa_text.XfaText.textContent(a));const r=this.streamTextContent(t);return new Promise(function(a,l){function g(){d.read().then(function(u){let{value:n,done:c}=u;if(c){a(s);return}Object.assign(s.styles,n.styles),s.items.push(...n.items),g()},l)}const d=r.getReader(),s={items:[],styles:Object.create(null)};g()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const t=[];for(const r of this._intentStates.values())if(this._abortOperatorList({intentState:r,reason:new Error("Page was destroyed."),force:!0}),!r.opListReadCapability)for(const a of r.renderTasks)t.push(a.completed),a.cancel();this.objs.clear();for(const r of this._bitmaps)r.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(t)}cleanup(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.pendingCleanup=!0,this._tryCleanup(t)}_tryCleanup(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.pendingCleanup)return!1;for(const{renderTasks:r,operatorList:a}of this._intentStates.values())if(r.size>0||!a.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,t&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const r of this._bitmaps)r.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(t,r){const a=this._intentStates.get(r);!a||(this._stats&&this._stats.timeEnd("Page Request"),a.displayReadyCapability&&a.displayReadyCapability.resolve(t))}_renderPageChunk(t,r){for(let a=0,l=t.length;a<l;a++)r.operatorList.fnArray.push(t.fnArray[a]),r.operatorList.argsArray.push(t.argsArray[a]);r.operatorList.lastChunk=t.lastChunk,r.operatorList.separateAnnots=t.separateAnnots;for(const a of r.renderTasks)a.operatorListChanged();t.lastChunk&&this._tryCleanup()}_pumpOperatorList(t){let{renderingIntent:r,cacheKey:a,annotationStorageMap:l}=t;const d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:r,cacheKey:a,annotationStorage:l}).getReader(),s=this._intentStates.get(a);s.streamReader=d;const u=()=>{d.read().then(n=>{let{value:c,done:C}=n;if(C){s.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(c,s),u())},n=>{if(s.streamReader=null,!this._transport.destroyed){if(s.operatorList){s.operatorList.lastChunk=!0;for(const c of s.renderTasks)c.operatorListChanged();this._tryCleanup()}if(s.displayReadyCapability)s.displayReadyCapability.reject(n);else if(s.opListReadCapability)s.opListReadCapability.reject(n);else throw n}})};u()}_abortOperatorList(t){let{intentState:r,reason:a,force:l=!1}=t;if(!!r.streamReader){if(!l){if(r.renderTasks.size>0)return;if(a instanceof _display_utils.RenderingCancelledException){r.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:r,reason:a,force:!0}),r.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(r.streamReader.cancel(new _util.AbortException(a.message)).catch(()=>{}),r.streamReader=null,!this._transport.destroyed){for(const[g,d]of this._intentStates)if(d===r){this._intentStates.delete(g);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(t,r){const a={data:structuredClone(t,r)};this._deferred.then(()=>{for(const l of this._listeners)l.call(this,a)})}addEventListener(t,r){this._listeners.push(r)}removeEventListener(t,r){const a=this._listeners.indexOf(r);this._listeners.splice(a,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire$1=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){var _document,_document$currentScri;const i=(_document=document)===null||_document===void 0||(_document$currentScri=_document.currentScript)===null||_document$currentScri===void 0?void 0:_document$currentScri.src;i&&(PDFWorkerUtil.fallbackWorkerSrc=i.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(i,t){let r;try{if(r=new URL(i),!r.origin||r.origin==="null")return!1}catch{return!1}const a=new URL(t,r);return r.origin===a.origin},PDFWorkerUtil.createCDNWrapper=function(i){const t=`importScripts("${i}");`;return URL.createObjectURL(new Blob([t]))}}class _PDFWorker{constructor(){let{name:i=null,port:t=null,verbosity:r=(0,_util.getVerbosityLevel)()}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(t&&_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).has(t))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=i,this.destroyed=!1,this.verbosity=r,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,t){_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(i){this._port=i,this._messageHandler=new _message_handler.MessageHandler("main","worker",i),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:i}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,i)||(i=PDFWorkerUtil.createCDNWrapper(new URL(i,window.location).href));const t=new Worker(i),r=new _message_handler.MessageHandler("main","worker",t),a=()=>{t.removeEventListener("error",l),r.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},l=()=>{this._webWorker||a()};t.addEventListener("error",l),r.on("test",d=>{if(t.removeEventListener("error",l),this.destroyed){a();return}d?(this._messageHandler=r,this._port=t,this._webWorker=t,this._readyCapability.resolve(),r.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),r.destroy(),t.terminate())}),r.on("ready",d=>{if(t.removeEventListener("error",l),this.destroyed){a();return}try{g()}catch{this._setupFakeWorker()}});const g=()=>{const d=new Uint8Array;r.send("test",d,[d.buffer])};g();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(i=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new LoopbackPort;this._port=t;const r=`fake${PDFWorkerUtil.fakeWorkerId++}`,a=new _message_handler.MessageHandler(r+"_worker",r,t);i.setup(a,t);const l=new _message_handler.MessageHandler(r,r+"_worker",t);this._messageHandler=l,this._readyCapability.resolve(),l.send("configure",{verbosity:this.verbosity})}).catch(i=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${i.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(i){if(!(i!=null&&i.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return _classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).has(i.port)?_classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).get(i.port):new _PDFWorker(i)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{var i;return((i=globalThis.pdfjsWorker)===null||i===void 0?void 0:i.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire$1=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=_PDFWorker;var _workerPorts={writable:!0,value:new WeakMap};_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(t,r,a,l){_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=t,this.loadingTask=r,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:r.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:l.ownerDocument,styleElement:l.styleElement}),this._params=l,l.useWorkerFetch||(this.CMapReaderFactory=new l.CMapReaderFactory({baseUrl:l.cMapUrl,isCompressed:l.cMapPacked}),this.StandardFontDataFactory=new l.StandardFontDataFactory({baseUrl:l.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=a,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(this,_docStats)}getRenderingIntent(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_util.AnnotationMode.ENABLE,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,g=_util.RenderingIntentFlag.DISPLAY,d=null;switch(t){case"any":g=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":g=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${t}`)}switch(r){case _util.AnnotationMode.DISABLE:g+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:g+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:g+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,d=(g&_util.RenderingIntentFlag.PRINT&&a instanceof _annotation_storage.PrintAnnotationStorage?a:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${r}`)}return l&&(g+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:g,cacheKey:`${g}_${_annotation_storage.AnnotationStorage.getHash(d)}`,annotationStorageMap:d}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const a of _classPrivateFieldGet(this,_pageCache).values())t.push(a._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const r=this.messageHandler.sendWithPromise("Terminate",null);return t.push(r),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:r}=this;t.on("GetReader",(a,l)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=g=>{this._lastProgress={loaded:g.loaded,total:g.total}},l.onPull=()=>{this._fullReader.read().then(function(g){let{value:d,done:s}=g;if(s){l.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(d),"GetReader - expected an ArrayBuffer."),l.enqueue(new Uint8Array(d),1,[d])}).catch(g=>{l.error(g)})},l.onCancel=g=>{this._fullReader.cancel(g),l.ready.catch(d=>{if(!this.destroyed)throw d})}}),t.on("ReaderHeadersReady",a=>{const l=(0,_util.createPromiseCapability)(),g=this._fullReader;return g.headersReady.then(()=>{if(!g.isStreamingSupported||!g.isRangeSupported){if(this._lastProgress){var d;(d=r.onProgress)===null||d===void 0||d.call(r,this._lastProgress)}g.onProgress=s=>{var u;(u=r.onProgress)===null||u===void 0||u.call(r,{loaded:s.loaded,total:s.total})}}l.resolve({isStreamingSupported:g.isStreamingSupported,isRangeSupported:g.isRangeSupported,contentLength:g.contentLength})},l.reject),l.promise}),t.on("GetRangeReader",(a,l)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const g=this._networkStream.getRangeReader(a.begin,a.end);if(!g){l.close();return}l.onPull=()=>{g.read().then(function(d){let{value:s,done:u}=d;if(u){l.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(s),"GetRangeReader - expected an ArrayBuffer."),l.enqueue(new Uint8Array(s),1,[s])}).catch(d=>{l.error(d)})},l.onCancel=d=>{g.cancel(d),l.ready.catch(s=>{if(!this.destroyed)throw s})}}),t.on("GetDoc",a=>{let{pdfInfo:l}=a;this._numPages=l.numPages,this._htmlForXfa=l.htmlForXfa,delete l.htmlForXfa,r._capability.resolve(new PDFDocumentProxy(l,this))}),t.on("DocException",function(a){let l;switch(a.name){case"PasswordException":l=new _util.PasswordException(a.message,a.code);break;case"InvalidPDFException":l=new _util.InvalidPDFException(a.message);break;case"MissingPDFException":l=new _util.MissingPDFException(a.message);break;case"UnexpectedResponseException":l=new _util.UnexpectedResponseException(a.message,a.status);break;case"UnknownErrorException":l=new _util.UnknownErrorException(a.message,a.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}r._capability.reject(l)}),t.on("PasswordRequest",a=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),r.onPassword){const l=g=>{g instanceof Error?this._passwordCapability.reject(g):this._passwordCapability.resolve({password:g})};try{r.onPassword(l,a.code)}catch(g){this._passwordCapability.reject(g)}}else this._passwordCapability.reject(new _util.PasswordException(a.message,a.code));return this._passwordCapability.promise}),t.on("DataLoaded",a=>{var l;(l=r.onProgress)===null||l===void 0||l.call(r,{loaded:a.length,total:a.length}),this.downloadInfoCapability.resolve(a)}),t.on("StartRenderPage",a=>{if(this.destroyed)return;_classPrivateFieldGet(this,_pageCache).get(a.pageIndex)._startRenderPage(a.transparency,a.cacheKey)}),t.on("commonobj",a=>{var l;let[g,d,s]=a;if(!this.destroyed&&!this.commonObjs.has(g))switch(d){case"Font":const u=this._params;if("error"in s){const C=s.error;(0,_util.warn)(`Error during font loading: ${C}`),this.commonObjs.resolve(g,C);break}let n=null;u.pdfBug&&(l=globalThis.FontInspector)!==null&&l!==void 0&&l.enabled&&(n={registerFont(C,m){globalThis.FontInspector.fontAdded(C,m)}});const c=new _font_loader.FontFaceObject(s,{isEvalSupported:u.isEvalSupported,disableFontFace:u.disableFontFace,ignoreErrors:u.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:n});this.fontLoader.bind(c).catch(C=>t.sendWithPromise("FontFallback",{id:g})).finally(()=>{!u.fontExtraProperties&&c.data&&(c.data=null),this.commonObjs.resolve(g,c)});break;case"FontPath":case"Image":this.commonObjs.resolve(g,s);break;default:throw new Error(`Got unknown common object type ${d}`)}}),t.on("obj",a=>{let[l,g,d,s]=a;if(this.destroyed)return;const u=_classPrivateFieldGet(this,_pageCache).get(g);if(!u.objs.has(l))switch(d){case"Image":u.objs.resolve(l,s);const c=8e6;if(s){let C;if(s.bitmap){const{bitmap:m,width:e,height:E}=s;C=e*E*4,u._bitmaps.add(m)}else{var n;C=((n=s.data)===null||n===void 0?void 0:n.length)||0}C>c&&(u.cleanupAfterRender=!0)}break;case"Pattern":u.objs.resolve(l,s);break;default:throw new Error(`Got unknown object type ${d}`)}}),t.on("DocProgress",a=>{var l;this.destroyed||(l=r.onProgress)===null||l===void 0||l.call(r,{loaded:a.loaded,total:a.total})}),t.on("DocStats",a=>{this.destroyed||_classPrivateFieldSet(this,_docStats,Object.freeze({streamTypes:Object.freeze(a.streamTypes),fontTypes:Object.freeze(a.fontTypes)}))}),t.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),t.on("FetchBuiltInCMap",a=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(a):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),t.on("FetchStandardFontData",a=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(a):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature(t){var r,a;let{featureId:l}=t;this.destroyed||(r=(a=this.loadingTask).onUnsupportedFeature)===null||r===void 0||r.call(a,l)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const r=t-1,a=_classPrivateFieldGet(this,_pagePromises).get(r);if(a)return a;const l=this.messageHandler.sendWithPromise("GetPage",{pageIndex:r}).then(g=>{if(this.destroyed)throw new Error("Transport destroyed");const d=new PDFPageProxy(r,g,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(r,d),d});return _classPrivateFieldGet(this,_pagePromises).set(r,l),l}getPageIndex(t){return typeof t!="object"||t===null||!Number.isInteger(t.num)||t.num<0||!Number.isInteger(t.gen)||t.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen})}getAnnotations(t,r){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:r})}saveDocument(){var t,r;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(t=(r=this._fullReader)===null||r===void 0?void 0:r.filename)!==null&&t!==void 0?t:null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(t=>new _optional_content_config.OptionalContentConfig(t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(t=>{var r,a,l,g;return{info:t[0],metadata:t[1]?new _metadata.Metadata(t[1]):null,contentDispositionFilename:(r=(a=this._fullReader)===null||a===void 0?void 0:a.filename)!==null&&r!==void 0?r:null,contentLength:(l=(g=this._fullReader)===null||g===void 0?void 0:g.contentLength)!==null&&l!==void 0?l:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(const r of _classPrivateFieldGet(this,_pageCache).values())if(!r.cleanup())throw new Error(`startCleanup: Page ${r.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const t=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:t.disableAutoFetch,enableXfa:t.enableXfa})}}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(r){const l=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,t);return l.capability.promise.then(()=>r(l.data)),null}const a=_classPrivateFieldGet(this,_objs)[t];if(!(a!=null&&a.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${t}.`);return a.data}has(t){const r=_classPrivateFieldGet(this,_objs)[t];return(r==null?void 0:r.capability.settled)||!1}resolve(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const a=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,t);a.data=r,a.capability.resolve()}clear(){_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(i){const t=_classPrivateFieldGet(this,_objs)[i];return t||(_classPrivateFieldGet(this,_objs)[i]={capability:(0,_util.createPromiseCapability)(),data:null})}var _internalRenderTask=new WeakMap;class RenderTask{constructor(t){_classPrivateFieldInitSpec(this,_internalRenderTask,{writable:!0,value:null}),_classPrivateFieldSet(this,_internalRenderTask,t),this.onContinue=null}get promise(){return _classPrivateFieldGet(this,_internalRenderTask).capability.promise}cancel(){_classPrivateFieldGet(this,_internalRenderTask).cancel()}get separateAnnots(){const{separateAnnots:t}=_classPrivateFieldGet(this,_internalRenderTask).operatorList;if(!t)return!1;const{annotationCanvasMap:r}=_classPrivateFieldGet(this,_internalRenderTask);return t.form||t.canvas&&(r==null?void 0:r.size)>0}}exports.RenderTask=RenderTask;class InternalRenderTask{constructor(t){let{callback:r,params:a,objs:l,commonObjs:g,annotationCanvasMap:d,operatorList:s,pageIndex:u,canvasFactory:n,useRequestAnimationFrame:c=!1,pdfBug:C=!1,pageColors:m=null}=t;this.callback=r,this.params=a,this.objs=l,this.commonObjs=g,this.annotationCanvasMap=d,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=u,this.canvasFactory=n,this._pdfBug=C,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=c===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=a.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics(t){var r;let{transparency:a=!1,optionalContentConfig:l}=t;if(this.cancelled)return;if(this._canvas){if(_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).add(this._canvas)}this._pdfBug&&(r=globalThis.StepperManager)!==null&&r!==void 0&&r.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:g,viewport:d,transform:s,imageLayer:u,background:n}=this.params;this.gfx=new _canvas.CanvasGraphics(g,this.commonObjs,this.objs,this.canvasFactory,u,l,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:d,transparency:a,background:n}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback(t||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback())))}}var _canvasInUse={writable:!0,value:new WeakSet};const version="2.16.105";exports.version=version;const build="172ccdbe5";exports.build=build},(i,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PrintAnnotationStorage=t.AnnotationStorage=void 0;var a=r(1),l=r(131),g=r(135);function d(o,T,D){e(o,T),T.set(o,D)}function s(o,T){var D=c(o,T,"get");return u(o,D)}function u(o,T){return T.get?T.get.call(o):T.value}function n(o,T,D){var _=c(o,T,"set");return C(o,_,D),D}function c(o,T,D){if(!T.has(o))throw new TypeError("attempted to "+D+" private field on non-instance");return T.get(o)}function C(o,T,D){if(T.set)T.set.call(o,D);else{if(!T.writable)throw new TypeError("attempted to set read only private field");T.value=D}}function m(o,T){e(o,T),T.add(o)}function e(o,T){if(T.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")}function E(o,T,D){if(!T.has(o))throw new TypeError("attempted to get private field on non-instance");return D}var A=new WeakSet;class B{constructor(){m(this,A),this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(T,D){const _=this._storage.get(T);return _===void 0?D:Object.assign(D,_)}getRawValue(T){return this._storage.get(T)}remove(T){if(this._storage.delete(T),this._storage.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const D of this._storage.values())if(D instanceof l.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(T,D){const _=this._storage.get(T);let y=!1;if(_!==void 0)for(const[P,w]of Object.entries(D))_[P]!==w&&(y=!0,_[P]=w);else y=!0,this._storage.set(T,D);y&&E(this,A,O).call(this),D instanceof l.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(D.constructor._type)}has(T){return this._storage.has(T)}getAll(){return this._storage.size>0?(0,a.objectFromMap)(this._storage):null}get size(){return this._storage.size}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new b(this)}get serializable(){if(this._storage.size===0)return null;const T=new Map;for(const[D,_]of this._storage){const y=_ instanceof l.AnnotationEditor?_.serialize():_;y&&T.set(D,y)}return T}static getHash(T){if(!T)return"";const D=new g.MurmurHash3_64;for(const[_,y]of T)D.update(`${_}:${JSON.stringify(y)}`);return D.hexdigest()}}t.AnnotationStorage=B;function O(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())}var v=new WeakMap;class b extends B{constructor(T){super(),d(this,v,{writable:!0,value:null}),n(this,v,structuredClone(T.serializable))}get print(){(0,a.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return s(this,v)}}t.PrintAnnotationStorage=b},(i,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditor=void 0;var a=r(132),l=r(1);function g(o,T,D){return T in o?Object.defineProperty(o,T,{value:D,enumerable:!0,configurable:!0,writable:!0}):o[T]=D,o}function d(o,T,D){s(o,T),T.set(o,D)}function s(o,T){if(T.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")}function u(o,T,D){var _=C(o,T,"set");return n(o,_,D),D}function n(o,T,D){if(T.set)T.set.call(o,D);else{if(!T.writable)throw new TypeError("attempted to set read only private field");T.value=D}}function c(o,T){var D=C(o,T,"get");return m(o,D)}function C(o,T,D){if(!T.has(o))throw new TypeError("attempted to "+D+" private field on non-instance");return T.get(o)}function m(o,T){return T.get?T.get.call(o):T.value}var e=new WeakMap,E=new WeakMap,A=new WeakMap,B=new WeakMap,O=new WeakMap,v=new WeakMap;class b{constructor(T){d(this,e,{writable:!0,value:this.focusin.bind(this)}),d(this,E,{writable:!0,value:this.focusout.bind(this)}),d(this,A,{writable:!0,value:!1}),d(this,B,{writable:!0,value:!1}),d(this,O,{writable:!0,value:!1}),d(this,v,{writable:!0,value:b._zIndex++}),this.constructor===b&&(0,l.unreachable)("Cannot initialize AnnotationEditor."),this.parent=T.parent,this.id=T.id,this.width=this.height=null,this.pageIndex=T.parent.pageIndex,this.name=T.name,this.div=null;const[D,_]=this.parent.viewportBaseDimensions;this.x=T.x/D,this.y=T.y/_,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,l.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=c(this,v)}focusin(T){c(this,A)?u(this,A,!1):this.parent.setSelected(this)}focusout(T){if(!this.isAttachedToDOM)return;const D=T.relatedTarget;D!=null&&D.closest(`#${this.id}`)||(T.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(T){const D=this.parent.div.getBoundingClientRect();this.startX=T.clientX-D.x,this.startY=T.clientY-D.y,T.dataTransfer.setData("text/plain",this.id),T.dataTransfer.effectAllowed="move"}setAt(T,D,_,y){const[P,w]=this.parent.viewportBaseDimensions;[_,y]=this.screenToPageTranslation(_,y),this.x=(T+_)/P,this.y=(D+y)/w,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(T,D){const[_,y]=this.parent.viewportBaseDimensions;[T,D]=this.screenToPageTranslation(T,D),this.x+=T/_,this.y+=D/y,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(T,D){const{rotation:_}=this.parent.viewport;switch(_){case 90:return[D,-T];case 180:return[-T,-D];case 270:return[-D,T];default:return[T,D]}}setDims(T,D){const[_,y]=this.parent.viewportBaseDimensions;this.div.style.width=`${100*T/_}%`,this.div.style.height=`${100*D/y}%`}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",c(this,e)),this.div.addEventListener("focusout",c(this,E));const[T,D]=this.getInitialTranslation();return this.translate(T,D),(0,a.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(T){const D=a.KeyboardManager.platform.isMac;if(T.button!==0||T.ctrlKey&&D){T.preventDefault();return}T.ctrlKey&&!D||T.shiftKey||T.metaKey&&D?this.parent.toggleSelected(this):this.parent.setSelected(this),u(this,A,!0)}getRect(T,D){const[_,y]=this.parent.viewportBaseDimensions,[P,w]=this.parent.pageDimensions,M=P*T/_,q=w*D/y,F=this.x*P,G=this.y*w,R=this.width*P,I=this.height*w;switch(this.rotation){case 0:return[F+M,w-G-q-I,F+M+R,w-G-q];case 90:return[F+q,w-G+M,F+q+I,w-G+M+R];case 180:return[F-M-R,w-G+q,F-M,w-G+q+I];case 270:return[F-q-I,w-G-M-R,F-q,w-G-M];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(T,D){const[_,y,P,w]=T,M=P-_,q=w-y;switch(this.rotation){case 0:return[_,D-w,M,q];case 90:return[_,D-y,q,M];case 180:return[P,D-y,M,q];case 270:return[P,D-w,q,M];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){u(this,O,!0)}disableEditMode(){u(this,O,!1)}isInEditMode(){return c(this,O)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var T;(T=this.div)===null||T===void 0||T.addEventListener("focusin",c(this,e))}serialize(){(0,l.unreachable)("An editor must be serializable")}static deserialize(T,D){const _=new this.prototype.constructor({parent:D,id:D.getNextId()});_.rotation=T.rotation;const[y,P]=D.pageDimensions,[w,M,q,F]=_.getRectInCurrentCoords(T.rect,P);return _.x=w/y,_.y=M/P,_.width=q/y,_.height=F/P,_}remove(){this.div.removeEventListener("focusin",c(this,e)),this.div.removeEventListener("focusout",c(this,E)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var T;(T=this.div)===null||T===void 0||T.classList.add("selectedEditor")}unselect(){var T;(T=this.div)===null||T===void 0||T.classList.remove("selectedEditor")}updateParams(T,D){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return c(this,B)}set isEditing(T){u(this,B,T),T?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}t.AnnotationEditor=b,g(b,"_colorManager",new a.ColorManager),g(b,"_zIndex",1)},(i,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardManager=t.CommandManager=t.ColorManager=t.AnnotationEditorUIManager=void 0,t.bindEvents=A,t.opacityToHex=B;var a=r(1),l=r(133);function g(ke,Se,be){return Se in ke?Object.defineProperty(ke,Se,{value:be,enumerable:!0,configurable:!0,writable:!0}):ke[Se]=be,ke}function d(ke,Se){n(ke,Se),Se.add(ke)}function s(ke,Se,be){if(!Se.has(ke))throw new TypeError("attempted to get private field on non-instance");return be}function u(ke,Se,be){n(ke,Se),Se.set(ke,be)}function n(ke,Se){if(Se.has(ke))throw new TypeError("Cannot initialize the same private elements twice on an object")}function c(ke,Se,be){var Ee=e(ke,Se,"set");return C(ke,Ee,be),be}function C(ke,Se,be){if(Se.set)Se.set.call(ke,be);else{if(!Se.writable)throw new TypeError("attempted to set read only private field");Se.value=be}}function m(ke,Se){var be=e(ke,Se,"get");return E(ke,be)}function e(ke,Se,be){if(!Se.has(ke))throw new TypeError("attempted to "+be+" private field on non-instance");return Se.get(ke)}function E(ke,Se){return Se.get?Se.get.call(ke):Se.value}function A(ke,Se,be){for(const Ee of be)Se.addEventListener(Ee,ke[Ee].bind(ke))}function B(ke){return Math.round(Math.min(255,Math.max(1,255*ke))).toString(16).padStart(2,"0")}var O=new WeakMap;class v{constructor(){u(this,O,{writable:!0,value:0})}getId(){var Se,be;return`${a.AnnotationEditorPrefix}${c(this,O,(Se=m(this,O),be=Se++,Se)),be}`}}var b=new WeakMap,o=new WeakMap,T=new WeakMap,D=new WeakMap;class _{constructor(){let Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:128;u(this,b,{writable:!0,value:[]}),u(this,o,{writable:!0,value:!1}),u(this,T,{writable:!0,value:void 0}),u(this,D,{writable:!0,value:-1}),c(this,T,Se)}add(Se){let{cmd:be,undo:Ee,mustExec:Oe,type:Fe=NaN,overwriteIfSameType:Re=!1,keepUndo:Ne=!1}=Se;if(Oe&&be(),m(this,o))return;const Pe={cmd:be,undo:Ee,type:Fe};if(m(this,D)===-1){m(this,b).length>0&&(m(this,b).length=0),c(this,D,0),m(this,b).push(Pe);return}if(Re&&m(this,b)[m(this,D)].type===Fe){Ne&&(Pe.undo=m(this,b)[m(this,D)].undo),m(this,b)[m(this,D)]=Pe;return}const Ie=m(this,D)+1;Ie===m(this,T)?m(this,b).splice(0,1):(c(this,D,Ie),Ie<m(this,b).length&&m(this,b).splice(Ie)),m(this,b).push(Pe)}undo(){m(this,D)!==-1&&(c(this,o,!0),m(this,b)[m(this,D)].undo(),c(this,o,!1),c(this,D,m(this,D)-1))}redo(){m(this,D)<m(this,b).length-1&&(c(this,D,m(this,D)+1),c(this,o,!0),m(this,b)[m(this,D)].cmd(),c(this,o,!1))}hasSomethingToUndo(){return m(this,D)!==-1}hasSomethingToRedo(){return m(this,D)<m(this,b).length-1}destroy(){c(this,b,null)}}t.CommandManager=_;var y=new WeakSet;class P{constructor(Se){d(this,y),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const be=P.platform.isMac;for(const[Ee,Oe]of Se)for(const Fe of Ee){const Re=Fe.startsWith("mac+");be&&Re?(this.callbacks.set(Fe.slice(4),Oe),this.allKeys.add(Fe.split("+").at(-1))):!be&&!Re&&(this.callbacks.set(Fe,Oe),this.allKeys.add(Fe.split("+").at(-1)))}}static get platform(){const Se=typeof navigator<"u"?navigator.platform:"";return(0,a.shadow)(this,"platform",{isWin:Se.includes("Win"),isMac:Se.includes("Mac")})}exec(Se,be){if(!this.allKeys.has(be.key))return;const Ee=this.callbacks.get(s(this,y,w).call(this,be));!Ee||(Ee.bind(Se)(),be.stopPropagation(),be.preventDefault())}}t.KeyboardManager=P;function w(ke){ke.altKey&&this.buffer.push("alt"),ke.ctrlKey&&this.buffer.push("ctrl"),ke.metaKey&&this.buffer.push("meta"),ke.shiftKey&&this.buffer.push("shift"),this.buffer.push(ke.key);const Se=this.buffer.join("+");return this.buffer.length=0,Se}var M=new WeakMap;class q{constructor(){u(this,M,{writable:!0,value:null})}copy(Se){!Se||(Array.isArray(Se)?c(this,M,Se.map(be=>be.serialize())):c(this,M,[Se.serialize()]),c(this,M,m(this,M).filter(be=>!!be)),m(this,M).length===0&&c(this,M,null))}paste(){return m(this,M)}isEmpty(){return m(this,M)===null}destroy(){c(this,M,null)}}class F{get _colors(){const Se=new Map([["CanvasText",null],["Canvas",null]]);return(0,l.getColorValues)(Se),(0,a.shadow)(this,"_colors",Se)}convert(Se){const be=(0,l.getRGB)(Se);if(!window.matchMedia("(forced-colors: active)").matches)return be;for(const[Ee,Oe]of this._colors)if(Oe.every((Fe,Re)=>Fe===be[Re]))return F._colorsMapping.get(Ee);return be}getHexCode(Se){const be=this._colors.get(Se);return be?a.Util.makeHexColor(...be):Se}}t.ColorManager=F,g(F,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));var G=new WeakMap,R=new WeakMap,I=new WeakMap,L=new WeakMap,x=new WeakMap,S=new WeakMap,W=new WeakMap,U=new WeakMap,z=new WeakMap,re=new WeakMap,J=new WeakMap,k=new WeakMap,H=new WeakMap,Z=new WeakMap,Q=new WeakMap,V=new WeakMap,Y=new WeakMap,te=new WeakSet,$=new WeakSet,X=new WeakSet,ne=new WeakSet,ce=new WeakSet,se=new WeakSet,K=new WeakSet,ee=new WeakSet,ie=new WeakSet;class oe{constructor(Se,be){d(this,ie),d(this,ee),d(this,K),d(this,se),d(this,ce),d(this,ne),d(this,X),d(this,$),d(this,te),u(this,G,{writable:!0,value:null}),u(this,R,{writable:!0,value:new Map}),u(this,I,{writable:!0,value:new Map}),u(this,L,{writable:!0,value:new q}),u(this,x,{writable:!0,value:new _}),u(this,S,{writable:!0,value:0}),u(this,W,{writable:!0,value:null}),u(this,U,{writable:!0,value:null}),u(this,z,{writable:!0,value:new v}),u(this,re,{writable:!0,value:!1}),u(this,J,{writable:!0,value:a.AnnotationEditorType.NONE}),u(this,k,{writable:!0,value:new Set}),u(this,H,{writable:!0,value:this.keydown.bind(this)}),u(this,Z,{writable:!0,value:this.onEditingAction.bind(this)}),u(this,Q,{writable:!0,value:this.onPageChanging.bind(this)}),u(this,V,{writable:!0,value:{isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1}}),u(this,Y,{writable:!0,value:null}),c(this,Y,Se),c(this,U,be),m(this,U)._on("editingaction",m(this,Z)),m(this,U)._on("pagechanging",m(this,Q))}destroy(){s(this,$,pe).call(this),m(this,U)._off("editingaction",m(this,Z)),m(this,U)._off("pagechanging",m(this,Q));for(const Se of m(this,I).values())Se.destroy();m(this,I).clear(),m(this,R).clear(),c(this,G,null),m(this,k).clear(),m(this,L).destroy(),m(this,x).destroy()}onPageChanging(Se){let{pageNumber:be}=Se;c(this,S,be-1)}focusMainContainer(){m(this,Y).focus()}keydown(Se){var be;(be=this.getActive())!==null&&be!==void 0&&be.shouldGetKeyboardEvents()||oe._keyboardManager.exec(this,Se)}onEditingAction(Se){["undo","redo","cut","copy","paste","delete","selectAll"].includes(Se.name)&&this[Se.name]()}setEditingState(Se){Se?(s(this,te,le).call(this),s(this,X,fe).call(this,{isEditing:m(this,J)!==a.AnnotationEditorType.NONE,isEmpty:s(this,ee,ye).call(this),hasSomethingToUndo:m(this,x).hasSomethingToUndo(),hasSomethingToRedo:m(this,x).hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:m(this,L).isEmpty()})):(s(this,$,pe).call(this),s(this,X,fe).call(this,{isEditing:!1}))}registerEditorTypes(Se){c(this,W,Se);for(const be of m(this,W))s(this,ne,ue).call(this,be.defaultPropertiesToUpdate)}getId(){return m(this,z).getId()}addLayer(Se){m(this,I).set(Se.pageIndex,Se),m(this,re)?Se.enable():Se.disable()}removeLayer(Se){m(this,I).delete(Se.pageIndex)}updateMode(Se){if(c(this,J,Se),Se===a.AnnotationEditorType.NONE)this.setEditingState(!1),s(this,se,he).call(this);else{this.setEditingState(!0),s(this,ce,ge).call(this);for(const be of m(this,I).values())be.updateMode(Se)}}updateToolbar(Se){Se!==m(this,J)&&m(this,U).dispatch("switchannotationeditormode",{source:this,mode:Se})}updateParams(Se,be){for(const Ee of m(this,k))Ee.updateParams(Se,be);for(const Ee of m(this,W))Ee.updateDefaultParams(Se,be)}getEditors(Se){const be=[];for(const Ee of m(this,R).values())Ee.pageIndex===Se&&be.push(Ee);return be}getEditor(Se){return m(this,R).get(Se)}addEditor(Se){m(this,R).set(Se.id,Se)}removeEditor(Se){m(this,R).delete(Se.id),this.unselect(Se)}setActiveEditor(Se){m(this,G)!==Se&&(c(this,G,Se),Se&&s(this,ne,ue).call(this,Se.propertiesToUpdate))}toggleSelected(Se){if(m(this,k).has(Se)){m(this,k).delete(Se),Se.unselect(),s(this,X,fe).call(this,{hasSelectedEditor:this.hasSelection});return}m(this,k).add(Se),Se.select(),s(this,ne,ue).call(this,Se.propertiesToUpdate),s(this,X,fe).call(this,{hasSelectedEditor:!0})}setSelected(Se){for(const be of m(this,k))be!==Se&&be.unselect();m(this,k).clear(),m(this,k).add(Se),Se.select(),s(this,ne,ue).call(this,Se.propertiesToUpdate),s(this,X,fe).call(this,{hasSelectedEditor:!0})}isSelected(Se){return m(this,k).has(Se)}unselect(Se){Se.unselect(),m(this,k).delete(Se),s(this,X,fe).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return m(this,k).size!==0}undo(){m(this,x).undo(),s(this,X,fe).call(this,{hasSomethingToUndo:m(this,x).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:s(this,ee,ye).call(this)})}redo(){m(this,x).redo(),s(this,X,fe).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:m(this,x).hasSomethingToRedo(),isEmpty:s(this,ee,ye).call(this)})}addCommands(Se){m(this,x).add(Se),s(this,X,fe).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:s(this,ee,ye).call(this)})}delete(){if(m(this,G)&&m(this,G).commitOrRemove(),!this.hasSelection)return;const Se=[...m(this,k)],be=()=>{for(const Oe of Se)Oe.remove()},Ee=()=>{for(const Oe of Se)s(this,K,xe).call(this,Oe)};this.addCommands({cmd:be,undo:Ee,mustExec:!0})}copy(){if(m(this,G)&&m(this,G).commitOrRemove(),this.hasSelection){const Se=[];for(const be of m(this,k))be.isEmpty()||Se.push(be);if(Se.length===0)return;m(this,L).copy(Se),s(this,X,fe).call(this,{hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(m(this,L).isEmpty())return;this.unselectAll();const Se=m(this,I).get(m(this,S)),be=m(this,L).paste().map(Fe=>Se.deserialize(Fe)),Ee=()=>{for(const Fe of be)s(this,K,xe).call(this,Fe);s(this,ie,ve).call(this,be)},Oe=()=>{for(const Fe of be)Fe.remove()};this.addCommands({cmd:Ee,undo:Oe,mustExec:!0})}selectAll(){for(const Se of m(this,k))Se.commit();s(this,ie,ve).call(this,m(this,R).values())}unselectAll(){if(m(this,G)){m(this,G).commitOrRemove();return}if(s(this,ie,ve).size!==0){for(const Se of m(this,k))Se.unselect();m(this,k).clear(),s(this,X,fe).call(this,{hasSelectedEditor:!1})}}isActive(Se){return m(this,G)===Se}getActive(){return m(this,G)}getMode(){return m(this,J)}}t.AnnotationEditorUIManager=oe;function le(){m(this,Y).addEventListener("keydown",m(this,H))}function pe(){m(this,Y).removeEventListener("keydown",m(this,H))}function fe(ke){Object.entries(ke).some(be=>{let[Ee,Oe]=be;return m(this,V)[Ee]!==Oe})&&m(this,U).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(m(this,V),ke)})}function ue(ke){m(this,U).dispatch("annotationeditorparamschanged",{source:this,details:ke})}function ge(){if(!m(this,re)){c(this,re,!0);for(const ke of m(this,I).values())ke.enable()}}function he(){if(this.unselectAll(),m(this,re)){c(this,re,!1);for(const ke of m(this,I).values())ke.disable()}}function xe(ke){const Se=m(this,I).get(ke.pageIndex);Se?Se.addOrRebuild(ke):this.addEditor(ke)}function ye(){if(m(this,R).size===0)return!0;if(m(this,R).size===1)for(const ke of m(this,R).values())return ke.isEmpty();return!1}function ve(ke){m(this,k).clear();for(const Se of ke)Se.isEmpty()||(m(this,k).add(Se),Se.select());s(this,X,fe).call(this,{hasSelectedEditor:!0})}g(oe,"_keyboardManager",new P([[["ctrl+a","mac+meta+a"],oe.prototype.selectAll],[["ctrl+c","mac+meta+c"],oe.prototype.copy],[["ctrl+v","mac+meta+v"],oe.prototype.paste],[["ctrl+x","mac+meta+x"],oe.prototype.cut],[["ctrl+z","mac+meta+z"],oe.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],oe.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],oe.prototype.delete],[["Escape","mac+Escape"],oe.prototype.unselectAll]]))},(i,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StatTimer=t.RenderingCancelledException=t.PixelsPerInch=t.PageViewport=t.PDFDateString=t.DOMStandardFontDataFactory=t.DOMSVGFactory=t.DOMCanvasFactory=t.DOMCMapReaderFactory=t.AnnotationPrefix=void 0,t.deprecated=_,t.getColorValues=q,t.getCurrentTransform=F,t.getCurrentTransformInverse=G,t.getFilenameFromUrl=v,t.getPdfFilenameFromUrl=b,t.getRGB=M,t.getXfaPageViewport=w,t.isDataScheme=B,t.isPdfFile=O,t.isValidFetchUrl=T,t.loadScript=D;var a=r(134),l=r(1);function g(R,I,L){return I in R?Object.defineProperty(R,I,{value:L,enumerable:!0,configurable:!0,writable:!0}):R[I]=L,R}const d="http://www.w3.org/2000/svg",s="pdfjs_internal_id_";t.AnnotationPrefix=s;class u{}t.PixelsPerInch=u,g(u,"CSS",96),g(u,"PDF",72),g(u,"PDF_TO_CSS_UNITS",u.CSS/u.PDF);class n extends a.BaseCanvasFactory{constructor(){let{ownerDocument:I=globalThis.document}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this._document=I}_createCanvas(I,L){const x=this._document.createElement("canvas");return x.width=I,x.height=L,x}}t.DOMCanvasFactory=n;async function c(R){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(T(R,document.baseURI)){const L=await fetch(R);if(!L.ok)throw new Error(L.statusText);return I?new Uint8Array(await L.arrayBuffer()):(0,l.stringToBytes)(await L.text())}return new Promise((L,x)=>{const S=new XMLHttpRequest;S.open("GET",R,!0),I&&(S.responseType="arraybuffer"),S.onreadystatechange=()=>{if(S.readyState===XMLHttpRequest.DONE){if(S.status===200||S.status===0){let W;if(I&&S.response?W=new Uint8Array(S.response):!I&&S.responseText&&(W=(0,l.stringToBytes)(S.responseText)),W){L(W);return}}x(new Error(S.statusText))}},S.send(null)})}class C extends a.BaseCMapReaderFactory{_fetchData(I,L){return c(I,this.isCompressed).then(x=>({cMapData:x,compressionType:L}))}}t.DOMCMapReaderFactory=C;class m extends a.BaseStandardFontDataFactory{_fetchData(I){return c(I,!0)}}t.DOMStandardFontDataFactory=m;class e extends a.BaseSVGFactory{_createSVG(I){return document.createElementNS(d,I)}}t.DOMSVGFactory=e;class E{constructor(I){let{viewBox:L,scale:x,rotation:S,offsetX:W=0,offsetY:U=0,dontFlip:z=!1}=I;this.viewBox=L,this.scale=x,this.rotation=S,this.offsetX=W,this.offsetY=U;const re=(L[2]+L[0])/2,J=(L[3]+L[1])/2;let k,H,Z,Q;switch(S%=360,S<0&&(S+=360),S){case 180:k=-1,H=0,Z=0,Q=1;break;case 90:k=0,H=1,Z=1,Q=0;break;case 270:k=0,H=-1,Z=-1,Q=0;break;case 0:k=1,H=0,Z=0,Q=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}z&&(Z=-Z,Q=-Q);let V,Y,te,$;k===0?(V=Math.abs(J-L[1])*x+W,Y=Math.abs(re-L[0])*x+U,te=Math.abs(L[3]-L[1])*x,$=Math.abs(L[2]-L[0])*x):(V=Math.abs(re-L[0])*x+W,Y=Math.abs(J-L[1])*x+U,te=Math.abs(L[2]-L[0])*x,$=Math.abs(L[3]-L[1])*x),this.transform=[k*x,H*x,Z*x,Q*x,V-k*x*re-Z*x*J,Y-H*x*re-Q*x*J],this.width=te,this.height=$}clone(){let{scale:I=this.scale,rotation:L=this.rotation,offsetX:x=this.offsetX,offsetY:S=this.offsetY,dontFlip:W=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new E({viewBox:this.viewBox.slice(),scale:I,rotation:L,offsetX:x,offsetY:S,dontFlip:W})}convertToViewportPoint(I,L){return l.Util.applyTransform([I,L],this.transform)}convertToViewportRectangle(I){const L=l.Util.applyTransform([I[0],I[1]],this.transform),x=l.Util.applyTransform([I[2],I[3]],this.transform);return[L[0],L[1],x[0],x[1]]}convertToPdfPoint(I,L){return l.Util.applyInverseTransform([I,L],this.transform)}}t.PageViewport=E;class A extends l.BaseException{constructor(I,L){super(I,"RenderingCancelledException"),this.type=L}}t.RenderingCancelledException=A;function B(R){const I=R.length;let L=0;for(;L<I&&R[L].trim()==="";)L++;return R.substring(L,L+5).toLowerCase()==="data:"}function O(R){return typeof R=="string"&&/\.pdf$/i.test(R)}function v(R){const I=R.indexOf("#"),L=R.indexOf("?"),x=Math.min(I>0?I:R.length,L>0?L:R.length);return R.substring(R.lastIndexOf("/",x)+1,x)}function b(R){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"document.pdf";if(typeof R!="string")return I;if(B(R))return(0,l.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),I;const L=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,x=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,S=L.exec(R);let W=x.exec(S[1])||x.exec(S[2])||x.exec(S[3]);if(W&&(W=W[0],W.includes("%")))try{W=x.exec(decodeURIComponent(W))[0]}catch{}return W||I}class o{constructor(){this.started=Object.create(null),this.times=[]}time(I){I in this.started&&(0,l.warn)(`Timer is already running for ${I}`),this.started[I]=Date.now()}timeEnd(I){I in this.started||(0,l.warn)(`Timer has not been started for ${I}`),this.times.push({name:I,start:this.started[I],end:Date.now()}),delete this.started[I]}toString(){const I=[];let L=0;for(const x of this.times){const S=x.name;S.length>L&&(L=S.length)}for(const x of this.times){const S=x.end-x.start;I.push(`${x.name.padEnd(L)} ${S}ms
`)}return I.join("")}}t.StatTimer=o;function T(R,I){try{const{protocol:L}=I?new URL(R,I):new URL(R);return L==="http:"||L==="https:"}catch{return!1}}function D(R){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return new Promise((L,x)=>{const S=document.createElement("script");S.src=R,S.onload=function(W){I&&S.remove(),L(W)},S.onerror=function(){x(new Error(`Cannot load script at: ${S.src}`))},(document.head||document.documentElement).append(S)})}function _(R){console.log("Deprecated API usage: "+R)}let y;class P{static toDateObject(I){if(!I||typeof I!="string")return null;y||(y=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const L=y.exec(I);if(!L)return null;const x=parseInt(L[1],10);let S=parseInt(L[2],10);S=S>=1&&S<=12?S-1:0;let W=parseInt(L[3],10);W=W>=1&&W<=31?W:1;let U=parseInt(L[4],10);U=U>=0&&U<=23?U:0;let z=parseInt(L[5],10);z=z>=0&&z<=59?z:0;let re=parseInt(L[6],10);re=re>=0&&re<=59?re:0;const J=L[7]||"Z";let k=parseInt(L[8],10);k=k>=0&&k<=23?k:0;let H=parseInt(L[9],10)||0;return H=H>=0&&H<=59?H:0,J==="-"?(U+=k,z+=H):J==="+"&&(U-=k,z-=H),new Date(Date.UTC(x,S,W,U,z,re))}}t.PDFDateString=P;function w(R,I){let{scale:L=1,rotation:x=0}=I;const{width:S,height:W}=R.attributes.style,U=[0,0,parseInt(S),parseInt(W)];return new E({viewBox:U,scale:L,rotation:x})}function M(R){if(R.startsWith("#")){const I=parseInt(R.slice(1),16);return[(I&16711680)>>16,(I&65280)>>8,I&255]}return R.startsWith("rgb(")?R.slice(4,-1).split(",").map(I=>parseInt(I)):R.startsWith("rgba(")?R.slice(5,-1).split(",").map(I=>parseInt(I)).slice(0,3):((0,l.warn)(`Not a valid color format: "${R}"`),[0,0,0])}function q(R){const I=document.createElement("span");I.style.visibility="hidden",document.body.append(I);for(const L of R.keys()){I.style.color=L;const x=window.getComputedStyle(I).color;R.set(L,M(x))}I.remove()}function F(R){const{a:I,b:L,c:x,d:S,e:W,f:U}=R.getTransform();return[I,L,x,S,W,U]}function G(R){const{a:I,b:L,c:x,d:S,e:W,f:U}=R.getTransform().invertSelf();return[I,L,x,S,W,U]}},(i,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseStandardFontDataFactory=t.BaseSVGFactory=t.BaseCanvasFactory=t.BaseCMapReaderFactory=void 0;var a=r(1);class l{constructor(){this.constructor===l&&(0,a.unreachable)("Cannot initialize BaseCanvasFactory.")}create(n,c){if(n<=0||c<=0)throw new Error("Invalid canvas size");const C=this._createCanvas(n,c);return{canvas:C,context:C.getContext("2d")}}reset(n,c,C){if(!n.canvas)throw new Error("Canvas is not specified");if(c<=0||C<=0)throw new Error("Invalid canvas size");n.canvas.width=c,n.canvas.height=C}destroy(n){if(!n.canvas)throw new Error("Canvas is not specified");n.canvas.width=0,n.canvas.height=0,n.canvas=null,n.context=null}_createCanvas(n,c){(0,a.unreachable)("Abstract method `_createCanvas` called.")}}t.BaseCanvasFactory=l;class g{constructor(n){let{baseUrl:c=null,isCompressed:C=!1}=n;this.constructor===g&&(0,a.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=c,this.isCompressed=C}async fetch(n){let{name:c}=n;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!c)throw new Error("CMap name must be specified.");const C=this.baseUrl+c+(this.isCompressed?".bcmap":""),m=this.isCompressed?a.CMapCompressionType.BINARY:a.CMapCompressionType.NONE;return this._fetchData(C,m).catch(e=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${C}`)})}_fetchData(n,c){(0,a.unreachable)("Abstract method `_fetchData` called.")}}t.BaseCMapReaderFactory=g;class d{constructor(n){let{baseUrl:c=null}=n;this.constructor===d&&(0,a.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=c}async fetch(n){let{filename:c}=n;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!c)throw new Error("Font filename must be specified.");const C=`${this.baseUrl}${c}`;return this._fetchData(C).catch(m=>{throw new Error(`Unable to load font data at: ${C}`)})}_fetchData(n){(0,a.unreachable)("Abstract method `_fetchData` called.")}}t.BaseStandardFontDataFactory=d;class s{constructor(){this.constructor===s&&(0,a.unreachable)("Cannot initialize BaseSVGFactory.")}create(n,c){let C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(n<=0||c<=0)throw new Error("Invalid SVG dimensions");const m=this._createSVG("svg:svg");return m.setAttribute("version","1.1"),C||(m.setAttribute("width",`${n}px`),m.setAttribute("height",`${c}px`)),m.setAttribute("preserveAspectRatio","none"),m.setAttribute("viewBox",`0 0 ${n} ${c}`),m}createElement(n){if(typeof n!="string")throw new Error("Invalid SVG element type");return this._createSVG(n)}_createSVG(n){(0,a.unreachable)("Abstract method `_createSVG` called.")}}t.BaseSVGFactory=s},(i,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MurmurHash3_64=void 0;var a=r(1);const l=3285377520,g=4294901760,d=65535;class s{constructor(n){this.h1=n?n&4294967295:l,this.h2=n?n&4294967295:l}update(n){let c,C;if(typeof n=="string"){c=new Uint8Array(n.length*2),C=0;for(let _=0,y=n.length;_<y;_++){const P=n.charCodeAt(_);P<=255?c[C++]=P:(c[C++]=P>>>8,c[C++]=P&255)}}else if((0,a.isArrayBuffer)(n))c=n.slice(),C=c.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const m=C>>2,e=C-m*4,E=new Uint32Array(c.buffer,0,m);let A=0,B=0,O=this.h1,v=this.h2;const b=3432918353,o=461845907,T=b&d,D=o&d;for(let _=0;_<m;_++)_&1?(A=E[_],A=A*b&g|A*T&d,A=A<<15|A>>>17,A=A*o&g|A*D&d,O^=A,O=O<<13|O>>>19,O=O*5+3864292196):(B=E[_],B=B*b&g|B*T&d,B=B<<15|B>>>17,B=B*o&g|B*D&d,v^=B,v=v<<13|v>>>19,v=v*5+3864292196);switch(A=0,e){case 3:A^=c[m*4+2]<<16;case 2:A^=c[m*4+1]<<8;case 1:A^=c[m*4],A=A*b&g|A*T&d,A=A<<15|A>>>17,A=A*o&g|A*D&d,m&1?O^=A:v^=A}this.h1=O,this.h2=v}hexdigest(){let n=this.h1,c=this.h2;n^=c>>>1,n=n*3981806797&g|n*36045&d,c=c*4283543511&g|((c<<16|n>>>16)*2950163797&g)>>>16,n^=c>>>1,n=n*444984403&g|n*60499&d,c=c*3301882366&g|((c<<16|n>>>16)*3120437893&g)>>>16,n^=c>>>1;const C=(n>>>0).toString(16),m=(c>>>0).toString(16);return C.padStart(8,"0")+m.padStart(8,"0")}}t.MurmurHash3_64=s},(i,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var a=r(1);class l{constructor(u){let{docId:n,onUnsupportedFeature:c,ownerDocument:C=globalThis.document,styleElement:m=null}=u;this.constructor===l&&(0,a.unreachable)("Cannot initialize BaseFontLoader."),this.docId=n,this._onUnsupportedFeature=c,this._document=C,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(u){this.nativeFontFaces.push(u),this._document.fonts.add(u)}insertRule(u){let n=this.styleElement;n||(n=this.styleElement=this._document.createElement("style"),n.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(n));const c=n.sheet;c.insertRule(u,c.cssRules.length)}clear(){for(const u of this.nativeFontFaces)this._document.fonts.delete(u);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(u){if(u.attached||u.missingFile)return;if(u.attached=!0,this.isFontLoadingAPISupported){const c=u.createNativeFontFace();if(c){this.addNativeFontFace(c);try{await c.loaded}catch(C){throw this._onUnsupportedFeature({featureId:a.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,a.warn)(`Failed to load font '${c.family}': '${C}'.`),u.disableFontFace=!0,C}}return}const n=u.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(c=>{const C=this._queueLoadingCallback(c);this._prepareFontLoadEvent([n],[u],C)})}}_queueLoadingCallback(u){(0,a.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var u;const n=!!((u=this._document)!==null&&u!==void 0&&u.fonts);return(0,a.shadow)(this,"isFontLoadingAPISupported",n)}get isSyncFontLoadingSupported(){(0,a.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,a.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(u,n,c){(0,a.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let g;t.FontLoader=g,t.FontLoader=g=class extends l{constructor(u){super(u),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let u=!1;if(typeof navigator>"u")u=!0;else{const n=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(n==null?void 0:n[1])>=14&&(u=!0)}return(0,a.shadow)(this,"isSyncFontLoadingSupported",u)}_queueLoadingCallback(u){function n(){for((0,a.assert)(!C.done,"completeRequest() cannot be called twice."),C.done=!0;c.requests.length>0&&c.requests[0].done;){const m=c.requests.shift();setTimeout(m.callback,0)}}const c=this.loadingContext,C={id:`pdfjs-font-loading-${c.nextRequestId++}`,done:!1,complete:n,callback:u};return c.requests.push(C),C}get _loadTestFont(){const u=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,a.shadow)(this,"_loadTestFont",u())}_prepareFontLoadEvent(u,n,c){function C(F,G){return F.charCodeAt(G)<<24|F.charCodeAt(G+1)<<16|F.charCodeAt(G+2)<<8|F.charCodeAt(G+3)&255}function m(F,G,R,I){const L=F.substring(0,G),x=F.substring(G+R);return L+I+x}let e,E;const A=this._document.createElement("canvas");A.width=1,A.height=1;const B=A.getContext("2d");let O=0;function v(F,G){if(O++,O>30){(0,a.warn)("Load test font never loaded."),G();return}if(B.font="30px "+F,B.fillText(".",0,20),B.getImageData(0,0,1,1).data[3]>0){G();return}setTimeout(v.bind(null,F,G))}const b=`lt${Date.now()}${this.loadTestFontId++}`;let o=this._loadTestFont;o=m(o,976,b.length,b);const D=16,_=1482184792;let y=C(o,D);for(e=0,E=b.length-3;e<E;e+=4)y=y-_+C(b,e)|0;e<b.length&&(y=y-_+C(b+"XXX",e)|0),o=m(o,D,4,(0,a.string32)(y));const P=`url(data:font/opentype;base64,${btoa(o)});`,w=`@font-face {font-family:"${b}";src:${P}}`;this.insertRule(w);const M=[];for(const F of n)M.push(F.loadedName);M.push(b);const q=this._document.createElement("div");q.style.visibility="hidden",q.style.width=q.style.height="10px",q.style.position="absolute",q.style.top=q.style.left="0px";for(const F of M){const G=this._document.createElement("span");G.textContent="Hi",G.style.fontFamily=F,q.append(G)}this._document.body.append(q),v(b,()=>{q.remove(),c.complete()})}};class d{constructor(u,n){let{isEvalSupported:c=!0,disableFontFace:C=!1,ignoreErrors:m=!1,onUnsupportedFeature:e,fontRegistry:E=null}=n;this.compiledGlyphs=Object.create(null);for(const A in u)this[A]=u[A];this.isEvalSupported=c!==!1,this.disableFontFace=C===!0,this.ignoreErrors=m===!0,this._onUnsupportedFeature=e,this.fontRegistry=E}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let u;if(!this.cssFontInfo)u=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),u=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return this.fontRegistry&&this.fontRegistry.registerFont(this),u}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const u=(0,a.bytesToString)(this.data),n=`url(data:${this.mimetype};base64,${btoa(u)});`;let c;if(!this.cssFontInfo)c=`@font-face {font-family:"${this.loadedName}";src:${n}}`;else{let C=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(C+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),c=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${C}src:${n}}`}return this.fontRegistry&&this.fontRegistry.registerFont(this,n),c}getPathGenerator(u,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];let c;try{c=u.get(this.loadedName+"_path_"+n)}catch(C){if(!this.ignoreErrors)throw C;return this._onUnsupportedFeature({featureId:a.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,a.warn)(`getPathGenerator - ignoring character: "${C}".`),this.compiledGlyphs[n]=function(m,e){}}if(this.isEvalSupported&&a.FeatureTest.isEvalSupported){const C=[];for(const m of c){const e=m.args!==void 0?m.args.join(","):"";C.push("c.",m.cmd,"(",e,`);
`)}return this.compiledGlyphs[n]=new Function("c","size",C.join(""))}return this.compiledGlyphs[n]=function(C,m){for(const e of c)e.cmd==="scale"&&(e.args=[m,-m]),C[e.cmd].apply(C,e.args)}}}t.FontFaceObject=d},(i,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var a=r(133),l=r(1),g=r(138),d=r(139),s=r(3);function u(J,k){n(J,k),k.add(J)}function n(J,k){if(k.has(J))throw new TypeError("Cannot initialize the same private elements twice on an object")}function c(J,k,H){if(!k.has(J))throw new TypeError("attempted to get private field on non-instance");return H}const C=16,m=100,e=4096,E=15,A=10,B=s.isNodeJS&&typeof Path2D>"u"?-1:1e3,O=16;function v(J,k){if(J._removeMirroring)throw new Error("Context is already forwarding operations.");J.__originalSave=J.save,J.__originalRestore=J.restore,J.__originalRotate=J.rotate,J.__originalScale=J.scale,J.__originalTranslate=J.translate,J.__originalTransform=J.transform,J.__originalSetTransform=J.setTransform,J.__originalResetTransform=J.resetTransform,J.__originalClip=J.clip,J.__originalMoveTo=J.moveTo,J.__originalLineTo=J.lineTo,J.__originalBezierCurveTo=J.bezierCurveTo,J.__originalRect=J.rect,J.__originalClosePath=J.closePath,J.__originalBeginPath=J.beginPath,J._removeMirroring=()=>{J.save=J.__originalSave,J.restore=J.__originalRestore,J.rotate=J.__originalRotate,J.scale=J.__originalScale,J.translate=J.__originalTranslate,J.transform=J.__originalTransform,J.setTransform=J.__originalSetTransform,J.resetTransform=J.__originalResetTransform,J.clip=J.__originalClip,J.moveTo=J.__originalMoveTo,J.lineTo=J.__originalLineTo,J.bezierCurveTo=J.__originalBezierCurveTo,J.rect=J.__originalRect,J.closePath=J.__originalClosePath,J.beginPath=J.__originalBeginPath,delete J._removeMirroring},J.save=function(){k.save(),this.__originalSave()},J.restore=function(){k.restore(),this.__originalRestore()},J.translate=function(Z,Q){k.translate(Z,Q),this.__originalTranslate(Z,Q)},J.scale=function(Z,Q){k.scale(Z,Q),this.__originalScale(Z,Q)},J.transform=function(Z,Q,V,Y,te,$){k.transform(Z,Q,V,Y,te,$),this.__originalTransform(Z,Q,V,Y,te,$)},J.setTransform=function(Z,Q,V,Y,te,$){k.setTransform(Z,Q,V,Y,te,$),this.__originalSetTransform(Z,Q,V,Y,te,$)},J.resetTransform=function(){k.resetTransform(),this.__originalResetTransform()},J.rotate=function(Z){k.rotate(Z),this.__originalRotate(Z)},J.clip=function(Z){k.clip(Z),this.__originalClip(Z)},J.moveTo=function(H,Z){k.moveTo(H,Z),this.__originalMoveTo(H,Z)},J.lineTo=function(H,Z){k.lineTo(H,Z),this.__originalLineTo(H,Z)},J.bezierCurveTo=function(H,Z,Q,V,Y,te){k.bezierCurveTo(H,Z,Q,V,Y,te),this.__originalBezierCurveTo(H,Z,Q,V,Y,te)},J.rect=function(H,Z,Q,V){k.rect(H,Z,Q,V),this.__originalRect(H,Z,Q,V)},J.closePath=function(){k.closePath(),this.__originalClosePath()},J.beginPath=function(){k.beginPath(),this.__originalBeginPath()}}class b{constructor(k){this.canvasFactory=k,this.cache=Object.create(null)}getCanvas(k,H,Z){let Q;return this.cache[k]!==void 0?(Q=this.cache[k],this.canvasFactory.reset(Q,H,Z)):(Q=this.canvasFactory.create(H,Z),this.cache[k]=Q),Q}delete(k){delete this.cache[k]}clear(){for(const k in this.cache){const H=this.cache[k];this.canvasFactory.destroy(H),delete this.cache[k]}}}function o(J,k,H,Z,Q,V,Y,te,$,X){const[ne,ce,se,K,ee,ie]=(0,a.getCurrentTransform)(J);if(ce===0&&se===0){const pe=Y*ne+ee,fe=Math.round(pe),ue=te*K+ie,ge=Math.round(ue),he=(Y+$)*ne+ee,xe=Math.abs(Math.round(he)-fe)||1,ye=(te+X)*K+ie,ve=Math.abs(Math.round(ye)-ge)||1;return J.setTransform(Math.sign(ne),0,0,Math.sign(K),fe,ge),J.drawImage(k,H,Z,Q,V,0,0,xe,ve),J.setTransform(ne,ce,se,K,ee,ie),[xe,ve]}if(ne===0&&K===0){const pe=te*se+ee,fe=Math.round(pe),ue=Y*ce+ie,ge=Math.round(ue),he=(te+X)*se+ee,xe=Math.abs(Math.round(he)-fe)||1,ye=(Y+$)*ce+ie,ve=Math.abs(Math.round(ye)-ge)||1;return J.setTransform(0,Math.sign(ce),Math.sign(se),0,fe,ge),J.drawImage(k,H,Z,Q,V,0,0,ve,xe),J.setTransform(ne,ce,se,K,ee,ie),[ve,xe]}J.drawImage(k,H,Z,Q,V,Y,te,$,X);const oe=Math.hypot(ne,ce),le=Math.hypot(se,K);return[oe*$,le*X]}function T(J){const{width:k,height:H}=J;if(k>B||H>B)return null;const Z=1e3,Q=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),V=k+1;let Y=new Uint8Array(V*(H+1)),te,$,X;const ne=k+7&-8;let ce=new Uint8Array(ne*H),se=0;for(const le of J.data){let pe=128;for(;pe>0;)ce[se++]=le&pe?0:255,pe>>=1}let K=0;for(se=0,ce[se]!==0&&(Y[0]=1,++K),$=1;$<k;$++)ce[se]!==ce[se+1]&&(Y[$]=ce[se]?2:1,++K),se++;for(ce[se]!==0&&(Y[$]=2,++K),te=1;te<H;te++){se=te*ne,X=te*V,ce[se-ne]!==ce[se]&&(Y[X]=ce[se]?1:8,++K);let le=(ce[se]?4:0)+(ce[se-ne]?8:0);for($=1;$<k;$++)le=(le>>2)+(ce[se+1]?4:0)+(ce[se-ne+1]?8:0),Q[le]&&(Y[X+$]=Q[le],++K),se++;if(ce[se-ne]!==ce[se]&&(Y[X+$]=ce[se]?2:4,++K),K>Z)return null}for(se=ne*(H-1),X=te*V,ce[se]!==0&&(Y[X]=8,++K),$=1;$<k;$++)ce[se]!==ce[se+1]&&(Y[X+$]=ce[se]?4:8,++K),se++;if(ce[se]!==0&&(Y[X+$]=4,++K),K>Z)return null;const ee=new Int32Array([0,V,-1,0,-V,0,0,0,1]),ie=new Path2D;for(te=0;K&&te<=H;te++){let le=te*V;const pe=le+k;for(;le<pe&&!Y[le];)le++;if(le===pe)continue;ie.moveTo(le%V,te);const fe=le;let ue=Y[le];do{const ge=ee[ue];do le+=ge;while(!Y[le]);const he=Y[le];he!==5&&he!==10?(ue=he,Y[le]=0):(ue=he&51*ue>>4,Y[le]&=ue>>2|ue<<2),ie.lineTo(le%V,le/V|0),Y[le]||--K}while(fe!==le);--te}return ce=null,Y=null,function(le){le.save(),le.scale(1/k,-1/H),le.translate(0,-H),le.fill(ie),le.beginPath(),le.restore()}}class D{constructor(k,H){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=l.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=l.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=l.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,k,H])}clone(){const k=Object.create(this);return k.clipBox=this.clipBox.slice(),k}setCurrentPoint(k,H){this.x=k,this.y=H}updatePathMinMax(k,H,Z){[H,Z]=l.Util.applyTransform([H,Z],k),this.minX=Math.min(this.minX,H),this.minY=Math.min(this.minY,Z),this.maxX=Math.max(this.maxX,H),this.maxY=Math.max(this.maxY,Z)}updateRectMinMax(k,H){const Z=l.Util.applyTransform(H,k),Q=l.Util.applyTransform(H.slice(2),k);this.minX=Math.min(this.minX,Z[0],Q[0]),this.minY=Math.min(this.minY,Z[1],Q[1]),this.maxX=Math.max(this.maxX,Z[0],Q[0]),this.maxY=Math.max(this.maxY,Z[1],Q[1])}updateScalingPathMinMax(k,H){l.Util.scaleMinMax(k,H),this.minX=Math.min(this.minX,H[0]),this.maxX=Math.max(this.maxX,H[1]),this.minY=Math.min(this.minY,H[2]),this.maxY=Math.max(this.maxY,H[3])}updateCurvePathMinMax(k,H,Z,Q,V,Y,te,$,X,ne){const ce=l.Util.bezierBoundingBox(H,Z,Q,V,Y,te,$,X);if(ne){ne[0]=Math.min(ne[0],ce[0],ce[2]),ne[1]=Math.max(ne[1],ce[0],ce[2]),ne[2]=Math.min(ne[2],ce[1],ce[3]),ne[3]=Math.max(ne[3],ce[1],ce[3]);return}this.updateRectMinMax(k,ce)}getPathBoundingBox(){let k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g.PathType.FILL,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const Z=[this.minX,this.minY,this.maxX,this.maxY];if(k===g.PathType.STROKE){H||(0,l.unreachable)("Stroke bounding box must include transform.");const Q=l.Util.singularValueDecompose2dScale(H),V=Q[0]*this.lineWidth/2,Y=Q[1]*this.lineWidth/2;Z[0]-=V,Z[1]-=Y,Z[2]+=V,Z[3]+=Y}return Z}updateClipFromPath(){const k=l.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(k||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(k){this.clipBox=k,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g.PathType.FILL,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return l.Util.intersect(this.clipBox,this.getPathBoundingBox(k,H))}}function _(J,k){let H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(typeof ImageData<"u"&&k instanceof ImageData){J.putImageData(k,0,0);return}const Z=k.height,Q=k.width,V=Z%O,Y=(Z-V)/O,te=V===0?Y:Y+1,$=J.createImageData(Q,O);let X=0,ne;const ce=k.data,se=$.data;let K,ee,ie,oe,le,pe,fe,ue;if(H)switch(H.length){case 1:le=H[0],pe=H[0],fe=H[0],ue=H[0];break;case 4:le=H[0],pe=H[1],fe=H[2],ue=H[3];break}if(k.kind===l.ImageKind.GRAYSCALE_1BPP){const ge=ce.byteLength,he=new Uint32Array(se.buffer,0,se.byteLength>>2),xe=he.length,ye=Q+7>>3;let ve=4294967295,ke=l.FeatureTest.isLittleEndian?4278190080:255;for(ue&&ue[0]===255&&ue[255]===0&&([ve,ke]=[ke,ve]),K=0;K<te;K++){for(ie=K<Y?O:V,ne=0,ee=0;ee<ie;ee++){const Se=ge-X;let be=0;const Ee=Se>ye?Q:Se*8-7,Oe=Ee&-8;let Fe=0,Re=0;for(;be<Oe;be+=8)Re=ce[X++],he[ne++]=Re&128?ve:ke,he[ne++]=Re&64?ve:ke,he[ne++]=Re&32?ve:ke,he[ne++]=Re&16?ve:ke,he[ne++]=Re&8?ve:ke,he[ne++]=Re&4?ve:ke,he[ne++]=Re&2?ve:ke,he[ne++]=Re&1?ve:ke;for(;be<Ee;be++)Fe===0&&(Re=ce[X++],Fe=128),he[ne++]=Re&Fe?ve:ke,Fe>>=1}for(;ne<xe;)he[ne++]=0;J.putImageData($,0,K*O)}}else if(k.kind===l.ImageKind.RGBA_32BPP){const ge=!!(le||pe||fe);for(ee=0,oe=Q*O*4,K=0;K<Y;K++){if(se.set(ce.subarray(X,X+oe)),X+=oe,ge)for(let he=0;he<oe;he+=4)le&&(se[he+0]=le[se[he+0]]),pe&&(se[he+1]=pe[se[he+1]]),fe&&(se[he+2]=fe[se[he+2]]);J.putImageData($,0,ee),ee+=O}if(K<te){if(oe=Q*V*4,se.set(ce.subarray(X,X+oe)),ge)for(let he=0;he<oe;he+=4)le&&(se[he+0]=le[se[he+0]]),pe&&(se[he+1]=pe[se[he+1]]),fe&&(se[he+2]=fe[se[he+2]]);J.putImageData($,0,ee)}}else if(k.kind===l.ImageKind.RGB_24BPP){const ge=!!(le||pe||fe);for(ie=O,oe=Q*ie,K=0;K<te;K++){for(K>=Y&&(ie=V,oe=Q*ie),ne=0,ee=oe;ee--;)se[ne++]=ce[X++],se[ne++]=ce[X++],se[ne++]=ce[X++],se[ne++]=255;if(ge)for(let he=0;he<ne;he+=4)le&&(se[he+0]=le[se[he+0]]),pe&&(se[he+1]=pe[se[he+1]]),fe&&(se[he+2]=fe[se[he+2]]);J.putImageData($,0,K*O)}}else throw new Error(`bad image kind: ${k.kind}`)}function y(J,k){if(k.bitmap){J.drawImage(k.bitmap,0,0);return}const H=k.height,Z=k.width,Q=H%O,V=(H-Q)/O,Y=Q===0?V:V+1,te=J.createImageData(Z,O);let $=0;const X=k.data,ne=te.data;for(let ce=0;ce<Y;ce++){const se=ce<V?O:Q;({srcPos:$}=(0,d.applyMaskImageData)({src:X,srcPos:$,dest:ne,width:Z,height:se})),J.putImageData(te,0,ce*O)}}function P(J,k){const H=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let Z=0,Q=H.length;Z<Q;Z++){const V=H[Z];J[V]!==void 0&&(k[V]=J[V])}J.setLineDash!==void 0&&(k.setLineDash(J.getLineDash()),k.lineDashOffset=J.lineDashOffset)}function w(J,k){J.strokeStyle=J.fillStyle=k||"#000000",J.fillRule="nonzero",J.globalAlpha=1,J.lineWidth=1,J.lineCap="butt",J.lineJoin="miter",J.miterLimit=10,J.globalCompositeOperation="source-over",J.font="10px sans-serif",J.setLineDash!==void 0&&(J.setLineDash([]),J.lineDashOffset=0)}function M(J,k,H,Z){const Q=J.length;for(let V=3;V<Q;V+=4){const Y=J[V];if(Y===0)J[V-3]=k,J[V-2]=H,J[V-1]=Z;else if(Y<255){const te=255-Y;J[V-3]=J[V-3]*Y+k*te>>8,J[V-2]=J[V-2]*Y+H*te>>8,J[V-1]=J[V-1]*Y+Z*te>>8}}}function q(J,k,H){const Z=J.length,Q=1/255;for(let V=3;V<Z;V+=4){const Y=H?H[J[V]]:J[V];k[V]=k[V]*Y*Q|0}}function F(J,k,H){const Z=J.length;for(let Q=3;Q<Z;Q+=4){const V=J[Q-3]*77+J[Q-2]*152+J[Q-1]*28;k[Q]=H?k[Q]*H[V>>8]>>8:k[Q]*V>>16}}function G(J,k,H,Z,Q,V,Y,te,$,X,ne){const ce=!!V,se=ce?V[0]:0,K=ce?V[1]:0,ee=ce?V[2]:0;let ie;Q==="Luminosity"?ie=F:ie=q;const le=Math.min(Z,Math.ceil(1048576/H));for(let pe=0;pe<Z;pe+=le){const fe=Math.min(le,Z-pe),ue=J.getImageData(te-X,pe+($-ne),H,fe),ge=k.getImageData(te,pe+$,H,fe);ce&&M(ue.data,se,K,ee),ie(ue.data,ge.data,Y),k.putImageData(ge,te,pe+$)}}function R(J,k,H,Z){const Q=Z[0],V=Z[1],Y=Z[2]-Q,te=Z[3]-V;Y===0||te===0||(G(k.context,H,Y,te,k.subtype,k.backdrop,k.transferMap,Q,V,k.offsetX,k.offsetY),J.save(),J.globalAlpha=1,J.globalCompositeOperation="source-over",J.setTransform(1,0,0,1,0,0),J.drawImage(H.canvas,0,0),J.restore())}function I(J,k){const H=l.Util.singularValueDecompose2dScale(J);H[0]=Math.fround(H[0]),H[1]=Math.fround(H[1]);const Z=Math.fround((globalThis.devicePixelRatio||1)*a.PixelsPerInch.PDF_TO_CSS_UNITS);return k!==void 0?k:H[0]<=Z||H[1]<=Z}const L=["butt","round","square"],x=["miter","round","bevel"],S={},W={};var U=new WeakSet;class z{constructor(k,H,Z,Q,V,Y,te,$){u(this,U),this.ctx=k,this.current=new D(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=H,this.objs=Z,this.canvasFactory=Q,this.imageLayer=V,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=Y,this.cachedCanvases=new b(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=te,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=($==null?void 0:$.background)||null,this.foregroundColor=($==null?void 0:$.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(k){let H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return typeof k=="string"?k.startsWith("g_")?this.commonObjs.get(k):this.objs.get(k):H}beginDrawing(k){let{transform:H,viewport:Z,transparency:Q=!1,background:V=null}=k;const Y=this.ctx.canvas.width,te=this.ctx.canvas.height,$=V||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const X=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const ne=this.backgroundColor=this.ctx.fillStyle;let ce=!0,se=$;if(this.ctx.fillStyle=$,se=this.ctx.fillStyle,ce=typeof se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(se),X==="#000000"&&ne==="#ffffff"||X===ne||!ce)this.foregroundColor=this.backgroundColor=null;else{const[K,ee,ie]=(0,a.getRGB)(se),oe=pe=>(pe/=255,pe<=.03928?pe/12.92:((pe+.055)/1.055)**2.4),le=Math.round(.2126*oe(K)+.7152*oe(ee)+.0722*oe(ie));this.selectColor=(pe,fe,ue)=>{const ge=.2126*oe(pe)+.7152*oe(fe)+.0722*oe(ue);return Math.round(ge)===le?ne:X}}}if(this.ctx.fillStyle=this.backgroundColor||$,this.ctx.fillRect(0,0,Y,te),this.ctx.restore(),Q){const X=this.cachedCanvases.getCanvas("transparent",Y,te);this.compositeCtx=this.ctx,this.transparentCanvas=X.canvas,this.ctx=X.context,this.ctx.save(),this.ctx.transform(...(0,a.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),w(this.ctx,this.foregroundColor),H&&(this.ctx.transform(...H),this.outputScaleX=H[0],this.outputScaleY=H[0]),this.ctx.transform(...Z.transform),this.viewportScale=Z.scale,this.baseTransform=(0,a.getCurrentTransform)(this.ctx),this.imageLayer&&((0,a.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(k,H,Z,Q){const V=k.argsArray,Y=k.fnArray;let te=H||0;const $=V.length;if($===te)return te;const X=$-te>A&&typeof Z=="function",ne=X?Date.now()+E:0;let ce=0;const se=this.commonObjs,K=this.objs;let ee;for(;;){if(Q!==void 0&&te===Q.nextBreakPoint)return Q.breakIt(te,Z),te;if(ee=Y[te],ee!==l.OPS.dependency)this[ee].apply(this,V[te]);else for(const ie of V[te]){const oe=ie.startsWith("g_")?se:K;if(!oe.has(ie))return oe.get(ie,Z),te}if(te++,te===$)return te;if(X&&++ce>A){if(Date.now()>ne)return Z(),te;ce=0}}}endDrawing(){c(this,U,re).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const k of this._cachedBitmapsMap.values()){for(const H of k.values())typeof HTMLCanvasElement<"u"&&H instanceof HTMLCanvasElement&&(H.width=H.height=0);k.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(k,H){const Z=k.width,Q=k.height;let V=Math.max(Math.hypot(H[0],H[1]),1),Y=Math.max(Math.hypot(H[2],H[3]),1),te=Z,$=Q,X="prescale1",ne,ce;for(;V>2&&te>1||Y>2&&$>1;){let se=te,K=$;V>2&&te>1&&(se=Math.ceil(te/2),V/=te/se),Y>2&&$>1&&(K=Math.ceil($/2),Y/=$/K),ne=this.cachedCanvases.getCanvas(X,se,K),ce=ne.context,ce.clearRect(0,0,se,K),ce.drawImage(k,0,0,te,$,0,0,se,K),k=ne.canvas,te=se,$=K,X=X==="prescale1"?"prescale2":"prescale1"}return{img:k,paintWidth:te,paintHeight:$}}_createMaskCanvas(k){const H=this.ctx,{width:Z,height:Q}=k,V=this.current.fillColor,Y=this.current.patternFill,te=(0,a.getCurrentTransform)(H);let $,X,ne,ce;if((k.bitmap||k.data)&&k.count>1){const xe=k.bitmap||k.data.buffer,ye=te.slice(0,4);X=JSON.stringify(Y?ye:[ye,V]),$=this._cachedBitmapsMap.get(xe),$||($=new Map,this._cachedBitmapsMap.set(xe,$));const ve=$.get(X);if(ve&&!Y){const ke=Math.round(Math.min(te[0],te[2])+te[4]),Se=Math.round(Math.min(te[1],te[3])+te[5]);return{canvas:ve,offsetX:ke,offsetY:Se}}ne=ve}ne||(ce=this.cachedCanvases.getCanvas("maskCanvas",Z,Q),y(ce.context,k));let se=l.Util.transform(te,[1/Z,0,0,-1/Q,0,0]);se=l.Util.transform(se,[1,0,0,1,0,-Q]);const K=l.Util.applyTransform([0,0],se),ee=l.Util.applyTransform([Z,Q],se),ie=l.Util.normalizeRect([K[0],K[1],ee[0],ee[1]]),oe=Math.round(ie[2]-ie[0])||1,le=Math.round(ie[3]-ie[1])||1,pe=this.cachedCanvases.getCanvas("fillCanvas",oe,le),fe=pe.context,ue=Math.min(K[0],ee[0]),ge=Math.min(K[1],ee[1]);fe.translate(-ue,-ge),fe.transform(...se),ne||(ne=this._scaleImage(ce.canvas,(0,a.getCurrentTransformInverse)(fe)),ne=ne.img,$&&Y&&$.set(X,ne)),fe.imageSmoothingEnabled=I((0,a.getCurrentTransform)(fe),k.interpolate),o(fe,ne,0,0,ne.width,ne.height,0,0,Z,Q),fe.globalCompositeOperation="source-in";const he=l.Util.transform((0,a.getCurrentTransformInverse)(fe),[1,0,0,1,-ue,-ge]);return fe.fillStyle=Y?V.getPattern(H,this,he,g.PathType.FILL):V,fe.fillRect(0,0,Z,Q),$&&!Y&&(this.cachedCanvases.delete("fillCanvas"),$.set(X,pe.canvas)),{canvas:pe.canvas,offsetX:Math.round(ue),offsetY:Math.round(ge)}}setLineWidth(k){k!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=k,this.ctx.lineWidth=k}setLineCap(k){this.ctx.lineCap=L[k]}setLineJoin(k){this.ctx.lineJoin=x[k]}setMiterLimit(k){this.ctx.miterLimit=k}setDash(k,H){const Z=this.ctx;Z.setLineDash!==void 0&&(Z.setLineDash(k),Z.lineDashOffset=H)}setRenderingIntent(k){}setFlatness(k){}setGState(k){for(let H=0,Z=k.length;H<Z;H++){const Q=k[H],V=Q[0],Y=Q[1];switch(V){case"LW":this.setLineWidth(Y);break;case"LC":this.setLineCap(Y);break;case"LJ":this.setLineJoin(Y);break;case"ML":this.setMiterLimit(Y);break;case"D":this.setDash(Y[0],Y[1]);break;case"RI":this.setRenderingIntent(Y);break;case"FL":this.setFlatness(Y);break;case"Font":this.setFont(Y[0],Y[1]);break;case"CA":this.current.strokeAlpha=Q[1];break;case"ca":this.current.fillAlpha=Q[1],this.ctx.globalAlpha=Q[1];break;case"BM":this.ctx.globalCompositeOperation=Y;break;case"SMask":this.current.activeSMask=Y?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=Y}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const k=this.inSMaskMode;this.current.activeSMask&&!k?this.beginSMaskMode():!this.current.activeSMask&&k&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const k=this.ctx.canvas.width,H=this.ctx.canvas.height,Z="smaskGroupAt"+this.groupLevel,Q=this.cachedCanvases.getCanvas(Z,k,H);this.suspendedCtx=this.ctx,this.ctx=Q.context;const V=this.ctx;V.setTransform(...(0,a.getCurrentTransform)(this.suspendedCtx)),P(this.suspendedCtx,V),v(V,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),P(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(k){if(!this.current.activeSMask)return;k?(k[0]=Math.floor(k[0]),k[1]=Math.floor(k[1]),k[2]=Math.ceil(k[2]),k[3]=Math.ceil(k[3])):k=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const H=this.current.activeSMask,Z=this.suspendedCtx;R(Z,H,this.ctx,k),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(P(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const k=this.current;this.stateStack.push(k),this.current=k.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),P(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(k,H,Z,Q,V,Y){this.ctx.transform(k,H,Z,Q,V,Y),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(k,H,Z){const Q=this.ctx,V=this.current;let Y=V.x,te=V.y,$,X;const ne=(0,a.getCurrentTransform)(Q),ce=ne[0]===0&&ne[3]===0||ne[1]===0&&ne[2]===0,se=ce?Z.slice(0):null;for(let K=0,ee=0,ie=k.length;K<ie;K++)switch(k[K]|0){case l.OPS.rectangle:Y=H[ee++],te=H[ee++];const oe=H[ee++],le=H[ee++],pe=Y+oe,fe=te+le;Q.moveTo(Y,te),oe===0||le===0?Q.lineTo(pe,fe):(Q.lineTo(pe,te),Q.lineTo(pe,fe),Q.lineTo(Y,fe)),ce||V.updateRectMinMax(ne,[Y,te,pe,fe]),Q.closePath();break;case l.OPS.moveTo:Y=H[ee++],te=H[ee++],Q.moveTo(Y,te),ce||V.updatePathMinMax(ne,Y,te);break;case l.OPS.lineTo:Y=H[ee++],te=H[ee++],Q.lineTo(Y,te),ce||V.updatePathMinMax(ne,Y,te);break;case l.OPS.curveTo:$=Y,X=te,Y=H[ee+4],te=H[ee+5],Q.bezierCurveTo(H[ee],H[ee+1],H[ee+2],H[ee+3],Y,te),V.updateCurvePathMinMax(ne,$,X,H[ee],H[ee+1],H[ee+2],H[ee+3],Y,te,se),ee+=6;break;case l.OPS.curveTo2:$=Y,X=te,Q.bezierCurveTo(Y,te,H[ee],H[ee+1],H[ee+2],H[ee+3]),V.updateCurvePathMinMax(ne,$,X,Y,te,H[ee],H[ee+1],H[ee+2],H[ee+3],se),Y=H[ee+2],te=H[ee+3],ee+=4;break;case l.OPS.curveTo3:$=Y,X=te,Y=H[ee+2],te=H[ee+3],Q.bezierCurveTo(H[ee],H[ee+1],Y,te,Y,te),V.updateCurvePathMinMax(ne,$,X,H[ee],H[ee+1],Y,te,Y,te,se),ee+=4;break;case l.OPS.closePath:Q.closePath();break}ce&&V.updateScalingPathMinMax(ne,se),V.setCurrentPoint(Y,te)}closePath(){this.ctx.closePath()}stroke(k){k=typeof k<"u"?k:!0;const H=this.ctx,Z=this.current.strokeColor;H.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Z=="object"&&Z!==null&&Z!==void 0&&Z.getPattern?(H.save(),H.strokeStyle=Z.getPattern(H,this,(0,a.getCurrentTransformInverse)(H),g.PathType.STROKE),this.rescaleAndStroke(!1),H.restore()):this.rescaleAndStroke(!0)),k&&this.consumePath(this.current.getClippedPathBoundingBox()),H.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(k){k=typeof k<"u"?k:!0;const H=this.ctx,Z=this.current.fillColor,Q=this.current.patternFill;let V=!1;Q&&(H.save(),H.fillStyle=Z.getPattern(H,this,(0,a.getCurrentTransformInverse)(H),g.PathType.FILL),V=!0);const Y=this.current.getClippedPathBoundingBox();this.contentVisible&&Y!==null&&(this.pendingEOFill?(H.fill("evenodd"),this.pendingEOFill=!1):H.fill()),V&&H.restore(),k&&this.consumePath(Y)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=S}eoClip(){this.pendingClip=W}beginText(){this.current.textMatrix=l.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const k=this.pendingTextPaths,H=this.ctx;if(k===void 0){H.beginPath();return}H.save(),H.beginPath();for(const Z of k)H.setTransform(...Z.transform),H.translate(Z.x,Z.y),Z.addToPath(H,Z.fontSize);H.restore(),H.clip(),H.beginPath(),delete this.pendingTextPaths}setCharSpacing(k){this.current.charSpacing=k}setWordSpacing(k){this.current.wordSpacing=k}setHScale(k){this.current.textHScale=k/100}setLeading(k){this.current.leading=-k}setFont(k,H){const Z=this.commonObjs.get(k),Q=this.current;if(!Z)throw new Error(`Can't find font for ${k}`);if(Q.fontMatrix=Z.fontMatrix||l.FONT_IDENTITY_MATRIX,(Q.fontMatrix[0]===0||Q.fontMatrix[3]===0)&&(0,l.warn)("Invalid font matrix for font "+k),H<0?(H=-H,Q.fontDirection=-1):Q.fontDirection=1,this.current.font=Z,this.current.fontSize=H,Z.isType3Font)return;const V=Z.loadedName||"sans-serif";let Y="normal";Z.black?Y="900":Z.bold&&(Y="bold");const te=Z.italic?"italic":"normal",$=`"${V}", ${Z.fallbackName}`;let X=H;H<C?X=C:H>m&&(X=m),this.current.fontSizeScale=H/X,this.ctx.font=`${te} ${Y} ${X}px ${$}`}setTextRenderingMode(k){this.current.textRenderingMode=k}setTextRise(k){this.current.textRise=k}moveText(k,H){this.current.x=this.current.lineX+=k,this.current.y=this.current.lineY+=H}setLeadingMoveText(k,H){this.setLeading(-H),this.moveText(k,H)}setTextMatrix(k,H,Z,Q,V,Y){this.current.textMatrix=[k,H,Z,Q,V,Y],this.current.textMatrixScale=Math.hypot(k,H),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(k,H,Z,Q){const V=this.ctx,Y=this.current,te=Y.font,$=Y.textRenderingMode,X=Y.fontSize/Y.fontSizeScale,ne=$&l.TextRenderingMode.FILL_STROKE_MASK,ce=!!($&l.TextRenderingMode.ADD_TO_PATH_FLAG),se=Y.patternFill&&!te.missingFile;let K;(te.disableFontFace||ce||se)&&(K=te.getPathGenerator(this.commonObjs,k)),te.disableFontFace||se?(V.save(),V.translate(H,Z),V.beginPath(),K(V,X),Q&&V.setTransform(...Q),(ne===l.TextRenderingMode.FILL||ne===l.TextRenderingMode.FILL_STROKE)&&V.fill(),(ne===l.TextRenderingMode.STROKE||ne===l.TextRenderingMode.FILL_STROKE)&&V.stroke(),V.restore()):((ne===l.TextRenderingMode.FILL||ne===l.TextRenderingMode.FILL_STROKE)&&V.fillText(k,H,Z),(ne===l.TextRenderingMode.STROKE||ne===l.TextRenderingMode.FILL_STROKE)&&V.strokeText(k,H,Z)),ce&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,a.getCurrentTransform)(V),x:H,y:Z,fontSize:X,addToPath:K})}get isFontSubpixelAAEnabled(){const{context:k}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);k.scale(1.5,1),k.fillText("I",0,10);const H=k.getImageData(0,0,10,10).data;let Z=!1;for(let Q=3;Q<H.length;Q+=4)if(H[Q]>0&&H[Q]<255){Z=!0;break}return(0,l.shadow)(this,"isFontSubpixelAAEnabled",Z)}showText(k){const H=this.current,Z=H.font;if(Z.isType3Font)return this.showType3Text(k);const Q=H.fontSize;if(Q===0)return;const V=this.ctx,Y=H.fontSizeScale,te=H.charSpacing,$=H.wordSpacing,X=H.fontDirection,ne=H.textHScale*X,ce=k.length,se=Z.vertical,K=se?1:-1,ee=Z.defaultVMetrics,ie=Q*H.fontMatrix[0],oe=H.textRenderingMode===l.TextRenderingMode.FILL&&!Z.disableFontFace&&!H.patternFill;V.save(),V.transform(...H.textMatrix),V.translate(H.x,H.y+H.textRise),X>0?V.scale(ne,-1):V.scale(ne,1);let le;if(H.patternFill){V.save();const he=H.fillColor.getPattern(V,this,(0,a.getCurrentTransformInverse)(V),g.PathType.FILL);le=(0,a.getCurrentTransform)(V),V.restore(),V.fillStyle=he}let pe=H.lineWidth;const fe=H.textMatrixScale;if(fe===0||pe===0){const he=H.textRenderingMode&l.TextRenderingMode.FILL_STROKE_MASK;(he===l.TextRenderingMode.STROKE||he===l.TextRenderingMode.FILL_STROKE)&&(pe=this.getSinglePixelWidth())}else pe/=fe;Y!==1&&(V.scale(Y,Y),pe/=Y),V.lineWidth=pe;let ue=0,ge;for(ge=0;ge<ce;++ge){const he=k[ge];if(typeof he=="number"){ue+=K*he*Q/1e3;continue}let xe=!1;const ye=(he.isSpace?$:0)+te,ve=he.fontChar,ke=he.accent;let Se,be,Ee=he.width;if(se){const Fe=he.vmetric||ee,Re=-(he.vmetric?Fe[1]:Ee*.5)*ie,Ne=Fe[2]*ie;Ee=Fe?-Fe[0]:Ee,Se=Re/Y,be=(ue+Ne)/Y}else Se=ue/Y,be=0;if(Z.remeasure&&Ee>0){const Fe=V.measureText(ve).width*1e3/Q*Y;if(Ee<Fe&&this.isFontSubpixelAAEnabled){const Re=Ee/Fe;xe=!0,V.save(),V.scale(Re,1),Se/=Re}else Ee!==Fe&&(Se+=(Ee-Fe)/2e3*Q/Y)}if(this.contentVisible&&(he.isInFont||Z.missingFile)){if(oe&&!ke)V.fillText(ve,Se,be);else if(this.paintChar(ve,Se,be,le),ke){const Fe=Se+Q*ke.offset.x/Y,Re=be-Q*ke.offset.y/Y;this.paintChar(ke.fontChar,Fe,Re,le)}}let Oe;se?Oe=Ee*ie-ye*X:Oe=Ee*ie+ye*X,ue+=Oe,xe&&V.restore()}se?H.y-=ue:H.x+=ue*ne,V.restore(),this.compose()}showType3Text(k){const H=this.ctx,Z=this.current,Q=Z.font,V=Z.fontSize,Y=Z.fontDirection,te=Q.vertical?1:-1,$=Z.charSpacing,X=Z.wordSpacing,ne=Z.textHScale*Y,ce=Z.fontMatrix||l.FONT_IDENTITY_MATRIX,se=k.length,K=Z.textRenderingMode===l.TextRenderingMode.INVISIBLE;let ee,ie,oe,le;if(!(K||V===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,H.save(),H.transform(...Z.textMatrix),H.translate(Z.x,Z.y),H.scale(ne,Y),ee=0;ee<se;++ee){if(ie=k[ee],typeof ie=="number"){le=te*ie*V/1e3,this.ctx.translate(le,0),Z.x+=le*ne;continue}const pe=(ie.isSpace?X:0)+$,fe=Q.charProcOperatorList[ie.operatorListId];if(!fe){(0,l.warn)(`Type3 character "${ie.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=ie,this.save(),H.scale(V,V),H.transform(...ce),this.executeOperatorList(fe),this.restore()),oe=l.Util.applyTransform([ie.width,0],ce)[0]*V+pe,H.translate(oe,0),Z.x+=oe*ne}H.restore(),this.processingType3=null}}setCharWidth(k,H){}setCharWidthAndBounds(k,H,Z,Q,V,Y){this.ctx.rect(Z,Q,V-Z,Y-Q),this.ctx.clip(),this.endPath()}getColorN_Pattern(k){let H;if(k[0]==="TilingPattern"){const Z=k[1],Q=this.baseTransform||(0,a.getCurrentTransform)(this.ctx),V={createCanvasGraphics:Y=>new z(Y,this.commonObjs,this.objs,this.canvasFactory)};H=new g.TilingPattern(k,Z,this.ctx,V,Q)}else H=this._getPattern(k[1],k[2]);return H}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(k,H,Z){var Q;const V=((Q=this.selectColor)===null||Q===void 0?void 0:Q.call(this,k,H,Z))||l.Util.makeHexColor(k,H,Z);this.ctx.strokeStyle=V,this.current.strokeColor=V}setFillRGBColor(k,H,Z){var Q;const V=((Q=this.selectColor)===null||Q===void 0?void 0:Q.call(this,k,H,Z))||l.Util.makeHexColor(k,H,Z);this.ctx.fillStyle=V,this.current.fillColor=V,this.current.patternFill=!1}_getPattern(k){let H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Z;return this.cachedPatterns.has(k)?Z=this.cachedPatterns.get(k):(Z=(0,g.getShadingPattern)(this.objs.get(k)),this.cachedPatterns.set(k,Z)),H&&(Z.matrix=H),Z}shadingFill(k){if(!this.contentVisible)return;const H=this.ctx;this.save();const Z=this._getPattern(k);H.fillStyle=Z.getPattern(H,this,(0,a.getCurrentTransformInverse)(H),g.PathType.SHADING);const Q=(0,a.getCurrentTransformInverse)(H);if(Q){const V=H.canvas,Y=V.width,te=V.height,$=l.Util.applyTransform([0,0],Q),X=l.Util.applyTransform([0,te],Q),ne=l.Util.applyTransform([Y,0],Q),ce=l.Util.applyTransform([Y,te],Q),se=Math.min($[0],X[0],ne[0],ce[0]),K=Math.min($[1],X[1],ne[1],ce[1]),ee=Math.max($[0],X[0],ne[0],ce[0]),ie=Math.max($[1],X[1],ne[1],ce[1]);this.ctx.fillRect(se,K,ee-se,ie-K)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,l.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,l.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(k,H){if(!!this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(k)&&k.length===6&&this.transform(...k),this.baseTransform=(0,a.getCurrentTransform)(this.ctx),H)){const Z=H[2]-H[0],Q=H[3]-H[1];this.ctx.rect(H[0],H[1],Z,Q),this.current.updateRectMinMax((0,a.getCurrentTransform)(this.ctx),H),this.clip(),this.endPath()}}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(k){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const H=this.ctx;k.isolated||(0,l.info)("TODO: Support non-isolated groups."),k.knockout&&(0,l.warn)("Knockout groups not supported.");const Z=(0,a.getCurrentTransform)(H);if(k.matrix&&H.transform(...k.matrix),!k.bbox)throw new Error("Bounding box is required.");let Q=l.Util.getAxialAlignedBoundingBox(k.bbox,(0,a.getCurrentTransform)(H));const V=[0,0,H.canvas.width,H.canvas.height];Q=l.Util.intersect(Q,V)||[0,0,0,0];const Y=Math.floor(Q[0]),te=Math.floor(Q[1]);let $=Math.max(Math.ceil(Q[2])-Y,1),X=Math.max(Math.ceil(Q[3])-te,1),ne=1,ce=1;$>e&&(ne=$/e,$=e),X>e&&(ce=X/e,X=e),this.current.startNewPathAndClipBox([0,0,$,X]);let se="groupAt"+this.groupLevel;k.smask&&(se+="_smask_"+this.smaskCounter++%2);const K=this.cachedCanvases.getCanvas(se,$,X),ee=K.context;ee.scale(1/ne,1/ce),ee.translate(-Y,-te),ee.transform(...Z),k.smask?this.smaskStack.push({canvas:K.canvas,context:ee,offsetX:Y,offsetY:te,scaleX:ne,scaleY:ce,subtype:k.smask.subtype,backdrop:k.smask.backdrop,transferMap:k.smask.transferMap||null,startTransformInverse:null}):(H.setTransform(1,0,0,1,0,0),H.translate(Y,te),H.scale(ne,ce),H.save()),P(H,ee),this.ctx=ee,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(H),this.groupLevel++}endGroup(k){if(!this.contentVisible)return;this.groupLevel--;const H=this.ctx,Z=this.groupStack.pop();if(this.ctx=Z,this.ctx.imageSmoothingEnabled=!1,k.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Q=(0,a.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Q);const V=l.Util.getAxialAlignedBoundingBox([0,0,H.canvas.width,H.canvas.height],Q);this.ctx.drawImage(H.canvas,0,0),this.ctx.restore(),this.compose(V)}}beginAnnotation(k,H,Z,Q,V){if(c(this,U,re).call(this),w(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(H)&&H.length===4){const Y=H[2]-H[0],te=H[3]-H[1];if(V&&this.annotationCanvasMap){Z=Z.slice(),Z[4]-=H[0],Z[5]-=H[1],H=H.slice(),H[0]=H[1]=0,H[2]=Y,H[3]=te;const[$,X]=l.Util.singularValueDecompose2dScale((0,a.getCurrentTransform)(this.ctx)),{viewportScale:ne}=this,ce=Math.ceil(Y*this.outputScaleX*ne),se=Math.ceil(te*this.outputScaleY*ne);this.annotationCanvas=this.canvasFactory.create(ce,se);const{canvas:K,context:ee}=this.annotationCanvas;this.annotationCanvasMap.set(k,K),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ee,this.ctx.setTransform($,0,0,-X,0,te*X),w(this.ctx,this.foregroundColor)}else w(this.ctx,this.foregroundColor),this.ctx.rect(H[0],H[1],Y,te),this.ctx.clip(),this.endPath()}this.current=new D(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Z),this.transform(...Q)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(k){if(!this.contentVisible)return;const H=k.count;k=this.getObject(k.data,k),k.count=H;const Z=this.ctx,Q=this.processingType3;if(Q&&(Q.compiled===void 0&&(Q.compiled=T(k)),Q.compiled)){Q.compiled(Z);return}const V=this._createMaskCanvas(k),Y=V.canvas;Z.save(),Z.setTransform(1,0,0,1,0,0),Z.drawImage(Y,V.offsetX,V.offsetY),Z.restore(),this.compose()}paintImageMaskXObjectRepeat(k,H){let Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,V=arguments.length>4?arguments[4]:void 0,Y=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;k=this.getObject(k.data,k);const te=this.ctx;te.save();const $=(0,a.getCurrentTransform)(te);te.transform(H,Z,Q,V,0,0);const X=this._createMaskCanvas(k);te.setTransform(1,0,0,1,0,0);for(let ne=0,ce=Y.length;ne<ce;ne+=2){const se=l.Util.transform($,[H,Z,Q,V,Y[ne],Y[ne+1]]),[K,ee]=l.Util.applyTransform([0,0],se);te.drawImage(X.canvas,K,ee)}te.restore(),this.compose()}paintImageMaskXObjectGroup(k){if(!this.contentVisible)return;const H=this.ctx,Z=this.current.fillColor,Q=this.current.patternFill;for(const V of k){const{data:Y,width:te,height:$,transform:X}=V,ne=this.cachedCanvases.getCanvas("maskCanvas",te,$),ce=ne.context;ce.save();const se=this.getObject(Y,V);y(ce,se),ce.globalCompositeOperation="source-in",ce.fillStyle=Q?Z.getPattern(ce,this,(0,a.getCurrentTransformInverse)(H),g.PathType.FILL):Z,ce.fillRect(0,0,te,$),ce.restore(),H.save(),H.transform(...X),H.scale(1,-1),o(H,ne.canvas,0,0,te,$,0,-1,1,1),H.restore()}this.compose()}paintImageXObject(k){if(!this.contentVisible)return;const H=this.getObject(k);if(!H){(0,l.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(H)}paintImageXObjectRepeat(k,H,Z,Q){if(!this.contentVisible)return;const V=this.getObject(k);if(!V){(0,l.warn)("Dependent image isn't ready yet");return}const Y=V.width,te=V.height,$=[];for(let X=0,ne=Q.length;X<ne;X+=2)$.push({transform:[H,0,0,Z,Q[X],Q[X+1]],x:0,y:0,w:Y,h:te});this.paintInlineImageXObjectGroup(V,$)}paintInlineImageXObject(k){if(!this.contentVisible)return;const H=k.width,Z=k.height,Q=this.ctx;this.save(),Q.scale(1/H,-1/Z);let V;if(typeof HTMLElement=="function"&&k instanceof HTMLElement||!k.data)V=k;else{const X=this.cachedCanvases.getCanvas("inlineImage",H,Z),ne=X.context;_(ne,k,this.current.transferMaps),V=X.canvas}const Y=this._scaleImage(V,(0,a.getCurrentTransformInverse)(Q));Q.imageSmoothingEnabled=I((0,a.getCurrentTransform)(Q),k.interpolate);const[te,$]=o(Q,Y.img,0,0,Y.paintWidth,Y.paintHeight,0,-Z,H,Z);if(this.imageLayer){const[X,ne]=l.Util.applyTransform([0,-Z],(0,a.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:k,left:X,top:ne,width:te,height:$})}this.compose(),this.restore()}paintInlineImageXObjectGroup(k,H){if(!this.contentVisible)return;const Z=this.ctx,Q=k.width,V=k.height,Y=this.cachedCanvases.getCanvas("inlineImage",Q,V),te=Y.context;_(te,k,this.current.transferMaps);for(const $ of H){if(Z.save(),Z.transform(...$.transform),Z.scale(1,-1),o(Z,Y.canvas,$.x,$.y,$.w,$.h,0,-1,1,1),this.imageLayer){const[X,ne]=l.Util.applyTransform([$.x,$.y],(0,a.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:k,left:X,top:ne,width:Q,height:V})}Z.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(k){}markPointProps(k,H){}beginMarkedContent(k){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(k,H){k==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(H)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(k){const H=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(k);const Z=this.ctx;this.pendingClip&&(H||(this.pendingClip===W?Z.clip("evenodd"):Z.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Z.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const k=(0,a.getCurrentTransform)(this.ctx);if(k[1]===0&&k[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(k[0]),Math.abs(k[3]));else{const H=Math.abs(k[0]*k[3]-k[2]*k[1]),Z=Math.hypot(k[0],k[2]),Q=Math.hypot(k[1],k[3]);this._cachedGetSinglePixelWidth=Math.max(Z,Q)/H}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:k}=this.current,H=(0,a.getCurrentTransform)(this.ctx);let Z,Q;if(H[1]===0&&H[2]===0){const V=Math.abs(H[0]),Y=Math.abs(H[3]);if(k===0)Z=1/V,Q=1/Y;else{const te=V*k,$=Y*k;Z=te<1?1/te:1,Q=$<1?1/$:1}}else{const V=Math.abs(H[0]*H[3]-H[2]*H[1]),Y=Math.hypot(H[0],H[1]),te=Math.hypot(H[2],H[3]);if(k===0)Z=te/V,Q=Y/V;else{const $=k*V;Z=te>$?te/$:1,Q=Y>$?Y/$:1}}this._cachedScaleForStroking=[Z,Q]}return this._cachedScaleForStroking}rescaleAndStroke(k){const{ctx:H}=this,{lineWidth:Z}=this.current,[Q,V]=this.getScaleForStroking();if(H.lineWidth=Z||1,Q===1&&V===1){H.stroke();return}let Y,te,$;k&&(Y=(0,a.getCurrentTransform)(H),te=H.getLineDash().slice(),$=H.lineDashOffset),H.scale(Q,V);const X=Math.max(Q,V);H.setLineDash(H.getLineDash().map(ne=>ne/X)),H.lineDashOffset/=X,H.stroke(),k&&(H.setTransform(...Y),H.setLineDash(te),H.lineDashOffset=$)}isContentVisible(){for(let k=this.markedContentStack.length-1;k>=0;k--)if(!this.markedContentStack[k].visible)return!1;return!0}}t.CanvasGraphics=z;function re(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}for(const J in l.OPS)z.prototype[J]!==void 0&&(z.prototype[l.OPS[J]]=z.prototype[J])},(i,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TilingPattern=t.PathType=void 0,t.getShadingPattern=E;var a=r(1),l=r(133),g=r(3);const d={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};t.PathType=d;function s(O,v){if(!v||g.isNodeJS)return;const b=v[2]-v[0],o=v[3]-v[1],T=new Path2D;T.rect(v[0],v[1],b,o),O.clip(T)}class u{constructor(){this.constructor===u&&(0,a.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,a.unreachable)("Abstract method `getPattern` called.")}}class n extends u{constructor(v){super(),this._type=v[1],this._bbox=v[2],this._colorStops=v[3],this._p0=v[4],this._p1=v[5],this._r0=v[6],this._r1=v[7],this.matrix=null}_createGradient(v){let b;this._type==="axial"?b=v.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(b=v.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const o of this._colorStops)b.addColorStop(o[0],o[1]);return b}getPattern(v,b,o,T){let D;if(T===d.STROKE||T===d.FILL){const _=b.current.getClippedPathBoundingBox(T,(0,l.getCurrentTransform)(v))||[0,0,0,0],y=Math.ceil(_[2]-_[0])||1,P=Math.ceil(_[3]-_[1])||1,w=b.cachedCanvases.getCanvas("pattern",y,P,!0),M=w.context;M.clearRect(0,0,M.canvas.width,M.canvas.height),M.beginPath(),M.rect(0,0,M.canvas.width,M.canvas.height),M.translate(-_[0],-_[1]),o=a.Util.transform(o,[1,0,0,1,_[0],_[1]]),M.transform(...b.baseTransform),this.matrix&&M.transform(...this.matrix),s(M,this._bbox),M.fillStyle=this._createGradient(M),M.fill(),D=v.createPattern(w.canvas,"no-repeat");const q=new DOMMatrix(o);try{D.setTransform(q)}catch(F){(0,a.warn)(`RadialAxialShadingPattern.getPattern: "${F==null?void 0:F.message}".`)}}else s(v,this._bbox),D=this._createGradient(v);return D}}function c(O,v,b,o,T,D,_,y){const P=v.coords,w=v.colors,M=O.data,q=O.width*4;let F;P[b+1]>P[o+1]&&(F=b,b=o,o=F,F=D,D=_,_=F),P[o+1]>P[T+1]&&(F=o,o=T,T=F,F=_,_=y,y=F),P[b+1]>P[o+1]&&(F=b,b=o,o=F,F=D,D=_,_=F);const G=(P[b]+v.offsetX)*v.scaleX,R=(P[b+1]+v.offsetY)*v.scaleY,I=(P[o]+v.offsetX)*v.scaleX,L=(P[o+1]+v.offsetY)*v.scaleY,x=(P[T]+v.offsetX)*v.scaleX,S=(P[T+1]+v.offsetY)*v.scaleY;if(R>=S)return;const W=w[D],U=w[D+1],z=w[D+2],re=w[_],J=w[_+1],k=w[_+2],H=w[y],Z=w[y+1],Q=w[y+2],V=Math.round(R),Y=Math.round(S);let te,$,X,ne,ce,se,K,ee;for(let ie=V;ie<=Y;ie++){if(ie<L){let ue;ie<R?ue=0:ue=(R-ie)/(R-L),te=G-(G-I)*ue,$=W-(W-re)*ue,X=U-(U-J)*ue,ne=z-(z-k)*ue}else{let ue;ie>S?ue=1:L===S?ue=0:ue=(L-ie)/(L-S),te=I-(I-x)*ue,$=re-(re-H)*ue,X=J-(J-Z)*ue,ne=k-(k-Q)*ue}let oe;ie<R?oe=0:ie>S?oe=1:oe=(R-ie)/(R-S),ce=G-(G-x)*oe,se=W-(W-H)*oe,K=U-(U-Z)*oe,ee=z-(z-Q)*oe;const le=Math.round(Math.min(te,ce)),pe=Math.round(Math.max(te,ce));let fe=q*ie+le*4;for(let ue=le;ue<=pe;ue++)oe=(te-ue)/(te-ce),oe<0?oe=0:oe>1&&(oe=1),M[fe++]=$-($-se)*oe|0,M[fe++]=X-(X-K)*oe|0,M[fe++]=ne-(ne-ee)*oe|0,M[fe++]=255}}function C(O,v,b){const o=v.coords,T=v.colors;let D,_;switch(v.type){case"lattice":const y=v.verticesPerRow,P=Math.floor(o.length/y)-1,w=y-1;for(D=0;D<P;D++){let M=D*y;for(let q=0;q<w;q++,M++)c(O,b,o[M],o[M+1],o[M+y],T[M],T[M+1],T[M+y]),c(O,b,o[M+y+1],o[M+1],o[M+y],T[M+y+1],T[M+1],T[M+y])}break;case"triangles":for(D=0,_=o.length;D<_;D+=3)c(O,b,o[D],o[D+1],o[D+2],T[D],T[D+1],T[D+2]);break;default:throw new Error("illegal figure")}}class m extends u{constructor(v){super(),this._coords=v[2],this._colors=v[3],this._figures=v[4],this._bounds=v[5],this._bbox=v[7],this._background=v[8],this.matrix=null}_createMeshCanvas(v,b,o){const y=Math.floor(this._bounds[0]),P=Math.floor(this._bounds[1]),w=Math.ceil(this._bounds[2])-y,M=Math.ceil(this._bounds[3])-P,q=Math.min(Math.ceil(Math.abs(w*v[0]*1.1)),3e3),F=Math.min(Math.ceil(Math.abs(M*v[1]*1.1)),3e3),G=w/q,R=M/F,I={coords:this._coords,colors:this._colors,offsetX:-y,offsetY:-P,scaleX:1/G,scaleY:1/R},L=q+2*2,x=F+2*2,S=o.getCanvas("mesh",L,x,!1),W=S.context,U=W.createImageData(q,F);if(b){const re=U.data;for(let J=0,k=re.length;J<k;J+=4)re[J]=b[0],re[J+1]=b[1],re[J+2]=b[2],re[J+3]=255}for(const re of this._figures)C(U,re,I);return W.putImageData(U,2,2),{canvas:S.canvas,offsetX:y-2*G,offsetY:P-2*R,scaleX:G,scaleY:R}}getPattern(v,b,o,T){s(v,this._bbox);let D;if(T===d.SHADING)D=a.Util.singularValueDecompose2dScale((0,l.getCurrentTransform)(v));else if(D=a.Util.singularValueDecompose2dScale(b.baseTransform),this.matrix){const y=a.Util.singularValueDecompose2dScale(this.matrix);D=[D[0]*y[0],D[1]*y[1]]}const _=this._createMeshCanvas(D,T===d.SHADING?null:this._background,b.cachedCanvases);return T!==d.SHADING&&(v.setTransform(...b.baseTransform),this.matrix&&v.transform(...this.matrix)),v.translate(_.offsetX,_.offsetY),v.scale(_.scaleX,_.scaleY),v.createPattern(_.canvas,"no-repeat")}}class e extends u{getPattern(){return"hotpink"}}function E(O){switch(O[0]){case"RadialAxial":return new n(O);case"Mesh":return new m(O);case"Dummy":return new e}throw new Error(`Unknown IR type: ${O[0]}`)}const A={COLORED:1,UNCOLORED:2};class B{static get MAX_PATTERN_SIZE(){return(0,a.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(v,b,o,T,D){this.operatorList=v[2],this.matrix=v[3]||[1,0,0,1,0,0],this.bbox=v[4],this.xstep=v[5],this.ystep=v[6],this.paintType=v[7],this.tilingType=v[8],this.color=b,this.ctx=o,this.canvasGraphicsFactory=T,this.baseTransform=D}createPatternCanvas(v){const b=this.operatorList,o=this.bbox,T=this.xstep,D=this.ystep,_=this.paintType,y=this.tilingType,P=this.color,w=this.canvasGraphicsFactory;(0,a.info)("TilingType: "+y);const M=o[0],q=o[1],F=o[2],G=o[3],R=a.Util.singularValueDecompose2dScale(this.matrix),I=a.Util.singularValueDecompose2dScale(this.baseTransform),L=[R[0]*I[0],R[1]*I[1]],x=this.getSizeAndScale(T,this.ctx.canvas.width,L[0]),S=this.getSizeAndScale(D,this.ctx.canvas.height,L[1]),W=v.cachedCanvases.getCanvas("pattern",x.size,S.size,!0),U=W.context,z=w.createCanvasGraphics(U);z.groupLevel=v.groupLevel,this.setFillAndStrokeStyleToContext(z,_,P);let re=M,J=q,k=F,H=G;return M<0&&(re=0,k+=Math.abs(M)),q<0&&(J=0,H+=Math.abs(q)),U.translate(-(x.scale*re),-(S.scale*J)),z.transform(x.scale,0,0,S.scale,0,0),U.save(),this.clipBbox(z,re,J,k,H),z.baseTransform=(0,l.getCurrentTransform)(z.ctx),z.executeOperatorList(b),z.endDrawing(),{canvas:W.canvas,scaleX:x.scale,scaleY:S.scale,offsetX:re,offsetY:J}}getSizeAndScale(v,b,o){v=Math.abs(v);const T=Math.max(B.MAX_PATTERN_SIZE,b);let D=Math.ceil(v*o);return D>=T?D=T:o=D/v,{scale:o,size:D}}clipBbox(v,b,o,T,D){const _=T-b,y=D-o;v.ctx.rect(b,o,_,y),v.current.updateRectMinMax((0,l.getCurrentTransform)(v.ctx),[b,o,T,D]),v.clip(),v.endPath()}setFillAndStrokeStyleToContext(v,b,o){const T=v.ctx,D=v.current;switch(b){case A.COLORED:const _=this.ctx;T.fillStyle=_.fillStyle,T.strokeStyle=_.strokeStyle,D.fillColor=_.fillStyle,D.strokeColor=_.strokeStyle;break;case A.UNCOLORED:const y=a.Util.makeHexColor(o[0],o[1],o[2]);T.fillStyle=y,T.strokeStyle=y,D.fillColor=y,D.strokeColor=y;break;default:throw new a.FormatError(`Unsupported paint type: ${b}`)}}getPattern(v,b,o,T){let D=o;T!==d.SHADING&&(D=a.Util.transform(D,b.baseTransform),this.matrix&&(D=a.Util.transform(D,this.matrix)));const _=this.createPatternCanvas(b);let y=new DOMMatrix(D);y=y.translate(_.offsetX,_.offsetY),y=y.scale(1/_.scaleX,1/_.scaleY);const P=v.createPattern(_.canvas,"repeat");try{P.setTransform(y)}catch(w){(0,a.warn)(`TilingPattern.getPattern: "${w==null?void 0:w.message}".`)}return P}}t.TilingPattern=B},(i,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.applyMaskImageData=l;var a=r(1);function l(g){let{src:d,srcPos:s=0,dest:u,destPos:n=0,width:c,height:C,inverseDecode:m=!1}=g;const e=a.FeatureTest.isLittleEndian?4278190080:255,[E,A]=m?[0,e]:[e,0],B=c>>3,O=c&7,v=d.length;u=new Uint32Array(u.buffer);for(let b=0;b<C;b++){for(const T=s+B;s<T;s++){const D=s<v?d[s]:255;u[n++]=D&128?A:E,u[n++]=D&64?A:E,u[n++]=D&32?A:E,u[n++]=D&16?A:E,u[n++]=D&8?A:E,u[n++]=D&4?A:E,u[n++]=D&2?A:E,u[n++]=D&1?A:E}if(O===0)continue;const o=s<v?d[s++]:255;for(let T=0;T<O;T++)u[n++]=o&1<<7-T?A:E}return{srcPos:s,destPos:n}}},(i,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;const r=Object.create(null);t.GlobalWorkerOptions=r,r.workerPort=r.workerPort===void 0?null:r.workerPort,r.workerSrc=r.workerSrc===void 0?"":r.workerSrc},(i,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var a=r(1);const l={UNKNOWN:0,DATA:1,ERROR:2},g={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function d(u){switch(u instanceof Error||typeof u=="object"&&u!==null||(0,a.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),u.name){case"AbortException":return new a.AbortException(u.message);case"MissingPDFException":return new a.MissingPDFException(u.message);case"PasswordException":return new a.PasswordException(u.message,u.code);case"UnexpectedResponseException":return new a.UnexpectedResponseException(u.message,u.status);case"UnknownErrorException":return new a.UnknownErrorException(u.message,u.details);default:return new a.UnknownErrorException(u.message,u.toString())}}class s{constructor(n,c,C){this.sourceName=n,this.targetName=c,this.comObj=C,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=m=>{const e=m.data;if(e.targetName!==this.sourceName)return;if(e.stream){this._processStreamMessage(e);return}if(e.callback){const A=e.callbackId,B=this.callbackCapabilities[A];if(!B)throw new Error(`Cannot resolve callback ${A}`);if(delete this.callbackCapabilities[A],e.callback===l.DATA)B.resolve(e.data);else if(e.callback===l.ERROR)B.reject(d(e.reason));else throw new Error("Unexpected callback case");return}const E=this.actionHandler[e.action];if(!E)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const A=this.sourceName,B=e.sourceName;new Promise(function(O){O(E(e.data))}).then(function(O){C.postMessage({sourceName:A,targetName:B,callback:l.DATA,callbackId:e.callbackId,data:O})},function(O){C.postMessage({sourceName:A,targetName:B,callback:l.ERROR,callbackId:e.callbackId,reason:d(O)})});return}if(e.streamId){this._createStreamSink(e);return}E(e.data)},C.addEventListener("message",this._onComObjOnMessage)}on(n,c){const C=this.actionHandler;if(C[n])throw new Error(`There is already an actionName called "${n}"`);C[n]=c}send(n,c,C){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:n,data:c},C)}sendWithPromise(n,c,C){const m=this.callbackId++,e=(0,a.createPromiseCapability)();this.callbackCapabilities[m]=e;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:n,callbackId:m,data:c},C)}catch(E){e.reject(E)}return e.promise}sendWithStream(n,c,C,m){const e=this.streamId++,E=this.sourceName,A=this.targetName,B=this.comObj;return new ReadableStream({start:O=>{const v=(0,a.createPromiseCapability)();return this.streamControllers[e]={controller:O,startCall:v,pullCall:null,cancelCall:null,isClosed:!1},B.postMessage({sourceName:E,targetName:A,action:n,streamId:e,data:c,desiredSize:O.desiredSize},m),v.promise},pull:O=>{const v=(0,a.createPromiseCapability)();return this.streamControllers[e].pullCall=v,B.postMessage({sourceName:E,targetName:A,stream:g.PULL,streamId:e,desiredSize:O.desiredSize}),v.promise},cancel:O=>{(0,a.assert)(O instanceof Error,"cancel must have a valid reason");const v=(0,a.createPromiseCapability)();return this.streamControllers[e].cancelCall=v,this.streamControllers[e].isClosed=!0,B.postMessage({sourceName:E,targetName:A,stream:g.CANCEL,streamId:e,reason:d(O)}),v.promise}},C)}_createStreamSink(n){const c=n.streamId,C=this.sourceName,m=n.sourceName,e=this.comObj,E=this,A=this.actionHandler[n.action],B={enqueue(O){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,b=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const o=this.desiredSize;this.desiredSize-=v,o>0&&this.desiredSize<=0&&(this.sinkCapability=(0,a.createPromiseCapability)(),this.ready=this.sinkCapability.promise),e.postMessage({sourceName:C,targetName:m,stream:g.ENQUEUE,streamId:c,chunk:O},b)},close(){this.isCancelled||(this.isCancelled=!0,e.postMessage({sourceName:C,targetName:m,stream:g.CLOSE,streamId:c}),delete E.streamSinks[c])},error(O){(0,a.assert)(O instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,e.postMessage({sourceName:C,targetName:m,stream:g.ERROR,streamId:c,reason:d(O)}))},sinkCapability:(0,a.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:n.desiredSize,ready:null};B.sinkCapability.resolve(),B.ready=B.sinkCapability.promise,this.streamSinks[c]=B,new Promise(function(O){O(A(n.data,B))}).then(function(){e.postMessage({sourceName:C,targetName:m,stream:g.START_COMPLETE,streamId:c,success:!0})},function(O){e.postMessage({sourceName:C,targetName:m,stream:g.START_COMPLETE,streamId:c,reason:d(O)})})}_processStreamMessage(n){const c=n.streamId,C=this.sourceName,m=n.sourceName,e=this.comObj,E=this.streamControllers[c],A=this.streamSinks[c];switch(n.stream){case g.START_COMPLETE:n.success?E.startCall.resolve():E.startCall.reject(d(n.reason));break;case g.PULL_COMPLETE:n.success?E.pullCall.resolve():E.pullCall.reject(d(n.reason));break;case g.PULL:if(!A){e.postMessage({sourceName:C,targetName:m,stream:g.PULL_COMPLETE,streamId:c,success:!0});break}A.desiredSize<=0&&n.desiredSize>0&&A.sinkCapability.resolve(),A.desiredSize=n.desiredSize,new Promise(function(B){B(A.onPull&&A.onPull())}).then(function(){e.postMessage({sourceName:C,targetName:m,stream:g.PULL_COMPLETE,streamId:c,success:!0})},function(B){e.postMessage({sourceName:C,targetName:m,stream:g.PULL_COMPLETE,streamId:c,reason:d(B)})});break;case g.ENQUEUE:if((0,a.assert)(E,"enqueue should have stream controller"),E.isClosed)break;E.controller.enqueue(n.chunk);break;case g.CLOSE:if((0,a.assert)(E,"close should have stream controller"),E.isClosed)break;E.isClosed=!0,E.controller.close(),this._deleteStreamController(E,c);break;case g.ERROR:(0,a.assert)(E,"error should have stream controller"),E.controller.error(d(n.reason)),this._deleteStreamController(E,c);break;case g.CANCEL_COMPLETE:n.success?E.cancelCall.resolve():E.cancelCall.reject(d(n.reason)),this._deleteStreamController(E,c);break;case g.CANCEL:if(!A)break;new Promise(function(B){B(A.onCancel&&A.onCancel(d(n.reason)))}).then(function(){e.postMessage({sourceName:C,targetName:m,stream:g.CANCEL_COMPLETE,streamId:c,success:!0})},function(B){e.postMessage({sourceName:C,targetName:m,stream:g.CANCEL_COMPLETE,streamId:c,reason:d(B)})}),A.sinkCapability.reject(d(n.reason)),A.isCancelled=!0,delete this.streamSinks[c];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(n,c){await Promise.allSettled([n.startCall&&n.startCall.promise,n.pullCall&&n.pullCall.promise,n.cancelCall&&n.cancelCall.promise]),delete this.streamControllers[c]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}t.MessageHandler=s},(i,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var a=r(1);function l(E,A,B){g(E,A),A.set(E,B)}function g(E,A){if(A.has(E))throw new TypeError("Cannot initialize the same private elements twice on an object")}function d(E,A){var B=n(E,A,"get");return s(E,B)}function s(E,A){return A.get?A.get.call(E):A.value}function u(E,A,B){var O=n(E,A,"set");return c(E,O,B),B}function n(E,A,B){if(!A.has(E))throw new TypeError("attempted to "+B+" private field on non-instance");return A.get(E)}function c(E,A,B){if(A.set)A.set.call(E,B);else{if(!A.writable)throw new TypeError("attempted to set read only private field");A.value=B}}var C=new WeakMap,m=new WeakMap;class e{constructor(A){let{parsedData:B,rawData:O}=A;l(this,C,{writable:!0,value:void 0}),l(this,m,{writable:!0,value:void 0}),u(this,C,B),u(this,m,O)}getRaw(){return d(this,m)}get(A){var B;return(B=d(this,C).get(A))!==null&&B!==void 0?B:null}getAll(){return(0,a.objectFromMap)(d(this,C))}has(A){return d(this,C).has(A)}}t.Metadata=e},(i,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var a=r(1);function l(_,y){s(_,y),y.add(_)}function g(_,y,P){if(!y.has(_))throw new TypeError("attempted to get private field on non-instance");return P}function d(_,y,P){s(_,y),y.set(_,P)}function s(_,y){if(y.has(_))throw new TypeError("Cannot initialize the same private elements twice on an object")}function u(_,y,P){var w=C(_,y,"set");return n(_,w,P),P}function n(_,y,P){if(y.set)y.set.call(_,P);else{if(!y.writable)throw new TypeError("attempted to set read only private field");y.value=P}}function c(_,y){var P=C(_,y,"get");return m(_,P)}function C(_,y,P){if(!y.has(_))throw new TypeError("attempted to "+P+" private field on non-instance");return y.get(_)}function m(_,y){return y.get?y.get.call(_):y.value}const e=Symbol("INTERNAL");var E=new WeakMap;class A{constructor(y,P){d(this,E,{writable:!0,value:!0}),this.name=y,this.intent=P}get visible(){return c(this,E)}_setVisible(y,P){y!==e&&(0,a.unreachable)("Internal method `_setVisible` called."),u(this,E,P)}}var B=new WeakMap,O=new WeakMap,v=new WeakMap,b=new WeakMap,o=new WeakSet;class T{constructor(y){if(l(this,o),d(this,B,{writable:!0,value:!0}),d(this,O,{writable:!0,value:new Map}),d(this,v,{writable:!0,value:null}),d(this,b,{writable:!0,value:null}),this.name=null,this.creator=null,y!==null){this.name=y.name,this.creator=y.creator,u(this,b,y.order);for(const P of y.groups)c(this,O).set(P.id,new A(P.name,P.intent));if(y.baseState==="OFF")for(const P of c(this,O).values())P._setVisible(e,!1);for(const P of y.on)c(this,O).get(P)._setVisible(e,!0);for(const P of y.off)c(this,O).get(P)._setVisible(e,!1);u(this,v,new Map);for(const[P,w]of c(this,O))c(this,v).set(P,w.visible)}}isVisible(y){if(c(this,O).size===0)return!0;if(!y)return(0,a.warn)("Optional content group not defined."),!0;if(y.type==="OCG")return c(this,O).has(y.id)?c(this,O).get(y.id).visible:((0,a.warn)(`Optional content group not found: ${y.id}`),!0);if(y.type==="OCMD"){if(y.expression)return g(this,o,D).call(this,y.expression);if(!y.policy||y.policy==="AnyOn"){for(const P of y.ids){if(!c(this,O).has(P))return(0,a.warn)(`Optional content group not found: ${P}`),!0;if(c(this,O).get(P).visible)return!0}return!1}else if(y.policy==="AllOn"){for(const P of y.ids){if(!c(this,O).has(P))return(0,a.warn)(`Optional content group not found: ${P}`),!0;if(!c(this,O).get(P).visible)return!1}return!0}else if(y.policy==="AnyOff"){for(const P of y.ids){if(!c(this,O).has(P))return(0,a.warn)(`Optional content group not found: ${P}`),!0;if(!c(this,O).get(P).visible)return!0}return!1}else if(y.policy==="AllOff"){for(const P of y.ids){if(!c(this,O).has(P))return(0,a.warn)(`Optional content group not found: ${P}`),!0;if(c(this,O).get(P).visible)return!1}return!0}return(0,a.warn)(`Unknown optional content policy ${y.policy}.`),!0}return(0,a.warn)(`Unknown group type ${y.type}.`),!0}setVisibility(y){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!c(this,O).has(y)){(0,a.warn)(`Optional content group not found: ${y}`);return}c(this,O).get(y)._setVisible(e,!!P),u(this,B,null)}get hasInitialVisibility(){if(c(this,B)!==null)return c(this,B);for(const[y,P]of c(this,O)){const w=c(this,v).get(y);if(P.visible!==w)return u(this,B,!1)}return u(this,B,!0)}getOrder(){return c(this,O).size?c(this,b)?c(this,b).slice():[...c(this,O).keys()]:null}getGroups(){return c(this,O).size>0?(0,a.objectFromMap)(c(this,O)):null}getGroup(y){return c(this,O).get(y)||null}}t.OptionalContentConfig=T;function D(_){const y=_.length;if(y<2)return!0;const P=_[0];for(let w=1;w<y;w++){const M=_[w];let q;if(Array.isArray(M))q=g(this,o,D).call(this,M);else if(c(this,O).has(M))q=c(this,O).get(M).visible;else return(0,a.warn)(`Optional content group not found: ${M}`),!0;switch(P){case"And":if(!q)return!1;break;case"Or":if(q)return!0;break;case"Not":return!q;default:return!0}}return P==="And"}},(i,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var a=r(1),l=r(133);class g{constructor(n,c){(0,a.assert)(c,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=n.progressiveDone||!1,this._contentDispositionFilename=n.contentDispositionFilename||null;const C=n.initialData;if((C==null?void 0:C.length)>0){const m=new Uint8Array(C).buffer;this._queuedChunks.push(m)}this._pdfDataRangeTransport=c,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._contentLength=n.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((m,e)=>{this._onReceiveData({begin:m,chunk:e})}),this._pdfDataRangeTransport.addProgressListener((m,e)=>{this._onProgress({loaded:m,total:e})}),this._pdfDataRangeTransport.addProgressiveReadListener(m=>{this._onReceiveData({chunk:m})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(n){const c=new Uint8Array(n.chunk).buffer;if(n.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(c):this._queuedChunks.push(c);else{const C=this._rangeReaders.some(function(m){return m._begin!==n.begin?!1:(m._enqueue(c),!0)});(0,a.assert)(C,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var n,c;return(n=(c=this._fullRequestReader)===null||c===void 0?void 0:c._loaded)!==null&&n!==void 0?n:0}_onProgress(n){if(n.total===void 0){const c=this._rangeReaders[0];c!=null&&c.onProgress&&c.onProgress({loaded:n.loaded})}else{const c=this._fullRequestReader;c!=null&&c.onProgress&&c.onProgress({loaded:n.loaded,total:n.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(n){const c=this._rangeReaders.indexOf(n);c>=0&&this._rangeReaders.splice(c,1)}getFullReader(){(0,a.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const n=this._queuedChunks;return this._queuedChunks=null,new d(this,n,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(n,c){if(c<=this._progressiveDataLength)return null;const C=new s(this,n,c);return this._pdfDataRangeTransport.requestDataRange(n,c),this._rangeReaders.push(C),C}cancelAllRequests(n){this._fullRequestReader&&this._fullRequestReader.cancel(n);for(const c of this._rangeReaders.slice(0))c.cancel(n);this._pdfDataRangeTransport.abort()}}t.PDFDataTransportStream=g;class d{constructor(n,c){let C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;this._stream=n,this._done=C||!1,this._filename=(0,l.isPdfFile)(m)?m:null,this._queuedChunks=c||[],this._loaded=0;for(const e of this._queuedChunks)this._loaded+=e.byteLength;this._requests=[],this._headersReady=Promise.resolve(),n._fullRequestReader=this,this.onProgress=null}_enqueue(n){this._done||(this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunks.push(n),this._loaded+=n.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const n=(0,a.createPromiseCapability)();return this._requests.push(n),n.promise}cancel(n){this._done=!0;for(const c of this._requests)c.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class s{constructor(n,c,C){this._stream=n,this._begin=c,this._end=C,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(n){if(!this._done){if(this._requests.length===0)this._queuedChunk=n;else{this._requests.shift().resolve({value:n,done:!1});for(const C of this._requests)C.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const c=this._queuedChunk;return this._queuedChunk=null,{value:c,done:!1}}if(this._done)return{value:void 0,done:!0};const n=(0,a.createPromiseCapability)();return this._requests.push(n),n.promise}cancel(n){this._done=!0;for(const c of this._requests)c.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(i,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaText=void 0;class r{static textContent(l){const g=[],d={items:g,styles:Object.create(null)};function s(u){var n;if(!u)return;let c=null;const C=u.name;if(C==="#text")c=u.value;else if(r.shouldBuildText(C))u!=null&&(n=u.attributes)!==null&&n!==void 0&&n.textContent?c=u.attributes.textContent:u.value&&(c=u.value);else return;if(c!==null&&g.push({str:c}),!!u.children)for(const m of u.children)s(m)}return s(l),d}static shouldBuildText(l){return!(l==="textarea"||l==="input"||l==="option"||l==="select")}}t.XfaText=r},(i,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NodeStandardFontDataFactory=t.NodeCanvasFactory=t.NodeCMapReaderFactory=void 0;var a=r(134);const l=function(u){return new Promise((n,c)=>{require$$7.readFile(u,(m,e)=>{if(m||!e){c(new Error(m));return}n(new Uint8Array(e))})})};class g extends a.BaseCanvasFactory{_createCanvas(n,c){return require$$7.createCanvas(n,c)}}t.NodeCanvasFactory=g;class d extends a.BaseCMapReaderFactory{_fetchData(n,c){return l(n).then(C=>({cMapData:C,compressionType:c}))}}t.NodeCMapReaderFactory=d;class s extends a.BaseStandardFontDataFactory{_fetchData(n){return l(n)}}t.NodeStandardFontDataFactory=s},(i,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditorLayer=void 0;var a=r(132),l=r(1),g=r(148),d=r(149);function s(x,S){c(x,S),S.add(x)}function u(x,S,W){return S in x?Object.defineProperty(x,S,{value:W,enumerable:!0,configurable:!0,writable:!0}):x[S]=W,x}function n(x,S,W){c(x,S),S.set(x,W)}function c(x,S){if(S.has(x))throw new TypeError("Cannot initialize the same private elements twice on an object")}function C(x,S,W){if(!S.has(x))throw new TypeError("attempted to get private field on non-instance");return W}function m(x,S){var W=A(x,S,"get");return e(x,W)}function e(x,S){return S.get?S.get.call(x):S.value}function E(x,S,W){var U=A(x,S,"set");return B(x,U,W),W}function A(x,S,W){if(!S.has(x))throw new TypeError("attempted to "+W+" private field on non-instance");return S.get(x)}function B(x,S,W){if(S.set)S.set.call(x,W);else{if(!S.writable)throw new TypeError("attempted to set read only private field");S.value=W}}var O=new WeakMap,v=new WeakMap,b=new WeakMap,o=new WeakMap,T=new WeakMap,D=new WeakMap,_=new WeakMap,y=new WeakMap,P=new WeakSet,w=new WeakSet,M=new WeakSet,q=new WeakSet;class F{constructor(S){s(this,q),s(this,M),s(this,w),s(this,P),n(this,O,{writable:!0,value:void 0}),n(this,v,{writable:!0,value:!1}),n(this,b,{writable:!0,value:this.pointerup.bind(this)}),n(this,o,{writable:!0,value:this.pointerdown.bind(this)}),n(this,T,{writable:!0,value:new Map}),n(this,D,{writable:!0,value:!1}),n(this,_,{writable:!0,value:!1}),n(this,y,{writable:!0,value:void 0}),F._initialized||(F._initialized=!0,g.FreeTextEditor.initialize(S.l10n),d.InkEditor.initialize(S.l10n),S.uiManager.registerEditorTypes([g.FreeTextEditor,d.InkEditor])),E(this,y,S.uiManager),this.annotationStorage=S.annotationStorage,this.pageIndex=S.pageIndex,this.div=S.div,E(this,O,S.accessibilityManager),m(this,y).addLayer(this)}updateToolbar(S){m(this,y).updateToolbar(S)}updateMode(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m(this,y).getMode();C(this,q,L).call(this),S===l.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),m(this,y).unselectAll()}addInkEditorIfNeeded(S){if(!S&&m(this,y).getMode()!==l.AnnotationEditorType.INK)return;if(!S){for(const U of m(this,T).values())if(U.isEmpty()){U.setInBackground();return}}C(this,M,I).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(S){m(this,y).setEditingState(S)}addCommands(S){m(this,y).addCommands(S)}enable(){this.div.style.pointerEvents="auto";for(const S of m(this,T).values())S.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const S of m(this,T).values())S.disableEditing()}setActiveEditor(S){m(this,y).getActive()!==S&&m(this,y).setActiveEditor(S)}enableClick(){this.div.addEventListener("pointerdown",m(this,o)),this.div.addEventListener("pointerup",m(this,b))}disableClick(){this.div.removeEventListener("pointerdown",m(this,o)),this.div.removeEventListener("pointerup",m(this,b))}attach(S){m(this,T).set(S.id,S)}detach(S){var W;m(this,T).delete(S.id),(W=m(this,O))===null||W===void 0||W.removePointerInTextLayer(S.contentDiv)}remove(S){m(this,y).removeEditor(S),this.detach(S),this.annotationStorage.remove(S.id),S.div.style.display="none",setTimeout(()=>{S.div.style.display="",S.div.remove(),S.isAttachedToDOM=!1,document.activeElement===document.body&&m(this,y).focusMainContainer()},0),m(this,_)||this.addInkEditorIfNeeded(!1)}add(S){if(C(this,P,G).call(this,S),m(this,y).addEditor(S),this.attach(S),!S.isAttachedToDOM){const W=S.render();this.div.append(W),S.isAttachedToDOM=!0}this.moveEditorInDOM(S),S.onceAdded(),this.addToAnnotationStorage(S)}moveEditorInDOM(S){var W;(W=m(this,O))===null||W===void 0||W.moveElementInDOM(this.div,S.div,S.contentDiv,!0)}addToAnnotationStorage(S){!S.isEmpty()&&!this.annotationStorage.has(S.id)&&this.annotationStorage.setValue(S.id,S)}addOrRebuild(S){S.needsToBeRebuilt()?S.rebuild():this.add(S)}addANewEditor(S){const W=()=>{this.addOrRebuild(S)},U=()=>{S.remove()};this.addCommands({cmd:W,undo:U,mustExec:!0})}addUndoableEditor(S){const W=()=>{this.addOrRebuild(S)},U=()=>{S.remove()};this.addCommands({cmd:W,undo:U,mustExec:!1})}getNextId(){return m(this,y).getId()}deserialize(S){switch(S.annotationType){case l.AnnotationEditorType.FREETEXT:return g.FreeTextEditor.deserialize(S,this);case l.AnnotationEditorType.INK:return d.InkEditor.deserialize(S,this)}return null}setSelected(S){m(this,y).setSelected(S)}toggleSelected(S){m(this,y).toggleSelected(S)}isSelected(S){return m(this,y).isSelected(S)}unselect(S){m(this,y).unselect(S)}pointerup(S){const W=a.KeyboardManager.platform.isMac;if(!(S.button!==0||S.ctrlKey&&W)&&S.target===this.div&&!!m(this,D)){if(E(this,D,!1),!m(this,v)){E(this,v,!0);return}C(this,M,I).call(this,S)}}pointerdown(S){const W=a.KeyboardManager.platform.isMac;if(S.button!==0||S.ctrlKey&&W||S.target!==this.div)return;E(this,D,!0);const U=m(this,y).getActive();E(this,v,!U||U.isEmpty())}drop(S){const W=S.dataTransfer.getData("text/plain"),U=m(this,y).getEditor(W);if(!U)return;S.preventDefault(),S.dataTransfer.dropEffect="move",C(this,P,G).call(this,U);const z=this.div.getBoundingClientRect(),re=S.clientX-z.x,J=S.clientY-z.y;U.translate(re-U.startX,J-U.startY),this.moveEditorInDOM(U),U.div.focus()}dragover(S){S.preventDefault()}destroy(){var S;((S=m(this,y).getActive())===null||S===void 0?void 0:S.parent)===this&&m(this,y).setActiveEditor(null);for(const U of m(this,T).values()){var W;(W=m(this,O))===null||W===void 0||W.removePointerInTextLayer(U.contentDiv),U.isAttachedToDOM=!1,U.div.remove(),U.parent=null}this.div=null,m(this,T).clear(),m(this,y).removeLayer(this)}render(S){this.viewport=S.viewport,(0,a.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const W of m(this,y).getEditors(this.pageIndex))this.add(W);this.updateMode()}update(S){this.viewport=S.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[S,W,U,z]=this.viewport.viewBox,re=U-S,J=z-W;return[re,J]}get viewportBaseDimensions(){const{width:S,height:W,rotation:U}=this.viewport;return U%180===0?[S,W]:[W,S]}setDimensions(){const{width:S,height:W,rotation:U}=this.viewport,z=U%180!==0,re=Math.floor(S)+"px",J=Math.floor(W)+"px";this.div.style.width=z?J:re,this.div.style.height=z?re:J,this.div.setAttribute("data-main-rotation",U)}}t.AnnotationEditorLayer=F;function G(x){var S;x.parent!==this&&(this.attach(x),x.pageIndex=this.pageIndex,(S=x.parent)===null||S===void 0||S.detach(x),x.parent=this,x.div&&x.isAttachedToDOM&&(x.div.remove(),this.div.append(x.div)))}function R(x){switch(m(this,y).getMode()){case l.AnnotationEditorType.FREETEXT:return new g.FreeTextEditor(x);case l.AnnotationEditorType.INK:return new d.InkEditor(x)}return null}function I(x){const S=this.getNextId(),W=C(this,w,R).call(this,{parent:this,id:S,x:x.offsetX,y:x.offsetY});return W&&this.add(W),W}function L(){E(this,_,!0);for(const x of m(this,T).values())x.isEmpty()&&x.remove();E(this,_,!1)}u(F,"_initialized",!1)},(i,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FreeTextEditor=void 0;var a=r(1),l=r(132),g=r(131);function d(I,L){n(I,L),L.add(I)}function s(I,L,x){return L in I?Object.defineProperty(I,L,{value:x,enumerable:!0,configurable:!0,writable:!0}):I[L]=x,I}function u(I,L,x){n(I,L),L.set(I,x)}function n(I,L){if(L.has(I))throw new TypeError("Cannot initialize the same private elements twice on an object")}function c(I,L){var x=E(I,L,"get");return C(I,x)}function C(I,L){return L.get?L.get.call(I):L.value}function m(I,L,x){if(!L.has(I))throw new TypeError("attempted to get private field on non-instance");return x}function e(I,L,x){var S=E(I,L,"set");return A(I,S,x),x}function E(I,L,x){if(!L.has(I))throw new TypeError("attempted to "+x+" private field on non-instance");return L.get(I)}function A(I,L,x){if(L.set)L.set.call(I,x);else{if(!L.writable)throw new TypeError("attempted to set read only private field");L.value=x}}var B=new WeakMap,O=new WeakMap,v=new WeakMap,b=new WeakMap,o=new WeakMap,T=new WeakMap,D=new WeakMap,_=new WeakSet,y=new WeakSet,P=new WeakSet,w=new WeakSet;class M extends g.AnnotationEditor{constructor(L){super({...L,name:"freeTextEditor"}),d(this,w),d(this,P),d(this,y),d(this,_),u(this,B,{writable:!0,value:this.editorDivBlur.bind(this)}),u(this,O,{writable:!0,value:this.editorDivFocus.bind(this)}),u(this,v,{writable:!0,value:this.editorDivKeydown.bind(this)}),u(this,b,{writable:!0,value:void 0}),u(this,o,{writable:!0,value:""}),u(this,T,{writable:!0,value:!1}),u(this,D,{writable:!0,value:void 0}),e(this,b,L.color||M._defaultColor||g.AnnotationEditor._defaultLineColor),e(this,D,L.fontSize||M._defaultFontSize)}static initialize(L){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map(S=>[S,L.get(S)]));const x=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(x.getPropertyValue("--freetext-padding"))}static updateDefaultParams(L,x){switch(L){case a.AnnotationEditorParamsType.FREETEXT_SIZE:M._defaultFontSize=x;break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:M._defaultColor=x;break}}updateParams(L,x){switch(L){case a.AnnotationEditorParamsType.FREETEXT_SIZE:m(this,_,q).call(this,x);break;case a.AnnotationEditorParamsType.FREETEXT_COLOR:m(this,y,F).call(this,x);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,M._defaultFontSize],[a.AnnotationEditorParamsType.FREETEXT_COLOR,M._defaultColor||g.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[a.AnnotationEditorParamsType.FREETEXT_SIZE,c(this,D)],[a.AnnotationEditorParamsType.FREETEXT_COLOR,c(this,b)]]}getInitialTranslation(){return[-M._internalPadding*this.parent.scaleFactor,-(M._internalPadding+c(this,D))*this.parent.scaleFactor]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(a.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",c(this,v)),this.editorDiv.addEventListener("focus",c(this,O)),this.editorDiv.addEventListener("blur",c(this,B)))}disableEditMode(){!this.isInEditMode()||(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",c(this,v)),this.editorDiv.removeEventListener("focus",c(this,O)),this.editorDiv.removeEventListener("blur",c(this,B)),this.div.focus(),this.isEditing=!1)}focusin(L){super.focusin(L),L.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}commit(){super.commit(),c(this,T)||(e(this,T,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),e(this,o,m(this,P,G).call(this).trimEnd()),m(this,w,R).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(L){this.enableEditMode(),this.editorDiv.focus()}keydown(L){L.target===this.div&&L.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(L){M._keyboardManager.exec(this,L)}editorDivFocus(L){this.isEditing=!0}editorDivBlur(L){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let L,x;this.width&&(L=this.x,x=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),M._l10nPromise.get("editor_free_text_aria_label").then(W=>{var U;return(U=this.editorDiv)===null||U===void 0?void 0:U.setAttribute("aria-label",W)}),M._l10nPromise.get("free_text_default_content").then(W=>{var U;return(U=this.editorDiv)===null||U===void 0?void 0:U.setAttribute("default-content",W)}),this.editorDiv.contentEditable=!0;const{style:S}=this.editorDiv;if(S.fontSize=`calc(${c(this,D)}px * var(--scale-factor))`,S.color=c(this,b),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,l.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[W,U]=this.parent.viewportBaseDimensions;this.setAt(L*W,x*U,this.width*W,this.height*U);for(const z of c(this,o).split(`
`)){const re=document.createElement("div");re.append(z?document.createTextNode(z):document.createElement("br")),this.editorDiv.append(re)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(L,x){const S=super.deserialize(L,x);return e(S,D,L.fontSize),e(S,b,a.Util.makeHexColor(...L.color)),e(S,o,L.value),S}serialize(){if(this.isEmpty())return null;const L=M._internalPadding*this.parent.scaleFactor,x=this.getRect(L,L),S=g.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:a.AnnotationEditorType.FREETEXT,color:S,fontSize:c(this,D),value:c(this,o),pageIndex:this.parent.pageIndex,rect:x,rotation:this.rotation}}}t.FreeTextEditor=M;function q(I){const L=S=>{this.editorDiv.style.fontSize=`calc(${S}px * var(--scale-factor))`,this.translate(0,-(S-c(this,D))*this.parent.scaleFactor),e(this,D,S),m(this,w,R).call(this)},x=c(this,D);this.parent.addCommands({cmd:()=>{L(I)},undo:()=>{L(x)},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function F(I){const L=c(this,b);this.parent.addCommands({cmd:()=>{e(this,b,I),this.editorDiv.style.color=I},undo:()=>{e(this,b,L),this.editorDiv.style.color=L},mustExec:!0,type:a.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function G(){const I=this.editorDiv.getElementsByTagName("div");if(I.length===0)return this.editorDiv.innerText;const L=[];for(let x=0,S=I.length;x<S;x++){const U=I[x].firstChild;(U==null?void 0:U.nodeName)==="#text"?L.push(U.data):L.push("")}return L.join(`
`)}function R(){const[I,L]=this.parent.viewportBaseDimensions,x=this.div.getBoundingClientRect();this.width=x.width/I,this.height=x.height/L}s(M,"_freeTextDefaultContent",""),s(M,"_l10nPromise",void 0),s(M,"_internalPadding",0),s(M,"_defaultColor",null),s(M,"_defaultFontSize",10),s(M,"_keyboardManager",new l.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],M.prototype.commitOrRemove]])),s(M,"_type","freetext")},(i,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InkEditor=void 0,Object.defineProperty(t,"fitCurve",{enumerable:!0,get:function(){return g.fitCurve}});var a=r(1),l=r(131),g=r(150),d=r(132);function s(Ae,we){c(Ae,we),we.add(Ae)}function u(Ae,we,Ce){return we in Ae?Object.defineProperty(Ae,we,{value:Ce,enumerable:!0,configurable:!0,writable:!0}):Ae[we]=Ce,Ae}function n(Ae,we,Ce){c(Ae,we),we.set(Ae,Ce)}function c(Ae,we){if(we.has(Ae))throw new TypeError("Cannot initialize the same private elements twice on an object")}function C(Ae,we,Ce){return m(Ae,we),Ce}function m(Ae,we){if(Ae!==we)throw new TypeError("Private static access of wrong provenance")}function e(Ae,we,Ce){var De=B(Ae,we,"set");return E(Ae,De,Ce),Ce}function E(Ae,we,Ce){if(we.set)we.set.call(Ae,Ce);else{if(!we.writable)throw new TypeError("attempted to set read only private field");we.value=Ce}}function A(Ae,we){var Ce=B(Ae,we,"get");return O(Ae,Ce)}function B(Ae,we,Ce){if(!we.has(Ae))throw new TypeError("attempted to "+Ce+" private field on non-instance");return we.get(Ae)}function O(Ae,we){return we.get?we.get.call(Ae):we.value}function v(Ae,we,Ce){if(!we.has(Ae))throw new TypeError("attempted to get private field on non-instance");return Ce}const b=16;var o=new WeakMap,T=new WeakMap,D=new WeakMap,_=new WeakMap,y=new WeakMap,P=new WeakMap,w=new WeakMap,M=new WeakMap,q=new WeakMap,F=new WeakMap,G=new WeakMap,R=new WeakMap,I=new WeakMap,L=new WeakMap,x=new WeakSet,S=new WeakSet,W=new WeakSet,U=new WeakSet,z=new WeakSet,re=new WeakSet,J=new WeakSet,k=new WeakSet,H=new WeakSet,Z=new WeakSet,Q=new WeakSet,V=new WeakSet,Y=new WeakSet,te=new WeakSet,$=new WeakSet,X=new WeakSet,ne=new WeakSet,ce=new WeakSet,se=new WeakSet,K=new WeakSet,ee=new WeakSet,ie=new WeakSet;class oe extends l.AnnotationEditor{constructor(we){super({...we,name:"inkEditor"}),s(this,ie),s(this,ee),s(this,K),s(this,se),s(this,ce),s(this,ne),s(this,X),s(this,$),s(this,te),s(this,Y),s(this,V),s(this,Q),s(this,Z),s(this,H),s(this,k),s(this,J),s(this,re),s(this,z),s(this,U),s(this,W),s(this,S),s(this,x),n(this,o,{writable:!0,value:0}),n(this,T,{writable:!0,value:0}),n(this,D,{writable:!0,value:0}),n(this,_,{writable:!0,value:this.canvasPointermove.bind(this)}),n(this,y,{writable:!0,value:this.canvasPointerleave.bind(this)}),n(this,P,{writable:!0,value:this.canvasPointerup.bind(this)}),n(this,w,{writable:!0,value:this.canvasPointerdown.bind(this)}),n(this,M,{writable:!0,value:!1}),n(this,q,{writable:!0,value:!1}),n(this,F,{writable:!0,value:null}),n(this,G,{writable:!0,value:null}),n(this,R,{writable:!0,value:0}),n(this,I,{writable:!0,value:0}),n(this,L,{writable:!0,value:null}),this.color=we.color||null,this.thickness=we.thickness||null,this.opacity=we.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(we){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map(Ce=>[Ce,we.get(Ce)]))}static updateDefaultParams(we,Ce){switch(we){case a.AnnotationEditorParamsType.INK_THICKNESS:oe._defaultThickness=Ce;break;case a.AnnotationEditorParamsType.INK_COLOR:oe._defaultColor=Ce;break;case a.AnnotationEditorParamsType.INK_OPACITY:oe._defaultOpacity=Ce/100;break}}updateParams(we,Ce){switch(we){case a.AnnotationEditorParamsType.INK_THICKNESS:v(this,x,le).call(this,Ce);break;case a.AnnotationEditorParamsType.INK_COLOR:v(this,S,pe).call(this,Ce);break;case a.AnnotationEditorParamsType.INK_OPACITY:v(this,W,fe).call(this,Ce);break}}static get defaultPropertiesToUpdate(){return[[a.AnnotationEditorParamsType.INK_THICKNESS,oe._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,oe._defaultColor||l.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(oe._defaultOpacity*100)]]}get propertiesToUpdate(){var we;return[[a.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||oe._defaultThickness],[a.AnnotationEditorParamsType.INK_COLOR,this.color||oe._defaultColor||l.AnnotationEditor._defaultLineColor],[a.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*((we=this.opacity)!==null&&we!==void 0?we:oe._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(v(this,Q,Se).call(this),v(this,V,be).call(this)),this.isAttachedToDOM||(this.parent.add(this),v(this,Y,Ee).call(this)),v(this,ee,Le).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,A(this,G).disconnect(),e(this,G,null),super.remove())}enableEditMode(){A(this,M)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",A(this,w)),this.canvas.addEventListener("pointerup",A(this,P)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",A(this,w)),this.canvas.removeEventListener("pointerup",A(this,P)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){A(this,M)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),e(this,M,!0),this.div.classList.add("disabled"),v(this,ee,Le).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(we){super.focusin(we),this.enableEditMode()}canvasPointerdown(we){we.button!==0||!this.isInEditMode()||A(this,M)||(this.setInForeground(),we.type!=="mouse"&&this.div.focus(),we.stopPropagation(),this.canvas.addEventListener("pointerleave",A(this,y)),this.canvas.addEventListener("pointermove",A(this,_)),v(this,re,he).call(this,we.offsetX,we.offsetY))}canvasPointermove(we){we.stopPropagation(),v(this,J,xe).call(this,we.offsetX,we.offsetY)}canvasPointerup(we){we.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(we.stopPropagation(),v(this,Z,ke).call(this,we),this.setInBackground())}canvasPointerleave(we){v(this,Z,ke).call(this,we),this.setInBackground()}render(){if(this.div)return this.div;let we,Ce;this.width&&(we=this.x,Ce=this.y),super.render(),oe._l10nPromise.get("editor_ink_aria_label").then(Ye=>{var je;return(je=this.div)===null||je===void 0?void 0:je.setAttribute("aria-label",Ye)});const[De,Ge,He,Ze]=v(this,U,ue).call(this);if(this.setAt(De,Ge,0,0),this.setDims(He,Ze),v(this,Q,Se).call(this),this.width){const[Ye,je]=this.parent.viewportBaseDimensions;this.setAt(we*Ye,Ce*je,this.width*Ye,this.height*je),e(this,q,!0),v(this,Y,Ee).call(this),this.setDims(this.width*Ye,this.height*je),v(this,H,ve).call(this),v(this,ie,Be).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return v(this,V,be).call(this),this.div}setDimensions(we,Ce){const De=Math.round(we),Ge=Math.round(Ce);if(A(this,R)===De&&A(this,I)===Ge)return;e(this,R,De),e(this,I,Ge),this.canvas.style.visibility="hidden",A(this,o)&&Math.abs(A(this,o)-we/Ce)>.01&&(Ce=Math.ceil(we/A(this,o)),this.setDims(we,Ce));const[He,Ze]=this.parent.viewportBaseDimensions;this.width=we/He,this.height=Ce/Ze,A(this,M)&&v(this,te,Oe).call(this,we,Ce),v(this,Y,Ee).call(this),v(this,H,ve).call(this),this.canvas.style.visibility="visible"}static deserialize(we,Ce){const De=super.deserialize(we,Ce);De.thickness=we.thickness,De.color=a.Util.makeHexColor(...we.color),De.opacity=we.opacity;const[Ge,He]=Ce.pageDimensions,Ze=De.width*Ge,Ye=De.height*He,je=Ce.scaleFactor,it=we.thickness/2;e(De,o,Ze/Ye),e(De,M,!0),e(De,R,Math.round(Ze)),e(De,I,Math.round(Ye));for(const{bezier:ze}of we.paths){const lt=[];De.paths.push(lt);let ot=je*(ze[0]-it),ft=je*(Ye-ze[1]-it);for(let Et=2,pt=ze.length;Et<pt;Et+=6){const Ht=je*(ze[Et]-it),Qe=je*(Ye-ze[Et+1]-it),qe=je*(ze[Et+2]-it),rt=je*(Ye-ze[Et+3]-it),tt=je*(ze[Et+4]-it),ut=je*(Ye-ze[Et+5]-it);lt.push([[ot,ft],[Ht,Qe],[qe,rt],[tt,ut]]),ot=tt,ft=ut}const St=C(this,oe,Re).call(this,lt);De.bezierPath2D.push(St)}const dt=v(De,se,Me).call(De);return e(De,D,Math.max(b,dt[2]-dt[0])),e(De,T,Math.max(b,dt[3]-dt[1])),v(De,te,Oe).call(De,Ze,Ye),De}serialize(){if(this.isEmpty())return null;const we=this.getRect(0,0),Ce=this.rotation%180===0?we[3]-we[1]:we[2]-we[0],De=l.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:a.AnnotationEditorType.INK,color:De,thickness:this.thickness,opacity:this.opacity,paths:v(this,X,Ne).call(this,this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,Ce),pageIndex:this.parent.pageIndex,rect:we,rotation:this.rotation}}}t.InkEditor=oe;function le(Ae){const we=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=Ae,v(this,ee,Le).call(this)},undo:()=>{this.thickness=we,v(this,ee,Le).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}function pe(Ae){const we=this.color;this.parent.addCommands({cmd:()=>{this.color=Ae,v(this,H,ve).call(this)},undo:()=>{this.color=we,v(this,H,ve).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function fe(Ae){Ae/=100;const we=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=Ae,v(this,H,ve).call(this)},undo:()=>{this.opacity=we,v(this,H,ve).call(this)},mustExec:!0,type:a.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}function ue(){const{width:Ae,height:we,rotation:Ce}=this.parent.viewport;switch(Ce){case 90:return[0,Ae,Ae,we];case 180:return[Ae,we,Ae,we];case 270:return[we,0,Ae,we];default:return[0,0,Ae,we]}}function ge(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,d.opacityToHex)(this.opacity)}`}function he(Ae,we){if(this.isEditing=!0,!A(this,q)){var Ce;e(this,q,!0),v(this,Y,Ee).call(this),this.thickness||(this.thickness=oe._defaultThickness),this.color||(this.color=oe._defaultColor||l.AnnotationEditor._defaultLineColor),(Ce=this.opacity)!==null&&Ce!==void 0||(this.opacity=oe._defaultOpacity)}this.currentPath.push([Ae,we]),e(this,F,null),v(this,z,ge).call(this),this.ctx.beginPath(),this.ctx.moveTo(Ae,we),e(this,L,()=>{!A(this,L)||(A(this,F)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):v(this,H,ve).call(this),this.ctx.lineTo(...A(this,F)),e(this,F,null),this.ctx.stroke()),window.requestAnimationFrame(A(this,L)))}),window.requestAnimationFrame(A(this,L))}function xe(Ae,we){const[Ce,De]=this.currentPath.at(-1);Ae===Ce&&we===De||(this.currentPath.push([Ae,we]),e(this,F,[Ae,we]))}function ye(Ae,we){this.ctx.closePath(),e(this,L,null),Ae=Math.min(Math.max(Ae,0),this.canvas.width),we=Math.min(Math.max(we,0),this.canvas.height);const[Ce,De]=this.currentPath.at(-1);(Ae!==Ce||we!==De)&&this.currentPath.push([Ae,we]);let Ge;if(this.currentPath.length!==1)Ge=(0,g.fitCurve)(this.currentPath,30,null);else{const je=[Ae,we];Ge=[[je,je.slice(),je.slice(),je]]}const He=C(oe,oe,Re).call(oe,Ge);this.currentPath.length=0;const Ze=()=>{this.paths.push(Ge),this.bezierPath2D.push(He),this.rebuild()},Ye=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(v(this,Q,Se).call(this),v(this,V,be).call(this)),v(this,ee,Le).call(this))};this.parent.addCommands({cmd:Ze,undo:Ye,mustExec:!0})}function ve(){if(this.isEmpty()){v(this,$,Fe).call(this);return}v(this,z,ge).call(this);const{canvas:Ae,ctx:we}=this;we.setTransform(1,0,0,1,0,0),we.clearRect(0,0,Ae.width,Ae.height),v(this,$,Fe).call(this);for(const Ce of this.bezierPath2D)we.stroke(Ce)}function ke(Ae){v(this,k,ye).call(this,Ae.offsetX,Ae.offsetY),this.canvas.removeEventListener("pointerleave",A(this,y)),this.canvas.removeEventListener("pointermove",A(this,_)),this.parent.addToAnnotationStorage(this)}function Se(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",oe._l10nPromise.get("editor_ink_canvas_aria_label").then(Ae=>{var we;return(we=this.canvas)===null||we===void 0?void 0:we.setAttribute("aria-label",Ae)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}function be(){e(this,G,new ResizeObserver(Ae=>{const we=Ae[0].contentRect;we.width&&we.height&&this.setDimensions(we.width,we.height)})),A(this,G).observe(this.div)}function Ee(){if(!A(this,q))return;const[Ae,we]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*Ae),this.canvas.height=Math.ceil(this.height*we),v(this,$,Fe).call(this)}function Oe(Ae,we){const Ce=v(this,K,Te).call(this),De=(Ae-Ce)/A(this,D),Ge=(we-Ce)/A(this,T);this.scaleFactor=Math.min(De,Ge)}function Fe(){const Ae=v(this,K,Te).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Ae,this.translationY*this.scaleFactor+Ae)}function Re(Ae){const we=new Path2D;for(let Ce=0,De=Ae.length;Ce<De;Ce++){const[Ge,He,Ze,Ye]=Ae[Ce];Ce===0&&we.moveTo(...Ge),we.bezierCurveTo(He[0],He[1],Ze[0],Ze[1],Ye[0],Ye[1])}return we}function Ne(Ae,we,Ce,De){const He=[],Ze=this.thickness/2;let Ye,je;for(const it of this.paths){Ye=[],je=[];for(let dt=0,ze=it.length;dt<ze;dt++){const[lt,ot,ft,St]=it[dt],Et=Ae*(lt[0]+we)+Ze,pt=De-Ae*(lt[1]+Ce)-Ze,Ht=Ae*(ot[0]+we)+Ze,Qe=De-Ae*(ot[1]+Ce)-Ze,qe=Ae*(ft[0]+we)+Ze,rt=De-Ae*(ft[1]+Ce)-Ze,tt=Ae*(St[0]+we)+Ze,ut=De-Ae*(St[1]+Ce)-Ze;dt===0&&(Ye.push(Et,pt),je.push(Et,pt)),Ye.push(Ht,Qe,qe,rt,tt,ut),v(this,ne,Pe).call(this,Et,pt,Ht,Qe,qe,rt,tt,ut,4,je)}He.push({bezier:Ye,points:je})}return He}function Pe(Ae,we,Ce,De,Ge,He,Ze,Ye,je,it){if(v(this,ce,Ie).call(this,Ae,we,Ce,De,Ge,He,Ze,Ye)){it.push(Ze,Ye);return}for(let dt=1;dt<je-1;dt++){const ze=dt/je,lt=1-ze;let ot=ze*Ae+lt*Ce,ft=ze*we+lt*De,St=ze*Ce+lt*Ge,Et=ze*De+lt*He;const pt=ze*Ge+lt*Ze,Ht=ze*He+lt*Ye;ot=ze*ot+lt*St,ft=ze*ft+lt*Et,St=ze*St+lt*pt,Et=ze*Et+lt*Ht,ot=ze*ot+lt*St,ft=ze*ft+lt*Et,it.push(ot,ft)}it.push(Ze,Ye)}function Ie(Ae,we,Ce,De,Ge,He,Ze,Ye){const it=(3*Ce-2*Ae-Ze)**2,dt=(3*De-2*we-Ye)**2,ze=(3*Ge-Ae-2*Ze)**2,lt=(3*He-we-2*Ye)**2;return Math.max(it,ze)+Math.max(dt,lt)<=10}function Me(){let Ae=1/0,we=-1/0,Ce=1/0,De=-1/0;for(const Ge of this.paths)for(const[He,Ze,Ye,je]of Ge){const it=a.Util.bezierBoundingBox(...He,...Ze,...Ye,...je);Ae=Math.min(Ae,it[0]),Ce=Math.min(Ce,it[1]),we=Math.max(we,it[2]),De=Math.max(De,it[3])}return[Ae,Ce,we,De]}function Te(){return A(this,M)?Math.ceil(this.thickness*this.parent.scaleFactor):0}function Le(){let Ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isEmpty())return;if(!A(this,M)){v(this,H,ve).call(this);return}const we=v(this,se,Me).call(this),Ce=v(this,K,Te).call(this);e(this,D,Math.max(b,we[2]-we[0])),e(this,T,Math.max(b,we[3]-we[1]));const De=Math.ceil(Ce+A(this,D)*this.scaleFactor),Ge=Math.ceil(Ce+A(this,T)*this.scaleFactor),[He,Ze]=this.parent.viewportBaseDimensions;this.width=De/He,this.height=Ge/Ze,e(this,o,De/Ge),v(this,ie,Be).call(this);const Ye=this.translationX,je=this.translationY;this.translationX=-we[0],this.translationY=-we[1],v(this,Y,Ee).call(this),v(this,H,ve).call(this),e(this,R,De),e(this,I,Ge),this.setDims(De,Ge);const it=Ae?Ce/this.scaleFactor/2:0;this.translate(Ye-this.translationX-it,je-this.translationY-it)}function Be(){const{style:Ae}=this.div;A(this,o)>=1?(Ae.minHeight=`${b}px`,Ae.minWidth=`${Math.round(A(this,o)*b)}px`):(Ae.minWidth=`${b}px`,Ae.minHeight=`${Math.round(b/A(this,o))}px`)}u(oe,"_defaultColor",null),u(oe,"_defaultOpacity",1),u(oe,"_defaultThickness",1),u(oe,"_l10nPromise",void 0),u(oe,"_type","ink")},(i,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fitCurve=void 0;const a=r(151);t.fitCurve=a},i=>{function t(E,A,B){if(!Array.isArray(E))throw new TypeError("First argument should be an array");if(E.forEach(o=>{if(!Array.isArray(o)||o.some(T=>typeof T!="number")||o.length!==E[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),E=E.filter((o,T)=>T===0||!o.every((D,_)=>D===E[T-1][_])),E.length<2)return[];const O=E.length,v=C(E[1],E[0]),b=C(E[O-2],E[O-1]);return r(E,v,b,A,B)}function r(E,A,B,O,v){var o,T,D,_,y,P,w,M,q,F,G,R,I;if(E.length===2)return R=m.vectorLen(m.subtract(E[0],E[1]))/3,o=[E[0],m.addArrays(E[0],m.mulItems(A,R)),m.addArrays(E[1],m.mulItems(B,R)),E[1]],[o];if(T=s(E),[o,_,P]=a(E,T,T,A,B,v),_===0||_<O)return[o];if(_<O*O)for(D=T,y=_,w=P,I=0;I<20;I++){if(D=g(o,E,D),[o,_,P]=a(E,T,D,A,B,v),_<O)return[o];if(P===w){let L=_/y;if(L>.9999&&L<1.0001)break}y=_,w=P}return G=[],M=m.subtract(E[P-1],E[P+1]),M.every(L=>L===0)&&(M=m.subtract(E[P-1],E[P]),[M[0],M[1]]=[-M[1],M[0]]),q=m.normalize(M),F=m.mulItems(q,-1),G=G.concat(r(E.slice(0,P+1),A,q,O,v)),G=G.concat(r(E.slice(P),F,B,O,v)),G}function a(E,A,B,O,v,b){var o,T,D;return o=l(E,B,O,v),[T,D]=u(E,o,A),b&&b({bez:o,points:E,params:A,maxErr:T,maxPoint:D}),[o,T,D]}function l(E,A,B,O){var v,b,o,T,D,_,y,P,w,M,q,F,G,R,I,L,x,S=E[0],W=E[E.length-1];for(v=[S,null,null,W],b=m.zeros_Xx2x2(A.length),G=0,R=A.length;G<R;G++)L=A[G],x=1-L,o=b[G],o[0]=m.mulItems(B,3*L*(x*x)),o[1]=m.mulItems(O,3*x*(L*L));for(T=[[0,0],[0,0]],D=[0,0],G=0,R=E.length;G<R;G++)L=A[G],o=b[G],T[0][0]+=m.dot(o[0],o[0]),T[0][1]+=m.dot(o[0],o[1]),T[1][0]+=m.dot(o[0],o[1]),T[1][1]+=m.dot(o[1],o[1]),I=m.subtract(E[G],e.q([S,S,W,W],L)),D[0]+=m.dot(o[0],I),D[1]+=m.dot(o[1],I);return _=T[0][0]*T[1][1]-T[1][0]*T[0][1],y=T[0][0]*D[1]-T[1][0]*D[0],P=D[0]*T[1][1]-D[1]*T[0][1],w=_===0?0:P/_,M=_===0?0:y/_,F=m.vectorLen(m.subtract(S,W)),q=1e-6*F,w<q||M<q?(v[1]=m.addArrays(S,m.mulItems(B,F/3)),v[2]=m.addArrays(W,m.mulItems(O,F/3))):(v[1]=m.addArrays(S,m.mulItems(B,w)),v[2]=m.addArrays(W,m.mulItems(O,M))),v}function g(E,A,B){return B.map((O,v)=>d(E,A[v],O))}function d(E,A,B){var O=m.subtract(e.q(E,B),A),v=e.qprime(E,B),b=m.mulMatrix(O,v),o=m.sum(m.squareItems(v))+2*m.mulMatrix(O,e.qprimeprime(E,B));return o===0?B:B-b/o}function s(E){var A=[],B,O,v;return E.forEach((b,o)=>{B=o?O+m.vectorLen(m.subtract(b,v)):0,A.push(B),O=B,v=b}),A=A.map(b=>b/O),A}function u(E,A,B){var O,v,b,o,T,D,_,y;v=0,b=Math.floor(E.length/2);const P=n(A,10);for(T=0,D=E.length;T<D;T++)_=E[T],y=c(A,B[T],P,10),o=m.subtract(e.q(A,y),_),O=o[0]*o[0]+o[1]*o[1],O>v&&(v=O,b=T);return[v,b]}var n=function(E,A){for(var B,O=[0],v=E[0],b=0,o=1;o<=A;o++)B=e.q(E,o/A),b+=m.vectorLen(m.subtract(B,v)),O.push(b),v=B;return O=O.map(T=>T/b),O};function c(E,A,B,O){if(A<0)return 0;if(A>1)return 1;for(var v,b,o,T,D,_=1;_<=O;_++)if(A<=B[_]){T=(_-1)/O,o=_/O,b=B[_-1],v=B[_],D=(A-b)/(v-b)*(o-T)+T;break}return D}function C(E,A){return m.normalize(m.subtract(E,A))}class m{static zeros_Xx2x2(A){for(var B=[];A--;)B.push([0,0]);return B}static mulItems(A,B){return A.map(O=>O*B)}static mulMatrix(A,B){return A.reduce((O,v,b)=>O+v*B[b],0)}static subtract(A,B){return A.map((O,v)=>O-B[v])}static addArrays(A,B){return A.map((O,v)=>O+B[v])}static addItems(A,B){return A.map(O=>O+B)}static sum(A){return A.reduce((B,O)=>B+O)}static dot(A,B){return m.mulMatrix(A,B)}static vectorLen(A){return Math.hypot(...A)}static divItems(A,B){return A.map(O=>O/B)}static squareItems(A){return A.map(B=>B*B)}static normalize(A){return this.divItems(A,this.vectorLen(A))}}class e{static q(A,B){var O=1-B,v=m.mulItems(A[0],O*O*O),b=m.mulItems(A[1],3*O*O*B),o=m.mulItems(A[2],3*O*B*B),T=m.mulItems(A[3],B*B*B);return m.addArrays(m.addArrays(v,b),m.addArrays(o,T))}static qprime(A,B){var O=1-B,v=m.mulItems(m.subtract(A[1],A[0]),3*O*O),b=m.mulItems(m.subtract(A[2],A[1]),6*O*B),o=m.mulItems(m.subtract(A[3],A[2]),3*B*B);return m.addArrays(m.addArrays(v,b),o)}static qprimeprime(A,B){return m.addArrays(m.mulItems(m.addArrays(m.subtract(A[2],m.mulItems(A[1],2)),A[0]),6*(1-B)),m.mulItems(m.addArrays(m.subtract(A[3],m.mulItems(A[2],2)),A[1]),6*B))}}i.exports=t,i.exports.fitCubic=r,i.exports.createTangent=C},(i,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var a=r(1),l=r(133),g=r(130),d=r(153),s=r(154);function u(Q,V,Y){return n(Q,V),Y}function n(Q,V){if(Q!==V)throw new TypeError("Private static access of wrong provenance")}const c=1e3,C=9,m=new WeakSet;function e(Q){return{width:Q[2]-Q[0],height:Q[3]-Q[1]}}class E{static create(V){switch(V.data.annotationType){case a.AnnotationType.LINK:return new B(V);case a.AnnotationType.TEXT:return new O(V);case a.AnnotationType.WIDGET:switch(V.data.fieldType){case"Tx":return new b(V);case"Btn":return V.data.radioButton?new T(V):V.data.checkBox?new o(V):new D(V);case"Ch":return new _(V)}return new v(V);case a.AnnotationType.POPUP:return new y(V);case a.AnnotationType.FREETEXT:return new w(V);case a.AnnotationType.LINE:return new M(V);case a.AnnotationType.SQUARE:return new q(V);case a.AnnotationType.CIRCLE:return new F(V);case a.AnnotationType.POLYLINE:return new G(V);case a.AnnotationType.CARET:return new I(V);case a.AnnotationType.INK:return new L(V);case a.AnnotationType.POLYGON:return new R(V);case a.AnnotationType.HIGHLIGHT:return new x(V);case a.AnnotationType.UNDERLINE:return new S(V);case a.AnnotationType.SQUIGGLY:return new W(V);case a.AnnotationType.STRIKEOUT:return new U(V);case a.AnnotationType.STAMP:return new z(V);case a.AnnotationType.FILEATTACHMENT:return new re(V);default:return new A(V)}}}class A{constructor(V){let{isRenderable:Y=!1,ignoreBorder:te=!1,createQuadrilaterals:$=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.isRenderable=Y,this.data=V.data,this.layer=V.layer,this.page=V.page,this.viewport=V.viewport,this.linkService=V.linkService,this.downloadManager=V.downloadManager,this.imageResourcesPath=V.imageResourcesPath,this.renderForms=V.renderForms,this.svgFactory=V.svgFactory,this.annotationStorage=V.annotationStorage,this.enableScripting=V.enableScripting,this.hasJSActions=V.hasJSActions,this._fieldObjects=V.fieldObjects,this._mouseState=V.mouseState,Y&&(this.container=this._createContainer(te)),$&&(this.quadrilaterals=this._createQuadrilaterals(te))}_createContainer(){let V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const Y=this.data,te=this.page,$=this.viewport,X=document.createElement("section"),{width:ne,height:ce}=e(Y.rect),[se,K,ee,ie]=$.viewBox,oe=ee-se,le=ie-K;X.setAttribute("data-annotation-id",Y.id);const pe=a.Util.normalizeRect([Y.rect[0],te.view[3]-Y.rect[1]+te.view[1],Y.rect[2],te.view[3]-Y.rect[3]+te.view[1]]);if(!V&&Y.borderStyle.width>0){X.style.borderWidth=`${Y.borderStyle.width}px`;const ue=Y.borderStyle.horizontalCornerRadius,ge=Y.borderStyle.verticalCornerRadius;if(ue>0||ge>0){const xe=`calc(${ue}px * var(--scale-factor)) / calc(${ge}px * var(--scale-factor))`;X.style.borderRadius=xe}else if(this instanceof T){const xe=`calc(${ne}px * var(--scale-factor)) / calc(${ce}px * var(--scale-factor))`;X.style.borderRadius=xe}switch(Y.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:X.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:X.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:X.style.borderBottomStyle="solid";break}const he=Y.borderColor||null;he?X.style.borderColor=a.Util.makeHexColor(he[0]|0,he[1]|0,he[2]|0):X.style.borderWidth=0}X.style.left=`${100*(pe[0]-se)/oe}%`,X.style.top=`${100*(pe[1]-K)/le}%`;const{rotation:fe}=Y;return Y.hasOwnCanvas||fe===0?(X.style.width=`${100*ne/oe}%`,X.style.height=`${100*ce/le}%`):this.setRotation(fe,X),X}setRotation(V){let Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.container;const[te,$,X,ne]=this.viewport.viewBox,ce=X-te,se=ne-$,{width:K,height:ee}=e(this.data.rect);let ie,oe;V%180===0?(ie=100*K/ce,oe=100*ee/se):(ie=100*ee/ce,oe=100*K/se),Y.style.width=`${ie}%`,Y.style.height=`${oe}%`,Y.setAttribute("data-main-rotation",(360-V)%360)}get _commonActions(){const V=(Y,te,$)=>{const X=$.detail[Y];$.target.style[te]=d.ColorConverters[`${X[0]}_HTML`](X.slice(1))};return(0,a.shadow)(this,"_commonActions",{display:Y=>{const te=Y.detail.display%2===1;this.container.style.visibility=te?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:te,print:Y.detail.display===0||Y.detail.display===3})},print:Y=>{this.annotationStorage.setValue(this.data.id,{print:Y.detail.print})},hidden:Y=>{this.container.style.visibility=Y.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:Y.detail.hidden})},focus:Y=>{setTimeout(()=>Y.target.focus({preventScroll:!1}),0)},userName:Y=>{Y.target.title=Y.detail.userName},readonly:Y=>{Y.detail.readonly?Y.target.setAttribute("readonly",""):Y.target.removeAttribute("readonly")},required:Y=>{this._setRequired(Y.target,Y.detail.required)},bgColor:Y=>{V("bgColor","backgroundColor",Y)},fillColor:Y=>{V("fillColor","backgroundColor",Y)},fgColor:Y=>{V("fgColor","color",Y)},textColor:Y=>{V("textColor","color",Y)},borderColor:Y=>{V("borderColor","borderColor",Y)},strokeColor:Y=>{V("strokeColor","borderColor",Y)},rotation:Y=>{const te=Y.detail.rotation;this.setRotation(te),this.annotationStorage.setValue(this.data.id,{rotation:te})}})}_dispatchEventFromSandbox(V,Y){const te=this._commonActions;for(const $ of Object.keys(Y.detail)){const X=V[$]||te[$];X&&X(Y)}}_setDefaultPropertiesFromJS(V){if(!this.enableScripting)return;const Y=this.annotationStorage.getRawValue(this.data.id);if(!Y)return;const te=this._commonActions;for(const[$,X]of Object.entries(Y)){const ne=te[$];if(ne){const ce={detail:{[$]:X},target:V};ne(ce),delete Y[$]}}}_createQuadrilaterals(){let V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.data.quadPoints)return null;const Y=[],te=this.data.rect;for(const $ of this.data.quadPoints)this.data.rect=[$[2].x,$[2].y,$[1].x,$[1].y],Y.push(this._createContainer(V));return this.data.rect=te,Y}_createPopup(V,Y){let te=this.container;this.quadrilaterals&&(V=V||this.quadrilaterals,te=this.quadrilaterals[0]),V||(V=document.createElement("div"),V.className="popupTriggerArea",te.append(V));const X=new P({container:te,trigger:V,color:Y.color,titleObj:Y.titleObj,modificationDate:Y.modificationDate,contentsObj:Y.contentsObj,richText:Y.richText,hideWrapper:!0}).render();X.style.left="100%",te.append(X)}_renderQuadrilaterals(V){for(const Y of this.quadrilaterals)Y.className=V;return this.quadrilaterals}render(){(0,a.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(V){let Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const te=[];if(this._fieldObjects){const $=this._fieldObjects[V];if($)for(const{page:X,id:ne,exportValues:ce}of $){if(X===-1||ne===Y)continue;const se=typeof ce=="string"?ce:null,K=document.querySelector(`[data-element-id="${ne}"]`);if(K&&!m.has(K)){(0,a.warn)(`_getElementsByName - element not allowed: ${ne}`);continue}te.push({id:ne,exportValue:se,domElement:K})}return te}for(const $ of document.getElementsByName(V)){const{id:X,exportValue:ne}=$;X!==Y&&(!m.has($)||te.push({id:X,exportValue:ne,domElement:$}))}return te}static get platform(){const V=typeof navigator<"u"?navigator.platform:"";return(0,a.shadow)(this,"platform",{isWin:V.includes("Win"),isMac:V.includes("Mac")})}}class B extends A{constructor(V){let Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;super(V,{isRenderable:!0,ignoreBorder:!!(Y!=null&&Y.ignoreBorder),createQuadrilaterals:!0}),this.isTooltipOnly=V.data.isTooltipOnly}render(){const{data:V,linkService:Y}=this,te=document.createElement("a");te.setAttribute("data-element-id",V.id);let $=!1;return V.url?(Y.addLinkAttributes(te,V.url,V.newWindow),$=!0):V.action?(this._bindNamedAction(te,V.action),$=!0):V.dest?(this._bindLink(te,V.dest),$=!0):(V.actions&&(V.actions.Action||V.actions["Mouse Up"]||V.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(te,V),$=!0),V.resetForm?(this._bindResetFormAction(te,V.resetForm),$=!0):this.isTooltipOnly&&!$&&(this._bindLink(te,""),$=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((X,ne)=>{const ce=ne===0?te:te.cloneNode();return X.append(ce),X}):(this.container.className="linkAnnotation",$&&this.container.append(te),this.container)}_bindLink(V,Y){V.href=this.linkService.getDestinationHash(Y),V.onclick=()=>(Y&&this.linkService.goToDestination(Y),!1),(Y||Y==="")&&(V.className="internalLink")}_bindNamedAction(V,Y){V.href=this.linkService.getAnchorUrl(""),V.onclick=()=>(this.linkService.executeNamedAction(Y),!1),V.className="internalLink"}_bindJSAction(V,Y){V.href=this.linkService.getAnchorUrl("");const te=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const $ of Object.keys(Y.actions)){const X=te.get($);!X||(V[X]=()=>{var ne;return(ne=this.linkService.eventBus)===null||ne===void 0||ne.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Y.id,name:$}}),!1})}V.onclick||(V.onclick=()=>!1),V.className="internalLink"}_bindResetFormAction(V,Y){const te=V.onclick;if(te||(V.href=this.linkService.getAnchorUrl("")),V.className="internalLink",!this._fieldObjects){(0,a.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),te||(V.onclick=()=>!1);return}V.onclick=()=>{te&&te();const{fields:$,refs:X,include:ne}=Y,ce=[];if($.length!==0||X.length!==0){const ie=new Set(X);for(const oe of $){const le=this._fieldObjects[oe]||[];for(const{id:pe}of le)ie.add(pe)}for(const oe of Object.values(this._fieldObjects))for(const le of oe)ie.has(le.id)===ne&&ce.push(le)}else for(const ie of Object.values(this._fieldObjects))ce.push(...ie);const se=this.annotationStorage,K=[];for(const ie of ce){const{id:oe}=ie;switch(K.push(oe),ie.type){case"text":{const pe=ie.defaultValue||"";se.setValue(oe,{value:pe});break}case"checkbox":case"radiobutton":{const pe=ie.defaultValue===ie.exportValues;se.setValue(oe,{value:pe});break}case"combobox":case"listbox":{const pe=ie.defaultValue||"";se.setValue(oe,{value:pe});break}default:continue}const le=document.querySelector(`[data-element-id="${oe}"]`);if(le){if(!m.has(le)){(0,a.warn)(`_bindResetFormAction - element not allowed: ${oe}`);continue}}else continue;le.dispatchEvent(new Event("resetform"))}if(this.enableScripting){var ee;(ee=this.linkService.eventBus)===null||ee===void 0||ee.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:K,name:"ResetForm"}})}return!1}}}class O extends A{constructor(V){var Y,te,$;const X=!!(V.data.hasPopup||(Y=V.data.titleObj)!==null&&Y!==void 0&&Y.str||(te=V.data.contentsObj)!==null&&te!==void 0&&te.str||($=V.data.richText)!==null&&$!==void 0&&$.str);super(V,{isRenderable:X})}render(){this.container.className="textAnnotation";const V=document.createElement("img");return V.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",V.alt="[{{type}} Annotation]",V.dataset.l10nId="text_annotation_type",V.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(V,this.data),this.container.append(V),this.container}}class v extends A{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(V){const{isWin:Y,isMac:te}=A.platform;return Y&&V.ctrlKey||te&&V.metaKey}_setEventListener(V,Y,te,$){Y.includes("mouse")?V.addEventListener(Y,X=>{var ne;(ne=this.linkService.eventBus)===null||ne===void 0||ne.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:te,value:$(X),shift:X.shiftKey,modifier:this._getKeyModifier(X)}})}):V.addEventListener(Y,X=>{var ne;(ne=this.linkService.eventBus)===null||ne===void 0||ne.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:te,value:$(X)}})})}_setEventListeners(V,Y,te){for(const[X,ne]of Y){var $;(ne==="Action"||($=this.data.actions)!==null&&$!==void 0&&$[ne])&&this._setEventListener(V,X,ne,te)}}_setBackgroundColor(V){const Y=this.data.backgroundColor||null;V.style.backgroundColor=Y===null?"transparent":a.Util.makeHexColor(Y[0],Y[1],Y[2])}_setTextStyle(V){const Y=["left","center","right"],{fontColor:te}=this.data.defaultAppearanceData,$=this.data.defaultAppearanceData.fontSize||C,X=V.style;let ne;if(this.data.multiLine){const ce=Math.abs(this.data.rect[3]-this.data.rect[1]),se=Math.round(ce/(a.LINE_FACTOR*$))||1,K=ce/se;ne=Math.min($,Math.round(K/a.LINE_FACTOR))}else{const ce=Math.abs(this.data.rect[3]-this.data.rect[1]);ne=Math.min($,Math.round(ce/a.LINE_FACTOR))}X.fontSize=`calc(${ne}px * var(--scale-factor))`,X.color=a.Util.makeHexColor(te[0],te[1],te[2]),this.data.textAlignment!==null&&(X.textAlign=Y[this.data.textAlignment])}_setRequired(V,Y){Y?V.setAttribute("required",!0):V.removeAttribute("required"),V.setAttribute("aria-required",Y)}}class b extends v{constructor(V){const Y=V.renderForms||!V.data.hasAppearance&&!!V.data.fieldValue;super(V,{isRenderable:Y})}setPropertyOnSiblings(V,Y,te,$){const X=this.annotationStorage;for(const ne of this._getElementsByName(V.name,V.id))ne.domElement&&(ne.domElement[Y]=te),X.setValue(ne.id,{[$]:te})}render(){const V=this.annotationStorage,Y=this.data.id;this.container.className="textWidgetAnnotation";let te=null;if(this.renderForms){const X=V.getValue(Y,{value:this.data.fieldValue});let ne=X.formattedValue||X.value||"";const ce=V.getValue(Y,{charLimit:this.data.maxLen}).charLimit;ce&&ne.length>ce&&(ne=ne.slice(0,ce));const se={userValue:ne,formattedValue:null,valueOnFocus:""};this.data.multiLine?(te=document.createElement("textarea"),te.textContent=ne,this.data.doNotScroll&&(te.style.overflowY="hidden")):(te=document.createElement("input"),te.type="text",te.setAttribute("value",ne),this.data.doNotScroll&&(te.style.overflowX="hidden")),m.add(te),te.setAttribute("data-element-id",Y),te.disabled=this.data.readOnly,te.name=this.data.fieldName,te.tabIndex=c,this._setRequired(te,this.data.required),ce&&(te.maxLength=ce),te.addEventListener("input",ee=>{V.setValue(Y,{value:ee.target.value}),this.setPropertyOnSiblings(te,"value",ee.target.value,"value")}),te.addEventListener("resetform",ee=>{var ie;const oe=(ie=this.data.defaultFieldValue)!==null&&ie!==void 0?ie:"";te.value=se.userValue=oe,se.formattedValue=null});let K=ee=>{const{formattedValue:ie}=se;ie!=null&&(ee.target.value=ie),ee.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var $;te.addEventListener("focus",ie=>{se.userValue&&(ie.target.value=se.userValue),se.valueOnFocus=ie.target.value}),te.addEventListener("updatefromsandbox",ie=>{const oe={value(le){var pe;se.userValue=(pe=le.detail.value)!==null&&pe!==void 0?pe:"",V.setValue(Y,{value:se.userValue.toString()}),le.target.value=se.userValue},formattedValue(le){const{formattedValue:pe}=le.detail;se.formattedValue=pe,pe!=null&&le.target!==document.activeElement&&(le.target.value=pe),V.setValue(Y,{formattedValue:pe})},selRange(le){le.target.setSelectionRange(...le.detail.selRange)},charLimit:le=>{var pe;const{charLimit:fe}=le.detail,{target:ue}=le;if(fe===0){ue.removeAttribute("maxLength");return}ue.setAttribute("maxLength",fe);let ge=se.userValue;!ge||ge.length<=fe||(ge=ge.slice(0,fe),ue.value=se.userValue=ge,V.setValue(Y,{value:ge}),(pe=this.linkService.eventBus)===null||pe===void 0||pe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Y,name:"Keystroke",value:ge,willCommit:!0,commitKey:1,selStart:ue.selectionStart,selEnd:ue.selectionEnd}}))}};this._dispatchEventFromSandbox(oe,ie)}),te.addEventListener("keydown",ie=>{var oe;let le=-1;if(ie.key==="Escape"?le=0:ie.key==="Enter"?le=2:ie.key==="Tab"&&(le=3),le===-1)return;const{value:pe}=ie.target;se.valueOnFocus!==pe&&(se.userValue=pe,(oe=this.linkService.eventBus)===null||oe===void 0||oe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Y,name:"Keystroke",value:pe,willCommit:!0,commitKey:le,selStart:ie.target.selectionStart,selEnd:ie.target.selectionEnd}}))});const ee=K;K=null,te.addEventListener("blur",ie=>{const{value:oe}=ie.target;if(se.userValue=oe,this._mouseState.isDown&&se.valueOnFocus!==oe){var le;(le=this.linkService.eventBus)===null||le===void 0||le.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Y,name:"Keystroke",value:oe,willCommit:!0,commitKey:1,selStart:ie.target.selectionStart,selEnd:ie.target.selectionEnd}})}ee(ie)}),($=this.data.actions)!==null&&$!==void 0&&$.Keystroke&&te.addEventListener("beforeinput",ie=>{var oe;const{data:le,target:pe}=ie,{value:fe,selectionStart:ue,selectionEnd:ge}=pe;let he=ue,xe=ge;switch(ie.inputType){case"deleteWordBackward":{const ye=fe.substring(0,ue).match(/\w*[^\w]*$/);ye&&(he-=ye[0].length);break}case"deleteWordForward":{const ye=fe.substring(ue).match(/^[^\w]*\w*/);ye&&(xe+=ye[0].length);break}case"deleteContentBackward":ue===ge&&(he-=1);break;case"deleteContentForward":ue===ge&&(xe+=1);break}ie.preventDefault(),(oe=this.linkService.eventBus)===null||oe===void 0||oe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Y,name:"Keystroke",value:fe,change:le||"",willCommit:!1,selStart:he,selEnd:xe}})}),this._setEventListeners(te,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ie=>ie.target.value)}if(K&&te.addEventListener("blur",K),this.data.comb){const ie=(this.data.rect[2]-this.data.rect[0])/ce;te.classList.add("comb"),te.style.letterSpacing=`calc(${ie}px * var(--scale-factor) - 1ch)`}}else te=document.createElement("div"),te.textContent=this.data.fieldValue,te.style.verticalAlign="middle",te.style.display="table-cell";return this._setTextStyle(te),this._setBackgroundColor(te),this._setDefaultPropertiesFromJS(te),this.container.append(te),this.container}}class o extends v{constructor(V){super(V,{isRenderable:V.renderForms})}render(){const V=this.annotationStorage,Y=this.data,te=Y.id;let $=V.getValue(te,{value:Y.exportValue===Y.fieldValue}).value;typeof $=="string"&&($=$!=="Off",V.setValue(te,{value:$})),this.container.className="buttonWidgetAnnotation checkBox";const X=document.createElement("input");return m.add(X),X.setAttribute("data-element-id",te),X.disabled=Y.readOnly,this._setRequired(X,this.data.required),X.type="checkbox",X.name=Y.fieldName,$&&X.setAttribute("checked",!0),X.setAttribute("exportValue",Y.exportValue),X.tabIndex=c,X.addEventListener("change",ne=>{const{name:ce,checked:se}=ne.target;for(const K of this._getElementsByName(ce,te)){const ee=se&&K.exportValue===Y.exportValue;K.domElement&&(K.domElement.checked=ee),V.setValue(K.id,{value:ee})}V.setValue(te,{value:se})}),X.addEventListener("resetform",ne=>{const ce=Y.defaultFieldValue||"Off";ne.target.checked=ce===Y.exportValue}),this.enableScripting&&this.hasJSActions&&(X.addEventListener("updatefromsandbox",ne=>{const ce={value(se){se.target.checked=se.detail.value!=="Off",V.setValue(te,{value:se.target.checked})}};this._dispatchEventFromSandbox(ce,ne)}),this._setEventListeners(X,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ne=>ne.target.checked)),this._setBackgroundColor(X),this._setDefaultPropertiesFromJS(X),this.container.append(X),this.container}}class T extends v{constructor(V){super(V,{isRenderable:V.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const V=this.annotationStorage,Y=this.data,te=Y.id;let $=V.getValue(te,{value:Y.fieldValue===Y.buttonValue}).value;typeof $=="string"&&($=$!==Y.buttonValue,V.setValue(te,{value:$}));const X=document.createElement("input");if(m.add(X),X.setAttribute("data-element-id",te),X.disabled=Y.readOnly,this._setRequired(X,this.data.required),X.type="radio",X.name=Y.fieldName,$&&X.setAttribute("checked",!0),X.tabIndex=c,X.addEventListener("change",ne=>{const{name:ce,checked:se}=ne.target;for(const K of this._getElementsByName(ce,te))V.setValue(K.id,{value:!1});V.setValue(te,{value:se})}),X.addEventListener("resetform",ne=>{const ce=Y.defaultFieldValue;ne.target.checked=ce!=null&&ce===Y.buttonValue}),this.enableScripting&&this.hasJSActions){const ne=Y.buttonValue;X.addEventListener("updatefromsandbox",ce=>{const se={value:K=>{const ee=ne===K.detail.value;for(const ie of this._getElementsByName(K.target.name)){const oe=ee&&ie.id===te;ie.domElement&&(ie.domElement.checked=oe),V.setValue(ie.id,{value:oe})}}};this._dispatchEventFromSandbox(se,ce)}),this._setEventListeners(X,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ce=>ce.target.checked)}return this._setBackgroundColor(X),this._setDefaultPropertiesFromJS(X),this.container.append(X),this.container}}class D extends B{constructor(V){super(V,{ignoreBorder:V.data.hasAppearance})}render(){const V=super.render();V.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(V.title=this.data.alternativeText);const Y=V.lastChild;return this.enableScripting&&this.hasJSActions&&Y&&(this._setDefaultPropertiesFromJS(Y),Y.addEventListener("updatefromsandbox",te=>{this._dispatchEventFromSandbox({},te)})),V}}class _ extends v{constructor(V){super(V,{isRenderable:V.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const V=this.annotationStorage,Y=this.data.id,te=V.getValue(Y,{value:this.data.fieldValue}),$=document.createElement("select");m.add($),$.setAttribute("data-element-id",Y),$.disabled=this.data.readOnly,this._setRequired($,this.data.required),$.name=this.data.fieldName,$.tabIndex=c;let X=this.data.combo&&this.data.options.length>0;this.data.combo||($.size=this.data.options.length,this.data.multiSelect&&($.multiple=!0)),$.addEventListener("resetform",K=>{const ee=this.data.defaultFieldValue;for(const ie of $.options)ie.selected=ie.value===ee});for(const K of this.data.options){const ee=document.createElement("option");ee.textContent=K.displayValue,ee.value=K.exportValue,te.value.includes(K.exportValue)&&(ee.setAttribute("selected",!0),X=!1),$.append(ee)}let ne=null;if(X){const K=document.createElement("option");K.value=" ",K.setAttribute("hidden",!0),K.setAttribute("selected",!0),$.prepend(K),ne=()=>{K.remove(),$.removeEventListener("input",ne),ne=null},$.addEventListener("input",ne)}const ce=(K,ee)=>{const ie=ee?"value":"textContent",oe=K.target.options;return K.target.multiple?Array.prototype.filter.call(oe,le=>le.selected).map(le=>le[ie]):oe.selectedIndex===-1?null:oe[oe.selectedIndex][ie]},se=K=>{const ee=K.target.options;return Array.prototype.map.call(ee,ie=>({displayValue:ie.textContent,exportValue:ie.value}))};return this.enableScripting&&this.hasJSActions?($.addEventListener("updatefromsandbox",K=>{const ee={value(ie){var oe;(oe=ne)===null||oe===void 0||oe();const le=ie.detail.value,pe=new Set(Array.isArray(le)?le:[le]);for(const fe of $.options)fe.selected=pe.has(fe.value);V.setValue(Y,{value:ce(ie,!0)})},multipleSelection(ie){$.multiple=!0},remove(ie){const oe=$.options,le=ie.detail.remove;oe[le].selected=!1,$.remove(le),oe.length>0&&Array.prototype.findIndex.call(oe,fe=>fe.selected)===-1&&(oe[0].selected=!0),V.setValue(Y,{value:ce(ie,!0),items:se(ie)})},clear(ie){for(;$.length!==0;)$.remove(0);V.setValue(Y,{value:null,items:[]})},insert(ie){const{index:oe,displayValue:le,exportValue:pe}=ie.detail.insert,fe=$.children[oe],ue=document.createElement("option");ue.textContent=le,ue.value=pe,fe?fe.before(ue):$.append(ue),V.setValue(Y,{value:ce(ie,!0),items:se(ie)})},items(ie){const{items:oe}=ie.detail;for(;$.length!==0;)$.remove(0);for(const le of oe){const{displayValue:pe,exportValue:fe}=le,ue=document.createElement("option");ue.textContent=pe,ue.value=fe,$.append(ue)}$.options.length>0&&($.options[0].selected=!0),V.setValue(Y,{value:ce(ie,!0),items:se(ie)})},indices(ie){const oe=new Set(ie.detail.indices);for(const le of ie.target.options)le.selected=oe.has(le.index);V.setValue(Y,{value:ce(ie,!0)})},editable(ie){ie.target.disabled=!ie.detail.editable}};this._dispatchEventFromSandbox(ee,K)}),$.addEventListener("input",K=>{var ee;const ie=ce(K,!0),oe=ce(K,!1);V.setValue(Y,{value:ie}),(ee=this.linkService.eventBus)===null||ee===void 0||ee.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Y,name:"Keystroke",value:oe,changeEx:ie,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners($,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],K=>K.target.checked)):$.addEventListener("input",function(K){V.setValue(Y,{value:ce(K,!0)})}),this.data.combo&&this._setTextStyle($),this._setBackgroundColor($),this._setDefaultPropertiesFromJS($),this.container.append($),this.container}}class y extends A{constructor(V){var Y,te,$;const X=!!((Y=V.data.titleObj)!==null&&Y!==void 0&&Y.str||(te=V.data.contentsObj)!==null&&te!==void 0&&te.str||($=V.data.richText)!==null&&$!==void 0&&$.str);super(V,{isRenderable:X})}render(){const V=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",V.includes(this.data.parentType))return this.container;const Y=`[data-annotation-id="${this.data.parentId}"]`,te=this.layer.querySelectorAll(Y);if(te.length===0)return this.container;const $=new P({container:this.container,trigger:Array.from(te),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),X=this.page,ne=a.Util.normalizeRect([this.data.parentRect[0],X.view[3]-this.data.parentRect[1]+X.view[1],this.data.parentRect[2],X.view[3]-this.data.parentRect[3]+X.view[1]]),ce=ne[0]+this.data.parentRect[2]-this.data.parentRect[0],se=ne[1],[K,ee,ie,oe]=this.viewport.viewBox,le=ie-K,pe=oe-ee;return this.container.style.left=`${100*(ce-K)/le}%`,this.container.style.top=`${100*(se-ee)/pe}%`,this.container.append($.render()),this.container}}class P{constructor(V){this.container=V.container,this.trigger=V.trigger,this.color=V.color,this.titleObj=V.titleObj,this.modificationDate=V.modificationDate,this.contentsObj=V.contentsObj,this.richText=V.richText,this.hideWrapper=V.hideWrapper||!1,this.pinned=!1}render(){var V,Y;const $=document.createElement("div");$.className="popupWrapper",this.hideElement=this.hideWrapper?$:this.container,this.hideElement.hidden=!0;const X=document.createElement("div");X.className="popup";const ne=this.color;if(ne){const K=.7*(255-ne[0])+ne[0],ee=.7*(255-ne[1])+ne[1],ie=.7*(255-ne[2])+ne[2];X.style.backgroundColor=a.Util.makeHexColor(K|0,ee|0,ie|0)}const ce=document.createElement("h1");ce.dir=this.titleObj.dir,ce.textContent=this.titleObj.str,X.append(ce);const se=l.PDFDateString.toDateObject(this.modificationDate);if(se){const K=document.createElement("span");K.className="popupDate",K.textContent="{{date}}, {{time}}",K.dataset.l10nId="annotation_date_string",K.dataset.l10nArgs=JSON.stringify({date:se.toLocaleDateString(),time:se.toLocaleTimeString()}),X.append(K)}if((V=this.richText)!==null&&V!==void 0&&V.str&&(!((Y=this.contentsObj)!==null&&Y!==void 0&&Y.str)||this.contentsObj.str===this.richText.str))s.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:X}),X.lastChild.className="richText popupContent";else{const K=this._formatContents(this.contentsObj);X.append(K)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const K of this.trigger)K.addEventListener("click",this._toggle.bind(this)),K.addEventListener("mouseover",this._show.bind(this,!1)),K.addEventListener("mouseout",this._hide.bind(this,!1));return X.addEventListener("click",this._hide.bind(this,!0)),$.append(X),$}_formatContents(V){let{str:Y,dir:te}=V;const $=document.createElement("p");$.className="popupContent",$.dir=te;const X=Y.split(/(?:\r\n?|\n)/);for(let ne=0,ce=X.length;ne<ce;++ne){const se=X[ne];$.append(document.createTextNode(se)),ne<ce-1&&$.append(document.createElement("br"))}return $}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class w extends A{constructor(V){var Y,te,$;const X=!!(V.data.hasPopup||(Y=V.data.titleObj)!==null&&Y!==void 0&&Y.str||(te=V.data.contentsObj)!==null&&te!==void 0&&te.str||($=V.data.richText)!==null&&$!==void 0&&$.str);super(V,{isRenderable:X,ignoreBorder:!0}),this.textContent=V.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const V=document.createElement("div");V.className="annotationTextContent",V.setAttribute("role","comment");for(const Y of this.textContent){const te=document.createElement("span");te.textContent=Y,V.append(te)}this.container.append(V)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class M extends A{constructor(V){var Y,te,$;const X=!!(V.data.hasPopup||(Y=V.data.titleObj)!==null&&Y!==void 0&&Y.str||(te=V.data.contentsObj)!==null&&te!==void 0&&te.str||($=V.data.richText)!==null&&$!==void 0&&$.str);super(V,{isRenderable:X,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const V=this.data,{width:Y,height:te}=e(V.rect),$=this.svgFactory.create(Y,te,!0),X=this.svgFactory.createElement("svg:line");return X.setAttribute("x1",V.rect[2]-V.lineCoordinates[0]),X.setAttribute("y1",V.rect[3]-V.lineCoordinates[1]),X.setAttribute("x2",V.rect[2]-V.lineCoordinates[2]),X.setAttribute("y2",V.rect[3]-V.lineCoordinates[3]),X.setAttribute("stroke-width",V.borderStyle.width||1),X.setAttribute("stroke","transparent"),X.setAttribute("fill","transparent"),$.append(X),this.container.append($),this._createPopup(X,V),this.container}}class q extends A{constructor(V){var Y,te,$;const X=!!(V.data.hasPopup||(Y=V.data.titleObj)!==null&&Y!==void 0&&Y.str||(te=V.data.contentsObj)!==null&&te!==void 0&&te.str||($=V.data.richText)!==null&&$!==void 0&&$.str);super(V,{isRenderable:X,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const V=this.data,{width:Y,height:te}=e(V.rect),$=this.svgFactory.create(Y,te,!0),X=V.borderStyle.width,ne=this.svgFactory.createElement("svg:rect");return ne.setAttribute("x",X/2),ne.setAttribute("y",X/2),ne.setAttribute("width",Y-X),ne.setAttribute("height",te-X),ne.setAttribute("stroke-width",X||1),ne.setAttribute("stroke","transparent"),ne.setAttribute("fill","transparent"),$.append(ne),this.container.append($),this._createPopup(ne,V),this.container}}class F extends A{constructor(V){var Y,te,$;const X=!!(V.data.hasPopup||(Y=V.data.titleObj)!==null&&Y!==void 0&&Y.str||(te=V.data.contentsObj)!==null&&te!==void 0&&te.str||($=V.data.richText)!==null&&$!==void 0&&$.str);super(V,{isRenderable:X,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const V=this.data,{width:Y,height:te}=e(V.rect),$=this.svgFactory.create(Y,te,!0),X=V.borderStyle.width,ne=this.svgFactory.createElement("svg:ellipse");return ne.setAttribute("cx",Y/2),ne.setAttribute("cy",te/2),ne.setAttribute("rx",Y/2-X/2),ne.setAttribute("ry",te/2-X/2),ne.setAttribute("stroke-width",X||1),ne.setAttribute("stroke","transparent"),ne.setAttribute("fill","transparent"),$.append(ne),this.container.append($),this._createPopup(ne,V),this.container}}class G extends A{constructor(V){var Y,te,$;const X=!!(V.data.hasPopup||(Y=V.data.titleObj)!==null&&Y!==void 0&&Y.str||(te=V.data.contentsObj)!==null&&te!==void 0&&te.str||($=V.data.richText)!==null&&$!==void 0&&$.str);super(V,{isRenderable:X,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const V=this.data,{width:Y,height:te}=e(V.rect),$=this.svgFactory.create(Y,te,!0);let X=[];for(const ce of V.vertices){const se=ce.x-V.rect[0],K=V.rect[3]-ce.y;X.push(se+","+K)}X=X.join(" ");const ne=this.svgFactory.createElement(this.svgElementName);return ne.setAttribute("points",X),ne.setAttribute("stroke-width",V.borderStyle.width||1),ne.setAttribute("stroke","transparent"),ne.setAttribute("fill","transparent"),$.append(ne),this.container.append($),this._createPopup(ne,V),this.container}}class R extends G{constructor(V){super(V),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class I extends A{constructor(V){var Y,te,$;const X=!!(V.data.hasPopup||(Y=V.data.titleObj)!==null&&Y!==void 0&&Y.str||(te=V.data.contentsObj)!==null&&te!==void 0&&te.str||($=V.data.richText)!==null&&$!==void 0&&$.str);super(V,{isRenderable:X,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class L extends A{constructor(V){var Y,te,$;const X=!!(V.data.hasPopup||(Y=V.data.titleObj)!==null&&Y!==void 0&&Y.str||(te=V.data.contentsObj)!==null&&te!==void 0&&te.str||($=V.data.richText)!==null&&$!==void 0&&$.str);super(V,{isRenderable:X,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const V=this.data,{width:Y,height:te}=e(V.rect),$=this.svgFactory.create(Y,te,!0);for(const X of V.inkLists){let ne=[];for(const se of X){const K=se.x-V.rect[0],ee=V.rect[3]-se.y;ne.push(`${K},${ee}`)}ne=ne.join(" ");const ce=this.svgFactory.createElement(this.svgElementName);ce.setAttribute("points",ne),ce.setAttribute("stroke-width",V.borderStyle.width||1),ce.setAttribute("stroke","transparent"),ce.setAttribute("fill","transparent"),this._createPopup(ce,V),$.append(ce)}return this.container.append($),this.container}}class x extends A{constructor(V){var Y,te,$;const X=!!(V.data.hasPopup||(Y=V.data.titleObj)!==null&&Y!==void 0&&Y.str||(te=V.data.contentsObj)!==null&&te!==void 0&&te.str||($=V.data.richText)!==null&&$!==void 0&&$.str);super(V,{isRenderable:X,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class S extends A{constructor(V){var Y,te,$;const X=!!(V.data.hasPopup||(Y=V.data.titleObj)!==null&&Y!==void 0&&Y.str||(te=V.data.contentsObj)!==null&&te!==void 0&&te.str||($=V.data.richText)!==null&&$!==void 0&&$.str);super(V,{isRenderable:X,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class W extends A{constructor(V){var Y,te,$;const X=!!(V.data.hasPopup||(Y=V.data.titleObj)!==null&&Y!==void 0&&Y.str||(te=V.data.contentsObj)!==null&&te!==void 0&&te.str||($=V.data.richText)!==null&&$!==void 0&&$.str);super(V,{isRenderable:X,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class U extends A{constructor(V){var Y,te,$;const X=!!(V.data.hasPopup||(Y=V.data.titleObj)!==null&&Y!==void 0&&Y.str||(te=V.data.contentsObj)!==null&&te!==void 0&&te.str||($=V.data.richText)!==null&&$!==void 0&&$.str);super(V,{isRenderable:X,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class z extends A{constructor(V){var Y,te,$;const X=!!(V.data.hasPopup||(Y=V.data.titleObj)!==null&&Y!==void 0&&Y.str||(te=V.data.contentsObj)!==null&&te!==void 0&&te.str||($=V.data.richText)!==null&&$!==void 0&&$.str);super(V,{isRenderable:X,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class re extends A{constructor(V){var Y;super(V,{isRenderable:!0});const{filename:te,content:$}=this.data.file;this.filename=(0,l.getFilenameFromUrl)(te),this.content=$,(Y=this.linkService.eventBus)===null||Y===void 0||Y.dispatch("fileattachmentannotation",{source:this,filename:te,content:$})}render(){var V,Y;this.container.className="fileAttachmentAnnotation";const te=document.createElement("div");return te.className="popupTriggerArea",te.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((V=this.data.titleObj)!==null&&V!==void 0&&V.str||(Y=this.data.contentsObj)!==null&&Y!==void 0&&Y.str||this.data.richText)&&this._createPopup(te,this.data),this.container.append(te),this.container}_download(){var V;(V=this.downloadManager)===null||V===void 0||V.openOrDownloadData(this.container,this.content,this.filename)}}class J{static render(V){const{annotations:Y,div:te,viewport:$,accessibilityManager:X}=V;u(this,J,H).call(this,te,$);let ne=0;for(const ce of Y){if(ce.annotationType!==a.AnnotationType.POPUP){const{width:K,height:ee}=e(ce.rect);if(K<=0||ee<=0)continue}const se=E.create({data:ce,layer:te,page:V.page,viewport:$,linkService:V.linkService,downloadManager:V.downloadManager,imageResourcesPath:V.imageResourcesPath||"",renderForms:V.renderForms!==!1,svgFactory:new l.DOMSVGFactory,annotationStorage:V.annotationStorage||new g.AnnotationStorage,enableScripting:V.enableScripting,hasJSActions:V.hasJSActions,fieldObjects:V.fieldObjects,mouseState:V.mouseState||{isDown:!1}});if(se.isRenderable){const K=se.render();if(ce.hidden&&(K.style.visibility="hidden"),Array.isArray(K))for(const ee of K)ee.style.zIndex=ne++,u(J,J,k).call(J,ee,ce.id,te,X);else K.style.zIndex=ne++,se instanceof y?te.prepend(K):u(J,J,k).call(J,K,ce.id,te,X)}}u(this,J,Z).call(this,te,V.annotationCanvasMap)}static update(V){const{annotationCanvasMap:Y,div:te,viewport:$}=V;u(this,J,H).call(this,te,$),u(this,J,Z).call(this,te,Y),te.hidden=!1}}t.AnnotationLayer=J;function k(Q,V,Y,te){const $=Q.firstChild||Q;$.id=`${l.AnnotationPrefix}${V}`,Y.append(Q),te==null||te.moveElementInDOM(Y,Q,$,!1)}function H(Q,V){let{width:Y,height:te,rotation:$}=V;const{style:X}=Q,ne=$%180!==0,ce=Math.floor(Y)+"px",se=Math.floor(te)+"px";X.width=ne?se:ce,X.height=ne?ce:se,Q.setAttribute("data-main-rotation",$)}function Z(Q,V){if(!!V){for(const[Y,te]of V){const $=Q.querySelector(`[data-annotation-id="${Y}"]`);if(!$)continue;const{firstChild:X}=$;X?X.nodeName==="CANVAS"?X.replaceWith(te):X.before(te):$.append(te)}V.clear()}}},(i,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorConverters=void 0;function r(l){return Math.floor(Math.max(0,Math.min(1,l))*255).toString(16).padStart(2,"0")}class a{static CMYK_G(g){let[d,s,u,n]=g;return["G",1-Math.min(1,.3*d+.59*u+.11*s+n)]}static G_CMYK(g){let[d]=g;return["CMYK",0,0,0,1-d]}static G_RGB(g){let[d]=g;return["RGB",d,d,d]}static G_HTML(g){let[d]=g;const s=r(d);return`#${s}${s}${s}`}static RGB_G(g){let[d,s,u]=g;return["G",.3*d+.59*s+.11*u]}static RGB_HTML(g){let[d,s,u]=g;const n=r(d),c=r(s),C=r(u);return`#${n}${c}${C}`}static T_HTML(){return"#00000000"}static CMYK_RGB(g){let[d,s,u,n]=g;return["RGB",1-Math.min(1,d+n),1-Math.min(1,u+n),1-Math.min(1,s+n)]}static CMYK_HTML(g){const d=this.CMYK_RGB(g).slice(1);return this.RGB_HTML(d)}static RGB_CMYK(g){let[d,s,u]=g;const n=1-d,c=1-s,C=1-u,m=Math.min(n,c,C);return["CMYK",n,c,C,m]}}t.ColorConverters=a},(i,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayer=void 0;var a=r(145);class l{static setupStorage(d,s,u,n,c){const C=n.getValue(s,{value:null});switch(u.name){case"textarea":if(C.value!==null&&(d.textContent=C.value),c==="print")break;d.addEventListener("input",m=>{n.setValue(s,{value:m.target.value})});break;case"input":if(u.attributes.type==="radio"||u.attributes.type==="checkbox"){if(C.value===u.attributes.xfaOn?d.setAttribute("checked",!0):C.value===u.attributes.xfaOff&&d.removeAttribute("checked"),c==="print")break;d.addEventListener("change",m=>{n.setValue(s,{value:m.target.checked?m.target.getAttribute("xfaOn"):m.target.getAttribute("xfaOff")})})}else{if(C.value!==null&&d.setAttribute("value",C.value),c==="print")break;d.addEventListener("input",m=>{n.setValue(s,{value:m.target.value})})}break;case"select":if(C.value!==null)for(const m of u.children)m.attributes.value===C.value&&(m.attributes.selected=!0);d.addEventListener("input",m=>{const e=m.target.options,E=e.selectedIndex===-1?"":e[e.selectedIndex].value;n.setValue(s,{value:E})});break}}static setAttributes(d){let{html:s,element:u,storage:n=null,intent:c,linkService:C}=d;const{attributes:m}=u,e=s instanceof HTMLAnchorElement;m.type==="radio"&&(m.name=`${m.name}-${c}`);for(const[E,A]of Object.entries(m))if(A!=null)switch(E){case"class":A.length&&s.setAttribute(E,A.join(" "));break;case"dataId":break;case"id":s.setAttribute("data-element-id",A);break;case"style":Object.assign(s.style,A);break;case"textContent":s.textContent=A;break;default:(!e||E!=="href"&&E!=="newWindow")&&s.setAttribute(E,A)}e&&C.addLinkAttributes(s,m.href,m.newWindow),n&&m.dataId&&this.setupStorage(s,m.dataId,u,n)}static render(d){const s=d.annotationStorage,u=d.linkService,n=d.xfaHtml,c=d.intent||"display",C=document.createElement(n.name);n.attributes&&this.setAttributes({html:C,element:n,intent:c,linkService:u});const m=[[n,-1,C]],e=d.div;if(e.append(C),d.viewport){const B=`matrix(${d.viewport.transform.join(",")})`;e.style.transform=B}c!=="richText"&&e.setAttribute("class","xfaLayer xfaFont");const E=[];for(;m.length>0;){var A;const[B,O,v]=m.at(-1);if(O+1===B.children.length){m.pop();continue}const b=B.children[++m.at(-1)[1]];if(b===null)continue;const{name:o}=b;if(o==="#text"){const D=document.createTextNode(b.value);E.push(D),v.append(D);continue}let T;if(b!=null&&(A=b.attributes)!==null&&A!==void 0&&A.xmlns?T=document.createElementNS(b.attributes.xmlns,o):T=document.createElement(o),v.append(T),b.attributes&&this.setAttributes({html:T,element:b,storage:s,intent:c,linkService:u}),b.children&&b.children.length>0)m.push([b,-1,T]);else if(b.value){const D=document.createTextNode(b.value);a.XfaText.shouldBuildText(o)&&E.push(D),T.append(D)}}for(const B of e.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))B.setAttribute("readOnly",!0);return{textDivs:E}}static update(d){const s=`matrix(${d.viewport.transform.join(",")})`;d.div.style.transform=s,d.div.hidden=!1}}t.XfaLayer=l},(i,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextLayerRenderTask=void 0,t.renderTextLayer=v;var a=r(1),l=r(133);const g=1e5,d=30,s=.8,u=new Map,n=/^\s+$/g;function c(b,o){const T=u.get(b);if(T)return T;o.save(),o.font=`${d}px ${b}`;const D=o.measureText("");let _=D.fontBoundingBoxAscent,y=Math.abs(D.fontBoundingBoxDescent);if(_){o.restore();const w=_/(_+y);return u.set(b,w),w}o.strokeStyle="red",o.clearRect(0,0,d,d),o.strokeText("g",0,0);let P=o.getImageData(0,0,d,d).data;y=0;for(let w=P.length-1-3;w>=0;w-=4)if(P[w]>0){y=Math.ceil(w/4/d);break}o.clearRect(0,0,d,d),o.strokeText("A",0,d),P=o.getImageData(0,0,d,d).data,_=0;for(let w=0,M=P.length;w<M;w+=4)if(P[w]>0){_=d-Math.floor(w/4/d);break}if(o.restore(),_){const w=_/(_+y);return u.set(b,w),w}return u.set(b,s),s}function C(b,o,T,D){const _=document.createElement("span"),y=b._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:o.str!=="",hasEOL:o.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:o.str!=="",hasEOL:o.hasEOL,fontSize:0};b._textDivs.push(_);const P=a.Util.transform(b._viewport.transform,o.transform);let w=Math.atan2(P[1],P[0]);const M=T[o.fontName];M.vertical&&(w+=Math.PI/2);const q=Math.hypot(P[2],P[3]),F=q*c(M.fontFamily,D);let G,R;w===0?(G=P[4],R=P[5]-F):(G=P[4]+F*Math.sin(w),R=P[5]-F*Math.cos(w)),_.style.left=`${G}px`,_.style.top=`${R}px`,_.style.fontSize=`${q}px`,_.style.fontFamily=M.fontFamily,y.fontSize=q,_.setAttribute("role","presentation"),_.textContent=o.str,_.dir=o.dir,b._fontInspectorEnabled&&(_.dataset.fontName=o.fontName),w!==0&&(y.angle=w*(180/Math.PI));let I=!1;if(o.str.length>1||b._enhanceTextSelection&&n.test(o.str))I=!0;else if(o.str!==" "&&o.transform[0]!==o.transform[3]){const L=Math.abs(o.transform[0]),x=Math.abs(o.transform[3]);L!==x&&Math.max(L,x)/Math.min(L,x)>1.5&&(I=!0)}if(I&&(M.vertical?y.canvasWidth=o.height*b._viewport.scale:y.canvasWidth=o.width*b._viewport.scale),b._textDivProperties.set(_,y),b._textContentStream&&b._layoutText(_),b._enhanceTextSelection&&y.hasText){let L=1,x=0;w!==0&&(L=Math.cos(w),x=Math.sin(w));const S=(M.vertical?o.height:o.width)*b._viewport.scale,W=q;let U,z;w!==0?(U=[L,x,-x,L,G,R],z=a.Util.getAxialAlignedBoundingBox([0,0,S,W],U)):z=[G,R,G+S,R+W],b._bounds.push({left:z[0],top:z[1],right:z[2],bottom:z[3],div:_,size:[S,W],m:U})}}function m(b){if(b._canceled)return;const o=b._textDivs,T=b._capability,D=o.length;if(D>g){b._renderingDone=!0,T.resolve();return}if(!b._textContentStream)for(let _=0;_<D;_++)b._layoutText(o[_]);b._renderingDone=!0,T.resolve()}function e(b,o,T){let D=0;for(let _=0;_<T;_++){const y=b[o++];y>0&&(D=D?Math.min(y,D):y)}return D}function E(b){const o=b._bounds,T=b._viewport,D=A(T.width,T.height,o);for(let _=0;_<D.length;_++){const y=o[_].div,P=b._textDivProperties.get(y);if(P.angle===0){P.paddingLeft=o[_].left-D[_].left,P.paddingTop=o[_].top-D[_].top,P.paddingRight=D[_].right-o[_].right,P.paddingBottom=D[_].bottom-o[_].bottom,b._textDivProperties.set(y,P);continue}const w=D[_],M=o[_],q=M.m,F=q[0],G=q[1],R=[[0,0],[0,M.size[1]],[M.size[0],0],M.size],I=new Float64Array(64);for(let x=0,S=R.length;x<S;x++){const W=a.Util.applyTransform(R[x],q);I[x+0]=F&&(w.left-W[0])/F,I[x+4]=G&&(w.top-W[1])/G,I[x+8]=F&&(w.right-W[0])/F,I[x+12]=G&&(w.bottom-W[1])/G,I[x+16]=G&&(w.left-W[0])/-G,I[x+20]=F&&(w.top-W[1])/F,I[x+24]=G&&(w.right-W[0])/-G,I[x+28]=F&&(w.bottom-W[1])/F,I[x+32]=F&&(w.left-W[0])/-F,I[x+36]=G&&(w.top-W[1])/-G,I[x+40]=F&&(w.right-W[0])/-F,I[x+44]=G&&(w.bottom-W[1])/-G,I[x+48]=G&&(w.left-W[0])/G,I[x+52]=F&&(w.top-W[1])/-F,I[x+56]=G&&(w.right-W[0])/G,I[x+60]=F&&(w.bottom-W[1])/-F}const L=1+Math.min(Math.abs(F),Math.abs(G));P.paddingLeft=e(I,32,16)/L,P.paddingTop=e(I,48,16)/L,P.paddingRight=e(I,0,16)/L,P.paddingBottom=e(I,16,16)/L,b._textDivProperties.set(y,P)}}function A(b,o,T){const D=T.map(function(y,P){return{x1:y.left,y1:y.top,x2:y.right,y2:y.bottom,index:P,x1New:void 0,x2New:void 0}});B(b,D);const _=new Array(T.length);for(const y of D){const P=y.index;_[P]={left:y.x1New,top:0,right:y.x2New,bottom:0}}T.map(function(y,P){const w=_[P],M=D[P];M.x1=y.top,M.y1=b-w.right,M.x2=y.bottom,M.y2=b-w.left,M.index=P,M.x1New=void 0,M.x2New=void 0}),B(o,D);for(const y of D){const P=y.index;_[P].top=y.x1New,_[P].bottom=y.x2New}return _}function B(b,o){o.sort(function(_,y){return _.x1-y.x1||_.index-y.index});const D=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const _ of o){let y=0;for(;y<D.length&&D[y].end<=_.y1;)y++;let P=D.length-1;for(;P>=0&&D[P].start>=_.y2;)P--;let w,M,q,F,G=-1/0;for(q=y;q<=P;q++){w=D[q],M=w.boundary;let L;M.x2>_.x1?L=M.index>_.index?M.x1New:_.x1:M.x2New===void 0?L=(M.x2+_.x1)/2:L=M.x2New,L>G&&(G=L)}for(_.x1New=G,q=y;q<=P;q++)w=D[q],M=w.boundary,M.x2New===void 0?M.x2>_.x1?M.index>_.index&&(M.x2New=M.x2):M.x2New=G:M.x2New>G&&(M.x2New=Math.max(G,M.x2));const R=[];let I=null;for(q=y;q<=P;q++){w=D[q],M=w.boundary;const L=M.x2>_.x2?M:_;I===L?R.at(-1).end=w.end:(R.push({start:w.start,end:w.end,boundary:L}),I=L)}for(D[y].start<_.y1&&(R[0].start=_.y1,R.unshift({start:D[y].start,end:_.y1,boundary:D[y].boundary})),_.y2<D[P].end&&(R.at(-1).end=_.y2,R.push({start:_.y2,end:D[P].end,boundary:D[P].boundary})),q=y;q<=P;q++){if(w=D[q],M=w.boundary,M.x2New!==void 0)continue;let L=!1;for(F=y-1;!L&&F>=0&&D[F].start>=M.y1;F--)L=D[F].boundary===M;for(F=P+1;!L&&F<D.length&&D[F].end<=M.y2;F++)L=D[F].boundary===M;for(F=0;!L&&F<R.length;F++)L=R[F].boundary===M;L||(M.x2New=G)}Array.prototype.splice.apply(D,[y,P-y+1,...R])}for(const _ of D){const y=_.boundary;y.x2New===void 0&&(y.x2New=Math.max(b,y.x2))}}class O{constructor(o){var T;let{textContent:D,textContentStream:_,container:y,viewport:P,textDivs:w,textContentItemsStr:M,enhanceTextSelection:q}=o;q&&(0,l.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=D,this._textContentStream=_,this._container=y,this._document=y.ownerDocument,this._viewport=P,this._textDivs=w||[],this._textContentItemsStr=M||[],this._enhanceTextSelection=!!q,this._fontInspectorEnabled=!!((T=globalThis.FontInspector)!==null&&T!==void 0&&T.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,a.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new a.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(o,T){for(let D=0,_=o.length;D<_;D++){if(o[D].str===void 0){if(o[D].type==="beginMarkedContentProps"||o[D].type==="beginMarkedContent"){const y=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),o[D].id!==null&&this._container.setAttribute("id",`${o[D].id}`),y.append(this._container)}else o[D].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(o[D].str),C(this,o[D],T,this._layoutTextCtx)}}_layoutText(o){const T=this._textDivProperties.get(o);let D="";if(T.canvasWidth!==0&&T.hasText){const{fontFamily:_}=o.style,{fontSize:y}=T;(y!==this._layoutTextLastFontSize||_!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${y*this._devicePixelRatio}px ${_}`,this._layoutTextLastFontSize=y,this._layoutTextLastFontFamily=_);const{width:P}=this._layoutTextCtx.measureText(o.textContent);if(P>0){const w=this._devicePixelRatio*T.canvasWidth/P;this._enhanceTextSelection&&(T.scale=w),D=`scaleX(${w})`}}if(T.angle!==0&&(D=`rotate(${T.angle}deg) ${D}`),D.length>0&&(this._enhanceTextSelection&&(T.originalTransform=D),o.style.transform=D),T.hasText&&this._container.append(o),T.hasEOL){const _=document.createElement("br");_.setAttribute("role","presentation"),this._container.append(_)}}_render(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;const T=(0,a.createPromiseCapability)();let D=Object.create(null);const _=this._document.createElement("canvas");if(_.height=_.width=d,this._layoutTextCtx=_.getContext("2d",{alpha:!1}),this._textContent){const y=this._textContent.items,P=this._textContent.styles;this._processItems(y,P),T.resolve()}else if(this._textContentStream){const y=()=>{this._reader.read().then(P=>{let{value:w,done:M}=P;if(M){T.resolve();return}Object.assign(D,w.styles),this._processItems(w.items,D),y()},T.reject)};this._reader=this._textContentStream.getReader(),y()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');T.promise.then(()=>{D=null,o?this._renderTimer=setTimeout(()=>{m(this),this._renderTimer=null},o):m(this)},this._capability.reject)}expandTextDivs(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this._enhanceTextSelection||!this._renderingDone)return;this._bounds!==null&&(E(this),this._bounds=null);const T=[],D=[];for(let _=0,y=this._textDivs.length;_<y;_++){const P=this._textDivs[_],w=this._textDivProperties.get(P);!w.hasText||(o?(T.length=0,D.length=0,w.originalTransform&&T.push(w.originalTransform),w.paddingTop>0?(D.push(`${w.paddingTop}px`),T.push(`translateY(${-w.paddingTop}px)`)):D.push(0),w.paddingRight>0?D.push(`${w.paddingRight/w.scale}px`):D.push(0),w.paddingBottom>0?D.push(`${w.paddingBottom}px`):D.push(0),w.paddingLeft>0?(D.push(`${w.paddingLeft/w.scale}px`),T.push(`translateX(${-w.paddingLeft/w.scale}px)`)):D.push(0),P.style.padding=D.join(" "),T.length&&(P.style.transform=T.join(" "))):(P.style.padding=null,P.style.transform=w.originalTransform))}}}t.TextLayerRenderTask=O;function v(b){const o=new O({textContent:b.textContent,textContentStream:b.textContentStream,container:b.container,viewport:b.viewport,textDivs:b.textDivs,textContentItemsStr:b.textContentItemsStr,enhanceTextSelection:b.enhanceTextSelection});return o._render(b.timeout),o}},(i,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var a=r(133),l=r(1),g=r(3);let d=class{constructor(){(0,l.unreachable)("Not implemented: SVGGraphics")}};t.SVGGraphics=d;{let v=function(y){let P=[];const w=[];for(const M of y){if(M.fn==="save"){P.push({fnId:92,fn:"group",items:[]}),w.push(P),P=P.at(-1).items;continue}M.fn==="restore"?P=w.pop():P.push(M)}return P},b=function(y){if(Number.isInteger(y))return y.toString();const P=y.toFixed(10);let w=P.length-1;if(P[w]!=="0")return P;do w--;while(P[w]==="0");return P.substring(0,P[w]==="."?w:w+1)},o=function(y){if(y[4]===0&&y[5]===0){if(y[1]===0&&y[2]===0)return y[0]===1&&y[3]===1?"":`scale(${b(y[0])} ${b(y[3])})`;if(y[0]===y[3]&&y[1]===-y[2]){const P=Math.acos(y[0])*180/Math.PI;return`rotate(${b(P)})`}}else if(y[0]===1&&y[1]===0&&y[2]===0&&y[3]===1)return`translate(${b(y[4])} ${b(y[5])})`;return`matrix(${b(y[0])} ${b(y[1])} ${b(y[2])} ${b(y[3])} ${b(y[4])} ${b(y[5])})`};var s=v,u=b,n=o;const c={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},C="http://www.w3.org/XML/1998/namespace",m="http://www.w3.org/1999/xlink",e=["butt","round","square"],E=["miter","round","bevel"],A=function(y){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(URL.createObjectURL&&typeof Blob<"u"&&!w)return URL.createObjectURL(new Blob([y],{type:P}));const M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let q=`data:${P};base64,`;for(let F=0,G=y.length;F<G;F+=3){const R=y[F]&255,I=y[F+1]&255,L=y[F+2]&255,x=R>>2,S=(R&3)<<4|I>>4,W=F+1<G?(I&15)<<2|L>>6:64,U=F+2<G?L&63:64;q+=M[x]+M[S]+M[W]+M[U]}return q},B=function(){const y=new Uint8Array([137,80,78,71,13,10,26,10]),P=12,w=new Int32Array(256);for(let L=0;L<256;L++){let x=L;for(let S=0;S<8;S++)x&1?x=3988292384^x>>1&2147483647:x=x>>1&2147483647;w[L]=x}function M(L,x,S){let W=-1;for(let U=x;U<S;U++){const z=(W^L[U])&255,re=w[z];W=W>>>8^re}return W^-1}function q(L,x,S,W){let U=W;const z=x.length;S[U]=z>>24&255,S[U+1]=z>>16&255,S[U+2]=z>>8&255,S[U+3]=z&255,U+=4,S[U]=L.charCodeAt(0)&255,S[U+1]=L.charCodeAt(1)&255,S[U+2]=L.charCodeAt(2)&255,S[U+3]=L.charCodeAt(3)&255,U+=4,S.set(x,U),U+=x.length;const re=M(S,W+4,U);S[U]=re>>24&255,S[U+1]=re>>16&255,S[U+2]=re>>8&255,S[U+3]=re&255}function F(L,x,S){let W=1,U=0;for(let z=x;z<S;++z)W=(W+(L[z]&255))%65521,U=(U+W)%65521;return U<<16|W}function G(L){if(!g.isNodeJS)return R(L);try{let x;parseInt(process.versions.node)>=8?x=L:x=Buffer.from(L);const S=require$$7.deflateSync(x,{level:9});return S instanceof Uint8Array?S:new Uint8Array(S)}catch(x){(0,l.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+x)}return R(L)}function R(L){let x=L.length;const S=65535,W=Math.ceil(x/S),U=new Uint8Array(2+x+W*5+4);let z=0;U[z++]=120,U[z++]=156;let re=0;for(;x>S;)U[z++]=0,U[z++]=255,U[z++]=255,U[z++]=0,U[z++]=0,U.set(L.subarray(re,re+S),z),z+=S,re+=S,x-=S;U[z++]=1,U[z++]=x&255,U[z++]=x>>8&255,U[z++]=~x&65535&255,U[z++]=(~x&65535)>>8&255,U.set(L.subarray(re),z),z+=L.length-re;const J=F(L,0,L.length);return U[z++]=J>>24&255,U[z++]=J>>16&255,U[z++]=J>>8&255,U[z++]=J&255,U}function I(L,x,S,W){const U=L.width,z=L.height;let re,J,k;const H=L.data;switch(x){case l.ImageKind.GRAYSCALE_1BPP:J=0,re=1,k=U+7>>3;break;case l.ImageKind.RGB_24BPP:J=2,re=8,k=U*3;break;case l.ImageKind.RGBA_32BPP:J=6,re=8,k=U*4;break;default:throw new Error("invalid format")}const Z=new Uint8Array((1+k)*z);let Q=0,V=0;for(let ce=0;ce<z;++ce)Z[Q++]=0,Z.set(H.subarray(V,V+k),Q),V+=k,Q+=k;if(x===l.ImageKind.GRAYSCALE_1BPP&&W){Q=0;for(let ce=0;ce<z;ce++){Q++;for(let se=0;se<k;se++)Z[Q++]^=255}}const Y=new Uint8Array([U>>24&255,U>>16&255,U>>8&255,U&255,z>>24&255,z>>16&255,z>>8&255,z&255,re,J,0,0,0]),te=G(Z),$=y.length+P*3+Y.length+te.length,X=new Uint8Array($);let ne=0;return X.set(y,ne),ne+=y.length,q("IHDR",Y,X,ne),ne+=P+Y.length,q("IDATA",te,X,ne),ne+=P+te.length,q("IEND",new Uint8Array(0),X,ne),A(X,"image/png",S)}return function(x,S,W){const U=x.kind===void 0?l.ImageKind.GRAYSCALE_1BPP:x.kind;return I(x,U,S,W)}}();class O{constructor(){this.fontSizeScale=1,this.fontWeight=c.fontWeight,this.fontSize=0,this.textMatrix=l.IDENTITY_MATRIX,this.fontMatrix=l.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=l.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=c.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(P,w){this.x=P,this.y=w}}let T=0,D=0,_=0;t.SVGGraphics=d=class{constructor(y,P){let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;(0,a.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new a.DOMSVGFactory,this.current=new O,this.transformMatrix=l.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=y,this.objs=P,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!w,this._operatorIdMapping=[];for(const M in l.OPS)this._operatorIdMapping[l.OPS[M]]=M}save(){this.transformStack.push(this.transformMatrix);const y=this.current;this.extraStack.push(y),this.current=y.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(y){this.save(),this.executeOpTree(y),this.restore()}loadDependencies(y){const P=y.fnArray,w=y.argsArray;for(let M=0,q=P.length;M<q;M++)if(P[M]===l.OPS.dependency)for(const F of w[M]){const G=F.startsWith("g_")?this.commonObjs:this.objs,R=new Promise(I=>{G.get(F,I)});this.current.dependencies.push(R)}return Promise.all(this.current.dependencies)}transform(y,P,w,M,q,F){const G=[y,P,w,M,q,F];this.transformMatrix=l.Util.transform(this.transformMatrix,G),this.tgrp=null}getSVG(y,P){this.viewport=P;const w=this._initialize(P);return this.loadDependencies(y).then(()=>(this.transformMatrix=l.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(y)),w))}convertOpList(y){const P=this._operatorIdMapping,w=y.argsArray,M=y.fnArray,q=[];for(let F=0,G=M.length;F<G;F++){const R=M[F];q.push({fnId:R,fn:P[R],args:w[F]})}return v(q)}executeOpTree(y){for(const P of y){const w=P.fn,M=P.fnId,q=P.args;switch(M|0){case l.OPS.beginText:this.beginText();break;case l.OPS.dependency:break;case l.OPS.setLeading:this.setLeading(q);break;case l.OPS.setLeadingMoveText:this.setLeadingMoveText(q[0],q[1]);break;case l.OPS.setFont:this.setFont(q);break;case l.OPS.showText:this.showText(q[0]);break;case l.OPS.showSpacedText:this.showText(q[0]);break;case l.OPS.endText:this.endText();break;case l.OPS.moveText:this.moveText(q[0],q[1]);break;case l.OPS.setCharSpacing:this.setCharSpacing(q[0]);break;case l.OPS.setWordSpacing:this.setWordSpacing(q[0]);break;case l.OPS.setHScale:this.setHScale(q[0]);break;case l.OPS.setTextMatrix:this.setTextMatrix(q[0],q[1],q[2],q[3],q[4],q[5]);break;case l.OPS.setTextRise:this.setTextRise(q[0]);break;case l.OPS.setTextRenderingMode:this.setTextRenderingMode(q[0]);break;case l.OPS.setLineWidth:this.setLineWidth(q[0]);break;case l.OPS.setLineJoin:this.setLineJoin(q[0]);break;case l.OPS.setLineCap:this.setLineCap(q[0]);break;case l.OPS.setMiterLimit:this.setMiterLimit(q[0]);break;case l.OPS.setFillRGBColor:this.setFillRGBColor(q[0],q[1],q[2]);break;case l.OPS.setStrokeRGBColor:this.setStrokeRGBColor(q[0],q[1],q[2]);break;case l.OPS.setStrokeColorN:this.setStrokeColorN(q);break;case l.OPS.setFillColorN:this.setFillColorN(q);break;case l.OPS.shadingFill:this.shadingFill(q[0]);break;case l.OPS.setDash:this.setDash(q[0],q[1]);break;case l.OPS.setRenderingIntent:this.setRenderingIntent(q[0]);break;case l.OPS.setFlatness:this.setFlatness(q[0]);break;case l.OPS.setGState:this.setGState(q[0]);break;case l.OPS.fill:this.fill();break;case l.OPS.eoFill:this.eoFill();break;case l.OPS.stroke:this.stroke();break;case l.OPS.fillStroke:this.fillStroke();break;case l.OPS.eoFillStroke:this.eoFillStroke();break;case l.OPS.clip:this.clip("nonzero");break;case l.OPS.eoClip:this.clip("evenodd");break;case l.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case l.OPS.paintImageXObject:this.paintImageXObject(q[0]);break;case l.OPS.paintInlineImageXObject:this.paintInlineImageXObject(q[0]);break;case l.OPS.paintImageMaskXObject:this.paintImageMaskXObject(q[0]);break;case l.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(q[0],q[1]);break;case l.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case l.OPS.closePath:this.closePath();break;case l.OPS.closeStroke:this.closeStroke();break;case l.OPS.closeFillStroke:this.closeFillStroke();break;case l.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case l.OPS.nextLine:this.nextLine();break;case l.OPS.transform:this.transform(q[0],q[1],q[2],q[3],q[4],q[5]);break;case l.OPS.constructPath:this.constructPath(q[0],q[1]);break;case l.OPS.endPath:this.endPath();break;case 92:this.group(P.items);break;default:(0,l.warn)(`Unimplemented operator ${w}`);break}}}setWordSpacing(y){this.current.wordSpacing=y}setCharSpacing(y){this.current.charSpacing=y}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(y,P,w,M,q,F){const G=this.current;G.textMatrix=G.lineMatrix=[y,P,w,M,q,F],G.textMatrixScale=Math.hypot(y,P),G.x=G.lineX=0,G.y=G.lineY=0,G.xcoords=[],G.ycoords=[],G.tspan=this.svgFactory.createElement("svg:tspan"),G.tspan.setAttributeNS(null,"font-family",G.fontFamily),G.tspan.setAttributeNS(null,"font-size",`${b(G.fontSize)}px`),G.tspan.setAttributeNS(null,"y",b(-G.y)),G.txtElement=this.svgFactory.createElement("svg:text"),G.txtElement.append(G.tspan)}beginText(){const y=this.current;y.x=y.lineX=0,y.y=y.lineY=0,y.textMatrix=l.IDENTITY_MATRIX,y.lineMatrix=l.IDENTITY_MATRIX,y.textMatrixScale=1,y.tspan=this.svgFactory.createElement("svg:tspan"),y.txtElement=this.svgFactory.createElement("svg:text"),y.txtgrp=this.svgFactory.createElement("svg:g"),y.xcoords=[],y.ycoords=[]}moveText(y,P){const w=this.current;w.x=w.lineX+=y,w.y=w.lineY+=P,w.xcoords=[],w.ycoords=[],w.tspan=this.svgFactory.createElement("svg:tspan"),w.tspan.setAttributeNS(null,"font-family",w.fontFamily),w.tspan.setAttributeNS(null,"font-size",`${b(w.fontSize)}px`),w.tspan.setAttributeNS(null,"y",b(-w.y))}showText(y){const P=this.current,w=P.font,M=P.fontSize;if(M===0)return;const q=P.fontSizeScale,F=P.charSpacing,G=P.wordSpacing,R=P.fontDirection,I=P.textHScale*R,L=w.vertical,x=L?1:-1,S=w.defaultVMetrics,W=M*P.fontMatrix[0];let U=0;for(const J of y){if(J===null){U+=R*G;continue}else if(typeof J=="number"){U+=x*J*M/1e3;continue}const k=(J.isSpace?G:0)+F,H=J.fontChar;let Z,Q,V=J.width;if(L){let te;const $=J.vmetric||S;te=J.vmetric?$[1]:V*.5,te=-te*W;const X=$[2]*W;V=$?-$[0]:V,Z=te/q,Q=(U+X)/q}else Z=U/q,Q=0;(J.isInFont||w.missingFile)&&(P.xcoords.push(P.x+Z),L&&P.ycoords.push(-P.y+Q),P.tspan.textContent+=H);let Y;L?Y=V*W-k*R:Y=V*W+k*R,U+=Y}P.tspan.setAttributeNS(null,"x",P.xcoords.map(b).join(" ")),L?P.tspan.setAttributeNS(null,"y",P.ycoords.map(b).join(" ")):P.tspan.setAttributeNS(null,"y",b(-P.y)),L?P.y-=U:P.x+=U*I,P.tspan.setAttributeNS(null,"font-family",P.fontFamily),P.tspan.setAttributeNS(null,"font-size",`${b(P.fontSize)}px`),P.fontStyle!==c.fontStyle&&P.tspan.setAttributeNS(null,"font-style",P.fontStyle),P.fontWeight!==c.fontWeight&&P.tspan.setAttributeNS(null,"font-weight",P.fontWeight);const z=P.textRenderingMode&l.TextRenderingMode.FILL_STROKE_MASK;if(z===l.TextRenderingMode.FILL||z===l.TextRenderingMode.FILL_STROKE?(P.fillColor!==c.fillColor&&P.tspan.setAttributeNS(null,"fill",P.fillColor),P.fillAlpha<1&&P.tspan.setAttributeNS(null,"fill-opacity",P.fillAlpha)):P.textRenderingMode===l.TextRenderingMode.ADD_TO_PATH?P.tspan.setAttributeNS(null,"fill","transparent"):P.tspan.setAttributeNS(null,"fill","none"),z===l.TextRenderingMode.STROKE||z===l.TextRenderingMode.FILL_STROKE){const J=1/(P.textMatrixScale||1);this._setStrokeAttributes(P.tspan,J)}let re=P.textMatrix;P.textRise!==0&&(re=re.slice(),re[5]+=P.textRise),P.txtElement.setAttributeNS(null,"transform",`${o(re)} scale(${b(I)}, -1)`),P.txtElement.setAttributeNS(C,"xml:space","preserve"),P.txtElement.append(P.tspan),P.txtgrp.append(P.txtElement),this._ensureTransformGroup().append(P.txtElement)}setLeadingMoveText(y,P){this.setLeading(-P),this.moveText(y,P)}addFontStyle(y){if(!y.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const P=A(y.data,y.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${y.loadedName}"; src: url(${P}); }
`}setFont(y){const P=this.current,w=this.commonObjs.get(y[0]);let M=y[1];P.font=w,this.embedFonts&&!w.missingFile&&!this.embeddedFonts[w.loadedName]&&(this.addFontStyle(w),this.embeddedFonts[w.loadedName]=w),P.fontMatrix=w.fontMatrix||l.FONT_IDENTITY_MATRIX;let q="normal";w.black?q="900":w.bold&&(q="bold");const F=w.italic?"italic":"normal";M<0?(M=-M,P.fontDirection=-1):P.fontDirection=1,P.fontSize=M,P.fontFamily=w.loadedName,P.fontWeight=q,P.fontStyle=F,P.tspan=this.svgFactory.createElement("svg:tspan"),P.tspan.setAttributeNS(null,"y",b(-P.y)),P.xcoords=[],P.ycoords=[]}endText(){var y;const P=this.current;P.textRenderingMode&l.TextRenderingMode.ADD_TO_PATH_FLAG&&(y=P.txtElement)!==null&&y!==void 0&&y.hasChildNodes()&&(P.element=P.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(y){y>0&&(this.current.lineWidth=y)}setLineCap(y){this.current.lineCap=e[y]}setLineJoin(y){this.current.lineJoin=E[y]}setMiterLimit(y){this.current.miterLimit=y}setStrokeAlpha(y){this.current.strokeAlpha=y}setStrokeRGBColor(y,P,w){this.current.strokeColor=l.Util.makeHexColor(y,P,w)}setFillAlpha(y){this.current.fillAlpha=y}setFillRGBColor(y,P,w){this.current.fillColor=l.Util.makeHexColor(y,P,w),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(y){this.current.strokeColor=this._makeColorN_Pattern(y)}setFillColorN(y){this.current.fillColor=this._makeColorN_Pattern(y)}shadingFill(y){const P=this.viewport.width,w=this.viewport.height,M=l.Util.inverseTransform(this.transformMatrix),q=l.Util.applyTransform([0,0],M),F=l.Util.applyTransform([0,w],M),G=l.Util.applyTransform([P,0],M),R=l.Util.applyTransform([P,w],M),I=Math.min(q[0],F[0],G[0],R[0]),L=Math.min(q[1],F[1],G[1],R[1]),x=Math.max(q[0],F[0],G[0],R[0]),S=Math.max(q[1],F[1],G[1],R[1]),W=this.svgFactory.createElement("svg:rect");W.setAttributeNS(null,"x",I),W.setAttributeNS(null,"y",L),W.setAttributeNS(null,"width",x-I),W.setAttributeNS(null,"height",S-L),W.setAttributeNS(null,"fill",this._makeShadingPattern(y)),this.current.fillAlpha<1&&W.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(W)}_makeColorN_Pattern(y){return y[0]==="TilingPattern"?this._makeTilingPattern(y):this._makeShadingPattern(y)}_makeTilingPattern(y){const P=y[1],w=y[2],M=y[3]||l.IDENTITY_MATRIX,[q,F,G,R]=y[4],I=y[5],L=y[6],x=y[7],S=`shading${_++}`,[W,U,z,re]=l.Util.normalizeRect([...l.Util.applyTransform([q,F],M),...l.Util.applyTransform([G,R],M)]),[J,k]=l.Util.singularValueDecompose2dScale(M),H=I*J,Z=L*k,Q=this.svgFactory.createElement("svg:pattern");Q.setAttributeNS(null,"id",S),Q.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Q.setAttributeNS(null,"width",H),Q.setAttributeNS(null,"height",Z),Q.setAttributeNS(null,"x",`${W}`),Q.setAttributeNS(null,"y",`${U}`);const V=this.svg,Y=this.transformMatrix,te=this.current.fillColor,$=this.current.strokeColor,X=this.svgFactory.create(z-W,re-U);if(this.svg=X,this.transformMatrix=M,x===2){const ne=l.Util.makeHexColor(...P);this.current.fillColor=ne,this.current.strokeColor=ne}return this.executeOpTree(this.convertOpList(w)),this.svg=V,this.transformMatrix=Y,this.current.fillColor=te,this.current.strokeColor=$,Q.append(X.childNodes[0]),this.defs.append(Q),`url(#${S})`}_makeShadingPattern(y){switch(typeof y=="string"&&(y=this.objs.get(y)),y[0]){case"RadialAxial":const P=`shading${_++}`,w=y[3];let M;switch(y[1]){case"axial":const q=y[4],F=y[5];M=this.svgFactory.createElement("svg:linearGradient"),M.setAttributeNS(null,"id",P),M.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),M.setAttributeNS(null,"x1",q[0]),M.setAttributeNS(null,"y1",q[1]),M.setAttributeNS(null,"x2",F[0]),M.setAttributeNS(null,"y2",F[1]);break;case"radial":const G=y[4],R=y[5],I=y[6],L=y[7];M=this.svgFactory.createElement("svg:radialGradient"),M.setAttributeNS(null,"id",P),M.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),M.setAttributeNS(null,"cx",R[0]),M.setAttributeNS(null,"cy",R[1]),M.setAttributeNS(null,"r",L),M.setAttributeNS(null,"fx",G[0]),M.setAttributeNS(null,"fy",G[1]),M.setAttributeNS(null,"fr",I);break;default:throw new Error(`Unknown RadialAxial type: ${y[1]}`)}for(const q of w){const F=this.svgFactory.createElement("svg:stop");F.setAttributeNS(null,"offset",q[0]),F.setAttributeNS(null,"stop-color",q[1]),M.append(F)}return this.defs.append(M),`url(#${P})`;case"Mesh":return(0,l.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${y[0]}`)}}setDash(y,P){this.current.dashArray=y,this.current.dashPhase=P}constructPath(y,P){const w=this.current;let M=w.x,q=w.y,F=[],G=0;for(const R of y)switch(R|0){case l.OPS.rectangle:M=P[G++],q=P[G++];const I=P[G++],L=P[G++],x=M+I,S=q+L;F.push("M",b(M),b(q),"L",b(x),b(q),"L",b(x),b(S),"L",b(M),b(S),"Z");break;case l.OPS.moveTo:M=P[G++],q=P[G++],F.push("M",b(M),b(q));break;case l.OPS.lineTo:M=P[G++],q=P[G++],F.push("L",b(M),b(q));break;case l.OPS.curveTo:M=P[G+4],q=P[G+5],F.push("C",b(P[G]),b(P[G+1]),b(P[G+2]),b(P[G+3]),b(M),b(q)),G+=6;break;case l.OPS.curveTo2:F.push("C",b(M),b(q),b(P[G]),b(P[G+1]),b(P[G+2]),b(P[G+3])),M=P[G+2],q=P[G+3],G+=4;break;case l.OPS.curveTo3:M=P[G+2],q=P[G+3],F.push("C",b(P[G]),b(P[G+1]),b(M),b(q),b(M),b(q)),G+=4;break;case l.OPS.closePath:F.push("Z");break}F=F.join(" "),w.path&&y.length>0&&y[0]!==l.OPS.rectangle&&y[0]!==l.OPS.moveTo?F=w.path.getAttributeNS(null,"d")+F:(w.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(w.path)),w.path.setAttributeNS(null,"d",F),w.path.setAttributeNS(null,"fill","none"),w.element=w.path,w.setCurrentPoint(M,q)}endPath(){const y=this.current;if(y.path=null,!this.pendingClip)return;if(!y.element){this.pendingClip=null;return}const P=`clippath${T++}`,w=this.svgFactory.createElement("svg:clipPath");w.setAttributeNS(null,"id",P),w.setAttributeNS(null,"transform",o(this.transformMatrix));const M=y.element.cloneNode(!0);if(this.pendingClip==="evenodd"?M.setAttributeNS(null,"clip-rule","evenodd"):M.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,w.append(M),this.defs.append(w),y.activeClipUrl){y.clipGroup=null;for(const q of this.extraStack)q.clipGroup=null;w.setAttributeNS(null,"clip-path",y.activeClipUrl)}y.activeClipUrl=`url(#${P})`,this.tgrp=null}clip(y){this.pendingClip=y}closePath(){const y=this.current;if(y.path){const P=`${y.path.getAttributeNS(null,"d")}Z`;y.path.setAttributeNS(null,"d",P)}}setLeading(y){this.current.leading=-y}setTextRise(y){this.current.textRise=y}setTextRenderingMode(y){this.current.textRenderingMode=y}setHScale(y){this.current.textHScale=y/100}setRenderingIntent(y){}setFlatness(y){}setGState(y){for(const[P,w]of y)switch(P){case"LW":this.setLineWidth(w);break;case"LC":this.setLineCap(w);break;case"LJ":this.setLineJoin(w);break;case"ML":this.setMiterLimit(w);break;case"D":this.setDash(w[0],w[1]);break;case"RI":this.setRenderingIntent(w);break;case"FL":this.setFlatness(w);break;case"Font":this.setFont(w);break;case"CA":this.setStrokeAlpha(w);break;case"ca":this.setFillAlpha(w);break;default:(0,l.warn)(`Unimplemented graphic state operator ${P}`);break}}fill(){const y=this.current;y.element&&(y.element.setAttributeNS(null,"fill",y.fillColor),y.element.setAttributeNS(null,"fill-opacity",y.fillAlpha),this.endPath())}stroke(){const y=this.current;y.element&&(this._setStrokeAttributes(y.element),y.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(y){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const w=this.current;let M=w.dashArray;P!==1&&M.length>0&&(M=M.map(function(q){return P*q})),y.setAttributeNS(null,"stroke",w.strokeColor),y.setAttributeNS(null,"stroke-opacity",w.strokeAlpha),y.setAttributeNS(null,"stroke-miterlimit",b(w.miterLimit)),y.setAttributeNS(null,"stroke-linecap",w.lineCap),y.setAttributeNS(null,"stroke-linejoin",w.lineJoin),y.setAttributeNS(null,"stroke-width",b(P*w.lineWidth)+"px"),y.setAttributeNS(null,"stroke-dasharray",M.map(b).join(" ")),y.setAttributeNS(null,"stroke-dashoffset",b(P*w.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const y=this.svgFactory.createElement("svg:rect");y.setAttributeNS(null,"x","0"),y.setAttributeNS(null,"y","0"),y.setAttributeNS(null,"width","1px"),y.setAttributeNS(null,"height","1px"),y.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(y)}paintImageXObject(y){const P=y.startsWith("g_")?this.commonObjs.get(y):this.objs.get(y);if(!P){(0,l.warn)(`Dependent image with object ID ${y} is not ready yet`);return}this.paintInlineImageXObject(P)}paintInlineImageXObject(y,P){const w=y.width,M=y.height,q=B(y,this.forceDataSchema,!!P),F=this.svgFactory.createElement("svg:rect");F.setAttributeNS(null,"x","0"),F.setAttributeNS(null,"y","0"),F.setAttributeNS(null,"width",b(w)),F.setAttributeNS(null,"height",b(M)),this.current.element=F,this.clip("nonzero");const G=this.svgFactory.createElement("svg:image");G.setAttributeNS(m,"xlink:href",q),G.setAttributeNS(null,"x","0"),G.setAttributeNS(null,"y",b(-M)),G.setAttributeNS(null,"width",b(w)+"px"),G.setAttributeNS(null,"height",b(M)+"px"),G.setAttributeNS(null,"transform",`scale(${b(1/w)} ${b(-1/M)})`),P?P.append(G):this._ensureTransformGroup().append(G)}paintImageMaskXObject(y){const P=this.current,w=y.width,M=y.height,q=P.fillColor;P.maskId=`mask${D++}`;const F=this.svgFactory.createElement("svg:mask");F.setAttributeNS(null,"id",P.maskId);const G=this.svgFactory.createElement("svg:rect");G.setAttributeNS(null,"x","0"),G.setAttributeNS(null,"y","0"),G.setAttributeNS(null,"width",b(w)),G.setAttributeNS(null,"height",b(M)),G.setAttributeNS(null,"fill",q),G.setAttributeNS(null,"mask",`url(#${P.maskId})`),this.defs.append(F),this._ensureTransformGroup().append(G),this.paintInlineImageXObject(y,F)}paintFormXObjectBegin(y,P){if(Array.isArray(y)&&y.length===6&&this.transform(y[0],y[1],y[2],y[3],y[4],y[5]),P){const w=P[2]-P[0],M=P[3]-P[1],q=this.svgFactory.createElement("svg:rect");q.setAttributeNS(null,"x",P[0]),q.setAttributeNS(null,"y",P[1]),q.setAttributeNS(null,"width",b(w)),q.setAttributeNS(null,"height",b(M)),this.current.element=q,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(y){const P=this.svgFactory.create(y.width,y.height),w=this.svgFactory.createElement("svg:defs");P.append(w),this.defs=w;const M=this.svgFactory.createElement("svg:g");return M.setAttributeNS(null,"transform",o(y.transform)),P.append(M),this.svg=M,P}_ensureClipGroup(){if(!this.current.clipGroup){const y=this.svgFactory.createElement("svg:g");y.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(y),this.current.clipGroup=y}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",o(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(i,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var a=r(1),l=r(158);const g=require$$7,d=require$$7,s=require$$7,u=require$$7,n=/^file:\/\/\/[a-zA-Z]:\//;function c(b){const o=u.parse(b);return o.protocol==="file:"||o.host?o:/^[a-z]:[/\\]/i.test(b)?u.parse(`file:///${b}`):(o.host||(o.protocol="file:"),o)}class C{constructor(o){this.source=o,this.url=c(o.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&o.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var o,T;return(o=(T=this._fullRequestReader)===null||T===void 0?void 0:T._loaded)!==null&&o!==void 0?o:0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new O(this):new A(this),this._fullRequestReader}getRangeReader(o,T){if(T<=this._progressiveDataLength)return null;const D=this.isFsUrl?new v(this,o,T):new B(this,o,T);return this._rangeRequestReaders.push(D),D}cancelAllRequests(o){this._fullRequestReader&&this._fullRequestReader.cancel(o);for(const T of this._rangeRequestReaders.slice(0))T.cancel(o)}}t.PDFNodeStream=C;class m{constructor(o){this._url=o.url,this._done=!1,this._storedError=null,this.onProgress=null;const T=o.source;this._contentLength=T.length,this._loaded=0,this._filename=null,this._disableRange=T.disableRange||!1,this._rangeChunkSize=T.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!T.disableStream,this._isRangeSupported=!T.disableRange,this._readableStream=null,this._readCapability=(0,a.createPromiseCapability)(),this._headersCapability=(0,a.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const o=this._readableStream.read();return o===null?(this._readCapability=(0,a.createPromiseCapability)(),this.read()):(this._loaded+=o.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(o).buffer,done:!1})}cancel(o){if(!this._readableStream){this._error(o);return}this._readableStream.destroy(o)}_error(o){this._storedError=o,this._readCapability.resolve()}_setReadableStream(o){this._readableStream=o,o.on("readable",()=>{this._readCapability.resolve()}),o.on("end",()=>{o.destroy(),this._done=!0,this._readCapability.resolve()}),o.on("error",T=>{this._error(T)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new a.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class e{constructor(o){this._url=o.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,a.createPromiseCapability)();const T=o.source;this._isStreamingSupported=!T.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const o=this._readableStream.read();return o===null?(this._readCapability=(0,a.createPromiseCapability)(),this.read()):(this._loaded+=o.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(o).buffer,done:!1})}cancel(o){if(!this._readableStream){this._error(o);return}this._readableStream.destroy(o)}_error(o){this._storedError=o,this._readCapability.resolve()}_setReadableStream(o){this._readableStream=o,o.on("readable",()=>{this._readCapability.resolve()}),o.on("end",()=>{o.destroy(),this._done=!0,this._readCapability.resolve()}),o.on("error",T=>{this._error(T)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function E(b,o){return{protocol:b.protocol,auth:b.auth,host:b.hostname,port:b.port,path:b.path,method:"GET",headers:o}}class A extends m{constructor(o){super(o);const T=D=>{if(D.statusCode===404){const w=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=w,this._headersCapability.reject(w);return}this._headersCapability.resolve(),this._setReadableStream(D);const _=w=>this._readableStream.headers[w.toLowerCase()],{allowRangeRequests:y,suggestedLength:P}=(0,l.validateRangeRequestCapabilities)({getResponseHeader:_,isHttp:o.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=y,this._contentLength=P||this._contentLength,this._filename=(0,l.extractFilenameFromHeader)(_)};this._request=null,this._url.protocol==="http:"?this._request=d.request(E(this._url,o.httpHeaders),T):this._request=s.request(E(this._url,o.httpHeaders),T),this._request.on("error",D=>{this._storedError=D,this._headersCapability.reject(D)}),this._request.end()}}class B extends e{constructor(o,T,D){super(o),this._httpHeaders={};for(const y in o.httpHeaders){const P=o.httpHeaders[y];typeof P>"u"||(this._httpHeaders[y]=P)}this._httpHeaders.Range=`bytes=${T}-${D-1}`;const _=y=>{if(y.statusCode===404){const P=new a.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=P;return}this._setReadableStream(y)};this._request=null,this._url.protocol==="http:"?this._request=d.request(E(this._url,this._httpHeaders),_):this._request=s.request(E(this._url,this._httpHeaders),_),this._request.on("error",y=>{this._storedError=y}),this._request.end()}}class O extends m{constructor(o){super(o);let T=decodeURIComponent(this._url.path);n.test(this._url.href)&&(T=T.replace(/^\//,"")),g.lstat(T,(D,_)=>{if(D){D.code==="ENOENT"&&(D=new a.MissingPDFException(`Missing PDF "${T}".`)),this._storedError=D,this._headersCapability.reject(D);return}this._contentLength=_.size,this._setReadableStream(g.createReadStream(T)),this._headersCapability.resolve()})}}class v extends e{constructor(o,T,D){super(o);let _=decodeURIComponent(this._url.path);n.test(this._url.href)&&(_=_.replace(/^\//,"")),this._setReadableStream(g.createReadStream(_,{start:T,end:D-1}))}}},(i,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=u,t.extractFilenameFromHeader=s,t.validateRangeRequestCapabilities=d,t.validateResponseStatus=n;var a=r(1),l=r(159),g=r(133);function d(c){let{getResponseHeader:C,isHttp:m,rangeChunkSize:e,disableRange:E}=c;const A={allowRangeRequests:!1,suggestedLength:void 0},B=parseInt(C("Content-Length"),10);return!Number.isInteger(B)||(A.suggestedLength=B,B<=2*e)||E||!m||C("Accept-Ranges")!=="bytes"||(C("Content-Encoding")||"identity")!=="identity"||(A.allowRangeRequests=!0),A}function s(c){const C=c("Content-Disposition");if(C){let m=(0,l.getFilenameFromContentDispositionHeader)(C);if(m.includes("%"))try{m=decodeURIComponent(m)}catch{}if((0,g.isPdfFile)(m))return m}return null}function u(c,C){return c===404||c===0&&C.startsWith("file:")?new a.MissingPDFException('Missing PDF "'+C+'".'):new a.UnexpectedResponseException(`Unexpected server response (${c}) while retrieving PDF "${C}".`,c)}function n(c){return c===200||c===206}},(i,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=l;var a=r(1);function l(g){let d=!0,s=u("filename\\*","i").exec(g);if(s){s=s[1];let A=m(s);return A=unescape(A),A=e(A),A=E(A),c(A)}if(s=C(g),s){const A=E(s);return c(A)}if(s=u("filename","i").exec(g),s){s=s[1];let A=m(s);return A=E(A),c(A)}function u(A,B){return new RegExp("(?:^|;)\\s*"+A+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',B)}function n(A,B){if(A){if(!/^[\x00-\xFF]+$/.test(B))return B;try{const O=new TextDecoder(A,{fatal:!0}),v=(0,a.stringToBytes)(B);B=O.decode(v),d=!1}catch{}}return B}function c(A){return d&&/[\x80-\xff]/.test(A)&&(A=n("utf-8",A),d&&(A=n("iso-8859-1",A))),A}function C(A){const B=[];let O;const v=u("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(O=v.exec(A))!==null;){let[,o,T,D]=O;if(o=parseInt(o,10),o in B){if(o===0)break;continue}B[o]=[T,D]}const b=[];for(let o=0;o<B.length&&o in B;++o){let[T,D]=B[o];D=m(D),T&&(D=unescape(D),o===0&&(D=e(D))),b.push(D)}return b.join("")}function m(A){if(A.startsWith('"')){const B=A.slice(1).split('\\"');for(let O=0;O<B.length;++O){const v=B[O].indexOf('"');v!==-1&&(B[O]=B[O].slice(0,v),B.length=O+1),B[O]=B[O].replace(/\\(.)/g,"$1")}A=B.join('"')}return A}function e(A){const B=A.indexOf("'");if(B===-1)return A;const O=A.slice(0,B),b=A.slice(B+1).replace(/^[^']*'/,"");return n(O,b)}function E(A){return!A.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(A)?A:A.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(B,O,v,b){if(v==="q"||v==="Q")return b=b.replace(/_/g," "),b=b.replace(/=([0-9a-fA-F]{2})/g,function(o,T){return String.fromCharCode(parseInt(T,16))}),n(O,b);try{b=atob(b)}catch{}return n(O,b)})}return""}},(i,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var a=r(1),l=r(158);const g=200,d=206;function s(m){const e=m.response;return typeof e!="string"?e:(0,a.stringToBytes)(e).buffer}class u{constructor(e){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&E.httpHeaders||Object.create(null),this.withCredentials=E.withCredentials||!1,this.getXhr=E.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,E,A){const B={begin:e,end:E};for(const O in A)B[O]=A[O];return this.request(B)}requestFull(e){return this.request(e)}request(e){const E=this.getXhr(),A=this.currXhrId++,B=this.pendingRequests[A]={xhr:E};E.open("GET",this.url),E.withCredentials=this.withCredentials;for(const O in this.httpHeaders){const v=this.httpHeaders[O];typeof v>"u"||E.setRequestHeader(O,v)}return this.isHttp&&"begin"in e&&"end"in e?(E.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),B.expectedStatus=d):B.expectedStatus=g,E.responseType="arraybuffer",e.onError&&(E.onerror=function(O){e.onError(E.status)}),E.onreadystatechange=this.onStateChange.bind(this,A),E.onprogress=this.onProgress.bind(this,A),B.onHeadersReceived=e.onHeadersReceived,B.onDone=e.onDone,B.onError=e.onError,B.onProgress=e.onProgress,E.send(null),A}onProgress(e,E){var A;const B=this.pendingRequests[e];!B||(A=B.onProgress)===null||A===void 0||A.call(B,E)}onStateChange(e,E){const A=this.pendingRequests[e];if(!A)return;const B=A.xhr;if(B.readyState>=2&&A.onHeadersReceived&&(A.onHeadersReceived(),delete A.onHeadersReceived),B.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],B.status===0&&this.isHttp){var O;(O=A.onError)===null||O===void 0||O.call(A,B.status);return}const v=B.status||g;if(!(v===g&&A.expectedStatus===d)&&v!==A.expectedStatus){var o;(o=A.onError)===null||o===void 0||o.call(A,B.status);return}const T=s(B);if(v===d){const _=B.getResponseHeader("Content-Range"),y=/bytes (\d+)-(\d+)\/(\d+)/.exec(_);A.onDone({begin:parseInt(y[1],10),chunk:T})}else if(T)A.onDone({begin:0,chunk:T});else{var D;(D=A.onError)===null||D===void 0||D.call(A,B.status)}}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const E=this.pendingRequests[e].xhr;delete this.pendingRequests[e],E.abort()}}class n{constructor(e){this._source=e,this._manager=new u(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const E=this._rangeRequestReaders.indexOf(e);E>=0&&this._rangeRequestReaders.splice(E,1)}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new c(this._manager,this._source),this._fullRequestReader}getRangeReader(e,E){const A=new C(this._manager,e,E);return A.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(A),A}cancelAllRequests(e){var E;(E=this._fullRequestReader)===null||E===void 0||E.cancel(e);for(const A of this._rangeRequestReaders.slice(0))A.cancel(e)}}t.PDFNetworkStream=n;class c{constructor(e,E){this._manager=e;const A={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=E.url,this._fullRequestId=e.requestFull(A),this._headersReceivedCapability=(0,a.createPromiseCapability)(),this._disableRange=E.disableRange||!1,this._contentLength=E.length,this._rangeChunkSize=E.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,E=this._manager.getRequestXhr(e),A=v=>E.getResponseHeader(v),{allowRangeRequests:B,suggestedLength:O}=(0,l.validateRangeRequestCapabilities)({getResponseHeader:A,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});B&&(this._isRangeSupported=!0),this._contentLength=O||this._contentLength,this._filename=(0,l.extractFilenameFromHeader)(A),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const E of this._requests)E.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=(0,l.createResponseStatusError)(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(const E of this._requests)E.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var E;(E=this.onProgress)===null||E===void 0||E.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=(0,a.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(const E of this._requests)E.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class C{constructor(e,E,A){this._manager=e;const B={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(E,A,B),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)===null||e===void 0||e.call(this,this)}_onDone(e){const E=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:E,done:!1}):this._queuedChunk=E,this._done=!0;for(const A of this._requests)A.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=(0,l.createResponseStatusError)(e,this._url);for(const E of this._requests)E.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){if(!this.isStreamingSupported){var E;(E=this.onProgress)===null||E===void 0||E.call(this,{loaded:e.loaded})}}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const E=this._queuedChunk;return this._queuedChunk=null,{value:E,done:!1}}if(this._done)return{value:void 0,done:!0};const e=(0,a.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const E of this._requests)E.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(i,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var a=r(1),l=r(158);function g(c,C,m){return{method:"GET",headers:c,signal:m.signal,mode:"cors",credentials:C?"include":"same-origin",redirect:"follow"}}function d(c){const C=new Headers;for(const m in c){const e=c[m];typeof e>"u"||C.append(m,e)}return C}class s{constructor(C){this.source=C,this.isHttp=/^https?:/i.test(C.url),this.httpHeaders=this.isHttp&&C.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var C,m;return(C=(m=this._fullRequestReader)===null||m===void 0?void 0:m._loaded)!==null&&C!==void 0?C:0}getFullReader(){return(0,a.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new u(this),this._fullRequestReader}getRangeReader(C,m){if(m<=this._progressiveDataLength)return null;const e=new n(this,C,m);return this._rangeRequestReaders.push(e),e}cancelAllRequests(C){this._fullRequestReader&&this._fullRequestReader.cancel(C);for(const m of this._rangeRequestReaders.slice(0))m.cancel(C)}}t.PDFFetchStream=s;class u{constructor(C){this._stream=C,this._reader=null,this._loaded=0,this._filename=null;const m=C.source;this._withCredentials=m.withCredentials||!1,this._contentLength=m.length,this._headersCapability=(0,a.createPromiseCapability)(),this._disableRange=m.disableRange||!1,this._rangeChunkSize=m.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!m.disableStream,this._isRangeSupported=!m.disableRange,this._headers=d(this._stream.httpHeaders);const e=m.url;fetch(e,g(this._headers,this._withCredentials,this._abortController)).then(E=>{if(!(0,l.validateResponseStatus)(E.status))throw(0,l.createResponseStatusError)(E.status,e);this._reader=E.body.getReader(),this._headersCapability.resolve();const A=v=>E.headers.get(v),{allowRangeRequests:B,suggestedLength:O}=(0,l.validateRangeRequestCapabilities)({getResponseHeader:A,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=B,this._contentLength=O||this._contentLength,this._filename=(0,l.extractFilenameFromHeader)(A),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new a.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:C,done:m}=await this._reader.read();return m?{value:C,done:m}:(this._loaded+=C.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(C).buffer,done:!1})}cancel(C){this._reader&&this._reader.cancel(C),this._abortController.abort()}}class n{constructor(C,m,e){this._stream=C,this._reader=null,this._loaded=0;const E=C.source;this._withCredentials=E.withCredentials||!1,this._readCapability=(0,a.createPromiseCapability)(),this._isStreamingSupported=!E.disableStream,this._abortController=new AbortController,this._headers=d(this._stream.httpHeaders),this._headers.append("Range",`bytes=${m}-${e-1}`);const A=E.url;fetch(A,g(this._headers,this._withCredentials,this._abortController)).then(B=>{if(!(0,l.validateResponseStatus)(B.status))throw(0,l.createResponseStatusError)(B.status,A);this._readCapability.resolve(),this._reader=B.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:C,done:m}=await this._reader.read();return m?{value:C,done:m}:(this._loaded+=C.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(C).buffer,done:!1})}cancel(C){this._reader&&this._reader.cancel(C),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(i){var t=__webpack_module_cache__[i];if(t!==void 0)return t.exports;var r=__webpack_module_cache__[i]={exports:{}};return __webpack_modules__[i](r,r.exports,__w_pdfjs_require__),r.exports}var __webpack_exports__={};return(()=>{var i=__webpack_exports__;Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"AnnotationEditorLayer",{enumerable:!0,get:function(){return l.AnnotationEditorLayer}}),Object.defineProperty(i,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return t.AnnotationEditorParamsType}}),Object.defineProperty(i,"AnnotationEditorType",{enumerable:!0,get:function(){return t.AnnotationEditorType}}),Object.defineProperty(i,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return g.AnnotationEditorUIManager}}),Object.defineProperty(i,"AnnotationLayer",{enumerable:!0,get:function(){return d.AnnotationLayer}}),Object.defineProperty(i,"AnnotationMode",{enumerable:!0,get:function(){return t.AnnotationMode}}),Object.defineProperty(i,"CMapCompressionType",{enumerable:!0,get:function(){return t.CMapCompressionType}}),Object.defineProperty(i,"GlobalWorkerOptions",{enumerable:!0,get:function(){return s.GlobalWorkerOptions}}),Object.defineProperty(i,"InvalidPDFException",{enumerable:!0,get:function(){return t.InvalidPDFException}}),Object.defineProperty(i,"LoopbackPort",{enumerable:!0,get:function(){return r.LoopbackPort}}),Object.defineProperty(i,"MissingPDFException",{enumerable:!0,get:function(){return t.MissingPDFException}}),Object.defineProperty(i,"OPS",{enumerable:!0,get:function(){return t.OPS}}),Object.defineProperty(i,"PDFDataRangeTransport",{enumerable:!0,get:function(){return r.PDFDataRangeTransport}}),Object.defineProperty(i,"PDFDateString",{enumerable:!0,get:function(){return a.PDFDateString}}),Object.defineProperty(i,"PDFWorker",{enumerable:!0,get:function(){return r.PDFWorker}}),Object.defineProperty(i,"PasswordResponses",{enumerable:!0,get:function(){return t.PasswordResponses}}),Object.defineProperty(i,"PermissionFlag",{enumerable:!0,get:function(){return t.PermissionFlag}}),Object.defineProperty(i,"PixelsPerInch",{enumerable:!0,get:function(){return a.PixelsPerInch}}),Object.defineProperty(i,"RenderingCancelledException",{enumerable:!0,get:function(){return a.RenderingCancelledException}}),Object.defineProperty(i,"SVGGraphics",{enumerable:!0,get:function(){return c.SVGGraphics}}),Object.defineProperty(i,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return t.UNSUPPORTED_FEATURES}}),Object.defineProperty(i,"UnexpectedResponseException",{enumerable:!0,get:function(){return t.UnexpectedResponseException}}),Object.defineProperty(i,"Util",{enumerable:!0,get:function(){return t.Util}}),Object.defineProperty(i,"VerbosityLevel",{enumerable:!0,get:function(){return t.VerbosityLevel}}),Object.defineProperty(i,"XfaLayer",{enumerable:!0,get:function(){return C.XfaLayer}}),Object.defineProperty(i,"build",{enumerable:!0,get:function(){return r.build}}),Object.defineProperty(i,"createPromiseCapability",{enumerable:!0,get:function(){return t.createPromiseCapability}}),Object.defineProperty(i,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return t.createValidAbsoluteUrl}}),Object.defineProperty(i,"getDocument",{enumerable:!0,get:function(){return r.getDocument}}),Object.defineProperty(i,"getFilenameFromUrl",{enumerable:!0,get:function(){return a.getFilenameFromUrl}}),Object.defineProperty(i,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return a.getPdfFilenameFromUrl}}),Object.defineProperty(i,"getXfaPageViewport",{enumerable:!0,get:function(){return a.getXfaPageViewport}}),Object.defineProperty(i,"isPdfFile",{enumerable:!0,get:function(){return a.isPdfFile}}),Object.defineProperty(i,"loadScript",{enumerable:!0,get:function(){return a.loadScript}}),Object.defineProperty(i,"renderTextLayer",{enumerable:!0,get:function(){return n.renderTextLayer}}),Object.defineProperty(i,"shadow",{enumerable:!0,get:function(){return t.shadow}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return r.version}});var t=__w_pdfjs_require__(1),r=__w_pdfjs_require__(129),a=__w_pdfjs_require__(133),l=__w_pdfjs_require__(147),g=__w_pdfjs_require__(132),d=__w_pdfjs_require__(152),s=__w_pdfjs_require__(140),u=__w_pdfjs_require__(3),n=__w_pdfjs_require__(155),c=__w_pdfjs_require__(156),C=__w_pdfjs_require__(154);if(u.isNodeJS){const{PDFNodeStream:m}=__w_pdfjs_require__(157);(0,r.setPDFNetworkStreamFactory)(e=>new m(e))}else{const{PDFNetworkStream:m}=__w_pdfjs_require__(160),{PDFFetchStream:e}=__w_pdfjs_require__(161);(0,r.setPDFNetworkStreamFactory)(E=>(0,a.isValidFetchUrl)(E.url)?new e(E):new m(E))}})(),__webpack_exports__})())}(pdf)),pdf.exports}var pdfExports=requirePdf(),pdf_worker_entry={},pdf_worker={exports:{}};(function(i,t){(function(a,l){i.exports=l()})(globalThis,()=>(()=>{var r=[,(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WorkerTask=s.WorkerMessageHandler=void 0;var n=u(2),c=u(130),C=u(131),m=u(133),e=u(196),E=u(190),A=u(4),B=u(227),O=u(228);class v{constructor(D){this.name=D,this.terminated=!1,this._capability=(0,n.createPromiseCapability)()}get finished(){return this._capability.promise}finish(){this._capability.resolve()}terminate(){this.terminated=!0}ensureNotTerminated(){if(this.terminated)throw new Error("Worker task was terminated")}}s.WorkerTask=v;class b{static setup(D,_){let y=!1;D.on("test",function(w){y||(y=!0,D.send("test",w instanceof Uint8Array))}),D.on("configure",function(w){(0,n.setVerbosityLevel)(w.verbosity)}),D.on("GetDocRequest",function(w){return b.createDocumentHandler(w,_)})}static createDocumentHandler(D,_){let y,P=!1,w=null;const M=[],q=(0,n.getVerbosityLevel)(),F=D.apiVersion,G="2.16.105";if(F!==G)throw new Error(`The API version "${F}" does not match the Worker version "${G}".`);const R=[];for(const H in[])R.push(H);if(R.length)throw new Error("The `Array.prototype` contains unexpected enumerable properties: "+R.join(", ")+"; thus breaking e.g. `for...in` iteration of `Array`s.");if(typeof ReadableStream>"u"){const H="The browser/environment lacks native support for critical functionality used by the PDF.js library (e.g. `ReadableStream`); ";throw A.isNodeJS?new Error(H+"please use a `legacy`-build instead."):new Error(H+"please update to a supported browser.")}const I=D.docId,L=D.docBaseUrl,x=D.docId+"_worker";let S=new B.MessageHandler(x,I,_);function W(){if(P)throw new Error("Worker was terminated")}function U(H){M.push(H)}function z(H){H.finish();const Z=M.indexOf(H);M.splice(Z,1)}async function re(H){await y.ensureDoc("checkHeader"),await y.ensureDoc("parseStartXRef"),await y.ensureDoc("parse",[H]),await y.ensureDoc("checkFirstPage",[H]),await y.ensureDoc("checkLastPage",[H]);const Z=await y.ensureDoc("isPureXfa");if(Z){const te=new v("loadXfaFonts");U(te),await Promise.all([y.loadXfaFonts(S,te).catch($=>{}).then(()=>z(te)),y.loadXfaImages()])}const[Q,V]=await Promise.all([y.ensureDoc("numPages"),y.ensureDoc("fingerprints")]),Y=Z?await y.ensureDoc("htmlForXfa"):null;return{numPages:Q,fingerprints:V,htmlForXfa:Y}}function J(H,Z,Q){const V=(0,n.createPromiseCapability)();let Y;const te=H.source;if(te.data){try{Y=new m.LocalPdfManager(I,te.data,te.password,S,Z,Q,L),V.resolve(Y)}catch(ee){V.reject(ee)}return V.promise}let $,X=[];try{$=new O.PDFWorkerStream(S)}catch(ee){return V.reject(ee),V.promise}const ne=$.getFullReader();ne.headersReady.then(function(){if(!ne.isRangeSupported)return;const ee=te.disableAutoFetch||ne.isStreamingSupported;Y=new m.NetworkPdfManager(I,$,{msgHandler:S,password:te.password,length:ne.contentLength,disableAutoFetch:ee,rangeChunkSize:te.rangeChunkSize},Z,Q,L);for(const ie of X)Y.sendProgressiveData(ie);X=[],V.resolve(Y),w=null}).catch(function(ee){V.reject(ee),w=null});let ce=0;const se=function(){const ee=(0,n.arraysToBytes)(X);te.length&&ee.length!==te.length&&(0,n.warn)("reported HTTP length is different from actual");try{Y=new m.LocalPdfManager(I,ee,te.password,S,Z,Q,L),V.resolve(Y)}catch(ie){V.reject(ie)}X=[]};return new Promise(function(ee,ie){const oe=function(le){let{value:pe,done:fe}=le;try{if(W(),fe){Y||se(),w=null;return}ce+=(0,n.arrayByteLength)(pe),ne.isStreamingSupported||S.send("DocProgress",{loaded:ce,total:Math.max(ce,ne.contentLength||0)}),Y?Y.sendProgressiveData(pe):X.push(pe),ne.read().then(oe,ie)}catch(ue){ie(ue)}};ne.read().then(oe,ie)}).catch(function(ee){V.reject(ee),w=null}),w=function(ee){$.cancelAllRequests(ee)},V.promise}function k(H){function Z(te){W(),S.send("GetDoc",{pdfInfo:te})}function Q(te){if(W(),te instanceof n.PasswordException){const $=new v(`PasswordException: response ${te.code}`);U($),S.sendWithPromise("PasswordRequest",te).then(function(X){let{password:ne}=X;z($),y.updatePassword(ne),V()}).catch(function(){z($),S.send("DocException",te)})}else te instanceof n.InvalidPDFException||te instanceof n.MissingPDFException||te instanceof n.UnexpectedResponseException||te instanceof n.UnknownErrorException?S.send("DocException",te):S.send("DocException",new n.UnknownErrorException(te.message,te.toString()))}function V(){W(),re(!1).then(Z,function(te){if(W(),!(te instanceof C.XRefParseException)){Q(te);return}y.requestLoadedStream(),y.onLoadedStream().then(function(){W(),re(!0).then(Z,Q)})})}W();const Y={maxImageSize:H.maxImageSize,disableFontFace:H.disableFontFace,ignoreErrors:H.ignoreErrors,isEvalSupported:H.isEvalSupported,fontExtraProperties:H.fontExtraProperties,useSystemFonts:H.useSystemFonts,cMapUrl:H.cMapUrl,standardFontDataUrl:H.standardFontDataUrl};J(H,Y,H.enableXfa).then(function(te){if(P)throw te.terminate(new n.AbortException("Worker was terminated.")),new Error("Worker was terminated");y=te,y.onLoadedStream().then(function($){S.send("DataLoaded",{length:$.bytes.byteLength})})}).then(V,Q)}return S.on("GetPage",function(Z){return y.getPage(Z.pageIndex).then(function(Q){return Promise.all([y.ensure(Q,"rotate"),y.ensure(Q,"ref"),y.ensure(Q,"userUnit"),y.ensure(Q,"view")]).then(function(V){let[Y,te,$,X]=V;return{rotate:Y,ref:te,userUnit:$,view:X}})})}),S.on("GetPageIndex",function(Z){const Q=c.Ref.get(Z.num,Z.gen);return y.ensureCatalog("getPageIndex",[Q])}),S.on("GetDestinations",function(Z){return y.ensureCatalog("destinations")}),S.on("GetDestination",function(Z){return y.ensureCatalog("getDestination",[Z.id])}),S.on("GetPageLabels",function(Z){return y.ensureCatalog("pageLabels")}),S.on("GetPageLayout",function(Z){return y.ensureCatalog("pageLayout")}),S.on("GetPageMode",function(Z){return y.ensureCatalog("pageMode")}),S.on("GetViewerPreferences",function(H){return y.ensureCatalog("viewerPreferences")}),S.on("GetOpenAction",function(H){return y.ensureCatalog("openAction")}),S.on("GetAttachments",function(Z){return y.ensureCatalog("attachments")}),S.on("GetJavaScript",function(Z){return y.ensureCatalog("javaScript")}),S.on("GetDocJSActions",function(Z){return y.ensureCatalog("jsActions")}),S.on("GetPageJSActions",function(H){let{pageIndex:Z}=H;return y.getPage(Z).then(function(Q){return y.ensure(Q,"jsActions")})}),S.on("GetOutline",function(Z){return y.ensureCatalog("documentOutline")}),S.on("GetOptionalContentConfig",function(H){return y.ensureCatalog("optionalContentConfig")}),S.on("GetPermissions",function(H){return y.ensureCatalog("permissions")}),S.on("GetMetadata",function(Z){return Promise.all([y.ensureDoc("documentInfo"),y.ensureCatalog("metadata")])}),S.on("GetMarkInfo",function(Z){return y.ensureCatalog("markInfo")}),S.on("GetData",function(Z){return y.requestLoadedStream(),y.onLoadedStream().then(function(Q){return Q.bytes})}),S.on("GetAnnotations",function(H){let{pageIndex:Z,intent:Q}=H;return y.getPage(Z).then(function(V){const Y=new v(`GetAnnotations: page ${Z}`);return U(Y),V.getAnnotationsData(S,Y,Q).then(te=>(z(Y),te),te=>{z(Y)})})}),S.on("GetFieldObjects",function(H){return y.ensureDoc("fieldObjects")}),S.on("HasJSActions",function(H){return y.ensureDoc("hasJSActions")}),S.on("GetCalculationOrderIds",function(H){return y.ensureDoc("calculationOrderIds")}),S.on("SaveDocument",function(H){let{isPureXfa:Z,numPages:Q,annotationStorage:V,filename:Y}=H;y.requestLoadedStream();const te=Z?null:(0,C.getNewAnnotationsMap)(V),$=[y.onLoadedStream(),y.ensureCatalog("acroForm"),y.ensureCatalog("acroFormRef"),y.ensureDoc("xref"),y.ensureDoc("startXRef")];if(te)for(const[X,ne]of te)$.push(y.getPage(X).then(ce=>{const se=new v(`Save (editor): page ${X}`);return ce.saveNewAnnotations(S,se,ne).finally(function(){z(se)})}));if(Z)$.push(y.serializeXfaData(V));else for(let X=0;X<Q;X++)$.push(y.getPage(X).then(function(ne){const ce=new v(`Save: page ${X}`);return ne.save(S,ce,V).finally(function(){z(ce)})}));return Promise.all($).then(function(X){let[ne,ce,se,K,ee,...ie]=X,oe=[],le=null;if(Z){if(le=ie[0],!le)return ne.bytes}else if(oe=ie.flat(2),oe.length===0)return ne.bytes;const pe=ce instanceof c.Dict&&ce.get("XFA")||null;let fe=null,ue=!1;if(Array.isArray(pe)){for(let he=0,xe=pe.length;he<xe;he+=2)pe[he]==="datasets"&&(fe=pe[he+1],se=null,ue=!0);fe===null&&(fe=K.getNewRef())}else pe&&(se=null,(0,n.warn)("Unsupported XFA type."));let ge=Object.create(null);if(K.trailer){const he=Object.create(null),xe=K.trailer.get("Info")||null;xe instanceof c.Dict&&xe.forEach((ye,ve)=>{typeof ve=="string"&&(he[ye]=(0,n.stringToPDFString)(ve))}),ge={rootRef:K.trailer.getRaw("Root")||null,encryptRef:K.trailer.getRaw("Encrypt")||null,newRef:K.getNewRef(),infoRef:K.trailer.getRaw("Info")||null,info:he,fileIds:K.trailer.get("ID")||null,startXRef:ee,filename:Y}}return K.resetNewRef(),(0,E.incrementalUpdate)({originalData:ne.bytes,xrefInfo:ge,newRefs:oe,xref:K,hasXfa:!!pe,xfaDatasetsRef:fe,hasXfaDatasetsEntry:ue,acroFormRef:se,acroForm:ce,xfaData:le})})}),S.on("GetOperatorList",function(Z,Q){const V=Z.pageIndex;y.getPage(V).then(function(Y){const te=new v(`GetOperatorList: page ${V}`);U(te);const $=q>=n.VerbosityLevel.INFOS?Date.now():0;Y.getOperatorList({handler:S,sink:Q,task:te,intent:Z.intent,cacheKey:Z.cacheKey,annotationStorage:Z.annotationStorage}).then(function(X){z(te),$&&(0,n.info)(`page=${V+1} - getOperatorList: time=${Date.now()-$}ms, len=${X.length}`),Q.close()},function(X){z(te),!te.terminated&&(S.send("UnsupportedFeature",{featureId:n.UNSUPPORTED_FEATURES.errorOperatorList}),Q.error(X))})})}),S.on("GetTextContent",function(Z,Q){const V=Z.pageIndex;y.getPage(V).then(function(Y){const te=new v("GetTextContent: page "+V);U(te);const $=q>=n.VerbosityLevel.INFOS?Date.now():0;Y.extractTextContent({handler:S,task:te,sink:Q,includeMarkedContent:Z.includeMarkedContent,combineTextItems:Z.combineTextItems}).then(function(){z(te),$&&(0,n.info)(`page=${V+1} - getTextContent: time=${Date.now()-$}ms`),Q.close()},function(X){z(te),!te.terminated&&Q.error(X)})})}),S.on("GetStructTree",function(Z){return y.getPage(Z.pageIndex).then(function(Q){return y.ensure(Q,"getStructTree")})}),S.on("FontFallback",function(H){return y.fontFallback(H.id,S)}),S.on("Cleanup",function(Z){return y.cleanup(!0)}),S.on("Terminate",function(Z){P=!0;const Q=[];if(y){y.terminate(new n.AbortException("Worker was terminated."));const V=y.cleanup();Q.push(V),y=null}else(0,e.clearGlobalCaches)();w&&w(new n.AbortException("Worker was terminated."));for(const V of M)Q.push(V.finished),V.terminate();return Promise.all(Q).then(function(){S.destroy(),S=null})}),S.on("Ready",function(Z){k(D),D=null}),x}static initializeFromPort(D){const _=new B.MessageHandler("worker","main",D);b.setup(_,D),_.send("ready",null)}}s.WorkerMessageHandler=b;function o(T){return typeof T.postMessage=="function"&&"onmessage"in T}typeof window>"u"&&!A.isNodeJS&&typeof self<"u"&&o(self)&&b.initializeFromPort(self)},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.VerbosityLevel=s.Util=s.UnknownErrorException=s.UnexpectedResponseException=s.UNSUPPORTED_FEATURES=s.TextRenderingMode=s.StreamType=s.RenderingIntentFlag=s.PermissionFlag=s.PasswordResponses=s.PasswordException=s.PageActionEventType=s.OPS=s.MissingPDFException=s.LINE_FACTOR=s.LINE_DESCENT_FACTOR=s.InvalidPDFException=s.ImageKind=s.IDENTITY_MATRIX=s.FormatError=s.FontType=s.FeatureTest=s.FONT_IDENTITY_MATRIX=s.DocumentActionEventType=s.CMapCompressionType=s.BaseException=s.AnnotationType=s.AnnotationStateModelType=s.AnnotationReviewState=s.AnnotationReplyType=s.AnnotationMode=s.AnnotationMarkedState=s.AnnotationFlag=s.AnnotationFieldFlag=s.AnnotationEditorType=s.AnnotationEditorPrefix=s.AnnotationEditorParamsType=s.AnnotationBorderStyleType=s.AnnotationActionEventType=s.AbortException=void 0,s.arrayByteLength=fe,s.arraysToBytes=ue,s.assert=V,s.bytesToString=le,s.createPromiseCapability=Be,s.createValidAbsoluteUrl=te,s.escapeString=Fe,s.getModificationDate=Le,s.getVerbosityLevel=k,s.info=H,s.isArrayBuffer=Me,s.isArrayEqual=Te,s.isAscii=Re,s.objectFromMap=xe,s.objectSize=he,s.setVerbosityLevel=J,s.shadow=$,s.string32=ge,s.stringToBytes=pe,s.stringToPDFString=Oe,s.stringToUTF16BEString=Ne,s.stringToUTF8String=Pe,s.unreachable=Q,s.utf8StringToString=Ie,s.warn=Z,u(3);const n=[1,0,0,1,0,0];s.IDENTITY_MATRIX=n;const c=[.001,0,0,.001,0,0];s.FONT_IDENTITY_MATRIX=c;const C=1.35;s.LINE_FACTOR=C;const m=.35;s.LINE_DESCENT_FACTOR=m;const e={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};s.RenderingIntentFlag=e;const E={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};s.AnnotationMode=E;const A="pdfjs_internal_editor_";s.AnnotationEditorPrefix=A;const B={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};s.AnnotationEditorType=B;const O={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};s.AnnotationEditorParamsType=O;const v={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};s.PermissionFlag=v;const b={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};s.TextRenderingMode=b;const o={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};s.ImageKind=o;const T={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};s.AnnotationType=T;const D={MARKED:"Marked",REVIEW:"Review"};s.AnnotationStateModelType=D;const _={MARKED:"Marked",UNMARKED:"Unmarked"};s.AnnotationMarkedState=_;const y={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};s.AnnotationReviewState=y;const P={GROUP:"Group",REPLY:"R"};s.AnnotationReplyType=P;const w={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};s.AnnotationFlag=w;const M={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};s.AnnotationFieldFlag=M;const q={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};s.AnnotationBorderStyleType=q;const F={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};s.AnnotationActionEventType=F;const G={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};s.DocumentActionEventType=G;const R={O:"PageOpen",C:"PageClose"};s.PageActionEventType=R;const I={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};s.StreamType=I;const L={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};s.FontType=L;const x={ERRORS:0,WARNINGS:1,INFOS:5};s.VerbosityLevel=x;const S={NONE:0,BINARY:1,STREAM:2};s.CMapCompressionType=S;const W={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};s.OPS=W;const U={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};s.UNSUPPORTED_FEATURES=U;const z={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};s.PasswordResponses=z;let re=x.WARNINGS;function J(Ae){Number.isInteger(Ae)&&(re=Ae)}function k(){return re}function H(Ae){re>=x.INFOS&&console.log(`Info: ${Ae}`)}function Z(Ae){re>=x.WARNINGS&&console.log(`Warning: ${Ae}`)}function Q(Ae){throw new Error(Ae)}function V(Ae,we){Ae||Q(we)}function Y(Ae){if(!Ae)return!1;switch(Ae.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function te(Ae){let we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!Ae)return null;try{if(Ce&&typeof Ae=="string"){if(Ce.addDefaultProtocol&&Ae.startsWith("www.")){const Ge=Ae.match(/\./g);Ge&&Ge.length>=2&&(Ae=`http://${Ae}`)}if(Ce.tryConvertEncoding)try{Ae=Pe(Ae)}catch{}}const De=we?new URL(Ae,we):new URL(Ae);if(Y(De))return De}catch{}return null}function $(Ae,we,Ce){return Object.defineProperty(Ae,we,{value:Ce,enumerable:!0,configurable:!0,writable:!1}),Ce}const X=function(){function we(Ce,De){this.constructor===we&&Q("Cannot initialize BaseException."),this.message=Ce,this.name=De}return we.prototype=new Error,we.constructor=we,we}();s.BaseException=X;class ne extends X{constructor(we,Ce){super(we,"PasswordException"),this.code=Ce}}s.PasswordException=ne;class ce extends X{constructor(we,Ce){super(we,"UnknownErrorException"),this.details=Ce}}s.UnknownErrorException=ce;class se extends X{constructor(we){super(we,"InvalidPDFException")}}s.InvalidPDFException=se;class K extends X{constructor(we){super(we,"MissingPDFException")}}s.MissingPDFException=K;class ee extends X{constructor(we,Ce){super(we,"UnexpectedResponseException"),this.status=Ce}}s.UnexpectedResponseException=ee;class ie extends X{constructor(we){super(we,"FormatError")}}s.FormatError=ie;class oe extends X{constructor(we){super(we,"AbortException")}}s.AbortException=oe;function le(Ae){(typeof Ae!="object"||Ae===null||Ae.length===void 0)&&Q("Invalid argument for bytesToString");const we=Ae.length,Ce=8192;if(we<Ce)return String.fromCharCode.apply(null,Ae);const De=[];for(let Ge=0;Ge<we;Ge+=Ce){const He=Math.min(Ge+Ce,we),Ze=Ae.subarray(Ge,He);De.push(String.fromCharCode.apply(null,Ze))}return De.join("")}function pe(Ae){typeof Ae!="string"&&Q("Invalid argument for stringToBytes");const we=Ae.length,Ce=new Uint8Array(we);for(let De=0;De<we;++De)Ce[De]=Ae.charCodeAt(De)&255;return Ce}function fe(Ae){if(Ae.length!==void 0)return Ae.length;if(Ae.byteLength!==void 0)return Ae.byteLength;Q("Invalid argument for arrayByteLength")}function ue(Ae){const we=Ae.length;if(we===1&&Ae[0]instanceof Uint8Array)return Ae[0];let Ce=0;for(let He=0;He<we;He++)Ce+=fe(Ae[He]);let De=0;const Ge=new Uint8Array(Ce);for(let He=0;He<we;He++){let Ze=Ae[He];Ze instanceof Uint8Array||(typeof Ze=="string"?Ze=pe(Ze):Ze=new Uint8Array(Ze));const Ye=Ze.byteLength;Ge.set(Ze,De),De+=Ye}return Ge}function ge(Ae){return String.fromCharCode(Ae>>24&255,Ae>>16&255,Ae>>8&255,Ae&255)}function he(Ae){return Object.keys(Ae).length}function xe(Ae){const we=Object.create(null);for(const[Ce,De]of Ae)we[Ce]=De;return we}function ye(){const Ae=new Uint8Array(4);return Ae[0]=1,new Uint32Array(Ae.buffer,0,1)[0]===1}function ve(){try{return new Function(""),!0}catch{return!1}}class ke{static get isLittleEndian(){return $(this,"isLittleEndian",ye())}static get isEvalSupported(){return $(this,"isEvalSupported",ve())}static get isOffscreenCanvasSupported(){return $(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}s.FeatureTest=ke;const Se=[...Array(256).keys()].map(Ae=>Ae.toString(16).padStart(2,"0"));class be{static makeHexColor(we,Ce,De){return`#${Se[we]}${Se[Ce]}${Se[De]}`}static scaleMinMax(we,Ce){let De;we[0]?(we[0]<0&&(De=Ce[0],Ce[0]=Ce[1],Ce[1]=De),Ce[0]*=we[0],Ce[1]*=we[0],we[3]<0&&(De=Ce[2],Ce[2]=Ce[3],Ce[3]=De),Ce[2]*=we[3],Ce[3]*=we[3]):(De=Ce[0],Ce[0]=Ce[2],Ce[2]=De,De=Ce[1],Ce[1]=Ce[3],Ce[3]=De,we[1]<0&&(De=Ce[2],Ce[2]=Ce[3],Ce[3]=De),Ce[2]*=we[1],Ce[3]*=we[1],we[2]<0&&(De=Ce[0],Ce[0]=Ce[1],Ce[1]=De),Ce[0]*=we[2],Ce[1]*=we[2]),Ce[0]+=we[4],Ce[1]+=we[4],Ce[2]+=we[5],Ce[3]+=we[5]}static transform(we,Ce){return[we[0]*Ce[0]+we[2]*Ce[1],we[1]*Ce[0]+we[3]*Ce[1],we[0]*Ce[2]+we[2]*Ce[3],we[1]*Ce[2]+we[3]*Ce[3],we[0]*Ce[4]+we[2]*Ce[5]+we[4],we[1]*Ce[4]+we[3]*Ce[5]+we[5]]}static applyTransform(we,Ce){const De=we[0]*Ce[0]+we[1]*Ce[2]+Ce[4],Ge=we[0]*Ce[1]+we[1]*Ce[3]+Ce[5];return[De,Ge]}static applyInverseTransform(we,Ce){const De=Ce[0]*Ce[3]-Ce[1]*Ce[2],Ge=(we[0]*Ce[3]-we[1]*Ce[2]+Ce[2]*Ce[5]-Ce[4]*Ce[3])/De,He=(-we[0]*Ce[1]+we[1]*Ce[0]+Ce[4]*Ce[1]-Ce[5]*Ce[0])/De;return[Ge,He]}static getAxialAlignedBoundingBox(we,Ce){const De=be.applyTransform(we,Ce),Ge=be.applyTransform(we.slice(2,4),Ce),He=be.applyTransform([we[0],we[3]],Ce),Ze=be.applyTransform([we[2],we[1]],Ce);return[Math.min(De[0],Ge[0],He[0],Ze[0]),Math.min(De[1],Ge[1],He[1],Ze[1]),Math.max(De[0],Ge[0],He[0],Ze[0]),Math.max(De[1],Ge[1],He[1],Ze[1])]}static inverseTransform(we){const Ce=we[0]*we[3]-we[1]*we[2];return[we[3]/Ce,-we[1]/Ce,-we[2]/Ce,we[0]/Ce,(we[2]*we[5]-we[4]*we[3])/Ce,(we[4]*we[1]-we[5]*we[0])/Ce]}static apply3dTransform(we,Ce){return[we[0]*Ce[0]+we[1]*Ce[1]+we[2]*Ce[2],we[3]*Ce[0]+we[4]*Ce[1]+we[5]*Ce[2],we[6]*Ce[0]+we[7]*Ce[1]+we[8]*Ce[2]]}static singularValueDecompose2dScale(we){const Ce=[we[0],we[2],we[1],we[3]],De=we[0]*Ce[0]+we[1]*Ce[2],Ge=we[0]*Ce[1]+we[1]*Ce[3],He=we[2]*Ce[0]+we[3]*Ce[2],Ze=we[2]*Ce[1]+we[3]*Ce[3],Ye=(De+Ze)/2,je=Math.sqrt((De+Ze)**2-4*(De*Ze-He*Ge))/2,it=Ye+je||1,dt=Ye-je||1;return[Math.sqrt(it),Math.sqrt(dt)]}static normalizeRect(we){const Ce=we.slice(0);return we[0]>we[2]&&(Ce[0]=we[2],Ce[2]=we[0]),we[1]>we[3]&&(Ce[1]=we[3],Ce[3]=we[1]),Ce}static intersect(we,Ce){const De=Math.max(Math.min(we[0],we[2]),Math.min(Ce[0],Ce[2])),Ge=Math.min(Math.max(we[0],we[2]),Math.max(Ce[0],Ce[2]));if(De>Ge)return null;const He=Math.max(Math.min(we[1],we[3]),Math.min(Ce[1],Ce[3])),Ze=Math.min(Math.max(we[1],we[3]),Math.max(Ce[1],Ce[3]));return He>Ze?null:[De,He,Ge,Ze]}static bezierBoundingBox(we,Ce,De,Ge,He,Ze,Ye,je){const it=[],dt=[[],[]];let ze,lt,ot,ft,St,Et,pt,Ht;for(let tt=0;tt<2;++tt){if(tt===0?(lt=6*we-12*De+6*He,ze=-3*we+9*De-9*He+3*Ye,ot=3*De-3*we):(lt=6*Ce-12*Ge+6*Ze,ze=-3*Ce+9*Ge-9*Ze+3*je,ot=3*Ge-3*Ce),Math.abs(ze)<1e-12){if(Math.abs(lt)<1e-12)continue;ft=-ot/lt,0<ft&&ft<1&&it.push(ft);continue}pt=lt*lt-4*ot*ze,Ht=Math.sqrt(pt),!(pt<0)&&(St=(-lt+Ht)/(2*ze),0<St&&St<1&&it.push(St),Et=(-lt-Ht)/(2*ze),0<Et&&Et<1&&it.push(Et))}let Qe=it.length,qe;const rt=Qe;for(;Qe--;)ft=it[Qe],qe=1-ft,dt[0][Qe]=qe*qe*qe*we+3*qe*qe*ft*De+3*qe*ft*ft*He+ft*ft*ft*Ye,dt[1][Qe]=qe*qe*qe*Ce+3*qe*qe*ft*Ge+3*qe*ft*ft*Ze+ft*ft*ft*je;return dt[0][rt]=we,dt[1][rt]=Ce,dt[0][rt+1]=Ye,dt[1][rt+1]=je,dt[0].length=dt[1].length=rt+2,[Math.min(...dt[0]),Math.min(...dt[1]),Math.max(...dt[0]),Math.max(...dt[1])]}}s.Util=be;const Ee=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Oe(Ae){if(Ae[0]>="\xEF"){let Ce;if(Ae[0]==="\xFE"&&Ae[1]==="\xFF"?Ce="utf-16be":Ae[0]==="\xFF"&&Ae[1]==="\xFE"?Ce="utf-16le":Ae[0]==="\xEF"&&Ae[1]==="\xBB"&&Ae[2]==="\xBF"&&(Ce="utf-8"),Ce)try{const De=new TextDecoder(Ce,{fatal:!0}),Ge=pe(Ae);return De.decode(Ge)}catch(De){Z(`stringToPDFString: "${De}".`)}}const we=[];for(let Ce=0,De=Ae.length;Ce<De;Ce++){const Ge=Ee[Ae.charCodeAt(Ce)];we.push(Ge?String.fromCharCode(Ge):Ae.charAt(Ce))}return we.join("")}function Fe(Ae){return Ae.replace(/([()\\\n\r])/g,we=>we===`
`?"\\n":we==="\r"?"\\r":`\\${we}`)}function Re(Ae){return/^[\x00-\x7F]*$/.test(Ae)}function Ne(Ae){const we=["\xFE\xFF"];for(let Ce=0,De=Ae.length;Ce<De;Ce++){const Ge=Ae.charCodeAt(Ce);we.push(String.fromCharCode(Ge>>8&255),String.fromCharCode(Ge&255))}return we.join("")}function Pe(Ae){return decodeURIComponent(escape(Ae))}function Ie(Ae){return unescape(encodeURIComponent(Ae))}function Me(Ae){return typeof Ae=="object"&&Ae!==null&&Ae.byteLength!==void 0}function Te(Ae,we){if(Ae.length!==we.length)return!1;for(let Ce=0,De=Ae.length;Ce<De;Ce++)if(Ae[Ce]!==we[Ce])return!1;return!0}function Le(){let Ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date;return[Ae.getUTCFullYear().toString(),(Ae.getUTCMonth()+1).toString().padStart(2,"0"),Ae.getUTCDate().toString().padStart(2,"0"),Ae.getUTCHours().toString().padStart(2,"0"),Ae.getUTCMinutes().toString().padStart(2,"0"),Ae.getUTCSeconds().toString().padStart(2,"0")].join("")}function Be(){const Ae=Object.create(null);let we=!1;return Object.defineProperty(Ae,"settled",{get(){return we}}),Ae.promise=new Promise(function(Ce,De){Ae.resolve=function(Ge){we=!0,Ce(Ge)},Ae.reject=function(Ge){we=!0,De(Ge)}}),Ae}},(d,s,u)=>{var n=u(4);globalThis._pdfjsCompatibilityChecked||(globalThis._pdfjsCompatibilityChecked=!0,function(){globalThis.btoa||!n.isNodeJS||(globalThis.btoa=function(C){return Buffer.from(C,"binary").toString("base64")})}(),function(){globalThis.atob||!n.isNodeJS||(globalThis.atob=function(C){return Buffer.from(C,"base64").toString("binary")})}(),function(){globalThis.DOMMatrix||!n.isNodeJS||(globalThis.DOMMatrix=requireDommatrix())}(),function(){globalThis.ReadableStream||!n.isNodeJS||(globalThis.ReadableStream=requirePonyfill().ReadableStream)}(),function(){Array.prototype.at||u(5)}(),function(){Uint8Array.prototype.at||u(77)}(),function(){globalThis.structuredClone||u(87)}())},(d,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.isNodeJS=void 0;const u=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");s.isNodeJS=u},(d,s,u)=>{u(6);var n=u(76);d.exports=n("Array","at")},(d,s,u)=>{var n=u(7),c=u(42),C=u(66),m=u(64),e=u(71);n({target:"Array",proto:!0},{at:function(A){var B=c(this),O=C(B),v=m(A),b=v>=0?v:O+v;return b<0||b>=O?void 0:B[b]}}),e("at")},(d,s,u)=>{var n=u(8),c=u(9).f,C=u(46),m=u(50),e=u(40),E=u(58),A=u(70);d.exports=function(B,O){var v=B.target,b=B.global,o=B.stat,T,D,_,y,P,w;if(b?D=n:o?D=n[v]||e(v,{}):D=(n[v]||{}).prototype,D)for(_ in O){if(P=O[_],B.dontCallGetSet?(w=c(D,_),y=w&&w.value):y=D[_],T=A(b?_:v+(o?".":"#")+_,B.forced),!T&&y!==void 0){if(typeof P==typeof y)continue;E(P,y)}(B.sham||y&&y.sham)&&C(P,"sham",!0),m(D,_,P,B)}}},d=>{var s=function(u){return u&&u.Math==Math&&u};d.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof commonjsGlobal$1=="object"&&commonjsGlobal$1)||function(){return this}()||Function("return this")()},(d,s,u)=>{var n=u(10),c=u(12),C=u(14),m=u(15),e=u(16),E=u(21),A=u(41),B=u(44),O=Object.getOwnPropertyDescriptor;s.f=n?O:function(b,o){if(b=e(b),o=E(o),B)try{return O(b,o)}catch{}if(A(b,o))return m(!c(C.f,b,o),b[o])}},(d,s,u)=>{var n=u(11);d.exports=!n(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},d=>{d.exports=function(s){try{return!!s()}catch{return!0}}},(d,s,u)=>{var n=u(13),c=Function.prototype.call;d.exports=n?c.bind(c):function(){return c.apply(c,arguments)}},(d,s,u)=>{var n=u(11);d.exports=!n(function(){var c=function(){}.bind();return typeof c!="function"||c.hasOwnProperty("prototype")})},(d,s)=>{var u={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,c=n&&!u.call({1:2},1);s.f=c?function(m){var e=n(this,m);return!!e&&e.enumerable}:u},d=>{d.exports=function(s,u){return{enumerable:!(s&1),configurable:!(s&2),writable:!(s&4),value:u}}},(d,s,u)=>{var n=u(17),c=u(20);d.exports=function(C){return n(c(C))}},(d,s,u)=>{var n=u(18),c=u(11),C=u(19),m=Object,e=n("".split);d.exports=c(function(){return!m("z").propertyIsEnumerable(0)})?function(E){return C(E)=="String"?e(E,""):m(E)}:m},(d,s,u)=>{var n=u(13),c=Function.prototype,C=c.bind,m=c.call,e=n&&C.bind(m,m);d.exports=n?function(E){return E&&e(E)}:function(E){return E&&function(){return m.apply(E,arguments)}}},(d,s,u)=>{var n=u(18),c=n({}.toString),C=n("".slice);d.exports=function(m){return C(c(m),8,-1)}},d=>{var s=TypeError;d.exports=function(u){if(u==null)throw s("Can't call method on "+u);return u}},(d,s,u)=>{var n=u(22),c=u(25);d.exports=function(C){var m=n(C,"string");return c(m)?m:m+""}},(d,s,u)=>{var n=u(12),c=u(23),C=u(25),m=u(32),e=u(35),E=u(36),A=TypeError,B=E("toPrimitive");d.exports=function(O,v){if(!c(O)||C(O))return O;var b=m(O,B),o;if(b){if(v===void 0&&(v="default"),o=n(b,O,v),!c(o)||C(o))return o;throw A("Can't convert object to primitive value")}return v===void 0&&(v="number"),e(O,v)}},(d,s,u)=>{var n=u(24);d.exports=function(c){return typeof c=="object"?c!==null:n(c)}},d=>{d.exports=function(s){return typeof s=="function"}},(d,s,u)=>{var n=u(26),c=u(24),C=u(27),m=u(28),e=Object;d.exports=m?function(E){return typeof E=="symbol"}:function(E){var A=n("Symbol");return c(A)&&C(A.prototype,e(E))}},(d,s,u)=>{var n=u(8),c=u(24),C=function(m){return c(m)?m:void 0};d.exports=function(m,e){return arguments.length<2?C(n[m]):n[m]&&n[m][e]}},(d,s,u)=>{var n=u(18);d.exports=n({}.isPrototypeOf)},(d,s,u)=>{var n=u(29);d.exports=n&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},(d,s,u)=>{var n=u(30),c=u(11);d.exports=!!Object.getOwnPropertySymbols&&!c(function(){var C=Symbol();return!String(C)||!(Object(C)instanceof Symbol)||!Symbol.sham&&n&&n<41})},(d,s,u)=>{var n=u(8),c=u(31),C=n.process,m=n.Deno,e=C&&C.versions||m&&m.version,E=e&&e.v8,A,B;E&&(A=E.split("."),B=A[0]>0&&A[0]<4?1:+(A[0]+A[1])),!B&&c&&(A=c.match(/Edge\/(\d+)/),(!A||A[1]>=74)&&(A=c.match(/Chrome\/(\d+)/),A&&(B=+A[1]))),d.exports=B},(d,s,u)=>{var n=u(26);d.exports=n("navigator","userAgent")||""},(d,s,u)=>{var n=u(33);d.exports=function(c,C){var m=c[C];return m==null?void 0:n(m)}},(d,s,u)=>{var n=u(24),c=u(34),C=TypeError;d.exports=function(m){if(n(m))return m;throw C(c(m)+" is not a function")}},d=>{var s=String;d.exports=function(u){try{return s(u)}catch{return"Object"}}},(d,s,u)=>{var n=u(12),c=u(24),C=u(23),m=TypeError;d.exports=function(e,E){var A,B;if(E==="string"&&c(A=e.toString)&&!C(B=n(A,e))||c(A=e.valueOf)&&!C(B=n(A,e))||E!=="string"&&c(A=e.toString)&&!C(B=n(A,e)))return B;throw m("Can't convert object to primitive value")}},(d,s,u)=>{var n=u(8),c=u(37),C=u(41),m=u(43),e=u(29),E=u(28),A=c("wks"),B=n.Symbol,O=B&&B.for,v=E?B:B&&B.withoutSetter||m;d.exports=function(b){if(!C(A,b)||!(e||typeof A[b]=="string")){var o="Symbol."+b;e&&C(B,b)?A[b]=B[b]:E&&O?A[b]=O(o):A[b]=v(o)}return A[b]}},(d,s,u)=>{var n=u(38),c=u(39);(d.exports=function(C,m){return c[C]||(c[C]=m!==void 0?m:{})})("versions",[]).push({version:"3.24.1",mode:n?"pure":"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.24.1/LICENSE",source:"https://github.com/zloirock/core-js"})},d=>{d.exports=!1},(d,s,u)=>{var n=u(8),c=u(40),C="__core-js_shared__",m=n[C]||c(C,{});d.exports=m},(d,s,u)=>{var n=u(8),c=Object.defineProperty;d.exports=function(C,m){try{c(n,C,{value:m,configurable:!0,writable:!0})}catch{n[C]=m}return m}},(d,s,u)=>{var n=u(18),c=u(42),C=n({}.hasOwnProperty);d.exports=Object.hasOwn||function(e,E){return C(c(e),E)}},(d,s,u)=>{var n=u(20),c=Object;d.exports=function(C){return c(n(C))}},(d,s,u)=>{var n=u(18),c=0,C=Math.random(),m=n(1 .toString);d.exports=function(e){return"Symbol("+(e===void 0?"":e)+")_"+m(++c+C,36)}},(d,s,u)=>{var n=u(10),c=u(11),C=u(45);d.exports=!n&&!c(function(){return Object.defineProperty(C("div"),"a",{get:function(){return 7}}).a!=7})},(d,s,u)=>{var n=u(8),c=u(23),C=n.document,m=c(C)&&c(C.createElement);d.exports=function(e){return m?C.createElement(e):{}}},(d,s,u)=>{var n=u(10),c=u(47),C=u(15);d.exports=n?function(m,e,E){return c.f(m,e,C(1,E))}:function(m,e,E){return m[e]=E,m}},(d,s,u)=>{var n=u(10),c=u(44),C=u(48),m=u(49),e=u(21),E=TypeError,A=Object.defineProperty,B=Object.getOwnPropertyDescriptor,O="enumerable",v="configurable",b="writable";s.f=n?C?function(T,D,_){if(m(T),D=e(D),m(_),typeof T=="function"&&D==="prototype"&&"value"in _&&b in _&&!_[b]){var y=B(T,D);y&&y[b]&&(T[D]=_.value,_={configurable:v in _?_[v]:y[v],enumerable:O in _?_[O]:y[O],writable:!1})}return A(T,D,_)}:A:function(T,D,_){if(m(T),D=e(D),m(_),c)try{return A(T,D,_)}catch{}if("get"in _||"set"in _)throw E("Accessors not supported");return"value"in _&&(T[D]=_.value),T}},(d,s,u)=>{var n=u(10),c=u(11);d.exports=n&&c(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},(d,s,u)=>{var n=u(23),c=String,C=TypeError;d.exports=function(m){if(n(m))return m;throw C(c(m)+" is not an object")}},(d,s,u)=>{var n=u(24),c=u(47),C=u(51),m=u(40);d.exports=function(e,E,A,B){B||(B={});var O=B.enumerable,v=B.name!==void 0?B.name:E;if(n(A)&&C(A,v,B),B.global)O?e[E]=A:m(E,A);else{try{B.unsafe?e[E]&&(O=!0):delete e[E]}catch{}O?e[E]=A:c.f(e,E,{value:A,enumerable:!1,configurable:!B.nonConfigurable,writable:!B.nonWritable})}return e}},(d,s,u)=>{var n=u(11),c=u(24),C=u(41),m=u(10),e=u(52).CONFIGURABLE,E=u(53),A=u(54),B=A.enforce,O=A.get,v=Object.defineProperty,b=m&&!n(function(){return v(function(){},"length",{value:8}).length!==8}),o=String(String).split("String"),T=d.exports=function(D,_,y){String(_).slice(0,7)==="Symbol("&&(_="["+String(_).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),y&&y.getter&&(_="get "+_),y&&y.setter&&(_="set "+_),(!C(D,"name")||e&&D.name!==_)&&(m?v(D,"name",{value:_,configurable:!0}):D.name=_),b&&y&&C(y,"arity")&&D.length!==y.arity&&v(D,"length",{value:y.arity});try{y&&C(y,"constructor")&&y.constructor?m&&v(D,"prototype",{writable:!1}):D.prototype&&(D.prototype=void 0)}catch{}var P=B(D);return C(P,"source")||(P.source=o.join(typeof _=="string"?_:"")),D};Function.prototype.toString=T(function(){return c(this)&&O(this).source||E(this)},"toString")},(d,s,u)=>{var n=u(10),c=u(41),C=Function.prototype,m=n&&Object.getOwnPropertyDescriptor,e=c(C,"name"),E=e&&function(){}.name==="something",A=e&&(!n||n&&m(C,"name").configurable);d.exports={EXISTS:e,PROPER:E,CONFIGURABLE:A}},(d,s,u)=>{var n=u(18),c=u(24),C=u(39),m=n(Function.toString);c(C.inspectSource)||(C.inspectSource=function(e){return m(e)}),d.exports=C.inspectSource},(d,s,u)=>{var n=u(55),c=u(8),C=u(18),m=u(23),e=u(46),E=u(41),A=u(39),B=u(56),O=u(57),v="Object already initialized",b=c.TypeError,o=c.WeakMap,T,D,_,y=function(R){return _(R)?D(R):T(R,{})},P=function(R){return function(I){var L;if(!m(I)||(L=D(I)).type!==R)throw b("Incompatible receiver, "+R+" required");return L}};if(n||A.state){var w=A.state||(A.state=new o),M=C(w.get),q=C(w.has),F=C(w.set);T=function(R,I){if(q(w,R))throw new b(v);return I.facade=R,F(w,R,I),I},D=function(R){return M(w,R)||{}},_=function(R){return q(w,R)}}else{var G=B("state");O[G]=!0,T=function(R,I){if(E(R,G))throw new b(v);return I.facade=R,e(R,G,I),I},D=function(R){return E(R,G)?R[G]:{}},_=function(R){return E(R,G)}}d.exports={set:T,get:D,has:_,enforce:y,getterFor:P}},(d,s,u)=>{var n=u(8),c=u(24),C=u(53),m=n.WeakMap;d.exports=c(m)&&/native code/.test(C(m))},(d,s,u)=>{var n=u(37),c=u(43),C=n("keys");d.exports=function(m){return C[m]||(C[m]=c(m))}},d=>{d.exports={}},(d,s,u)=>{var n=u(41),c=u(59),C=u(9),m=u(47);d.exports=function(e,E,A){for(var B=c(E),O=m.f,v=C.f,b=0;b<B.length;b++){var o=B[b];!n(e,o)&&!(A&&n(A,o))&&O(e,o,v(E,o))}}},(d,s,u)=>{var n=u(26),c=u(18),C=u(60),m=u(69),e=u(49),E=c([].concat);d.exports=n("Reflect","ownKeys")||function(B){var O=C.f(e(B)),v=m.f;return v?E(O,v(B)):O}},(d,s,u)=>{var n=u(61),c=u(68),C=c.concat("length","prototype");s.f=Object.getOwnPropertyNames||function(e){return n(e,C)}},(d,s,u)=>{var n=u(18),c=u(41),C=u(16),m=u(62).indexOf,e=u(57),E=n([].push);d.exports=function(A,B){var O=C(A),v=0,b=[],o;for(o in O)!c(e,o)&&c(O,o)&&E(b,o);for(;B.length>v;)c(O,o=B[v++])&&(~m(b,o)||E(b,o));return b}},(d,s,u)=>{var n=u(16),c=u(63),C=u(66),m=function(e){return function(E,A,B){var O=n(E),v=C(O),b=c(B,v),o;if(e&&A!=A){for(;v>b;)if(o=O[b++],o!=o)return!0}else for(;v>b;b++)if((e||b in O)&&O[b]===A)return e||b||0;return!e&&-1}};d.exports={includes:m(!0),indexOf:m(!1)}},(d,s,u)=>{var n=u(64),c=Math.max,C=Math.min;d.exports=function(m,e){var E=n(m);return E<0?c(E+e,0):C(E,e)}},(d,s,u)=>{var n=u(65);d.exports=function(c){var C=+c;return C!==C||C===0?0:n(C)}},d=>{var s=Math.ceil,u=Math.floor;d.exports=Math.trunc||function(c){var C=+c;return(C>0?u:s)(C)}},(d,s,u)=>{var n=u(67);d.exports=function(c){return n(c.length)}},(d,s,u)=>{var n=u(64),c=Math.min;d.exports=function(C){return C>0?c(n(C),9007199254740991):0}},d=>{d.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(d,s)=>{s.f=Object.getOwnPropertySymbols},(d,s,u)=>{var n=u(11),c=u(24),C=/#|\.prototype\./,m=function(O,v){var b=E[e(O)];return b==B?!0:b==A?!1:c(v)?n(v):!!v},e=m.normalize=function(O){return String(O).replace(C,".").toLowerCase()},E=m.data={},A=m.NATIVE="N",B=m.POLYFILL="P";d.exports=m},(d,s,u)=>{var n=u(36),c=u(72),C=u(47).f,m=n("unscopables"),e=Array.prototype;e[m]==null&&C(e,m,{configurable:!0,value:c(null)}),d.exports=function(E){e[m][E]=!0}},(d,s,u)=>{var n=u(49),c=u(73),C=u(68),m=u(57),e=u(75),E=u(45),A=u(56),B=">",O="<",v="prototype",b="script",o=A("IE_PROTO"),T=function(){},D=function(M){return O+b+B+M+O+"/"+b+B},_=function(M){M.write(D("")),M.close();var q=M.parentWindow.Object;return M=null,q},y=function(){var M=E("iframe"),q="java"+b+":",F;return M.style.display="none",e.appendChild(M),M.src=String(q),F=M.contentWindow.document,F.open(),F.write(D("document.F=Object")),F.close(),F.F},P,w=function(){try{P=new ActiveXObject("htmlfile")}catch{}w=typeof document<"u"?document.domain&&P?_(P):y():_(P);for(var M=C.length;M--;)delete w[v][C[M]];return w()};m[o]=!0,d.exports=Object.create||function(q,F){var G;return q!==null?(T[v]=n(q),G=new T,T[v]=null,G[o]=q):G=w(),F===void 0?G:c.f(G,F)}},(d,s,u)=>{var n=u(10),c=u(48),C=u(47),m=u(49),e=u(16),E=u(74);s.f=n&&!c?Object.defineProperties:function(B,O){m(B);for(var v=e(O),b=E(O),o=b.length,T=0,D;o>T;)C.f(B,D=b[T++],v[D]);return B}},(d,s,u)=>{var n=u(61),c=u(68);d.exports=Object.keys||function(m){return n(m,c)}},(d,s,u)=>{var n=u(26);d.exports=n("document","documentElement")},(d,s,u)=>{var n=u(8),c=u(18);d.exports=function(C,m){return c(n[C].prototype[m])}},(d,s,u)=>{u(78)},(d,s,u)=>{var n=u(79),c=u(66),C=u(64),m=n.aTypedArray,e=n.exportTypedArrayMethod;e("at",function(A){var B=m(this),O=c(B),v=C(A),b=v>=0?v:O+v;return b<0||b>=O?void 0:B[b]})},(d,s,u)=>{var n=u(80),c=u(10),C=u(8),m=u(24),e=u(23),E=u(41),A=u(81),B=u(34),O=u(46),v=u(50),b=u(47).f,o=u(27),T=u(83),D=u(85),_=u(36),y=u(43),P=u(54),w=P.enforce,M=P.get,q=C.Int8Array,F=q&&q.prototype,G=C.Uint8ClampedArray,R=G&&G.prototype,I=q&&T(q),L=F&&T(F),x=Object.prototype,S=C.TypeError,W=_("toStringTag"),U=y("TYPED_ARRAY_TAG"),z="TypedArrayConstructor",re=n&&!!D&&A(C.opera)!=="Opera",J=!1,k,H,Z,Q={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},V={BigInt64Array:8,BigUint64Array:8},Y=function(ee){if(!e(ee))return!1;var ie=A(ee);return ie==="DataView"||E(Q,ie)||E(V,ie)},te=function(K){var ee=T(K);if(!!e(ee)){var ie=M(ee);return ie&&E(ie,z)?ie[z]:te(ee)}},$=function(K){if(!e(K))return!1;var ee=A(K);return E(Q,ee)||E(V,ee)},X=function(K){if($(K))return K;throw S("Target is not a typed array")},ne=function(K){if(m(K)&&(!D||o(I,K)))return K;throw S(B(K)+" is not a typed array constructor")},ce=function(K,ee,ie,oe){if(!!c){if(ie)for(var le in Q){var pe=C[le];if(pe&&E(pe.prototype,K))try{delete pe.prototype[K]}catch{try{pe.prototype[K]=ee}catch{}}}(!L[K]||ie)&&v(L,K,ie?ee:re&&F[K]||ee,oe)}},se=function(K,ee,ie){var oe,le;if(!!c){if(D){if(ie){for(oe in Q)if(le=C[oe],le&&E(le,K))try{delete le[K]}catch{}}if(!I[K]||ie)try{return v(I,K,ie?ee:re&&I[K]||ee)}catch{}else return}for(oe in Q)le=C[oe],le&&(!le[K]||ie)&&v(le,K,ee)}};for(k in Q)H=C[k],Z=H&&H.prototype,Z?w(Z)[z]=H:re=!1;for(k in V)H=C[k],Z=H&&H.prototype,Z&&(w(Z)[z]=H);if((!re||!m(I)||I===Function.prototype)&&(I=function(){throw S("Incorrect invocation")},re))for(k in Q)C[k]&&D(C[k],I);if((!re||!L||L===x)&&(L=I.prototype,re))for(k in Q)C[k]&&D(C[k].prototype,L);if(re&&T(R)!==L&&D(R,L),c&&!E(L,W)){J=!0,b(L,W,{get:function(){return e(this)?this[U]:void 0}});for(k in Q)C[k]&&O(C[k],U,k)}d.exports={NATIVE_ARRAY_BUFFER_VIEWS:re,TYPED_ARRAY_TAG:J&&U,aTypedArray:X,aTypedArrayConstructor:ne,exportTypedArrayMethod:ce,exportTypedArrayStaticMethod:se,getTypedArrayConstructor:te,isView:Y,isTypedArray:$,TypedArray:I,TypedArrayPrototype:L}},d=>{d.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},(d,s,u)=>{var n=u(82),c=u(24),C=u(19),m=u(36),e=m("toStringTag"),E=Object,A=C(function(){return arguments}())=="Arguments",B=function(O,v){try{return O[v]}catch{}};d.exports=n?C:function(O){var v,b,o;return O===void 0?"Undefined":O===null?"Null":typeof(b=B(v=E(O),e))=="string"?b:A?C(v):(o=C(v))=="Object"&&c(v.callee)?"Arguments":o}},(d,s,u)=>{var n=u(36),c=n("toStringTag"),C={};C[c]="z",d.exports=String(C)==="[object z]"},(d,s,u)=>{var n=u(41),c=u(24),C=u(42),m=u(56),e=u(84),E=m("IE_PROTO"),A=Object,B=A.prototype;d.exports=e?A.getPrototypeOf:function(O){var v=C(O);if(n(v,E))return v[E];var b=v.constructor;return c(b)&&v instanceof b?b.prototype:v instanceof A?B:null}},(d,s,u)=>{var n=u(11);d.exports=!n(function(){function c(){}return c.prototype.constructor=null,Object.getPrototypeOf(new c)!==c.prototype})},(d,s,u)=>{var n=u(18),c=u(49),C=u(86);d.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var m=!1,e={},E;try{E=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),E(e,[]),m=e instanceof Array}catch{}return function(B,O){return c(B),C(O),m?E(B,O):B.__proto__=O,B}}():void 0)},(d,s,u)=>{var n=u(24),c=String,C=TypeError;d.exports=function(m){if(typeof m=="object"||n(m))return m;throw C("Can't set "+c(m)+" as a prototype")}},(d,s,u)=>{u(88),u(94),u(96),u(118),u(120);var n=u(129);d.exports=n.structuredClone},(d,s,u)=>{var n=u(16),c=u(71),C=u(89),m=u(54),e=u(47).f,E=u(90),A=u(38),B=u(10),O="Array Iterator",v=m.set,b=m.getterFor(O);d.exports=E(Array,"Array",function(T,D){v(this,{type:O,target:n(T),index:0,kind:D})},function(){var T=b(this),D=T.target,_=T.kind,y=T.index++;return!D||y>=D.length?(T.target=void 0,{value:void 0,done:!0}):_=="keys"?{value:y,done:!1}:_=="values"?{value:D[y],done:!1}:{value:[y,D[y]],done:!1}},"values");var o=C.Arguments=C.Array;if(c("keys"),c("values"),c("entries"),!A&&B&&o.name!=="values")try{e(o,"name",{value:"values"})}catch{}},d=>{d.exports={}},(d,s,u)=>{var n=u(7),c=u(12),C=u(38),m=u(52),e=u(24),E=u(91),A=u(83),B=u(85),O=u(93),v=u(46),b=u(50),o=u(36),T=u(89),D=u(92),_=m.PROPER,y=m.CONFIGURABLE,P=D.IteratorPrototype,w=D.BUGGY_SAFARI_ITERATORS,M=o("iterator"),q="keys",F="values",G="entries",R=function(){return this};d.exports=function(I,L,x,S,W,U,z){E(x,L,S);var re=function(X){if(X===W&&Q)return Q;if(!w&&X in H)return H[X];switch(X){case q:return function(){return new x(this,X)};case F:return function(){return new x(this,X)};case G:return function(){return new x(this,X)}}return function(){return new x(this)}},J=L+" Iterator",k=!1,H=I.prototype,Z=H[M]||H["@@iterator"]||W&&H[W],Q=!w&&Z||re(W),V=L=="Array"&&H.entries||Z,Y,te,$;if(V&&(Y=A(V.call(new I)),Y!==Object.prototype&&Y.next&&(!C&&A(Y)!==P&&(B?B(Y,P):e(Y[M])||b(Y,M,R)),O(Y,J,!0,!0),C&&(T[J]=R))),_&&W==F&&Z&&Z.name!==F&&(!C&&y?v(H,"name",F):(k=!0,Q=function(){return c(Z,this)})),W)if(te={values:re(F),keys:U?Q:re(q),entries:re(G)},z)for($ in te)(w||k||!($ in H))&&b(H,$,te[$]);else n({target:L,proto:!0,forced:w||k},te);return(!C||z)&&H[M]!==Q&&b(H,M,Q,{name:W}),T[L]=Q,te}},(d,s,u)=>{var n=u(92).IteratorPrototype,c=u(72),C=u(15),m=u(93),e=u(89),E=function(){return this};d.exports=function(A,B,O,v){var b=B+" Iterator";return A.prototype=c(n,{next:C(+!v,O)}),m(A,b,!1,!0),e[b]=E,A}},(d,s,u)=>{var n=u(11),c=u(24),C=u(72),m=u(83),e=u(50),E=u(36),A=u(38),B=E("iterator"),O=!1,v,b,o;[].keys&&(o=[].keys(),"next"in o?(b=m(m(o)),b!==Object.prototype&&(v=b)):O=!0);var T=v==null||n(function(){var D={};return v[B].call(D)!==D});T?v={}:A&&(v=C(v)),c(v[B])||e(v,B,function(){return this}),d.exports={IteratorPrototype:v,BUGGY_SAFARI_ITERATORS:O}},(d,s,u)=>{var n=u(47).f,c=u(41),C=u(36),m=C("toStringTag");d.exports=function(e,E,A){e&&!A&&(e=e.prototype),e&&!c(e,m)&&n(e,m,{configurable:!0,value:E})}},(d,s,u)=>{var n=u(82),c=u(50),C=u(95);n||c(Object.prototype,"toString",C,{unsafe:!0})},(d,s,u)=>{var n=u(82),c=u(81);d.exports=n?{}.toString:function(){return"[object "+c(this)+"]"}},(d,s,u)=>{u(97)},(d,s,u)=>{var n=u(98),c=u(115);n("Map",function(C){return function(){return C(this,arguments.length?arguments[0]:void 0)}},c)},(d,s,u)=>{var n=u(7),c=u(8),C=u(18),m=u(70),e=u(50),E=u(99),A=u(106),B=u(112),O=u(24),v=u(23),b=u(11),o=u(113),T=u(93),D=u(114);d.exports=function(_,y,P){var w=_.indexOf("Map")!==-1,M=_.indexOf("Weak")!==-1,q=w?"set":"add",F=c[_],G=F&&F.prototype,R=F,I={},L=function(J){var k=C(G[J]);e(G,J,J=="add"?function(Z){return k(this,Z===0?0:Z),this}:J=="delete"?function(H){return M&&!v(H)?!1:k(this,H===0?0:H)}:J=="get"?function(Z){return M&&!v(Z)?void 0:k(this,Z===0?0:Z)}:J=="has"?function(Z){return M&&!v(Z)?!1:k(this,Z===0?0:Z)}:function(Z,Q){return k(this,Z===0?0:Z,Q),this})},x=m(_,!O(F)||!(M||G.forEach&&!b(function(){new F().entries().next()})));if(x)R=P.getConstructor(y,_,w,q),E.enable();else if(m(_,!0)){var S=new R,W=S[q](M?{}:-0,1)!=S,U=b(function(){S.has(1)}),z=o(function(J){new F(J)}),re=!M&&b(function(){for(var J=new F,k=5;k--;)J[q](k,k);return!J.has(-0)});z||(R=y(function(J,k){B(J,G);var H=D(new F,J,R);return k!=null&&A(k,H[q],{that:H,AS_ENTRIES:w}),H}),R.prototype=G,G.constructor=R),(U||re)&&(L("delete"),L("has"),w&&L("get")),(re||W)&&L(q),M&&G.clear&&delete G.clear}return I[_]=R,n({global:!0,constructor:!0,forced:R!=F},I),T(R,_),M||P.setStrong(R,_,w),R}},(d,s,u)=>{var n=u(7),c=u(18),C=u(57),m=u(23),e=u(41),E=u(47).f,A=u(60),B=u(100),O=u(103),v=u(43),b=u(105),o=!1,T=v("meta"),D=0,_=function(F){E(F,T,{value:{objectID:"O"+D++,weakData:{}}})},y=function(F,G){if(!m(F))return typeof F=="symbol"?F:(typeof F=="string"?"S":"P")+F;if(!e(F,T)){if(!O(F))return"F";if(!G)return"E";_(F)}return F[T].objectID},P=function(F,G){if(!e(F,T)){if(!O(F))return!0;if(!G)return!1;_(F)}return F[T].weakData},w=function(F){return b&&o&&O(F)&&!e(F,T)&&_(F),F},M=function(){q.enable=function(){},o=!0;var F=A.f,G=c([].splice),R={};R[T]=1,F(R).length&&(A.f=function(I){for(var L=F(I),x=0,S=L.length;x<S;x++)if(L[x]===T){G(L,x,1);break}return L},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:B.f}))},q=d.exports={enable:M,fastKey:y,getWeakData:P,onFreeze:w};C[T]=!0},(d,s,u)=>{var n=u(19),c=u(16),C=u(60).f,m=u(101),e=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],E=function(A){try{return C(A)}catch{return m(e)}};d.exports.f=function(B){return e&&n(B)=="Window"?E(B):C(c(B))}},(d,s,u)=>{var n=u(63),c=u(66),C=u(102),m=Array,e=Math.max;d.exports=function(E,A,B){for(var O=c(E),v=n(A,O),b=n(B===void 0?O:B,O),o=m(e(b-v,0)),T=0;v<b;v++,T++)C(o,T,E[v]);return o.length=T,o}},(d,s,u)=>{var n=u(21),c=u(47),C=u(15);d.exports=function(m,e,E){var A=n(e);A in m?c.f(m,A,C(0,E)):m[A]=E}},(d,s,u)=>{var n=u(11),c=u(23),C=u(19),m=u(104),e=Object.isExtensible,E=n(function(){});d.exports=E||m?function(B){return!c(B)||m&&C(B)=="ArrayBuffer"?!1:e?e(B):!0}:e},(d,s,u)=>{var n=u(11);d.exports=n(function(){if(typeof ArrayBuffer=="function"){var c=new ArrayBuffer(8);Object.isExtensible(c)&&Object.defineProperty(c,"a",{value:8})}})},(d,s,u)=>{var n=u(11);d.exports=!n(function(){return Object.isExtensible(Object.preventExtensions({}))})},(d,s,u)=>{var n=u(107),c=u(12),C=u(49),m=u(34),e=u(108),E=u(66),A=u(27),B=u(109),O=u(110),v=u(111),b=TypeError,o=function(D,_){this.stopped=D,this.result=_},T=o.prototype;d.exports=function(D,_,y){var P=y&&y.that,w=!!(y&&y.AS_ENTRIES),M=!!(y&&y.IS_RECORD),q=!!(y&&y.IS_ITERATOR),F=!!(y&&y.INTERRUPTED),G=n(_,P),R,I,L,x,S,W,U,z=function(J){return R&&v(R,"normal",J),new o(!0,J)},re=function(J){return w?(C(J),F?G(J[0],J[1],z):G(J[0],J[1])):F?G(J,z):G(J)};if(M)R=D.iterator;else if(q)R=D;else{if(I=O(D),!I)throw b(m(D)+" is not iterable");if(e(I)){for(L=0,x=E(D);x>L;L++)if(S=re(D[L]),S&&A(T,S))return S;return new o(!1)}R=B(D,I)}for(W=M?D.next:R.next;!(U=c(W,R)).done;){try{S=re(U.value)}catch(J){v(R,"throw",J)}if(typeof S=="object"&&S&&A(T,S))return S}return new o(!1)}},(d,s,u)=>{var n=u(18),c=u(33),C=u(13),m=n(n.bind);d.exports=function(e,E){return c(e),E===void 0?e:C?m(e,E):function(){return e.apply(E,arguments)}}},(d,s,u)=>{var n=u(36),c=u(89),C=n("iterator"),m=Array.prototype;d.exports=function(e){return e!==void 0&&(c.Array===e||m[C]===e)}},(d,s,u)=>{var n=u(12),c=u(33),C=u(49),m=u(34),e=u(110),E=TypeError;d.exports=function(A,B){var O=arguments.length<2?e(A):B;if(c(O))return C(n(O,A));throw E(m(A)+" is not iterable")}},(d,s,u)=>{var n=u(81),c=u(32),C=u(89),m=u(36),e=m("iterator");d.exports=function(E){if(E!=null)return c(E,e)||c(E,"@@iterator")||C[n(E)]}},(d,s,u)=>{var n=u(12),c=u(49),C=u(32);d.exports=function(m,e,E){var A,B;c(m);try{if(A=C(m,"return"),!A){if(e==="throw")throw E;return E}A=n(A,m)}catch(O){B=!0,A=O}if(e==="throw")throw E;if(B)throw A;return c(A),E}},(d,s,u)=>{var n=u(27),c=TypeError;d.exports=function(C,m){if(n(m,C))return C;throw c("Incorrect invocation")}},(d,s,u)=>{var n=u(36),c=n("iterator"),C=!1;try{var m=0,e={next:function(){return{done:!!m++}},return:function(){C=!0}};e[c]=function(){return this},Array.from(e,function(){throw 2})}catch{}d.exports=function(E,A){if(!A&&!C)return!1;var B=!1;try{var O={};O[c]=function(){return{next:function(){return{done:B=!0}}}},E(O)}catch{}return B}},(d,s,u)=>{var n=u(24),c=u(23),C=u(85);d.exports=function(m,e,E){var A,B;return C&&n(A=e.constructor)&&A!==E&&c(B=A.prototype)&&B!==E.prototype&&C(m,B),m}},(d,s,u)=>{var n=u(47).f,c=u(72),C=u(116),m=u(107),e=u(112),E=u(106),A=u(90),B=u(117),O=u(10),v=u(99).fastKey,b=u(54),o=b.set,T=b.getterFor;d.exports={getConstructor:function(D,_,y,P){var w=D(function(R,I){e(R,M),o(R,{type:_,index:c(null),first:void 0,last:void 0,size:0}),O||(R.size=0),I!=null&&E(I,R[P],{that:R,AS_ENTRIES:y})}),M=w.prototype,q=T(_),F=function(R,I,L){var x=q(R),S=G(R,I),W,U;return S?S.value=L:(x.last=S={index:U=v(I,!0),key:I,value:L,previous:W=x.last,next:void 0,removed:!1},x.first||(x.first=S),W&&(W.next=S),O?x.size++:R.size++,U!=="F"&&(x.index[U]=S)),R},G=function(R,I){var L=q(R),x=v(I),S;if(x!=="F")return L.index[x];for(S=L.first;S;S=S.next)if(S.key==I)return S};return C(M,{clear:function(){for(var I=this,L=q(I),x=L.index,S=L.first;S;)S.removed=!0,S.previous&&(S.previous=S.previous.next=void 0),delete x[S.index],S=S.next;L.first=L.last=void 0,O?L.size=0:I.size=0},delete:function(R){var I=this,L=q(I),x=G(I,R);if(x){var S=x.next,W=x.previous;delete L.index[x.index],x.removed=!0,W&&(W.next=S),S&&(S.previous=W),L.first==x&&(L.first=S),L.last==x&&(L.last=W),O?L.size--:I.size--}return!!x},forEach:function(I){for(var L=q(this),x=m(I,arguments.length>1?arguments[1]:void 0),S;S=S?S.next:L.first;)for(x(S.value,S.key,this);S&&S.removed;)S=S.previous},has:function(I){return!!G(this,I)}}),C(M,y?{get:function(I){var L=G(this,I);return L&&L.value},set:function(I,L){return F(this,I===0?0:I,L)}}:{add:function(I){return F(this,I=I===0?0:I,I)}}),O&&n(M,"size",{get:function(){return q(this).size}}),w},setStrong:function(D,_,y){var P=_+" Iterator",w=T(_),M=T(P);A(D,_,function(q,F){o(this,{type:P,target:q,state:w(q),kind:F,last:void 0})},function(){for(var q=M(this),F=q.kind,G=q.last;G&&G.removed;)G=G.previous;return!q.target||!(q.last=G=G?G.next:q.state.first)?(q.target=void 0,{value:void 0,done:!0}):F=="keys"?{value:G.key,done:!1}:F=="values"?{value:G.value,done:!1}:{value:[G.key,G.value],done:!1}},y?"entries":"values",!y,!0),B(_)}}},(d,s,u)=>{var n=u(50);d.exports=function(c,C,m){for(var e in C)n(c,e,C[e],m);return c}},(d,s,u)=>{var n=u(26),c=u(47),C=u(36),m=u(10),e=C("species");d.exports=function(E){var A=n(E),B=c.f;m&&A&&!A[e]&&B(A,e,{configurable:!0,get:function(){return this}})}},(d,s,u)=>{u(119)},(d,s,u)=>{var n=u(98),c=u(115);n("Set",function(C){return function(){return C(this,arguments.length?arguments[0]:void 0)}},c)},(d,s,u)=>{var n=u(38),c=u(7),C=u(8),m=u(26),e=u(18),E=u(11),A=u(43),B=u(24),O=u(121),v=u(23),b=u(25),o=u(106),T=u(49),D=u(81),_=u(41),y=u(102),P=u(46),w=u(66),M=u(122),q=u(123),F=u(125),G=u(30),R=u(126),I=u(127),L=u(128),x=C.Object,S=C.Date,W=C.Error,U=C.EvalError,z=C.RangeError,re=C.ReferenceError,J=C.SyntaxError,k=C.TypeError,H=C.URIError,Z=C.PerformanceMark,Q=C.WebAssembly,V=Q&&Q.CompileError||W,Y=Q&&Q.LinkError||W,te=Q&&Q.RuntimeError||W,$=m("DOMException"),X=m("Set"),ne=m("Map"),ce=ne.prototype,se=e(ce.has),K=e(ce.get),ee=e(ce.set),ie=e(X.prototype.add),oe=m("Object","keys"),le=e([].push),pe=e((!0).valueOf),fe=e(1 .valueOf),ue=e("".valueOf),ge=e(S.prototype.getTime),he=A("structuredClone"),xe="DataCloneError",ye="Transferring",ve=function(Te){return!E(function(){var Le=new C.Set([7]),Be=Te(Le),Ae=Te(x(7));return Be==Le||!Be.has(7)||typeof Ae!="object"||Ae!=7})&&Te},ke=function(Te,Le){return!E(function(){var Be=new Le,Ae=Te({a:Be,b:Be});return!(Ae&&Ae.a===Ae.b&&Ae.a instanceof Le&&Ae.a.stack===Be.stack)})},Se=function(Te){return!E(function(){var Le=Te(new C.AggregateError([1],he,{cause:3}));return Le.name!="AggregateError"||Le.errors[0]!=1||Le.message!=he||Le.cause!=3})},be=C.structuredClone,Ee=n||!ke(be,W)||!ke(be,$)||!Se(be),Oe=!be&&ve(function(Te){return new Z(he,{detail:Te}).detail}),Fe=ve(be)||Oe,Re=function(Te){throw new $("Uncloneable type: "+Te,xe)},Ne=function(Te,Le){throw new $((Le||"Cloning")+" of "+Te+" cannot be properly polyfilled in this engine",xe)},Pe=function(Te,Le){if(b(Te)&&Re("Symbol"),!v(Te))return Te;if(Le){if(se(Le,Te))return K(Le,Te)}else Le=new ne;var Be=D(Te),Ae=!1,we,Ce,De,Ge,He,Ze,Ye,je,it,dt;switch(Be){case"Array":De=[],Ae=!0;break;case"Object":De={},Ae=!0;break;case"Map":De=new ne,Ae=!0;break;case"Set":De=new X,Ae=!0;break;case"RegExp":De=new RegExp(Te.source,q(Te));break;case"Error":switch(Ce=Te.name,Ce){case"AggregateError":De=m("AggregateError")([]);break;case"EvalError":De=U();break;case"RangeError":De=z();break;case"ReferenceError":De=re();break;case"SyntaxError":De=J();break;case"TypeError":De=k();break;case"URIError":De=H();break;case"CompileError":De=V();break;case"LinkError":De=Y();break;case"RuntimeError":De=te();break;default:De=W()}Ae=!0;break;case"DOMException":De=new $(Te.message,Te.name),Ae=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":we=C[Be],v(we)||Ne(Be),De=new we(Pe(Te.buffer,Le),Te.byteOffset,Be==="DataView"?Te.byteLength:Te.length);break;case"DOMQuad":try{De=new DOMQuad(Pe(Te.p1,Le),Pe(Te.p2,Le),Pe(Te.p3,Le),Pe(Te.p4,Le))}catch{Fe?De=Fe(Te):Ne(Be)}break;case"FileList":if(we=C.DataTransfer,O(we)){for(Ge=new we,He=0,Ze=w(Te);He<Ze;He++)Ge.items.add(Pe(Te[He],Le));De=Ge.files}else Fe?De=Fe(Te):Ne(Be);break;case"ImageData":try{De=new ImageData(Pe(Te.data,Le),Te.width,Te.height,{colorSpace:Te.colorSpace})}catch{Fe?De=Fe(Te):Ne(Be)}break;default:if(Fe)De=Fe(Te);else switch(Be){case"BigInt":De=x(Te.valueOf());break;case"Boolean":De=x(pe(Te));break;case"Number":De=x(fe(Te));break;case"String":De=x(ue(Te));break;case"Date":De=new S(ge(Te));break;case"ArrayBuffer":we=C.DataView,!we&&typeof Te.slice!="function"&&Ne(Be);try{if(typeof Te.slice=="function")De=Te.slice(0);else for(Ze=Te.byteLength,De=new ArrayBuffer(Ze),it=new we(Te),dt=new we(De),He=0;He<Ze;He++)dt.setUint8(He,it.getUint8(He))}catch{throw new $("ArrayBuffer is detached",xe)}break;case"SharedArrayBuffer":De=Te;break;case"Blob":try{De=Te.slice(0,Te.size,Te.type)}catch{Ne(Be)}break;case"DOMPoint":case"DOMPointReadOnly":we=C[Be];try{De=we.fromPoint?we.fromPoint(Te):new we(Te.x,Te.y,Te.z,Te.w)}catch{Ne(Be)}break;case"DOMRect":case"DOMRectReadOnly":we=C[Be];try{De=we.fromRect?we.fromRect(Te):new we(Te.x,Te.y,Te.width,Te.height)}catch{Ne(Be)}break;case"DOMMatrix":case"DOMMatrixReadOnly":we=C[Be];try{De=we.fromMatrix?we.fromMatrix(Te):new we(Te)}catch{Ne(Be)}break;case"AudioData":case"VideoFrame":B(Te.clone)||Ne(Be);try{De=Te.clone()}catch{Re(Be)}break;case"File":try{De=new File([Te],Te.name,Te)}catch{Ne(Be)}break;case"CryptoKey":case"GPUCompilationMessage":case"GPUCompilationInfo":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":Ne(Be);default:Re(Be)}}if(ee(Le,Te,De),Ae)switch(Be){case"Array":case"Object":for(Ye=oe(Te),He=0,Ze=w(Ye);He<Ze;He++)je=Ye[He],y(De,je,Pe(Te[je],Le));break;case"Map":Te.forEach(function(ze,lt){ee(De,Pe(lt,Le),Pe(ze,Le))});break;case"Set":Te.forEach(function(ze){ie(De,Pe(ze,Le))});break;case"Error":P(De,"message",Pe(Te.message,Le)),_(Te,"cause")&&P(De,"cause",Pe(Te.cause,Le)),Ce=="AggregateError"&&(De.errors=Pe(Te.errors,Le));case"DOMException":F&&P(De,"stack",Pe(Te.stack,Le))}return De},Ie=be&&!E(function(){if(I&&G>92||L&&G>94||R&&G>97)return!1;var Te=new ArrayBuffer(8),Le=be(Te,{transfer:[Te]});return Te.byteLength!=0||Le.byteLength!=8}),Me=function(Te,Le){if(!v(Te))throw k("Transfer option cannot be converted to a sequence");var Be=[];o(Te,function(it){le(Be,T(it))});var Ae=0,we=w(Be),Ce,De,Ge,He,Ze,Ye,je;if(Ie)for(He=be(Be,{transfer:Be});Ae<we;)ee(Le,Be[Ae],He[Ae++]);else for(;Ae<we;){if(Ce=Be[Ae++],se(Le,Ce))throw new $("Duplicate transferable",xe);switch(De=D(Ce),De){case"ImageBitmap":Ge=C.OffscreenCanvas,O(Ge)||Ne(De,ye);try{Ye=new Ge(Ce.width,Ce.height),je=Ye.getContext("bitmaprenderer"),je.transferFromImageBitmap(Ce),Ze=Ye.transferToImageBitmap()}catch{}break;case"AudioData":case"VideoFrame":(!B(Ce.clone)||!B(Ce.close))&&Ne(De,ye);try{Ze=Ce.clone(),Ce.close()}catch{}break;case"ArrayBuffer":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":Ne(De,ye)}if(Ze===void 0)throw new $("This object cannot be transferred: "+De,xe);ee(Le,Ce,Ze)}};c({global:!0,enumerable:!0,sham:!Ie,forced:Ee},{structuredClone:function(Le){var Be=M(arguments.length,1)>1&&arguments[1]!=null?T(arguments[1]):void 0,Ae=Be?Be.transfer:void 0,we;return Ae!==void 0&&(we=new ne,Me(Ae,we)),Pe(Le,we)}})},(d,s,u)=>{var n=u(18),c=u(11),C=u(24),m=u(81),e=u(26),E=u(53),A=function(){},B=[],O=e("Reflect","construct"),v=/^\s*(?:class|function)\b/,b=n(v.exec),o=!v.exec(A),T=function(y){if(!C(y))return!1;try{return O(A,B,y),!0}catch{return!1}},D=function(y){if(!C(y))return!1;switch(m(y)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return o||!!b(v,E(y))}catch{return!0}};D.sham=!0,d.exports=!O||c(function(){var _;return T(T.call)||!T(Object)||!T(function(){_=!0})||_})?D:T},d=>{var s=TypeError;d.exports=function(u,n){if(u<n)throw s("Not enough arguments");return u}},(d,s,u)=>{var n=u(12),c=u(41),C=u(27),m=u(124),e=RegExp.prototype;d.exports=function(E){var A=E.flags;return A===void 0&&!("flags"in e)&&!c(E,"flags")&&C(e,E)?n(m,E):A}},(d,s,u)=>{var n=u(49);d.exports=function(){var c=n(this),C="";return c.hasIndices&&(C+="d"),c.global&&(C+="g"),c.ignoreCase&&(C+="i"),c.multiline&&(C+="m"),c.dotAll&&(C+="s"),c.unicode&&(C+="u"),c.unicodeSets&&(C+="v"),c.sticky&&(C+="y"),C}},(d,s,u)=>{var n=u(11),c=u(15);d.exports=!n(function(){var C=Error("a");return"stack"in C?(Object.defineProperty(C,"stack",c(1,7)),C.stack!==7):!0})},(d,s,u)=>{var n=u(127),c=u(128);d.exports=!n&&!c&&typeof window=="object"&&typeof document=="object"},d=>{d.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},(d,s,u)=>{var n=u(19),c=u(8);d.exports=n(c.process)=="process"},(d,s,u)=>{var n=u(8);d.exports=n},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.RefSetCache=s.RefSet=s.Ref=s.Name=s.EOF=s.Dict=s.Cmd=s.CIRCULAR_REF=void 0,s.clearPrimitiveCaches=_,s.isCmd=o,s.isDict=T,s.isName=b,s.isRefsEqual=D;var n=u(2);const c=Symbol("CIRCULAR_REF");s.CIRCULAR_REF=c;const C=Symbol("EOF");s.EOF=C;const m=function(){let P=Object.create(null);class w{constructor(q){this.name=q}static get(q){return P[q]||(P[q]=new w(q))}static _clearCache(){P=Object.create(null)}}return w}();s.Name=m;const e=function(){let P=Object.create(null);class w{constructor(q){this.cmd=q}static get(q){return P[q]||(P[q]=new w(q))}static _clearCache(){P=Object.create(null)}}return w}();s.Cmd=e;const E=function(){return E};class A{constructor(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this._map=Object.create(null),this.xref=P,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=E}assignXref(P){this.xref=P}get size(){return Object.keys(this._map).length}get(P,w,M){let q=this._map[P];return q===void 0&&w!==void 0&&(q=this._map[w],q===void 0&&M!==void 0&&(q=this._map[M])),q instanceof B&&this.xref?this.xref.fetch(q,this.suppressEncryption):q}async getAsync(P,w,M){let q=this._map[P];return q===void 0&&w!==void 0&&(q=this._map[w],q===void 0&&M!==void 0&&(q=this._map[M])),q instanceof B&&this.xref?this.xref.fetchAsync(q,this.suppressEncryption):q}getArray(P,w,M){let q=this._map[P];if(q===void 0&&w!==void 0&&(q=this._map[w],q===void 0&&M!==void 0&&(q=this._map[M])),q instanceof B&&this.xref&&(q=this.xref.fetch(q,this.suppressEncryption)),Array.isArray(q)){q=q.slice();for(let F=0,G=q.length;F<G;F++)q[F]instanceof B&&this.xref&&(q[F]=this.xref.fetch(q[F],this.suppressEncryption))}return q}getRaw(P){return this._map[P]}getKeys(){return Object.keys(this._map)}getRawValues(){return Object.values(this._map)}set(P,w){this._map[P]=w}has(P){return this._map[P]!==void 0}forEach(P){for(const w in this._map)P(w,this.get(w))}static get empty(){const P=new A(null);return P.set=(w,M)=>{(0,n.unreachable)("Should not call `set` on the empty dictionary.")},(0,n.shadow)(this,"empty",P)}static merge(P){let{xref:w,dictArray:M,mergeSubDicts:q=!1}=P;const F=new A(w),G=new Map;for(const R of M)if(R instanceof A)for(const[I,L]of Object.entries(R._map)){let x=G.get(I);if(x===void 0)x=[],G.set(I,x);else if(!q||!(L instanceof A))continue;x.push(L)}for(const[R,I]of G){if(I.length===1||!(I[0]instanceof A)){F._map[R]=I[0];continue}const L=new A(w);for(const x of I)for(const[S,W]of Object.entries(x._map))L._map[S]===void 0&&(L._map[S]=W);L.size>0&&(F._map[R]=L)}return G.clear(),F.size>0?F:A.empty}}s.Dict=A;const B=function(){let P=Object.create(null);class w{constructor(q,F){this.num=q,this.gen=F}toString(){return this.gen===0?`${this.num}R`:`${this.num}R${this.gen}`}static get(q,F){const G=F===0?`${q}R`:`${q}R${F}`;return P[G]||(P[G]=new w(q,F))}static _clearCache(){P=Object.create(null)}}return w}();s.Ref=B;class O{constructor(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this._set=new Set(P&&P._set)}has(P){return this._set.has(P.toString())}put(P){this._set.add(P.toString())}remove(P){this._set.delete(P.toString())}[Symbol.iterator](){return this._set.values()}clear(){this._set.clear()}}s.RefSet=O;class v{constructor(){this._map=new Map}get size(){return this._map.size}get(P){return this._map.get(P.toString())}has(P){return this._map.has(P.toString())}put(P,w){this._map.set(P.toString(),w)}putAlias(P,w){this._map.set(P.toString(),this.get(w))}[Symbol.iterator](){return this._map.values()}clear(){this._map.clear()}}s.RefSetCache=v;function b(y,P){return y instanceof m&&(P===void 0||y.name===P)}function o(y,P){return y instanceof e&&(P===void 0||y.cmd===P)}function T(y,P){return y instanceof A&&(P===void 0||b(y.get("Type"),P))}function D(y,P){return y.num===P.num&&y.gen===P.gen}function _(){e._clearCache(),m._clearCache(),B._clearCache()}},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XRefParseException=s.XRefEntryException=s.ParserEOFException=s.MissingDataException=s.DocStats=void 0,s.collectActions=G,s.encodeToXmlString=I,s.escapePDFName=q,s.getArrayLookupTableFactory=e,s.getInheritableProperty=b,s.getLookupTableFactory=m,s.getNewAnnotationsMap=W,s.isWhiteSpace=w,s.log2=D,s.numberToString=S,s.parseXFAPath=M,s.readInt8=_,s.readUint16=y,s.readUint32=P,s.recoverJsURL=x,s.toRomanNumerals=T,s.validateCSSFont=L;var n=u(2),c=u(130),C=u(132);function m(U){let z;return function(){return U&&(z=Object.create(null),U(z),U=null),z}}function e(U){let z;return function(){if(U){let re=U();U=null,z=Object.create(null);for(let J=0,k=re.length;J<k;J+=2)z[re[J]]=re[J+1];re=null}return z}}class E extends n.BaseException{constructor(z,re){super(`Missing data [${z}, ${re})`,"MissingDataException"),this.begin=z,this.end=re}}s.MissingDataException=E;class A extends n.BaseException{constructor(z){super(z,"ParserEOFException")}}s.ParserEOFException=A;class B extends n.BaseException{constructor(z){super(z,"XRefEntryException")}}s.XRefEntryException=B;class O extends n.BaseException{constructor(z){super(z,"XRefParseException")}}s.XRefParseException=O;class v{constructor(z){this._handler=z,this._streamTypes=new Set,this._fontTypes=new Set}_send(){const z=Object.create(null),re=Object.create(null);for(const J of this._streamTypes)z[J]=!0;for(const J of this._fontTypes)re[J]=!0;this._handler.send("DocStats",{streamTypes:z,fontTypes:re})}addStreamType(z){this._streamTypes.has(z)||(this._streamTypes.add(z),this._send())}addFontType(z){this._fontTypes.has(z)||(this._fontTypes.add(z),this._send())}}s.DocStats=v;function b(U){let{dict:z,key:re,getArray:J=!1,stopWhenFound:k=!0}=U,H;const Z=new c.RefSet;for(;z instanceof c.Dict&&!(z.objId&&Z.has(z.objId));){z.objId&&Z.put(z.objId);const Q=J?z.getArray(re):z.get(re);if(Q!==void 0){if(k)return Q;H||(H=[]),H.push(Q)}z=z.get("Parent")}return H}const o=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function T(U){let z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;(0,n.assert)(Number.isInteger(U)&&U>0,"The number should be a positive integer.");const re=[];let J;for(;U>=1e3;)U-=1e3,re.push("M");J=U/100|0,U%=100,re.push(o[J]),J=U/10|0,U%=10,re.push(o[10+J]),re.push(o[20+U]);const k=re.join("");return z?k.toLowerCase():k}function D(U){return U<=0?0:Math.ceil(Math.log2(U))}function _(U,z){return U[z]<<24>>24}function y(U,z){return U[z]<<8|U[z+1]}function P(U,z){return(U[z]<<24|U[z+1]<<16|U[z+2]<<8|U[z+3])>>>0}function w(U){return U===32||U===9||U===13||U===10}function M(U){const z=/(.+)\[(\d+)\]$/;return U.split(".").map(re=>{const J=re.match(z);return J?{name:J[1],pos:parseInt(J[2],10)}:{name:re,pos:0}})}function q(U){const z=[];let re=0;for(let J=0,k=U.length;J<k;J++){const H=U.charCodeAt(J);(H<33||H>126||H===35||H===40||H===41||H===60||H===62||H===91||H===93||H===123||H===125||H===47||H===37)&&(re<J&&z.push(U.substring(re,J)),z.push(`#${H.toString(16)}`),re=J+1)}return z.length===0?U:(re<U.length&&z.push(U.substring(re,U.length)),z.join(""))}function F(U,z,re,J){if(!U)return;let k=null;if(U instanceof c.Ref){if(J.has(U))return;k=U,J.put(k),U=z.fetch(U)}if(Array.isArray(U))for(const H of U)F(H,z,re,J);else if(U instanceof c.Dict){if((0,c.isName)(U.get("S"),"JavaScript")){const H=U.get("JS");let Z;H instanceof C.BaseStream?Z=H.getString():typeof H=="string"&&(Z=H),Z=Z&&(0,n.stringToPDFString)(Z).replace(/\u0000/g,""),Z&&re.push(Z)}F(U.getRaw("Next"),z,re,J)}k&&J.remove(k)}function G(U,z,re){const J=Object.create(null),k=b({dict:z,key:"AA",stopWhenFound:!1});if(k)for(let H=k.length-1;H>=0;H--){const Z=k[H];if(Z instanceof c.Dict)for(const Q of Z.getKeys()){const V=re[Q];if(!V)continue;const Y=Z.getRaw(Q),te=new c.RefSet,$=[];F(Y,U,$,te),$.length>0&&(J[V]=$)}}if(z.has("A")){const H=z.get("A"),Z=new c.RefSet,Q=[];F(H,U,Q,Z),Q.length>0&&(J.Action=Q)}return(0,n.objectSize)(J)>0?J:null}const R={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"};function I(U){const z=[];let re=0;for(let J=0,k=U.length;J<k;J++){const H=U.codePointAt(J);if(32<=H&&H<=126){const Z=R[H];Z&&(re<J&&z.push(U.substring(re,J)),z.push(Z),re=J+1)}else re<J&&z.push(U.substring(re,J)),z.push(`&#x${H.toString(16).toUpperCase()};`),H>55295&&(H<57344||H>65533)&&J++,re=J+1}return z.length===0?U:(re<U.length&&z.push(U.substring(re,U.length)),z.join(""))}function L(U){const z="14",re="400",J=new Set(["100","200","300","400","500","600","700","800","900","1000","normal","bold","bolder","lighter"]),{fontFamily:k,fontWeight:H,italicAngle:Z}=U;if(/^".*"$/.test(k)){if(/[^\\]"/.test(k.slice(1,k.length-1)))return(0,n.warn)(`XFA - FontFamily contains some unescaped ": ${k}.`),!1}else if(/^'.*'$/.test(k)){if(/[^\\]'/.test(k.slice(1,k.length-1)))return(0,n.warn)(`XFA - FontFamily contains some unescaped ': ${k}.`),!1}else for(const Y of k.split(/[ \t]+/))if(/^(\d|(-(\d|-)))/.test(Y)||!/^[\w-\\]+$/.test(Y))return(0,n.warn)(`XFA - FontFamily contains some invalid <custom-ident>: ${k}.`),!1;const Q=H?H.toString():"";U.fontWeight=J.has(Q)?Q:re;const V=parseFloat(Z);return U.italicAngle=isNaN(V)||V<-90||V>90?z:Z.toString(),!0}function x(U){const z=["app.launchURL","window.open","xfa.host.gotoURL"],J=new RegExp("^\\s*("+z.join("|").split(".").join("\\.")+`)\\((?:'|")([^'"]*)(?:'|")(?:,\\s*(\\w+)\\)|\\))`,"i").exec(U);if(J&&J[2]){const k=J[2];let H=!1;return J[3]==="true"&&J[1]==="app.launchURL"&&(H=!0),{url:k,newWindow:H}}return null}function S(U){if(Number.isInteger(U))return U.toString();const z=Math.round(U*100);return z%100===0?(z/100).toString():z%10===0?U.toFixed(1):U.toFixed(2)}function W(U){if(!U)return null;const z=new Map;for(const[re,J]of U){if(!re.startsWith(n.AnnotationEditorPrefix))continue;let k=z.get(J.pageIndex);k||(k=[],z.set(J.pageIndex,k)),k.push(J)}return z.size>0?z:null}},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BaseStream=void 0;var n=u(2);class c{constructor(){this.constructor===c&&(0,n.unreachable)("Cannot initialize BaseStream.")}get length(){(0,n.unreachable)("Abstract getter `length` accessed")}get isEmpty(){(0,n.unreachable)("Abstract getter `isEmpty` accessed")}get isDataLoaded(){return(0,n.shadow)(this,"isDataLoaded",!0)}getByte(){(0,n.unreachable)("Abstract method `getByte` called")}getBytes(m){(0,n.unreachable)("Abstract method `getBytes` called")}peekByte(){const m=this.getByte();return m!==-1&&this.pos--,m}peekBytes(m){const e=this.getBytes(m);return this.pos-=e.length,e}getUint16(){const m=this.getByte(),e=this.getByte();return m===-1||e===-1?-1:(m<<8)+e}getInt32(){const m=this.getByte(),e=this.getByte(),E=this.getByte(),A=this.getByte();return(m<<24)+(e<<16)+(E<<8)+A}getByteRange(m,e){(0,n.unreachable)("Abstract method `getByteRange` called")}getString(m){return(0,n.bytesToString)(this.getBytes(m))}skip(m){this.pos+=m||1}reset(){(0,n.unreachable)("Abstract method `reset` called")}moveStart(){(0,n.unreachable)("Abstract method `moveStart` called")}makeSubStream(m,e){(0,n.unreachable)("Abstract method `makeSubStream` called")}getBaseStreams(){return null}}s.BaseStream=c},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NetworkPdfManager=s.LocalPdfManager=void 0;var n=u(2),c=u(134),C=u(131),m=u(136),e=u(135);function E(v){if(v){const b=(0,n.createValidAbsoluteUrl)(v);if(b)return b.href;(0,n.warn)(`Invalid absolute docBaseUrl: "${v}".`)}return null}class A{constructor(){this.constructor===A&&(0,n.unreachable)("Cannot initialize BasePdfManager.")}get docId(){return this._docId}get password(){return this._password}get docBaseUrl(){const b=this.pdfDocument.catalog;return(0,n.shadow)(this,"docBaseUrl",b.baseUrl||this._docBaseUrl)}onLoadedStream(){(0,n.unreachable)("Abstract method `onLoadedStream` called")}ensureDoc(b,o){return this.ensure(this.pdfDocument,b,o)}ensureXRef(b,o){return this.ensure(this.pdfDocument.xref,b,o)}ensureCatalog(b,o){return this.ensure(this.pdfDocument.catalog,b,o)}getPage(b){return this.pdfDocument.getPage(b)}fontFallback(b,o){return this.pdfDocument.fontFallback(b,o)}loadXfaFonts(b,o){return this.pdfDocument.loadXfaFonts(b,o)}loadXfaImages(){return this.pdfDocument.loadXfaImages()}serializeXfaData(b){return this.pdfDocument.serializeXfaData(b)}cleanup(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.pdfDocument.cleanup(b)}async ensure(b,o,T){(0,n.unreachable)("Abstract method `ensure` called")}requestRange(b,o){(0,n.unreachable)("Abstract method `requestRange` called")}requestLoadedStream(){(0,n.unreachable)("Abstract method `requestLoadedStream` called")}sendProgressiveData(b){(0,n.unreachable)("Abstract method `sendProgressiveData` called")}updatePassword(b){this._password=b}terminate(b){(0,n.unreachable)("Abstract method `terminate` called")}}class B extends A{constructor(b,o,T,D,_,y,P){super(),this._docId=b,this._password=T,this._docBaseUrl=E(P),this.msgHandler=D,this.evaluatorOptions=_,this.enableXfa=y;const w=new e.Stream(o);this.pdfDocument=new m.PDFDocument(this,w),this._loadedStreamPromise=Promise.resolve(w)}async ensure(b,o,T){const D=b[o];return typeof D=="function"?D.apply(b,T):D}requestRange(b,o){return Promise.resolve()}requestLoadedStream(){}onLoadedStream(){return this._loadedStreamPromise}terminate(b){}}s.LocalPdfManager=B;class O extends A{constructor(b,o,T,D,_,y){super(),this._docId=b,this._password=T.password,this._docBaseUrl=E(y),this.msgHandler=T.msgHandler,this.evaluatorOptions=D,this.enableXfa=_,this.streamManager=new c.ChunkedStreamManager(o,{msgHandler:T.msgHandler,length:T.length,disableAutoFetch:T.disableAutoFetch,rangeChunkSize:T.rangeChunkSize}),this.pdfDocument=new m.PDFDocument(this,this.streamManager.getStream())}async ensure(b,o,T){try{const D=b[o];return typeof D=="function"?D.apply(b,T):D}catch(D){if(!(D instanceof C.MissingDataException))throw D;return await this.requestRange(D.begin,D.end),this.ensure(b,o,T)}}requestRange(b,o){return this.streamManager.requestRange(b,o)}requestLoadedStream(){this.streamManager.requestAllChunks()}sendProgressiveData(b){this.streamManager.onReceiveData({chunk:b})}onLoadedStream(){return this.streamManager.onLoadedStream()}terminate(b){this.streamManager.abort(b)}}s.NetworkPdfManager=O},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ChunkedStreamManager=s.ChunkedStream=void 0;var n=u(2),c=u(131),C=u(135);class m extends C.Stream{constructor(A,B,O){super(new Uint8Array(A),0,A,null),this.chunkSize=B,this._loadedChunks=new Set,this.numChunks=Math.ceil(A/B),this.manager=O,this.progressiveDataLength=0,this.lastSuccessfulEnsureByteChunk=-1}getMissingChunks(){const A=[];for(let B=0,O=this.numChunks;B<O;++B)this._loadedChunks.has(B)||A.push(B);return A}get numChunksLoaded(){return this._loadedChunks.size}get isDataLoaded(){return this.numChunksLoaded===this.numChunks}onReceiveData(A,B){const O=this.chunkSize;if(A%O!==0)throw new Error(`Bad begin offset: ${A}`);const v=A+B.byteLength;if(v%O!==0&&v!==this.bytes.length)throw new Error(`Bad end offset: ${v}`);this.bytes.set(new Uint8Array(B),A);const b=Math.floor(A/O),o=Math.floor((v-1)/O)+1;for(let T=b;T<o;++T)this._loadedChunks.add(T)}onReceiveProgressiveData(A){let B=this.progressiveDataLength;const O=Math.floor(B/this.chunkSize);this.bytes.set(new Uint8Array(A),B),B+=A.byteLength,this.progressiveDataLength=B;const v=B>=this.end?this.numChunks:Math.floor(B/this.chunkSize);for(let b=O;b<v;++b)this._loadedChunks.add(b)}ensureByte(A){if(A<this.progressiveDataLength)return;const B=Math.floor(A/this.chunkSize);if(!(B>this.numChunks)&&B!==this.lastSuccessfulEnsureByteChunk){if(!this._loadedChunks.has(B))throw new c.MissingDataException(A,A+1);this.lastSuccessfulEnsureByteChunk=B}}ensureRange(A,B){if(A>=B||B<=this.progressiveDataLength)return;const O=Math.floor(A/this.chunkSize);if(O>this.numChunks)return;const v=Math.min(Math.floor((B-1)/this.chunkSize)+1,this.numChunks);for(let b=O;b<v;++b)if(!this._loadedChunks.has(b))throw new c.MissingDataException(A,B)}nextEmptyChunk(A){const B=this.numChunks;for(let O=0;O<B;++O){const v=(A+O)%B;if(!this._loadedChunks.has(v))return v}return null}hasChunk(A){return this._loadedChunks.has(A)}getByte(){const A=this.pos;return A>=this.end?-1:(A>=this.progressiveDataLength&&this.ensureByte(A),this.bytes[this.pos++])}getBytes(A){const B=this.bytes,O=this.pos,v=this.end;if(!A)return v>this.progressiveDataLength&&this.ensureRange(O,v),B.subarray(O,v);let b=O+A;return b>v&&(b=v),b>this.progressiveDataLength&&this.ensureRange(O,b),this.pos=b,B.subarray(O,b)}getByteRange(A,B){return A<0&&(A=0),B>this.end&&(B=this.end),B>this.progressiveDataLength&&this.ensureRange(A,B),this.bytes.subarray(A,B)}makeSubStream(A,B){let O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;B?A+B>this.progressiveDataLength&&this.ensureRange(A,A+B):A>=this.progressiveDataLength&&this.ensureByte(A);function v(){}v.prototype=Object.create(this),v.prototype.getMissingChunks=function(){const o=this.chunkSize,T=Math.floor(this.start/o),D=Math.floor((this.end-1)/o)+1,_=[];for(let y=T;y<D;++y)this._loadedChunks.has(y)||_.push(y);return _},Object.defineProperty(v.prototype,"isDataLoaded",{get(){return this.numChunksLoaded===this.numChunks?!0:this.getMissingChunks().length===0},configurable:!0});const b=new v;return b.pos=b.start=A,b.end=A+B||this.end,b.dict=O,b}getBaseStreams(){return[this]}}s.ChunkedStream=m;class e{constructor(A,B){this.length=B.length,this.chunkSize=B.rangeChunkSize,this.stream=new m(this.length,this.chunkSize,this),this.pdfNetworkStream=A,this.disableAutoFetch=B.disableAutoFetch,this.msgHandler=B.msgHandler,this.currRequestId=0,this._chunksNeededByRequest=new Map,this._requestsByChunk=new Map,this._promisesByRequest=new Map,this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=(0,n.createPromiseCapability)()}onLoadedStream(){return this._loadedStreamCapability.promise}sendRequest(A,B){const O=this.pdfNetworkStream.getRangeReader(A,B);O.isStreamingSupported||(O.onProgress=this.onProgress.bind(this));let v=[],b=0;return new Promise((o,T)=>{const D=_=>{try{if(!_.done){const P=_.value;v.push(P),b+=(0,n.arrayByteLength)(P),O.isStreamingSupported&&this.onProgress({loaded:b}),O.read().then(D,T);return}const y=(0,n.arraysToBytes)(v);v=null,o(y)}catch(y){T(y)}};O.read().then(D,T)}).then(o=>{this.aborted||this.onReceiveData({chunk:o,begin:A})})}requestAllChunks(){const A=this.stream.getMissingChunks();return this._requestChunks(A),this._loadedStreamCapability.promise}_requestChunks(A){const B=this.currRequestId++,O=new Set;this._chunksNeededByRequest.set(B,O);for(const o of A)this.stream.hasChunk(o)||O.add(o);if(O.size===0)return Promise.resolve();const v=(0,n.createPromiseCapability)();this._promisesByRequest.set(B,v);const b=[];for(const o of O){let T=this._requestsByChunk.get(o);T||(T=[],this._requestsByChunk.set(o,T),b.push(o)),T.push(B)}if(b.length>0){const o=this.groupChunks(b);for(const T of o){const D=T.beginChunk*this.chunkSize,_=Math.min(T.endChunk*this.chunkSize,this.length);this.sendRequest(D,_).catch(v.reject)}}return v.promise.catch(o=>{if(!this.aborted)throw o})}getStream(){return this.stream}requestRange(A,B){B=Math.min(B,this.length);const O=this.getBeginChunk(A),v=this.getEndChunk(B),b=[];for(let o=O;o<v;++o)b.push(o);return this._requestChunks(b)}requestRanges(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const B=[];for(const O of A){const v=this.getBeginChunk(O.begin),b=this.getEndChunk(O.end);for(let o=v;o<b;++o)B.includes(o)||B.push(o)}return B.sort(function(O,v){return O-v}),this._requestChunks(B)}groupChunks(A){const B=[];let O=-1,v=-1;for(let b=0,o=A.length;b<o;++b){const T=A[b];O<0&&(O=T),v>=0&&v+1!==T&&(B.push({beginChunk:O,endChunk:v+1}),O=T),b+1===A.length&&B.push({beginChunk:O,endChunk:T+1}),v=T}return B}onProgress(A){this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize+A.loaded,total:this.length})}onReceiveData(A){const B=A.chunk,O=A.begin===void 0,v=O?this.progressiveDataLength:A.begin,b=v+B.byteLength,o=Math.floor(v/this.chunkSize),T=b<this.length?Math.floor(b/this.chunkSize):Math.ceil(b/this.chunkSize);O?(this.stream.onReceiveProgressiveData(B),this.progressiveDataLength=b):this.stream.onReceiveData(v,B),this.stream.isDataLoaded&&this._loadedStreamCapability.resolve(this.stream);const D=[];for(let _=o;_<T;++_){const y=this._requestsByChunk.get(_);if(!!y){this._requestsByChunk.delete(_);for(const P of y){const w=this._chunksNeededByRequest.get(P);w.has(_)&&w.delete(_),!(w.size>0)&&D.push(P)}}}if(!this.disableAutoFetch&&this._requestsByChunk.size===0){let _;if(this.stream.numChunksLoaded===1){const y=this.stream.numChunks-1;this.stream.hasChunk(y)||(_=y)}else _=this.stream.nextEmptyChunk(T);Number.isInteger(_)&&this._requestChunks([_])}for(const _ of D){const y=this._promisesByRequest.get(_);this._promisesByRequest.delete(_),y.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}onError(A){this._loadedStreamCapability.reject(A)}getBeginChunk(A){return Math.floor(A/this.chunkSize)}getEndChunk(A){return Math.floor((A-1)/this.chunkSize)+1}abort(A){this.aborted=!0,this.pdfNetworkStream&&this.pdfNetworkStream.cancelAllRequests(A);for(const B of this._promisesByRequest.values())B.reject(A)}}s.ChunkedStreamManager=e},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.StringStream=s.Stream=s.NullStream=void 0;var n=u(132),c=u(2);class C extends n.BaseStream{constructor(A,B,O,v){super(),this.bytes=A instanceof Uint8Array?A:new Uint8Array(A),this.start=B||0,this.pos=this.start,this.end=B+O||this.bytes.length,this.dict=v}get length(){return this.end-this.start}get isEmpty(){return this.length===0}getByte(){return this.pos>=this.end?-1:this.bytes[this.pos++]}getBytes(A){const B=this.bytes,O=this.pos,v=this.end;if(!A)return B.subarray(O,v);let b=O+A;return b>v&&(b=v),this.pos=b,B.subarray(O,b)}getByteRange(A,B){return A<0&&(A=0),B>this.end&&(B=this.end),this.bytes.subarray(A,B)}reset(){this.pos=this.start}moveStart(){this.start=this.pos}makeSubStream(A,B){let O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return new C(this.bytes.buffer,A,B,O)}}s.Stream=C;class m extends C{constructor(A){super((0,c.stringToBytes)(A))}}s.StringStream=m;class e extends C{constructor(){super(new Uint8Array(0))}}s.NullStream=e},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Page=s.PDFDocument=void 0;var n=u(137),c=u(2),C=u(131),m=u(130),e=u(176),E=u(132),A=u(192),B=u(194),O=u(196),v=u(225),b=u(142),o=u(135),T=u(200),D=u(187),_=u(140),y=u(144),P=u(199),w=u(190),M=u(201),q=u(226);const F=1,G=[0,0,612,792];class R{constructor(k){let{pdfManager:H,xref:Z,pageIndex:Q,pageDict:V,ref:Y,globalIdFactory:te,fontCache:$,builtInCMapCache:X,standardFontDataCache:ne,globalImageCache:ce,nonBlendModesSet:se,xfaFactory:K}=k;this.pdfManager=H,this.pageIndex=Q,this.pageDict=V,this.xref=Z,this.ref=Y,this.fontCache=$,this.builtInCMapCache=X,this.standardFontDataCache=ne,this.globalImageCache=ce,this.nonBlendModesSet=se,this.evaluatorOptions=H.evaluatorOptions,this.resourcesPromise=null,this.xfaFactory=K;const ee={obj:0};this._localIdFactory=class extends te{static createObjId(){return`p${Q}_${++ee.obj}`}static getPageObjId(){return`page${Y.toString()}`}}}_getInheritableProperty(k){let H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const Z=(0,C.getInheritableProperty)({dict:this.pageDict,key:k,getArray:H,stopWhenFound:!1});return Array.isArray(Z)?Z.length===1||!(Z[0]instanceof m.Dict)?Z[0]:m.Dict.merge({xref:this.xref,dictArray:Z}):Z}get content(){return this.pageDict.getArray("Contents")}get resources(){const k=this._getInheritableProperty("Resources");return(0,c.shadow)(this,"resources",k instanceof m.Dict?k:m.Dict.empty)}_getBoundingBox(k){if(this.xfaData)return this.xfaData.bbox;const H=this._getInheritableProperty(k,!0);if(Array.isArray(H)&&H.length===4){if(H[2]-H[0]!==0&&H[3]-H[1]!==0)return H;(0,c.warn)(`Empty /${k} entry.`)}return null}get mediaBox(){return(0,c.shadow)(this,"mediaBox",this._getBoundingBox("MediaBox")||G)}get cropBox(){return(0,c.shadow)(this,"cropBox",this._getBoundingBox("CropBox")||this.mediaBox)}get userUnit(){let k=this.pageDict.get("UserUnit");return(typeof k!="number"||k<=0)&&(k=F),(0,c.shadow)(this,"userUnit",k)}get view(){const{cropBox:k,mediaBox:H}=this;let Z;if(k===H||(0,c.isArrayEqual)(k,H))Z=H;else{const Q=c.Util.intersect(k,H);Q&&Q[2]-Q[0]!==0&&Q[3]-Q[1]!==0?Z=Q:(0,c.warn)("Empty /CropBox and /MediaBox intersection.")}return(0,c.shadow)(this,"view",Z||H)}get rotate(){let k=this._getInheritableProperty("Rotate")||0;return k%90!==0?k=0:k>=360?k%=360:k<0&&(k=(k%360+360)%360),(0,c.shadow)(this,"rotate",k)}_onSubStreamError(k,H,Z){if(this.evaluatorOptions.ignoreErrors){k.send("UnsupportedFeature",{featureId:c.UNSUPPORTED_FEATURES.errorContentSubStream}),(0,c.warn)(`getContentStream - ignoring sub-stream (${Z}): "${H}".`);return}throw H}getContentStream(k){return this.pdfManager.ensure(this,"content").then(H=>H instanceof E.BaseStream?H:Array.isArray(H)?new y.StreamsSequenceStream(H,this._onSubStreamError.bind(this,k)):new o.NullStream)}get xfaData(){return(0,c.shadow)(this,"xfaData",this.xfaFactory?{bbox:this.xfaFactory.getBoundingBox(this.pageIndex)}:null)}async saveNewAnnotations(k,H,Z){if(this.xfaFactory)throw new Error("XFA: Cannot save new annotations.");const Q=new _.PartialEvaluator({xref:this.xref,handler:k,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}),V=this.pageDict,Y=this.annotations.slice(),te=await n.AnnotationFactory.saveNewAnnotations(Q,H,Z);for(const{ref:se}of te.annotations)Y.push(se);const $=V.get("Annots");V.set("Annots",Y);const X=[];let ne=null;this.xref.encrypt&&(ne=this.xref.encrypt.createCipherTransform(this.ref.num,this.ref.gen)),(0,w.writeObject)(this.ref,V,X,ne),$&&V.set("Annots",$);const ce=te.dependencies;return ce.push({ref:this.ref,data:X.join("")},...te.annotations),ce}save(k,H,Z){const Q=new _.PartialEvaluator({xref:this.xref,handler:k,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions});return this._parsedAnnotations.then(function(V){const Y=[];for(const te of V)!te.mustBePrinted(Z)||Y.push(te.save(Q,H,Z).catch(function($){return(0,c.warn)(`save - ignoring annotation data during "${H.name}" task: "${$}".`),null}));return Promise.all(Y).then(function(te){return te.filter($=>!!$)})})}loadResources(k){return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,"resources")),this.resourcesPromise.then(()=>new T.ObjectLoader(this.resources,k,this.xref).load())}getOperatorList(k){let{handler:H,sink:Z,task:Q,intent:V,cacheKey:Y,annotationStorage:te=null}=k;const $=this.getContentStream(H),X=this.loadResources(["ColorSpace","ExtGState","Font","Pattern","Properties","Shading","XObject"]),ne=new _.PartialEvaluator({xref:this.xref,handler:H,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}),ce=this.xfaFactory?null:(0,C.getNewAnnotationsMap)(te);let se=Promise.resolve(null);if(ce){const ie=ce.get(this.pageIndex);ie&&(se=n.AnnotationFactory.printNewAnnotations(ne,Q,ie))}const ee=Promise.all([$,X]).then(ie=>{let[oe]=ie;const le=new D.OperatorList(V,Z);return H.send("StartRenderPage",{transparency:ne.hasBlendModes(this.resources,this.nonBlendModesSet),pageIndex:this.pageIndex,cacheKey:Y}),ne.getOperatorList({stream:oe,task:Q,resources:this.resources,operatorList:le}).then(function(){return le})});return Promise.all([ee,this._parsedAnnotations,se]).then(function(ie){let[oe,le,pe]=ie;if(pe&&(le=le.concat(pe)),le.length===0||V&c.RenderingIntentFlag.ANNOTATIONS_DISABLE)return oe.flush(!0),{length:oe.totalLength};const fe=!!(V&c.RenderingIntentFlag.ANNOTATIONS_FORMS),ue=!!(V&c.RenderingIntentFlag.ANY),ge=!!(V&c.RenderingIntentFlag.DISPLAY),he=!!(V&c.RenderingIntentFlag.PRINT),xe=[];for(const ye of le)(ue||ge&&ye.mustBeViewed(te)||he&&ye.mustBePrinted(te))&&xe.push(ye.getOperatorList(ne,Q,V,fe,te).catch(function(ve){return(0,c.warn)(`getOperatorList - ignoring annotation data during "${Q.name}" task: "${ve}".`),null}));return Promise.all(xe).then(function(ye){let ve=!1,ke=!1;for(const{opList:Se,separateForm:be,separateCanvas:Ee}of ye)oe.addOpList(Se),be&&(ve=be),Ee&&(ke=Ee);return oe.flush(!0,{form:ve,canvas:ke}),{length:oe.totalLength}})})}extractTextContent(k){let{handler:H,task:Z,includeMarkedContent:Q,sink:V,combineTextItems:Y}=k;const te=this.getContentStream(H),$=this.loadResources(["ExtGState","Font","Properties","XObject"]);return Promise.all([te,$]).then(ne=>{let[ce]=ne;return new _.PartialEvaluator({xref:this.xref,handler:H,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}).getTextContent({stream:ce,task:Z,resources:this.resources,includeMarkedContent:Q,combineTextItems:Y,sink:V,viewBox:this.view})})}async getStructTree(){const k=await this.pdfManager.ensureCatalog("structTreeRoot");return k?(await this.pdfManager.ensure(this,"_parseStructTree",[k])).serializable:null}_parseStructTree(k){const H=new P.StructTreePage(k,this.pageDict);return H.parse(),H}async getAnnotationsData(k,H,Z){const Q=await this._parsedAnnotations;if(Q.length===0)return[];const V=[],Y=[];let te;const $=!!(Z&c.RenderingIntentFlag.ANY),X=!!(Z&c.RenderingIntentFlag.DISPLAY),ne=!!(Z&c.RenderingIntentFlag.PRINT);for(const ce of Q){const se=$||X&&ce.viewable;(se||ne&&ce.printable)&&Y.push(ce.data),ce.hasTextContent&&se&&(te||(te=new _.PartialEvaluator({xref:this.xref,handler:k,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions})),V.push(ce.extractTextContent(te,H,this.view).catch(function(K){(0,c.warn)(`getAnnotationsData - ignoring textContent during "${H.name}" task: "${K}".`)})))}return await Promise.all(V),Y}get annotations(){const k=this._getInheritableProperty("Annots");return(0,c.shadow)(this,"annotations",Array.isArray(k)?k:[])}get _parsedAnnotations(){const k=this.pdfManager.ensure(this,"annotations").then(()=>{const H=[];for(const Z of this.annotations)H.push(n.AnnotationFactory.create(this.xref,Z,this.pdfManager,this._localIdFactory,!1).catch(function(Q){return(0,c.warn)(`_parsedAnnotations: "${Q}".`),null}));return Promise.all(H).then(function(Z){if(Z.length===0)return Z;const Q=[];let V;for(const Y of Z)if(!!Y){if(Y instanceof n.PopupAnnotation){V||(V=[]),V.push(Y);continue}Q.push(Y)}return V&&Q.push(...V),Q})});return(0,c.shadow)(this,"_parsedAnnotations",k)}get jsActions(){const k=(0,C.collectActions)(this.xref,this.pageDict,c.PageActionEventType);return(0,c.shadow)(this,"jsActions",k)}}s.Page=R;const I=new Uint8Array([37,80,68,70,45]),L=new Uint8Array([115,116,97,114,116,120,114,101,102]),x=new Uint8Array([101,110,100,111,98,106]),S=1024,W="\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0",U=/^[1-9]\.\d$/;function z(J,k){let H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1024,Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const Q=k.length,V=J.peekBytes(H),Y=V.length-Q;if(Y<=0)return!1;if(Z){const te=Q-1;let $=V.length-1;for(;$>=te;){let X=0;for(;X<Q&&V[$-X]===k[te-X];)X++;if(X>=Q)return J.pos+=$-te,!0;$--}}else{let te=0;for(;te<=Y;){let $=0;for(;$<Q&&V[te+$]===k[$];)$++;if($>=Q)return J.pos+=te,!0;te++}}return!1}class re{constructor(k,H){if(H.length<=0)throw new c.InvalidPDFException("The PDF file is empty, i.e. its size is zero bytes.");this.pdfManager=k,this.stream=H,this.xref=new q.XRef(H,k),this._pagePromises=new Map,this._version=null;const Z={font:0};this._globalIdFactory=class{static getDocId(){return`g_${k.docId}`}static createFontId(){return`f${++Z.font}`}static createObjId(){(0,c.unreachable)("Abstract method `createObjId` called.")}static getPageObjId(){(0,c.unreachable)("Abstract method `getPageObjId` called.")}}}parse(k){this.xref.parse(k),this.catalog=new B.Catalog(this.pdfManager,this.xref),this.catalog.version&&(this._version=this.catalog.version)}get linearization(){let k=null;try{k=b.Linearization.create(this.stream)}catch(H){if(H instanceof C.MissingDataException)throw H;(0,c.info)(H)}return(0,c.shadow)(this,"linearization",k)}get startXRef(){const k=this.stream;let H=0;if(this.linearization)k.reset(),z(k,x)&&(H=k.pos+6-k.start);else{const Q=L.length;let V=!1,Y=k.end;for(;!V&&Y>0;)Y-=1024-Q,Y<0&&(Y=0),k.pos=Y,V=z(k,L,1024,!0);if(V){k.skip(9);let te;do te=k.getByte();while((0,C.isWhiteSpace)(te));let $="";for(;te>=32&&te<=57;)$+=String.fromCharCode(te),te=k.getByte();H=parseInt($,10),isNaN(H)&&(H=0)}}return(0,c.shadow)(this,"startXRef",H)}checkHeader(){const k=this.stream;if(k.reset(),!z(k,I))return;k.moveStart();const H=12;let Z="",Q;for(;(Q=k.getByte())>32&&!(Z.length>=H);)Z+=String.fromCharCode(Q);this._version||(this._version=Z.substring(5))}parseStartXRef(){this.xref.setStartXRef(this.startXRef)}get numPages(){let k=0;return this.catalog.hasActualNumPages?k=this.catalog.numPages:this.xfaFactory?k=this.xfaFactory.getNumPages():this.linearization?k=this.linearization.numPages:k=this.catalog.numPages,(0,c.shadow)(this,"numPages",k)}_hasOnlyDocumentSignatures(k){let H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const Z=10;return Array.isArray(k)?k.every(Q=>{if(Q=this.xref.fetchIfRef(Q),!(Q instanceof m.Dict))return!1;if(Q.has("Kids"))return++H>Z?((0,c.warn)("_hasOnlyDocumentSignatures: maximum recursion depth reached"),!1):this._hasOnlyDocumentSignatures(Q.get("Kids"),H);const V=(0,m.isName)(Q.get("FT"),"Sig"),Y=Q.get("Rect"),te=Array.isArray(Y)&&Y.every($=>$===0);return V&&te}):!1}get _xfaStreams(){const k=this.catalog.acroForm;if(!k)return null;const H=k.get("XFA"),Z={"xdp:xdp":"",template:"",datasets:"",config:"",connectionSet:"",localeSet:"",stylesheet:"","/xdp:xdp":""};if(H instanceof E.BaseStream&&!H.isEmpty)return Z["xdp:xdp"]=H,Z;if(!Array.isArray(H)||H.length===0)return null;for(let Q=0,V=H.length;Q<V;Q+=2){let Y;if(Q===0?Y="xdp:xdp":Q===V-2?Y="/xdp:xdp":Y=H[Q],!Z.hasOwnProperty(Y))continue;const te=this.xref.fetchIfRef(H[Q+1]);!(te instanceof E.BaseStream)||te.isEmpty||(Z[Y]=te)}return Z}get xfaDatasets(){const k=this._xfaStreams;if(!k)return(0,c.shadow)(this,"xfaDatasets",null);for(const H of["datasets","xdp:xdp"]){const Z=k[H];if(!!Z)try{const Q=(0,c.stringToUTF8String)(Z.getString()),V={[H]:Q};return(0,c.shadow)(this,"xfaDatasets",new v.DatasetReader(V))}catch{(0,c.warn)("XFA - Invalid utf-8 string.");break}}return(0,c.shadow)(this,"xfaDatasets",null)}get xfaData(){const k=this._xfaStreams;if(!k)return null;const H=Object.create(null);for(const[Z,Q]of Object.entries(k))if(!!Q)try{H[Z]=(0,c.stringToUTF8String)(Q.getString())}catch{return(0,c.warn)("XFA - Invalid utf-8 string."),null}return H}get xfaFactory(){let k;return this.pdfManager.enableXfa&&this.catalog.needsRendering&&this.formInfo.hasXfa&&!this.formInfo.hasAcroForm&&(k=this.xfaData),(0,c.shadow)(this,"xfaFactory",k?new M.XFAFactory(k):null)}get isPureXfa(){return this.xfaFactory?this.xfaFactory.isValid():!1}get htmlForXfa(){return this.xfaFactory?this.xfaFactory.getPages():null}async loadXfaImages(){const k=await this.pdfManager.ensureCatalog("xfaImages");if(!k)return;const H=k.getKeys();await new T.ObjectLoader(k,H,this.xref).load();const Q=new Map;for(const V of H){const Y=k.get(V);Y instanceof E.BaseStream&&Q.set(V,Y.getBytes())}this.xfaFactory.setImages(Q)}async loadXfaFonts(k,H){const Z=await this.pdfManager.ensureCatalog("acroForm");if(!Z)return;const Q=await Z.getAsync("DR");if(!(Q instanceof m.Dict))return;await new T.ObjectLoader(Q,["Font"],this.xref).load();const Y=Q.get("Font");if(!(Y instanceof m.Dict))return;const te=Object.assign(Object.create(null),this.pdfManager.evaluatorOptions);te.useSystemFonts=!1;const $=new _.PartialEvaluator({xref:this.xref,handler:k,pageIndex:-1,idFactory:this._globalIdFactory,fontCache:this.catalog.fontCache,builtInCMapCache:this.catalog.builtInCMapCache,standardFontDataCache:this.catalog.standardFontDataCache,options:te}),X=new D.OperatorList,ne=[],ce={get font(){return ne.at(-1)},set font(oe){ne.push(oe)},clone(){return this}},se=new Map;Y.forEach((oe,le)=>{se.set(oe,le)});const K=[];for(const[oe,le]of se){const pe=le.get("FontDescriptor");if(!(pe instanceof m.Dict))continue;let fe=pe.get("FontFamily");fe=fe.replace(/[ ]+(\d)/g,"$1");const ue=pe.get("FontWeight"),ge=-pe.get("ItalicAngle"),he={fontFamily:fe,fontWeight:ue,italicAngle:ge};!(0,C.validateCSSFont)(he)||K.push($.handleSetFont(Q,[m.Name.get(oe),1],null,X,H,ce,null,he).catch(function(xe){return(0,c.warn)(`loadXfaFonts: "${xe}".`),null}))}await Promise.all(K);const ee=this.xfaFactory.setFonts(ne);if(!ee)return;te.ignoreErrors=!0,K.length=0,ne.length=0;const ie=new Set;for(const oe of ee)(0,e.getXfaFontName)(`${oe}-Regular`)||ie.add(oe);ie.size&&ee.push("PdfJS-Fallback");for(const oe of ee)if(!ie.has(oe))for(const le of[{name:"Regular",fontWeight:400,italicAngle:0},{name:"Bold",fontWeight:700,italicAngle:0},{name:"Italic",fontWeight:400,italicAngle:12},{name:"BoldItalic",fontWeight:700,italicAngle:12}]){const pe=`${oe}-${le.name}`,fe=(0,e.getXfaFontDict)(pe);K.push($.handleSetFont(Q,[m.Name.get(pe),1],null,X,H,ce,fe,{fontFamily:oe,fontWeight:le.fontWeight,italicAngle:le.italicAngle}).catch(function(ue){return(0,c.warn)(`loadXfaFonts: "${ue}".`),null}))}await Promise.all(K),this.xfaFactory.appendFonts(ne,ie)}async serializeXfaData(k){return this.xfaFactory?this.xfaFactory.serializeData(k):null}get formInfo(){const k={hasFields:!1,hasAcroForm:!1,hasXfa:!1,hasSignatures:!1},H=this.catalog.acroForm;if(!H)return(0,c.shadow)(this,"formInfo",k);try{const Z=H.get("Fields"),Q=Array.isArray(Z)&&Z.length>0;k.hasFields=Q;const V=H.get("XFA");k.hasXfa=Array.isArray(V)&&V.length>0||V instanceof E.BaseStream&&!V.isEmpty;const te=!!(H.get("SigFlags")&1),$=te&&this._hasOnlyDocumentSignatures(Z);k.hasAcroForm=Q&&!$,k.hasSignatures=te}catch(Z){if(Z instanceof C.MissingDataException)throw Z;(0,c.warn)(`Cannot fetch form information: "${Z}".`)}return(0,c.shadow)(this,"formInfo",k)}get documentInfo(){let k=this._version;(typeof k!="string"||!U.test(k))&&((0,c.warn)(`Invalid PDF header version number: ${k}`),k=null);const H={PDFFormatVersion:k,Language:this.catalog.lang,EncryptFilterName:this.xref.encrypt?this.xref.encrypt.filterName:null,IsLinearized:!!this.linearization,IsAcroFormPresent:this.formInfo.hasAcroForm,IsXFAPresent:this.formInfo.hasXfa,IsCollectionPresent:!!this.catalog.collection,IsSignaturesPresent:this.formInfo.hasSignatures};let Z;try{Z=this.xref.trailer.get("Info")}catch(Q){if(Q instanceof C.MissingDataException)throw Q;(0,c.info)("The document information dictionary is invalid.")}if(!(Z instanceof m.Dict))return(0,c.shadow)(this,"documentInfo",H);for(const Q of Z.getKeys()){const V=Z.get(Q);switch(Q){case"Title":case"Author":case"Subject":case"Keywords":case"Creator":case"Producer":case"CreationDate":case"ModDate":if(typeof V=="string"){H[Q]=(0,c.stringToPDFString)(V);continue}break;case"Trapped":if(V instanceof m.Name){H[Q]=V;continue}break;default:let Y;switch(typeof V){case"string":Y=(0,c.stringToPDFString)(V);break;case"number":case"boolean":Y=V;break;default:V instanceof m.Name&&(Y=V);break}if(Y===void 0){(0,c.warn)(`Bad value, for custom key "${Q}", in Info: ${V}.`);continue}H.Custom||(H.Custom=Object.create(null)),H.Custom[Q]=Y;continue}(0,c.warn)(`Bad value, for key "${Q}", in Info: ${V}.`)}return(0,c.shadow)(this,"documentInfo",H)}get fingerprints(){function k(Y){return typeof Y=="string"&&Y.length>0&&Y!==W}function H(Y){const te=[];for(let $=0,X=Y.length;$<X;$++){const ne=Y[$].toString(16);te.push(ne.padStart(2,"0"))}return te.join("")}const Z=this.xref.trailer.get("ID");let Q,V;return Array.isArray(Z)&&k(Z[0])?(Q=(0,c.stringToBytes)(Z[0]),Z[1]!==Z[0]&&k(Z[1])&&(V=(0,c.stringToBytes)(Z[1]))):Q=(0,A.calculateMD5)(this.stream.getByteRange(0,S),0,S),(0,c.shadow)(this,"fingerprints",[H(Q),V?H(V):null])}async _getLinearizationPage(k){const{catalog:H,linearization:Z,xref:Q}=this,V=m.Ref.get(Z.objectNumberFirst,0);try{const Y=await Q.fetchAsync(V);if(Y instanceof m.Dict){let te=Y.getRaw("Type");if(te instanceof m.Ref&&(te=await Q.fetchAsync(te)),(0,m.isName)(te,"Page")||!Y.has("Type")&&!Y.has("Kids"))return H.pageKidsCountCache.has(V)||H.pageKidsCountCache.put(V,1),H.pageIndexCache.has(V)||H.pageIndexCache.put(V,0),[Y,V]}throw new c.FormatError("The Linearization dictionary doesn't point to a valid Page dictionary.")}catch(Y){return(0,c.warn)(`_getLinearizationPage: "${Y.message}".`),H.getPageDict(k)}}getPage(k){const H=this._pagePromises.get(k);if(H)return H;const{catalog:Z,linearization:Q,xfaFactory:V}=this;let Y;return V?Y=Promise.resolve([m.Dict.empty,null]):Q&&Q.pageFirst===k?Y=this._getLinearizationPage(k):Y=Z.getPageDict(k),Y=Y.then(te=>{let[$,X]=te;return new R({pdfManager:this.pdfManager,xref:this.xref,pageIndex:k,pageDict:$,ref:X,globalIdFactory:this._globalIdFactory,fontCache:Z.fontCache,builtInCMapCache:Z.builtInCMapCache,standardFontDataCache:Z.standardFontDataCache,globalImageCache:Z.globalImageCache,nonBlendModesSet:Z.nonBlendModesSet,xfaFactory:V})}),this._pagePromises.set(k,Y),Y}async checkFirstPage(){if(!(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1))try{await this.getPage(0)}catch(H){if(H instanceof C.XRefEntryException)throw this._pagePromises.delete(0),await this.cleanup(),new C.XRefParseException}}async checkLastPage(){let k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{catalog:H,pdfManager:Z}=this;H.setActualNumPages();let Q;try{if(await Promise.all([Z.ensureDoc("xfaFactory"),Z.ensureDoc("linearization"),Z.ensureCatalog("numPages")]),this.xfaFactory)return;if(this.linearization?Q=this.linearization.numPages:Q=H.numPages,Number.isInteger(Q)){if(Q<=1)return}else throw new c.FormatError("Page count is not an integer.");await this.getPage(Q-1)}catch(V){if(this._pagePromises.delete(Q-1),await this.cleanup(),V instanceof C.XRefEntryException&&!k)throw new C.XRefParseException;(0,c.warn)(`checkLastPage - invalid /Pages tree /Count: ${Q}.`);let Y;try{Y=await H.getAllPageDicts(k)}catch(te){if(te instanceof C.XRefEntryException&&!k)throw new C.XRefParseException;H.setActualNumPages(1);return}for(const[te,[$,X]]of Y){let ne;$ instanceof Error?(ne=Promise.reject($),ne.catch(()=>{})):ne=Promise.resolve(new R({pdfManager:Z,xref:this.xref,pageIndex:te,pageDict:$,ref:X,globalIdFactory:this._globalIdFactory,fontCache:H.fontCache,builtInCMapCache:H.builtInCMapCache,standardFontDataCache:H.standardFontDataCache,globalImageCache:H.globalImageCache,nonBlendModesSet:H.nonBlendModesSet,xfaFactory:null})),this._pagePromises.set(te,ne)}H.setActualNumPages(Y.size)}}fontFallback(k,H){return this.catalog.fontFallback(k,H)}async cleanup(){let k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.catalog?this.catalog.cleanup(k):(0,O.clearGlobalCaches)()}_collectFieldObjects(k,H,Z){const Q=this.xref.fetchIfRef(H);if(Q.has("T")){const V=(0,c.stringToPDFString)(Q.get("T"));k===""?k=V:k=`${k}.${V}`}if(Z.has(k)||Z.set(k,[]),Z.get(k).push(n.AnnotationFactory.create(this.xref,H,this.pdfManager,this._localIdFactory,!0).then(V=>V&&V.getFieldObject()).catch(function(V){return(0,c.warn)(`_collectFieldObjects: "${V}".`),null})),Q.has("Kids")){const V=Q.get("Kids");for(const Y of V)this._collectFieldObjects(k,Y,Z)}}get fieldObjects(){if(!this.formInfo.hasFields)return(0,c.shadow)(this,"fieldObjects",Promise.resolve(null));const k=Object.create(null),H=new Map;for(const Q of this.catalog.acroForm.get("Fields"))this._collectFieldObjects("",Q,H);const Z=[];for(const[Q,V]of H)Z.push(Promise.all(V).then(Y=>{Y=Y.filter(te=>!!te),Y.length>0&&(k[Q]=Y)}));return(0,c.shadow)(this,"fieldObjects",Promise.all(Z).then(()=>k))}get hasJSActions(){const k=this.pdfManager.ensureDoc("_parseHasJSActions");return(0,c.shadow)(this,"hasJSActions",k)}async _parseHasJSActions(){const[k,H]=await Promise.all([this.pdfManager.ensureCatalog("jsActions"),this.pdfManager.ensureDoc("fieldObjects")]);return k?!0:H?Object.values(H).some(Z=>Z.some(Q=>Q.actions!==null)):!1}get calculationOrderIds(){const k=this.catalog.acroForm;if(!k||!k.has("CO"))return(0,c.shadow)(this,"calculationOrderIds",null);const H=k.get("CO");if(!Array.isArray(H)||H.length===0)return(0,c.shadow)(this,"calculationOrderIds",null);const Z=[];for(const Q of H)Q instanceof m.Ref&&Z.push(Q.toString());return Z.length===0?(0,c.shadow)(this,"calculationOrderIds",null):(0,c.shadow)(this,"calculationOrderIds",Z)}}s.PDFDocument=re},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PopupAnnotation=s.MarkupAnnotation=s.AnnotationFactory=s.AnnotationBorderStyle=s.Annotation=void 0,s.getQuadPoints=P;var n=u(2),c=u(131),C=u(138),m=u(130),e=u(190),E=u(132),A=u(185),B=u(194),O=u(139),v=u(197),b=u(200),o=u(187),T=u(135),D=u(201);class _{static create(K,ee,ie,oe,le){return Promise.all([ie.ensureCatalog("acroForm"),ie.ensureCatalog("baseUrl"),ie.ensureDoc("xfaDatasets"),le?this._getPageIndex(K,ee,ie):-1]).then(pe=>{let[fe,ue,ge,he]=pe;return ie.ensure(this,"_create",[K,ee,ie,oe,fe,ge,le,he])})}static _create(K,ee,ie,oe,le,pe,fe){let ue=arguments.length>7&&arguments[7]!==void 0?arguments[7]:-1;const ge=K.fetchIfRef(ee);if(!(ge instanceof m.Dict))return;const he=ee instanceof m.Ref?ee.toString():`annot_${oe.createObjId()}`;let xe=ge.get("Subtype");xe=xe instanceof m.Name?xe.name:null;const ye={xref:K,ref:ee,dict:ge,subtype:xe,id:he,pdfManager:ie,acroForm:le instanceof m.Dict?le:m.Dict.empty,xfaDatasets:pe,collectFields:fe,pageIndex:ue};switch(xe){case"Link":return new W(ye);case"Text":return new S(ye);case"Widget":let ve=(0,c.getInheritableProperty)({dict:ge,key:"FT"});switch(ve=ve instanceof m.Name?ve.name:null,ve){case"Tx":return new R(ye);case"Btn":return new I(ye);case"Ch":return new L(ye);case"Sig":return new x(ye)}return(0,n.warn)(`Unimplemented widget field type "${ve}", falling back to base field type.`),new G(ye);case"Popup":return new U(ye);case"FreeText":return new z(ye);case"Line":return new re(ye);case"Square":return new J(ye);case"Circle":return new k(ye);case"PolyLine":return new H(ye);case"Polygon":return new Z(ye);case"Caret":return new Q(ye);case"Ink":return new V(ye);case"Highlight":return new Y(ye);case"Underline":return new te(ye);case"Squiggly":return new $(ye);case"StrikeOut":return new X(ye);case"Stamp":return new ne(ye);case"FileAttachment":return new ce(ye);default:return fe||(xe?(0,n.warn)(`Unimplemented annotation type "${xe}", falling back to base annotation.`):(0,n.warn)("Annotation is missing the required /Subtype.")),new M(ye)}}static async _getPageIndex(K,ee,ie){try{const oe=await K.fetchIfRefAsync(ee);if(!(oe instanceof m.Dict))return-1;const le=oe.getRaw("P");return le instanceof m.Ref?await ie.ensureCatalog("getPageIndex",[le]):-1}catch(oe){return(0,n.warn)(`_getPageIndex: "${oe}".`),-1}}static async saveNewAnnotations(K,ee,ie){const oe=K.xref;let le;const pe=[],fe=[];for(const ue of ie)switch(ue.annotationType){case n.AnnotationEditorType.FREETEXT:if(!le){const ge=new m.Dict(oe);ge.set("BaseFont",m.Name.get("Helvetica")),ge.set("Type",m.Name.get("Font")),ge.set("Subtype",m.Name.get("Type1")),ge.set("Encoding",m.Name.get("WinAnsiEncoding"));const he=[];le=oe.getNewRef(),(0,e.writeObject)(le,ge,he,null),pe.push({ref:le,data:he.join("")})}fe.push(z.createNewAnnotation(oe,ue,pe,{evaluator:K,task:ee,baseFontRef:le}));break;case n.AnnotationEditorType.INK:fe.push(V.createNewAnnotation(oe,ue,pe))}return{annotations:await Promise.all(fe),dependencies:pe}}static async printNewAnnotations(K,ee,ie){if(!ie)return null;const oe=K.xref,le=[];for(const pe of ie)switch(pe.annotationType){case n.AnnotationEditorType.FREETEXT:le.push(z.createNewPrintAnnotation(oe,pe,{evaluator:K,task:ee}));break;case n.AnnotationEditorType.INK:le.push(V.createNewPrintAnnotation(oe,pe));break}return Promise.all(le)}}s.AnnotationFactory=_;function y(se){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Uint8ClampedArray(3);if(!Array.isArray(se))return K;const ee=K||new Uint8ClampedArray(3);switch(se.length){case 0:return null;case 1:return O.ColorSpace.singletons.gray.getRgbItem(se,0,ee,0),ee;case 3:return O.ColorSpace.singletons.rgb.getRgbItem(se,0,ee,0),ee;case 4:return O.ColorSpace.singletons.cmyk.getRgbItem(se,0,ee,0),ee;default:return K}}function P(se,K){if(!se.has("QuadPoints"))return null;const ee=se.getArray("QuadPoints");if(!Array.isArray(ee)||ee.length===0||ee.length%8>0)return null;const ie=[];for(let oe=0,le=ee.length/8;oe<le;oe++){ie.push([]);for(let pe=oe*8,fe=oe*8+8;pe<fe;pe+=2){const ue=ee[pe],ge=ee[pe+1];if(K!==null&&(ue<K[0]||ue>K[2]||ge<K[1]||ge>K[3]))return null;ie[oe].push({x:ue,y:ge})}}return ie.map(oe=>{const[le,pe,fe,ue]=oe.reduce((ge,he)=>{let[xe,ye,ve,ke]=ge;return[Math.min(xe,he.x),Math.max(ye,he.x),Math.min(ve,he.y),Math.max(ke,he.y)]},[Number.MAX_VALUE,Number.MIN_VALUE,Number.MAX_VALUE,Number.MIN_VALUE]);return[{x:le,y:ue},{x:pe,y:ue},{x:le,y:fe},{x:pe,y:fe}]})}function w(se,K,ee){const[ie,oe,le,pe]=n.Util.getAxialAlignedBoundingBox(K,ee);if(ie===le||oe===pe)return[1,0,0,1,se[0],se[1]];const fe=(se[2]-se[0])/(le-ie),ue=(se[3]-se[1])/(pe-oe);return[fe,0,0,ue,se[0]-ie*fe,se[1]-oe*ue]}class M{constructor(K){const ee=K.dict;this.setTitle(ee.get("T")),this.setContents(ee.get("Contents")),this.setModificationDate(ee.get("M")),this.setFlags(ee.get("F")),this.setRectangle(ee.getArray("Rect")),this.setColor(ee.getArray("C")),this.setBorderStyle(ee),this.setAppearance(ee),this.setOptionalContent(ee);const ie=ee.get("MK");if(this.setBorderAndBackgroundColors(ie),this.setRotation(ie),this._streams=[],this.appearance&&this._streams.push(this.appearance),this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,backgroundColor:this.backgroundColor,borderColor:this.borderColor,rotation:this.rotation,contentsObj:this._contents,hasAppearance:!!this.appearance,id:K.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:K.subtype,hasOwnCanvas:!1},K.collectFields){const oe=ee.get("Kids");if(Array.isArray(oe)){const le=[];for(const pe of oe)pe instanceof m.Ref&&le.push(pe.toString());le.length!==0&&(this.data.kidIds=le)}this.data.actions=(0,c.collectActions)(K.xref,ee,n.AnnotationActionEventType),this.data.fieldName=this._constructFieldName(ee),this.data.pageIndex=K.pageIndex}this._fallbackFontDict=null}_hasFlag(K,ee){return!!(K&ee)}_isViewable(K){return!this._hasFlag(K,n.AnnotationFlag.INVISIBLE)&&!this._hasFlag(K,n.AnnotationFlag.NOVIEW)}_isPrintable(K){return this._hasFlag(K,n.AnnotationFlag.PRINT)&&!this._hasFlag(K,n.AnnotationFlag.INVISIBLE)}mustBeViewed(K){const ee=K&&K.get(this.data.id);return ee&&ee.hidden!==void 0?!ee.hidden:this.viewable&&!this._hasFlag(this.flags,n.AnnotationFlag.HIDDEN)}mustBePrinted(K){const ee=K&&K.get(this.data.id);return ee&&ee.print!==void 0?ee.print:this.printable}get viewable(){return this.data.quadPoints===null?!1:this.flags===0?!0:this._isViewable(this.flags)}get printable(){return this.data.quadPoints===null||this.flags===0?!1:this._isPrintable(this.flags)}_parseStringHelper(K){const ee=typeof K=="string"?(0,n.stringToPDFString)(K):"",ie=ee&&(0,A.bidi)(ee).dir==="rtl"?"rtl":"ltr";return{str:ee,dir:ie}}setTitle(K){this._title=this._parseStringHelper(K)}setContents(K){this._contents=this._parseStringHelper(K)}setModificationDate(K){this.modificationDate=typeof K=="string"?K:null}setFlags(K){this.flags=Number.isInteger(K)&&K>0?K:0}hasFlag(K){return this._hasFlag(this.flags,K)}setRectangle(K){Array.isArray(K)&&K.length===4?this.rectangle=n.Util.normalizeRect(K):this.rectangle=[0,0,0,0]}setColor(K){this.color=y(K)}setLineEndings(K){if(this.lineEndings=["None","None"],Array.isArray(K)&&K.length===2)for(let ee=0;ee<2;ee++){const ie=K[ee];if(ie instanceof m.Name)switch(ie.name){case"None":continue;case"Square":case"Circle":case"Diamond":case"OpenArrow":case"ClosedArrow":case"Butt":case"ROpenArrow":case"RClosedArrow":case"Slash":this.lineEndings[ee]=ie.name;continue}(0,n.warn)(`Ignoring invalid lineEnding: ${ie}`)}}setRotation(K){if(this.rotation=0,K instanceof m.Dict){let ee=K.get("R")||0;Number.isInteger(ee)&&ee!==0&&(ee%=360,ee<0&&(ee+=360),ee%90===0&&(this.rotation=ee))}}setBorderAndBackgroundColors(K){K instanceof m.Dict?(this.borderColor=y(K.getArray("BC"),null),this.backgroundColor=y(K.getArray("BG"),null)):this.borderColor=this.backgroundColor=null}setBorderStyle(K){if(this.borderStyle=new q,K instanceof m.Dict)if(K.has("BS")){const ee=K.get("BS"),ie=ee.get("Type");(!ie||(0,m.isName)(ie,"Border"))&&(this.borderStyle.setWidth(ee.get("W"),this.rectangle),this.borderStyle.setStyle(ee.get("S")),this.borderStyle.setDashArray(ee.getArray("D")))}else if(K.has("Border")){const ee=K.getArray("Border");Array.isArray(ee)&&ee.length>=3&&(this.borderStyle.setHorizontalCornerRadius(ee[0]),this.borderStyle.setVerticalCornerRadius(ee[1]),this.borderStyle.setWidth(ee[2],this.rectangle),ee.length===4&&this.borderStyle.setDashArray(ee[3],!0))}else this.borderStyle.setWidth(0)}setAppearance(K){this.appearance=null;const ee=K.get("AP");if(!(ee instanceof m.Dict))return;const ie=ee.get("N");if(ie instanceof E.BaseStream){this.appearance=ie;return}if(!(ie instanceof m.Dict))return;const oe=K.get("AS");!(oe instanceof m.Name)||!ie.has(oe.name)||(this.appearance=ie.get(oe.name))}setOptionalContent(K){this.oc=null;const ee=K.get("OC");ee instanceof m.Name?(0,n.warn)("setOptionalContent: Support for /Name-entry is not implemented."):ee instanceof m.Dict&&(this.oc=ee)}loadResources(K,ee){return ee.dict.getAsync("Resources").then(ie=>ie?new b.ObjectLoader(ie,K,ie.xref).load().then(function(){return ie}):void 0)}async getOperatorList(K,ee,ie,oe,le){const pe=this.data;let fe=this.appearance;const ue=!!(this.data.hasOwnCanvas&&ie&n.RenderingIntentFlag.DISPLAY);if(!fe){if(!ue)return{opList:new o.OperatorList,separateForm:!1,separateCanvas:!1};fe=new T.StringStream(""),fe.dict=new m.Dict}const ge=fe.dict,he=await this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"],fe),xe=ge.getArray("BBox")||[0,0,1,1],ye=ge.getArray("Matrix")||[1,0,0,1,0,0],ve=w(pe.rect,xe,ye),ke=new o.OperatorList;let Se;return this.oc&&(Se=await K.parseMarkedContentProps(this.oc,null)),Se!==void 0&&ke.addOp(n.OPS.beginMarkedContentProps,["OC",Se]),ke.addOp(n.OPS.beginAnnotation,[pe.id,pe.rect,ve,ye,ue]),await K.getOperatorList({stream:fe,task:ee,resources:he,operatorList:ke,fallbackFontDict:this._fallbackFontDict}),ke.addOp(n.OPS.endAnnotation,[]),Se!==void 0&&ke.addOp(n.OPS.endMarkedContent,[]),this.reset(),{opList:ke,separateForm:!1,separateCanvas:ue}}async save(K,ee,ie){return null}get hasTextContent(){return!1}async extractTextContent(K,ee,ie){if(!this.appearance)return;const oe=await this.loadResources(["ExtGState","Font","Properties","XObject"],this.appearance),le=[],pe=[],fe={desiredSize:Math.Infinity,ready:!0,enqueue(ue,ge){for(const he of ue.items)pe.push(he.str),he.hasEOL&&(le.push(pe.join("")),pe.length=0)}};await K.getTextContent({stream:this.appearance,task:ee,resources:oe,includeMarkedContent:!0,combineTextItems:!0,sink:fe,viewBox:ie}),this.reset(),pe.length&&le.push(pe.join("")),le.length>0&&(this.data.textContent=le)}getFieldObject(){return this.data.kidIds?{id:this.data.id,actions:this.data.actions,name:this.data.fieldName,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,type:"",kidIds:this.data.kidIds,page:this.data.pageIndex,rotation:this.rotation}:null}reset(){for(const K of this._streams)K.reset()}_constructFieldName(K){if(!K.has("T")&&!K.has("Parent"))return(0,n.warn)("Unknown field name, falling back to empty field name."),"";if(!K.has("Parent"))return(0,n.stringToPDFString)(K.get("T"));const ee=[];K.has("T")&&ee.unshift((0,n.stringToPDFString)(K.get("T")));let ie=K;const oe=new m.RefSet;for(K.objId&&oe.put(K.objId);ie.has("Parent")&&(ie=ie.get("Parent"),!(!(ie instanceof m.Dict)||ie.objId&&oe.has(ie.objId)));)ie.objId&&oe.put(ie.objId),ie.has("T")&&ee.unshift((0,n.stringToPDFString)(ie.get("T")));return ee.join(".")}}s.Annotation=M;class q{constructor(){this.width=1,this.style=n.AnnotationBorderStyleType.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}setWidth(K){let ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0,0];if(K instanceof m.Name){this.width=0;return}if(typeof K=="number"){if(K>0){const ie=(ee[2]-ee[0])/2,oe=(ee[3]-ee[1])/2;ie>0&&oe>0&&(K>ie||K>oe)&&((0,n.warn)(`AnnotationBorderStyle.setWidth - ignoring width: ${K}`),K=1)}this.width=K}}setStyle(K){if(K instanceof m.Name)switch(K.name){case"S":this.style=n.AnnotationBorderStyleType.SOLID;break;case"D":this.style=n.AnnotationBorderStyleType.DASHED;break;case"B":this.style=n.AnnotationBorderStyleType.BEVELED;break;case"I":this.style=n.AnnotationBorderStyleType.INSET;break;case"U":this.style=n.AnnotationBorderStyleType.UNDERLINE;break}}setDashArray(K){let ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Array.isArray(K)&&K.length>0){let ie=!0,oe=!0;for(const le of K)if(+le>=0)le>0&&(oe=!1);else{ie=!1;break}ie&&!oe?(this.dashArray=K,ee&&this.setStyle(m.Name.get("D"))):this.width=0}else K&&(this.width=0)}setHorizontalCornerRadius(K){Number.isInteger(K)&&(this.horizontalCornerRadius=K)}setVerticalCornerRadius(K){Number.isInteger(K)&&(this.verticalCornerRadius=K)}}s.AnnotationBorderStyle=q;class F extends M{constructor(K){super(K);const ee=K.dict;if(ee.has("IRT")){const ie=ee.getRaw("IRT");this.data.inReplyTo=ie instanceof m.Ref?ie.toString():null;const oe=ee.get("RT");this.data.replyType=oe instanceof m.Name?oe.name:n.AnnotationReplyType.REPLY}if(this.data.replyType===n.AnnotationReplyType.GROUP){const ie=ee.get("IRT");this.setTitle(ie.get("T")),this.data.titleObj=this._title,this.setContents(ie.get("Contents")),this.data.contentsObj=this._contents,ie.has("CreationDate")?(this.setCreationDate(ie.get("CreationDate")),this.data.creationDate=this.creationDate):this.data.creationDate=null,ie.has("M")?(this.setModificationDate(ie.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,this.data.hasPopup=ie.has("Popup"),ie.has("C")?(this.setColor(ie.getArray("C")),this.data.color=this.color):this.data.color=null}else this.data.titleObj=this._title,this.setCreationDate(ee.get("CreationDate")),this.data.creationDate=this.creationDate,this.data.hasPopup=ee.has("Popup"),ee.has("C")||(this.data.color=null);ee.has("RC")&&(this.data.richText=D.XFAFactory.getRichTextAsHtml(ee.get("RC")))}setCreationDate(K){this.creationDate=typeof K=="string"?K:null}_setDefaultAppearance(K){let{xref:ee,extra:ie,strokeColor:oe,fillColor:le,blendMode:pe,strokeAlpha:fe,fillAlpha:ue,pointsCallback:ge}=K,he=Number.MAX_VALUE,xe=Number.MAX_VALUE,ye=Number.MIN_VALUE,ve=Number.MIN_VALUE;const ke=["q"];ie&&ke.push(ie),oe&&ke.push(`${oe[0]} ${oe[1]} ${oe[2]} RG`),le&&ke.push(`${le[0]} ${le[1]} ${le[2]} rg`);let Se=this.data.quadPoints;Se||(Se=[[{x:this.rectangle[0],y:this.rectangle[3]},{x:this.rectangle[2],y:this.rectangle[3]},{x:this.rectangle[0],y:this.rectangle[1]},{x:this.rectangle[2],y:this.rectangle[1]}]]);for(const Me of Se){const[Te,Le,Be,Ae]=ge(ke,Me);he=Math.min(he,Te),ye=Math.max(ye,Le),xe=Math.min(xe,Be),ve=Math.max(ve,Ae)}ke.push("Q");const be=new m.Dict(ee),Ee=new m.Dict(ee);Ee.set("Subtype",m.Name.get("Form"));const Oe=new T.StringStream(ke.join(" "));Oe.dict=Ee,be.set("Fm0",Oe);const Fe=new m.Dict(ee);pe&&Fe.set("BM",m.Name.get(pe)),typeof fe=="number"&&Fe.set("CA",fe),typeof ue=="number"&&Fe.set("ca",ue);const Re=new m.Dict(ee);Re.set("GS0",Fe);const Ne=new m.Dict(ee);Ne.set("ExtGState",Re),Ne.set("XObject",be);const Pe=new m.Dict(ee);Pe.set("Resources",Ne);const Ie=this.data.rect=[he,xe,ye,ve];Pe.set("BBox",Ie),this.appearance=new T.StringStream("/GS0 gs /Fm0 Do"),this.appearance.dict=Pe,this._streams.push(this.appearance,Oe)}static async createNewAnnotation(K,ee,ie,oe){const le=K.getNewRef(),pe=K.getNewRef(),fe=this.createNewDict(ee,K,{apRef:pe}),ue=await this.createNewAppearanceStream(ee,K,oe),ge=[];let he=K.encrypt?K.encrypt.createCipherTransform(pe.num,pe.gen):null;return(0,e.writeObject)(pe,ue,ge,he),ie.push({ref:pe,data:ge.join("")}),ge.length=0,he=K.encrypt?K.encrypt.createCipherTransform(le.num,le.gen):null,(0,e.writeObject)(le,fe,ge,he),{ref:le,data:ge.join("")}}static async createNewPrintAnnotation(K,ee,ie){const oe=await this.createNewAppearanceStream(ee,K,ie),le=this.createNewDict(ee,K,{ap:oe});return new this.prototype.constructor({dict:le,xref:K})}}s.MarkupAnnotation=F;class G extends M{constructor(K){super(K);const ee=K.dict,ie=this.data;this.ref=K.ref,ie.annotationType=n.AnnotationType.WIDGET,ie.fieldName===void 0&&(ie.fieldName=this._constructFieldName(ee)),ie.actions===void 0&&(ie.actions=(0,c.collectActions)(K.xref,ee,n.AnnotationActionEventType));let oe=(0,c.getInheritableProperty)({dict:ee,key:"V",getArray:!0});ie.fieldValue=this._decodeFormValue(oe);const le=(0,c.getInheritableProperty)({dict:ee,key:"DV",getArray:!0});if(ie.defaultFieldValue=this._decodeFormValue(le),oe===void 0&&K.xfaDatasets){const xe=this._title.str;xe&&(this._hasValueFromXFA=!0,ie.fieldValue=oe=K.xfaDatasets.getValue(xe))}oe===void 0&&ie.defaultFieldValue!==null&&(ie.fieldValue=ie.defaultFieldValue),ie.alternativeText=(0,n.stringToPDFString)(ee.get("TU")||"");const pe=(0,c.getInheritableProperty)({dict:ee,key:"DA"})||K.acroForm.get("DA");this._defaultAppearance=typeof pe=="string"?pe:"",ie.defaultAppearanceData=(0,C.parseDefaultAppearance)(this._defaultAppearance);const fe=(0,c.getInheritableProperty)({dict:ee,key:"FT"});ie.fieldType=fe instanceof m.Name?fe.name:null;const ue=(0,c.getInheritableProperty)({dict:ee,key:"DR"}),ge=K.acroForm.get("DR"),he=this.appearance&&this.appearance.dict.get("Resources");this._fieldResources={localResources:ue,acroFormResources:ge,appearanceResources:he,mergedResources:m.Dict.merge({xref:K.xref,dictArray:[ue,he,ge],mergeSubDicts:!0})},ie.fieldFlags=(0,c.getInheritableProperty)({dict:ee,key:"Ff"}),(!Number.isInteger(ie.fieldFlags)||ie.fieldFlags<0)&&(ie.fieldFlags=0),ie.readOnly=this.hasFieldFlag(n.AnnotationFieldFlag.READONLY),ie.required=this.hasFieldFlag(n.AnnotationFieldFlag.REQUIRED),ie.hidden=this._hasFlag(ie.annotationFlags,n.AnnotationFlag.HIDDEN)}_decodeFormValue(K){return Array.isArray(K)?K.filter(ee=>typeof ee=="string").map(ee=>(0,n.stringToPDFString)(ee)):K instanceof m.Name?(0,n.stringToPDFString)(K.name):typeof K=="string"?(0,n.stringToPDFString)(K):null}hasFieldFlag(K){return!!(this.data.fieldFlags&K)}static _getRotationMatrix(K,ee,ie){switch(K){case 90:return[0,1,-1,0,ee,0];case 180:return[-1,0,0,-1,ee,ie];case 270:return[0,-1,1,0,0,ie];default:throw new Error("Invalid rotation")}}getRotationMatrix(K){const ee=K?K.get(this.data.id):void 0;let ie=ee&&ee.rotation;if(ie===void 0&&(ie=this.rotation),ie===0)return n.IDENTITY_MATRIX;const oe=this.data.rect[2]-this.data.rect[0],le=this.data.rect[3]-this.data.rect[1];return G._getRotationMatrix(ie,oe,le)}getBorderAndBackgroundAppearances(K){const ee=K?K.get(this.data.id):void 0;let ie=ee&&ee.rotation;if(ie===void 0&&(ie=this.rotation),!this.backgroundColor&&!this.borderColor)return"";const oe=this.data.rect[2]-this.data.rect[0],le=this.data.rect[3]-this.data.rect[1],pe=ie===0||ie===180?`0 0 ${oe} ${le} re`:`0 0 ${le} ${oe} re`;let fe="";if(this.backgroundColor&&(fe=`${(0,C.getPdfColor)(this.backgroundColor,!0)} ${pe} f `),this.borderColor){const ue=this.borderStyle.width||1;fe+=`${ue} w ${(0,C.getPdfColor)(this.borderColor,!1)} ${pe} S `}return fe}async getOperatorList(K,ee,ie,oe,le){if(oe&&!(this instanceof x))return{opList:new o.OperatorList,separateForm:!0,separateCanvas:!1};if(!this._hasText)return super.getOperatorList(K,ee,ie,oe,le);const pe=await this._getAppearance(K,ee,le);if(this.appearance&&pe===null)return super.getOperatorList(K,ee,ie,oe,le);const fe=new o.OperatorList;if(!this._defaultAppearance||pe===null)return{opList:fe,separateForm:!1,separateCanvas:!1};const ue=[1,0,0,1,0,0],ge=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],he=w(this.data.rect,ge,ue);let xe;this.oc&&(xe=await K.parseMarkedContentProps(this.oc,null)),xe!==void 0&&fe.addOp(n.OPS.beginMarkedContentProps,["OC",xe]),fe.addOp(n.OPS.beginAnnotation,[this.data.id,this.data.rect,he,this.getRotationMatrix(le),!1]);const ye=new T.StringStream(pe);return await K.getOperatorList({stream:ye,task:ee,resources:this._fieldResources.mergedResources,operatorList:fe}),fe.addOp(n.OPS.endAnnotation,[]),xe!==void 0&&fe.addOp(n.OPS.endMarkedContent,[]),{opList:fe,separateForm:!1,separateCanvas:!1}}_getMKDict(K){const ee=new m.Dict(null);return K&&ee.set("R",K),this.borderColor&&ee.set("BC",Array.from(this.borderColor).map(ie=>ie/255)),this.backgroundColor&&ee.set("BG",Array.from(this.backgroundColor).map(ie=>ie/255)),ee.size>0?ee:null}async save(K,ee,ie){const oe=ie?ie.get(this.data.id):void 0;let le=oe&&oe.value,pe=oe&&oe.rotation;if(le===this.data.fieldValue||le===void 0){if(!this._hasValueFromXFA&&pe===void 0)return null;le=le||this.data.fieldValue}if(pe===void 0&&!this._hasValueFromXFA&&Array.isArray(le)&&Array.isArray(this.data.fieldValue)&&le.length===this.data.fieldValue.length&&le.every((Ie,Me)=>Ie===this.data.fieldValue[Me]))return null;pe===void 0&&(pe=this.rotation);let fe=await this._getAppearance(K,ee,ie);if(fe===null)return null;const{xref:ue}=K,ge=ue.fetchIfRef(this.ref);if(!(ge instanceof m.Dict))return null;const he=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],xe={path:(0,n.stringToPDFString)(ge.get("T")||""),value:le},ye=ue.getNewRef(),ve=new m.Dict(ue);ve.set("N",ye);const ke=ue.encrypt;let Se=null,be=null;ke&&(Se=ke.createCipherTransform(this.ref.num,this.ref.gen),be=ke.createCipherTransform(ye.num,ye.gen),fe=be.encryptString(fe));const Ee=Ie=>(0,n.isAscii)(Ie)?Ie:(0,n.stringToUTF16BEString)(Ie);ge.set("V",Array.isArray(le)?le.map(Ee):Ee(le)),ge.set("AP",ve),ge.set("M",`D:${(0,n.getModificationDate)()}`);const Oe=this._getMKDict(pe);Oe&&ge.set("MK",Oe);const Fe=new m.Dict(ue);Fe.set("Length",fe.length),Fe.set("Subtype",m.Name.get("Form")),Fe.set("Resources",this._getSaveFieldResources(ue)),Fe.set("BBox",he);const Re=this.getRotationMatrix(ie);Re!==n.IDENTITY_MATRIX&&Fe.set("Matrix",Re);const Ne=[`${this.ref.num} ${this.ref.gen} obj
`];(0,e.writeDict)(ge,Ne,Se),Ne.push(`
endobj
`);const Pe=[`${ye.num} ${ye.gen} obj
`];return(0,e.writeDict)(Fe,Pe,be),Pe.push(` stream
`,fe,`
endstream
endobj
`),[{ref:this.ref,data:Ne.join(""),xfa:xe},{ref:ye,data:Pe.join(""),xfa:null}]}async _getAppearance(K,ee,ie){if(this.hasFieldFlag(n.AnnotationFieldFlag.PASSWORD))return null;const le=ie?ie.get(this.data.id):void 0;let pe,fe;if(le&&(pe=le.formattedValue||le.value,fe=le.rotation),fe===void 0&&pe===void 0&&(!this._hasValueFromXFA||this.appearance))return null;if(pe===void 0&&(pe=this.data.fieldValue,!pe)||(Array.isArray(pe)&&pe.length===1&&(pe=pe[0]),(0,n.assert)(typeof pe=="string","Expected `value` to be a string."),pe=pe.trim(),pe===""))return"";fe===void 0&&(fe=this.rotation);let ue=-1;this.data.multiLine&&(ue=pe.split(/\r\n|\r|\n/).length);const ge=2,he=ge;let xe=this.data.rect[3]-this.data.rect[1],ye=this.data.rect[2]-this.data.rect[0];(fe===90||fe===270)&&([ye,xe]=[xe,ye]),this._defaultAppearance||(this.data.defaultAppearanceData=(0,C.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const ve=await G._getFontData(K,ee,this.data.defaultAppearanceData,this._fieldResources.mergedResources),[ke,Se]=this._computeFontSize(xe-ge,ye-2*he,pe,ve,ue);let be=ve.descent;isNaN(be)&&(be=0);const Oe=Math.min(Math.floor((xe-Se)/2),ge)+Math.abs(be)*Se,Fe=this.data.textAlignment;if(this.data.multiLine)return this._getMultilineAppearance(ke,pe,ve,Se,ye,xe,Fe,he,Oe,ie);const Re=ve.encodeString(pe).join("");if(this.data.comb)return this._getCombAppearance(ke,ve,Re,ye,he,Oe,ie);const Ne=this.getBorderAndBackgroundAppearances(ie);if(Fe===0||Fe>2)return`/Tx BMC q ${Ne}BT `+ke+` 1 0 0 1 ${he} ${Oe} Tm (${(0,n.escapeString)(Re)}) Tj ET Q EMC`;const Pe=this._renderText(Re,ve,Se,ye,Fe,he,Oe);return`/Tx BMC q ${Ne}BT `+ke+` 1 0 0 1 0 0 Tm ${Pe} ET Q EMC`}static async _getFontData(K,ee,ie,oe){const le=new o.OperatorList,pe={font:null,clone(){return this}},{fontName:fe,fontSize:ue}=ie;return await K.handleSetFont(oe,[fe&&m.Name.get(fe),ue],null,le,ee,pe,null),pe.font}_getTextWidth(K,ee){return ee.charsToGlyphs(K).reduce((ie,oe)=>ie+oe.width,0)/1e3}_computeFontSize(K,ee,ie,oe,le){let{fontSize:pe}=this.data.defaultAppearanceData;if(!pe){const fe=he=>Math.floor(he*100)/100;if(le===-1){const he=this._getTextWidth(ie,oe);pe=fe(Math.min(K/n.LINE_FACTOR,ee/he))}else{const he=ie.split(/\r\n?|\n/),xe=[];for(const Se of he){const be=oe.encodeString(Se).join(""),Ee=oe.charsToGlyphs(be),Oe=oe.getCharPositions(be);xe.push({line:be,glyphs:Ee,positions:Oe})}const ye=Se=>{let be=0;for(const Ee of xe){const Oe=this._splitLine(null,oe,Se,ee,Ee);if(be+=Oe.length*Se,be>K)return!0}return!1};pe=12;let ve=pe*n.LINE_FACTOR,ke=Math.round(K/ve);for(ke=Math.max(ke,le);;){if(ve=K/ke,pe=fe(ve/n.LINE_FACTOR),ye(pe)){ke++;continue}break}}const{fontName:ue,fontColor:ge}=this.data.defaultAppearanceData;this._defaultAppearance=(0,C.createDefaultAppearance)({fontSize:pe,fontName:ue,fontColor:ge})}return[this._defaultAppearance,pe]}_renderText(K,ee,ie,oe,le,pe,fe){let ue;if(le===1){const ge=this._getTextWidth(K,ee)*ie;ue=(oe-ge)/2}else if(le===2){const ge=this._getTextWidth(K,ee)*ie;ue=oe-ge-pe}else ue=pe;return ue=(0,c.numberToString)(ue),fe=(0,c.numberToString)(fe),`${ue} ${fe} Td (${(0,n.escapeString)(K)}) Tj`}_getSaveFieldResources(K){const{localResources:ee,appearanceResources:ie,acroFormResources:oe}=this._fieldResources,le=this.data.defaultAppearanceData&&this.data.defaultAppearanceData.fontName;if(!le)return ee||m.Dict.empty;for(const pe of[ee,ie])if(pe instanceof m.Dict){const fe=pe.get("Font");if(fe instanceof m.Dict&&fe.has(le))return pe}if(oe instanceof m.Dict){const pe=oe.get("Font");if(pe instanceof m.Dict&&pe.has(le)){const fe=new m.Dict(K);fe.set(le,pe.getRaw(le));const ue=new m.Dict(K);return ue.set("Font",fe),m.Dict.merge({xref:K,dictArray:[ue,ee],mergeSubDicts:!0})}}return ee||m.Dict.empty}getFieldObject(){return null}}class R extends G{constructor(K){super(K),this._hasText=!0;const ee=K.dict;typeof this.data.fieldValue!="string"&&(this.data.fieldValue="");let ie=(0,c.getInheritableProperty)({dict:ee,key:"Q"});(!Number.isInteger(ie)||ie<0||ie>2)&&(ie=null),this.data.textAlignment=ie;let oe=(0,c.getInheritableProperty)({dict:ee,key:"MaxLen"});(!Number.isInteger(oe)||oe<0)&&(oe=0),this.data.maxLen=oe,this.data.multiLine=this.hasFieldFlag(n.AnnotationFieldFlag.MULTILINE),this.data.comb=this.hasFieldFlag(n.AnnotationFieldFlag.COMB)&&!this.hasFieldFlag(n.AnnotationFieldFlag.MULTILINE)&&!this.hasFieldFlag(n.AnnotationFieldFlag.PASSWORD)&&!this.hasFieldFlag(n.AnnotationFieldFlag.FILESELECT)&&this.data.maxLen!==0,this.data.doNotScroll=this.hasFieldFlag(n.AnnotationFieldFlag.DONOTSCROLL)}_getCombAppearance(K,ee,ie,oe,le,pe,fe){const ue=(0,c.numberToString)(oe/this.data.maxLen),ge=[],he=ee.getCharPositions(ie);for(const[ve,ke]of he)ge.push(`(${(0,n.escapeString)(ie.substring(ve,ke))}) Tj`);const xe=this.getBorderAndBackgroundAppearances(fe),ye=ge.join(` ${ue} 0 Td `);return`/Tx BMC q ${xe}BT `+K+` 1 0 0 1 ${le} ${pe} Tm ${ye} ET Q EMC`}_getMultilineAppearance(K,ee,ie,oe,le,pe,fe,ue,ge,he){const xe=ee.split(/\r\n?|\n/),ye=[],ve=le-2*ue;for(const be of xe){const Ee=this._splitLine(be,ie,oe,ve);for(const Oe of Ee){const Fe=ye.length===0?ue:0;ye.push(this._renderText(Oe,ie,oe,le,fe,Fe,-oe))}}const ke=ye.join(`
`);return`/Tx BMC q ${this.getBorderAndBackgroundAppearances(he)}BT `+K+` 1 0 0 1 0 ${pe} Tm ${ke} ET Q EMC`}_splitLine(K,ee,ie,oe){let le=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};K=le.line||ee.encodeString(K).join("");const pe=le.glyphs||ee.charsToGlyphs(K);if(pe.length<=1)return[K];const fe=le.positions||ee.getCharPositions(K),ue=ie/1e3,ge=[];let he=-1,xe=-1,ye=-1,ve=0,ke=0;for(let Se=0,be=pe.length;Se<be;Se++){const[Ee,Oe]=fe[Se],Fe=pe[Se],Re=Fe.width*ue;Fe.unicode===" "?ke+Re>oe?(ge.push(K.substring(ve,Ee)),ve=Ee,ke=Re,he=-1,ye=-1):(ke+=Re,he=Ee,xe=Oe,ye=Se):ke+Re>oe?he!==-1?(ge.push(K.substring(ve,xe)),ve=xe,Se=ye+1,he=-1,ke=0):(ge.push(K.substring(ve,Ee)),ve=Ee,ke=Re):ke+=Re}return ve<K.length&&ge.push(K.substring(ve,K.length)),ge}getFieldObject(){return{id:this.data.id,value:this.data.fieldValue,defaultValue:this.data.defaultFieldValue||"",multiline:this.data.multiLine,password:this.hasFieldFlag(n.AnnotationFieldFlag.PASSWORD),charLimit:this.data.maxLen,comb:this.data.comb,editable:!this.data.readOnly,hidden:this.data.hidden,name:this.data.fieldName,rect:this.data.rect,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:"text"}}}class I extends G{constructor(K){super(K),this.checkedAppearance=null,this.uncheckedAppearance=null,this.data.checkBox=!this.hasFieldFlag(n.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(n.AnnotationFieldFlag.PUSHBUTTON),this.data.radioButton=this.hasFieldFlag(n.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(n.AnnotationFieldFlag.PUSHBUTTON),this.data.pushButton=this.hasFieldFlag(n.AnnotationFieldFlag.PUSHBUTTON),this.data.isTooltipOnly=!1,this.data.checkBox?this._processCheckBox(K):this.data.radioButton?this._processRadioButton(K):this.data.pushButton?(this.data.hasOwnCanvas=!0,this._processPushButton(K)):(0,n.warn)("Invalid field flags for button widget annotation")}async getOperatorList(K,ee,ie,oe,le){if(this.data.pushButton)return super.getOperatorList(K,ee,ie,!1,le);let pe=null,fe=null;if(le){const ge=le.get(this.data.id);pe=ge?ge.value:null,fe=ge?ge.rotation:null}if(pe===null&&this.appearance)return super.getOperatorList(K,ee,ie,oe,le);pe==null&&(this.data.checkBox?pe=this.data.fieldValue===this.data.exportValue:pe=this.data.fieldValue===this.data.buttonValue);const ue=pe?this.checkedAppearance:this.uncheckedAppearance;if(ue){const ge=this.appearance,he=ue.dict.getArray("Matrix")||n.IDENTITY_MATRIX;fe&&ue.dict.set("Matrix",this.getRotationMatrix(le)),this.appearance=ue;const xe=super.getOperatorList(K,ee,ie,oe,le);return this.appearance=ge,ue.dict.set("Matrix",he),xe}return{opList:new o.OperatorList,separateForm:!1,separateCanvas:!1}}async save(K,ee,ie){return this.data.checkBox?this._saveCheckbox(K,ee,ie):this.data.radioButton?this._saveRadioButton(K,ee,ie):null}async _saveCheckbox(K,ee,ie){if(!ie)return null;const oe=ie.get(this.data.id);let le=oe&&oe.rotation,pe=oe&&oe.value;if(le===void 0&&(pe===void 0||this.data.fieldValue===this.data.exportValue===pe))return null;const fe=K.xref.fetchIfRef(this.ref);if(!(fe instanceof m.Dict))return null;le===void 0&&(le=this.rotation),pe===void 0&&(pe=this.data.fieldValue===this.data.exportValue);const ue={path:(0,n.stringToPDFString)(fe.get("T")||""),value:pe?this.data.exportValue:""},ge=m.Name.get(pe?this.data.exportValue:"Off");fe.set("V",ge),fe.set("AS",ge),fe.set("M",`D:${(0,n.getModificationDate)()}`);const he=this._getMKDict(le);he&&fe.set("MK",he);const xe=K.xref.encrypt;let ye=null;xe&&(ye=xe.createCipherTransform(this.ref.num,this.ref.gen));const ve=[`${this.ref.num} ${this.ref.gen} obj
`];return(0,e.writeDict)(fe,ve,ye),ve.push(`
endobj
`),[{ref:this.ref,data:ve.join(""),xfa:ue}]}async _saveRadioButton(K,ee,ie){if(!ie)return null;const oe=ie.get(this.data.id);let le=oe&&oe.rotation,pe=oe&&oe.value;if(le===void 0&&(pe===void 0||this.data.fieldValue===this.data.buttonValue===pe))return null;const fe=K.xref.fetchIfRef(this.ref);if(!(fe instanceof m.Dict))return null;pe===void 0&&(pe=this.data.fieldValue===this.data.buttonValue),le===void 0&&(le=this.rotation);const ue={path:(0,n.stringToPDFString)(fe.get("T")||""),value:pe?this.data.buttonValue:""},ge=m.Name.get(pe?this.data.buttonValue:"Off");let he=null;const xe=K.xref.encrypt;if(pe)if(this.parent instanceof m.Ref){const be=K.xref.fetch(this.parent);let Ee=null;xe&&(Ee=xe.createCipherTransform(this.parent.num,this.parent.gen)),be.set("V",ge),he=[`${this.parent.num} ${this.parent.gen} obj
`],(0,e.writeDict)(be,he,Ee),he.push(`
endobj
`)}else this.parent instanceof m.Dict&&this.parent.set("V",ge);fe.set("AS",ge),fe.set("M",`D:${(0,n.getModificationDate)()}`);const ye=this._getMKDict(le);ye&&fe.set("MK",ye);let ve=null;xe&&(ve=xe.createCipherTransform(this.ref.num,this.ref.gen));const ke=[`${this.ref.num} ${this.ref.gen} obj
`];(0,e.writeDict)(fe,ke,ve),ke.push(`
endobj
`);const Se=[{ref:this.ref,data:ke.join(""),xfa:ue}];return he!==null&&Se.push({ref:this.parent,data:he.join(""),xfa:null}),Se}_getDefaultCheckedAppearance(K,ee){const ie=this.data.rect[2]-this.data.rect[0],oe=this.data.rect[3]-this.data.rect[1],le=[0,0,ie,oe],pe=.8,fe=Math.min(ie,oe)*pe;let ue,ge;ee==="check"?(ue={width:.755*fe,height:.705*fe},ge="3"):ee==="disc"?(ue={width:.791*fe,height:.705*fe},ge="l"):(0,n.unreachable)(`_getDefaultCheckedAppearance - unsupported type: ${ee}`);const he=(0,c.numberToString)((ie-ue.width)/2),xe=(0,c.numberToString)((oe-ue.height)/2),ye=`q BT /PdfJsZaDb ${fe} Tf 0 g ${he} ${xe} Td (${ge}) Tj ET Q`,ve=new m.Dict(K.xref);ve.set("FormType",1),ve.set("Subtype",m.Name.get("Form")),ve.set("Type",m.Name.get("XObject")),ve.set("BBox",le),ve.set("Matrix",[1,0,0,1,0,0]),ve.set("Length",ye.length);const ke=new m.Dict(K.xref),Se=new m.Dict(K.xref);Se.set("PdfJsZaDb",this.fallbackFontDict),ke.set("Font",Se),ve.set("Resources",ke),this.checkedAppearance=new T.StringStream(ye),this.checkedAppearance.dict=ve,this._streams.push(this.checkedAppearance)}_processCheckBox(K){const ee=K.dict.get("AP");if(!(ee instanceof m.Dict))return;const ie=ee.get("N");if(!(ie instanceof m.Dict))return;const oe=this._decodeFormValue(K.dict.get("AS"));typeof oe=="string"&&(this.data.fieldValue=oe);const le=this.data.fieldValue!==null&&this.data.fieldValue!=="Off"?this.data.fieldValue:"Yes",pe=ie.getKeys();if(pe.length===0)pe.push("Off",le);else if(pe.length===1)pe[0]==="Off"?pe.push(le):pe.unshift("Off");else if(pe.includes(le))pe.length=0,pe.push("Off",le);else{const fe=pe.find(ue=>ue!=="Off");pe.length=0,pe.push("Off",fe)}pe.includes(this.data.fieldValue)||(this.data.fieldValue="Off"),this.data.exportValue=pe[1],this.checkedAppearance=ie.get(this.data.exportValue)||null,this.uncheckedAppearance=ie.get("Off")||null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(K,"check"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict}_processRadioButton(K){this.data.fieldValue=this.data.buttonValue=null;const ee=K.dict.get("Parent");if(ee instanceof m.Dict){this.parent=K.dict.getRaw("Parent");const le=ee.get("V");le instanceof m.Name&&(this.data.fieldValue=this._decodeFormValue(le))}const ie=K.dict.get("AP");if(!(ie instanceof m.Dict))return;const oe=ie.get("N");if(oe instanceof m.Dict){for(const le of oe.getKeys())if(le!=="Off"){this.data.buttonValue=this._decodeFormValue(le);break}this.checkedAppearance=oe.get(this.data.buttonValue)||null,this.uncheckedAppearance=oe.get("Off")||null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(K,"disc"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict}}_processPushButton(K){if(!K.dict.has("A")&&!K.dict.has("AA")&&!this.data.alternativeText){(0,n.warn)("Push buttons without action dictionaries are not supported");return}this.data.isTooltipOnly=!K.dict.has("A")&&!K.dict.has("AA"),B.Catalog.parseDestDictionary({destDict:K.dict,resultObj:this.data,docBaseUrl:K.pdfManager.docBaseUrl})}getFieldObject(){let K="button",ee;return this.data.checkBox?(K="checkbox",ee=this.data.exportValue):this.data.radioButton&&(K="radiobutton",ee=this.data.buttonValue),{id:this.data.id,value:this.data.fieldValue||"Off",defaultValue:this.data.defaultFieldValue,exportValues:ee,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,hidden:this.data.hidden,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:K}}get fallbackFontDict(){const K=new m.Dict;return K.set("BaseFont",m.Name.get("ZapfDingbats")),K.set("Type",m.Name.get("FallbackType")),K.set("Subtype",m.Name.get("FallbackType")),K.set("Encoding",m.Name.get("ZapfDingbatsEncoding")),(0,n.shadow)(this,"fallbackFontDict",K)}}class L extends G{constructor(K){super(K),this.data.options=[];const ee=(0,c.getInheritableProperty)({dict:K.dict,key:"Opt"});if(Array.isArray(ee)){const ie=K.xref;for(let oe=0,le=ee.length;oe<le;oe++){const pe=ie.fetchIfRef(ee[oe]),fe=Array.isArray(pe);this.data.options[oe]={exportValue:this._decodeFormValue(fe?ie.fetchIfRef(pe[0]):pe),displayValue:this._decodeFormValue(fe?ie.fetchIfRef(pe[1]):pe)}}}typeof this.data.fieldValue=="string"?this.data.fieldValue=[this.data.fieldValue]:this.data.fieldValue||(this.data.fieldValue=[]),this.data.combo=this.hasFieldFlag(n.AnnotationFieldFlag.COMBO),this.data.multiSelect=this.hasFieldFlag(n.AnnotationFieldFlag.MULTISELECT),this._hasText=!0}getFieldObject(){const K=this.data.combo?"combobox":"listbox",ee=this.data.fieldValue.length>0?this.data.fieldValue[0]:null;return{id:this.data.id,value:ee,defaultValue:this.data.defaultFieldValue,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,numItems:this.data.fieldValue.length,multipleSelection:this.data.multiSelect,hidden:this.data.hidden,actions:this.data.actions,items:this.data.options,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:K}}async _getAppearance(K,ee,ie){if(this.data.combo)return super._getAppearance(K,ee,ie);if(!ie)return null;const oe=ie.get(this.data.id);if(!oe)return null;const le=oe.rotation;let pe=oe.value;if(le===void 0&&pe===void 0)return null;pe===void 0?pe=this.data.fieldValue:Array.isArray(pe)||(pe=[pe]);const fe=2,ue=fe;let ge=this.data.rect[3]-this.data.rect[1],he=this.data.rect[2]-this.data.rect[0];(le===90||le===270)&&([he,ge]=[ge,he]);const xe=this.data.options.length,ye=[];for(let Pe=0;Pe<xe;Pe++){const{exportValue:Ie}=this.data.options[Pe];pe.includes(Ie)&&ye.push(Pe)}this._defaultAppearance||(this.data.defaultAppearanceData=(0,C.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const ve=await G._getFontData(K,ee,this.data.defaultAppearanceData,this._fieldResources.mergedResources);let ke,{fontSize:Se}=this.data.defaultAppearanceData;if(Se)ke=this._defaultAppearance;else{const Pe=(ge-fe)/xe;let Ie=-1,Me;for(const{displayValue:Te}of this.data.options){const Le=this._getTextWidth(Te,ve);Le>Ie&&(Ie=Le,Me=Te)}[ke,Se]=this._computeFontSize(Pe,he-2*ue,Me,ve,-1)}const be=Se*n.LINE_FACTOR,Ee=(be-Se)/2,Oe=Math.floor(ge/be);let Fe;if(ye.length===1){const Pe=ye[0],Ie=Pe%Oe;Fe=Pe-Ie}else Fe=ye.length?ye[0]:0;const Re=Math.min(Fe+Oe+1,xe),Ne=["/Tx BMC q",`1 1 ${he} ${ge} re W n`];if(ye.length){Ne.push("0.600006 0.756866 0.854904 rg");for(const Pe of ye)Fe<=Pe&&Pe<Re&&Ne.push(`1 ${ge-(Pe-Fe+1)*be} ${he} ${be} re f`)}Ne.push("BT",ke,`1 0 0 1 0 ${ge} Tm`);for(let Pe=Fe;Pe<Re;Pe++){const{displayValue:Ie}=this.data.options[Pe],Me=Pe===Fe?ue:0,Te=Pe===Fe?Ee:0;Ne.push(this._renderText(Ie,ve,Se,he,0,Me,-be+Te))}return Ne.push("ET Q EMC"),Ne.join(`
`)}}class x extends G{constructor(K){super(K),this.data.fieldValue=null}getFieldObject(){return{id:this.data.id,value:null,page:this.data.pageIndex,type:"signature"}}}class S extends F{constructor(K){super(K);const ie=K.dict;this.data.annotationType=n.AnnotationType.TEXT,this.data.hasAppearance?this.data.name="NoIcon":(this.data.rect[1]=this.data.rect[3]-22,this.data.rect[2]=this.data.rect[0]+22,this.data.name=ie.has("Name")?ie.get("Name").name:"Note"),ie.has("State")?(this.data.state=ie.get("State")||null,this.data.stateModel=ie.get("StateModel")||null):(this.data.state=null,this.data.stateModel=null)}}class W extends M{constructor(K){super(K),this.data.annotationType=n.AnnotationType.LINK;const ee=P(K.dict,this.rectangle);ee&&(this.data.quadPoints=ee),this.data.borderColor=this.data.borderColor||this.data.color,B.Catalog.parseDestDictionary({destDict:K.dict,resultObj:this.data,docBaseUrl:K.pdfManager.docBaseUrl})}}class U extends M{constructor(K){super(K),this.data.annotationType=n.AnnotationType.POPUP;let ee=K.dict.get("Parent");if(!ee){(0,n.warn)("Popup annotation has a missing or invalid parent annotation.");return}const ie=ee.get("Subtype");this.data.parentType=ie instanceof m.Name?ie.name:null;const oe=K.dict.getRaw("Parent");this.data.parentId=oe instanceof m.Ref?oe.toString():null;const le=ee.getArray("Rect");Array.isArray(le)&&le.length===4?this.data.parentRect=n.Util.normalizeRect(le):this.data.parentRect=[0,0,0,0];const pe=ee.get("RT");if((0,m.isName)(pe,n.AnnotationReplyType.GROUP)&&(ee=ee.get("IRT")),ee.has("M")?(this.setModificationDate(ee.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,ee.has("C")?(this.setColor(ee.getArray("C")),this.data.color=this.color):this.data.color=null,!this.viewable){const fe=ee.get("F");this._isViewable(fe)&&this.setFlags(fe)}this.setTitle(ee.get("T")),this.data.titleObj=this._title,this.setContents(ee.get("Contents")),this.data.contentsObj=this._contents,ee.has("RC")&&(this.data.richText=D.XFAFactory.getRichTextAsHtml(ee.get("RC")))}}s.PopupAnnotation=U;class z extends F{constructor(K){super(K),this.data.annotationType=n.AnnotationType.FREETEXT}get hasTextContent(){return!!this.appearance}static createNewDict(K,ee,ie){let{apRef:oe,ap:le}=ie;const{color:pe,fontSize:fe,rect:ue,rotation:ge,user:he,value:xe}=K,ye=new m.Dict(ee);ye.set("Type",m.Name.get("Annot")),ye.set("Subtype",m.Name.get("FreeText")),ye.set("CreationDate",`D:${(0,n.getModificationDate)()}`),ye.set("Rect",ue);const ve=`/Helv ${fe} Tf ${(0,C.getPdfColor)(pe,!0)}`;ye.set("DA",ve),ye.set("Contents",xe),ye.set("F",4),ye.set("Border",[0,0,0]),ye.set("Rotate",ge),he&&ye.set("T",(0,n.stringToUTF8String)(he));const ke=new m.Dict(ee);return ye.set("AP",ke),oe?ke.set("N",oe):ke.set("N",le),ye}static async createNewAppearanceStream(K,ee,ie){const{baseFontRef:oe,evaluator:le,task:pe}=ie,{color:fe,fontSize:ue,rect:ge,rotation:he,value:xe}=K,ye=new m.Dict(ee),ve=new m.Dict(ee);if(oe)ve.set("Helv",oe);else{const it=new m.Dict(ee);it.set("BaseFont",m.Name.get("Helvetica")),it.set("Type",m.Name.get("Font")),it.set("Subtype",m.Name.get("Type1")),it.set("Encoding",m.Name.get("WinAnsiEncoding")),ve.set("Helv",it)}ye.set("Font",ve);const ke=await G._getFontData(le,pe,{fontName:"Helvetica",fontSize:ue},ye),[Se,be,Ee,Oe]=ge;let Fe=Ee-Se,Re=Oe-be;he%180!==0&&([Fe,Re]=[Re,Fe]);const Ne=xe.split(`
`),Pe=ue/1e3;let Ie=-1/0;const Me=[];for(let it of Ne){it=ke.encodeString(it).join(""),Me.push(it);let dt=0;const ze=ke.charsToGlyphs(it);for(const lt of ze)dt+=lt.width*Pe;Ie=Math.max(Ie,dt)}let Te=1;Ie>Fe&&(Te=Fe/Ie);let Le=1;const Be=n.LINE_FACTOR*ue,Ae=n.LINE_DESCENT_FACTOR*ue,we=Be*Ne.length;we>Re&&(Le=Re/we);const Ce=Math.min(Te,Le),De=ue*Ce,Ge=["q",`0 0 ${(0,c.numberToString)(Fe)} ${(0,c.numberToString)(Re)} re W n`,"BT",`1 0 0 1 0 ${(0,c.numberToString)(Re+Ae)} Tm 0 Tc ${(0,C.getPdfColor)(fe,!0)}`,`/Helv ${(0,c.numberToString)(De)} Tf`],He=(0,c.numberToString)(Be);for(const it of Me)Ge.push(`0 -${He} Td (${(0,n.escapeString)(it)}) Tj`);Ge.push("ET","Q");const Ze=Ge.join(`
`),Ye=new m.Dict(ee);if(Ye.set("FormType",1),Ye.set("Subtype",m.Name.get("Form")),Ye.set("Type",m.Name.get("XObject")),Ye.set("BBox",[0,0,Fe,Re]),Ye.set("Length",Ze.length),Ye.set("Resources",ye),he){const it=G._getRotationMatrix(he,Fe,Re);Ye.set("Matrix",it)}const je=new T.StringStream(Ze);return je.dict=Ye,je}}class re extends F{constructor(K){super(K);const{dict:ee}=K;this.data.annotationType=n.AnnotationType.LINE;const ie=ee.getArray("L");if(this.data.lineCoordinates=n.Util.normalizeRect(ie),this.setLineEndings(ee.getArray("LE")),this.data.lineEndings=this.lineEndings,!this.appearance){const oe=this.color?Array.from(this.color).map(ye=>ye/255):[0,0,0],le=ee.get("CA");let pe=null,fe=ee.getArray("IC");fe&&(fe=y(fe,null),pe=fe?Array.from(fe).map(ye=>ye/255):null);const ue=pe?le:null,ge=this.borderStyle.width||1,he=2*ge,xe=[this.data.lineCoordinates[0]-he,this.data.lineCoordinates[1]-he,this.data.lineCoordinates[2]+he,this.data.lineCoordinates[3]+he];n.Util.intersect(this.rectangle,xe)||(this.rectangle=xe),this._setDefaultAppearance({xref:K.xref,extra:`${ge} w`,strokeColor:oe,fillColor:pe,strokeAlpha:le,fillAlpha:ue,pointsCallback:(ye,ve)=>(ye.push(`${ie[0]} ${ie[1]} m`,`${ie[2]} ${ie[3]} l`,"S"),[ve[0].x-ge,ve[1].x+ge,ve[3].y-ge,ve[1].y+ge])})}}}class J extends F{constructor(K){if(super(K),this.data.annotationType=n.AnnotationType.SQUARE,!this.appearance){const ee=this.color?Array.from(this.color).map(fe=>fe/255):[0,0,0],ie=K.dict.get("CA");let oe=null,le=K.dict.getArray("IC");le&&(le=y(le,null),oe=le?Array.from(le).map(fe=>fe/255):null);const pe=oe?ie:null;if(this.borderStyle.width===0&&!oe)return;this._setDefaultAppearance({xref:K.xref,extra:`${this.borderStyle.width} w`,strokeColor:ee,fillColor:oe,strokeAlpha:ie,fillAlpha:pe,pointsCallback:(fe,ue)=>{const ge=ue[2].x+this.borderStyle.width/2,he=ue[2].y+this.borderStyle.width/2,xe=ue[3].x-ue[2].x-this.borderStyle.width,ye=ue[1].y-ue[3].y-this.borderStyle.width;return fe.push(`${ge} ${he} ${xe} ${ye} re`),oe?fe.push("B"):fe.push("S"),[ue[0].x,ue[1].x,ue[3].y,ue[1].y]}})}}}class k extends F{constructor(K){if(super(K),this.data.annotationType=n.AnnotationType.CIRCLE,!this.appearance){const ee=this.color?Array.from(this.color).map(ue=>ue/255):[0,0,0],ie=K.dict.get("CA");let oe=null,le=K.dict.getArray("IC");le&&(le=y(le,null),oe=le?Array.from(le).map(ue=>ue/255):null);const pe=oe?ie:null;if(this.borderStyle.width===0&&!oe)return;const fe=4/3*Math.tan(Math.PI/(2*4));this._setDefaultAppearance({xref:K.xref,extra:`${this.borderStyle.width} w`,strokeColor:ee,fillColor:oe,strokeAlpha:ie,fillAlpha:pe,pointsCallback:(ue,ge)=>{const he=ge[0].x+this.borderStyle.width/2,xe=ge[0].y-this.borderStyle.width/2,ye=ge[3].x-this.borderStyle.width/2,ve=ge[3].y+this.borderStyle.width/2,ke=he+(ye-he)/2,Se=xe+(ve-xe)/2,be=(ye-he)/2*fe,Ee=(ve-xe)/2*fe;return ue.push(`${ke} ${ve} m`,`${ke+be} ${ve} ${ye} ${Se+Ee} ${ye} ${Se} c`,`${ye} ${Se-Ee} ${ke+be} ${xe} ${ke} ${xe} c`,`${ke-be} ${xe} ${he} ${Se-Ee} ${he} ${Se} c`,`${he} ${Se+Ee} ${ke-be} ${ve} ${ke} ${ve} c`,"h"),oe?ue.push("B"):ue.push("S"),[ge[0].x,ge[1].x,ge[3].y,ge[1].y]}})}}}class H extends F{constructor(K){super(K);const{dict:ee}=K;this.data.annotationType=n.AnnotationType.POLYLINE,this.data.vertices=[],this instanceof Z||(this.setLineEndings(ee.getArray("LE")),this.data.lineEndings=this.lineEndings);const ie=ee.getArray("Vertices");if(!!Array.isArray(ie)){for(let oe=0,le=ie.length;oe<le;oe+=2)this.data.vertices.push({x:ie[oe],y:ie[oe+1]});if(!this.appearance){const oe=this.color?Array.from(this.color).map(ge=>ge/255):[0,0,0],le=ee.get("CA"),pe=this.borderStyle.width||1,fe=2*pe,ue=[1/0,1/0,-1/0,-1/0];for(const ge of this.data.vertices)ue[0]=Math.min(ue[0],ge.x-fe),ue[1]=Math.min(ue[1],ge.y-fe),ue[2]=Math.max(ue[2],ge.x+fe),ue[3]=Math.max(ue[3],ge.y+fe);n.Util.intersect(this.rectangle,ue)||(this.rectangle=ue),this._setDefaultAppearance({xref:K.xref,extra:`${pe} w`,strokeColor:oe,strokeAlpha:le,pointsCallback:(ge,he)=>{const xe=this.data.vertices;for(let ye=0,ve=xe.length;ye<ve;ye++)ge.push(`${xe[ye].x} ${xe[ye].y} ${ye===0?"m":"l"}`);return ge.push("S"),[he[0].x,he[1].x,he[3].y,he[1].y]}})}}}}class Z extends H{constructor(K){super(K),this.data.annotationType=n.AnnotationType.POLYGON}}class Q extends F{constructor(K){super(K),this.data.annotationType=n.AnnotationType.CARET}}class V extends F{constructor(K){super(K),this.data.annotationType=n.AnnotationType.INK,this.data.inkLists=[];const ee=K.dict.getArray("InkList");if(!Array.isArray(ee))return;const ie=K.xref;for(let oe=0,le=ee.length;oe<le;++oe){this.data.inkLists.push([]);for(let pe=0,fe=ee[oe].length;pe<fe;pe+=2)this.data.inkLists[oe].push({x:ie.fetchIfRef(ee[oe][pe]),y:ie.fetchIfRef(ee[oe][pe+1])})}if(!this.appearance){const oe=this.color?Array.from(this.color).map(ge=>ge/255):[0,0,0],le=K.dict.get("CA"),pe=this.borderStyle.width||1,fe=2*pe,ue=[1/0,1/0,-1/0,-1/0];for(const ge of this.data.inkLists)for(const he of ge)ue[0]=Math.min(ue[0],he.x-fe),ue[1]=Math.min(ue[1],he.y-fe),ue[2]=Math.max(ue[2],he.x+fe),ue[3]=Math.max(ue[3],he.y+fe);n.Util.intersect(this.rectangle,ue)||(this.rectangle=ue),this._setDefaultAppearance({xref:K.xref,extra:`${pe} w`,strokeColor:oe,strokeAlpha:le,pointsCallback:(ge,he)=>{for(const xe of this.data.inkLists){for(let ye=0,ve=xe.length;ye<ve;ye++)ge.push(`${xe[ye].x} ${xe[ye].y} ${ye===0?"m":"l"}`);ge.push("S")}return[he[0].x,he[1].x,he[3].y,he[1].y]}})}}static createNewDict(K,ee,ie){let{apRef:oe,ap:le}=ie;const{paths:pe,rect:fe,rotation:ue}=K,ge=new m.Dict(ee);ge.set("Type",m.Name.get("Annot")),ge.set("Subtype",m.Name.get("Ink")),ge.set("CreationDate",`D:${(0,n.getModificationDate)()}`),ge.set("Rect",fe),ge.set("InkList",pe.map(xe=>xe.points)),ge.set("F",4),ge.set("Border",[0,0,0]),ge.set("Rotate",ue);const he=new m.Dict(ee);return ge.set("AP",he),oe?he.set("N",oe):he.set("N",le),ge}static async createNewAppearanceStream(K,ee,ie){const{color:oe,rect:le,rotation:pe,paths:fe,thickness:ue,opacity:ge}=K,[he,xe,ye,ve]=le;let ke=ye-he,Se=ve-xe;pe%180!==0&&([ke,Se]=[Se,ke]);const be=[`${ue} w 1 J 1 j`,`${(0,C.getPdfColor)(oe,!1)}`];ge!==1&&be.push("/R0 gs");const Ee=[];for(const{bezier:Ne}of fe){Ee.length=0,Ee.push(`${(0,c.numberToString)(Ne[0])} ${(0,c.numberToString)(Ne[1])} m`);for(let Pe=2,Ie=Ne.length;Pe<Ie;Pe+=6){const Me=Ne.slice(Pe,Pe+6).map(c.numberToString).join(" ");Ee.push(`${Me} c`)}Ee.push("S"),be.push(Ee.join(`
`))}const Oe=be.join(`
`),Fe=new m.Dict(ee);if(Fe.set("FormType",1),Fe.set("Subtype",m.Name.get("Form")),Fe.set("Type",m.Name.get("XObject")),Fe.set("BBox",[0,0,ke,Se]),Fe.set("Length",Oe.length),pe){const Ne=G._getRotationMatrix(pe,ke,Se);Fe.set("Matrix",Ne)}if(ge!==1){const Ne=new m.Dict(ee),Pe=new m.Dict(ee),Ie=new m.Dict(ee);Ie.set("CA",ge),Ie.set("Type",m.Name.get("ExtGState")),Pe.set("R0",Ie),Ne.set("ExtGState",Pe),Fe.set("Resources",Ne)}const Re=new T.StringStream(Oe);return Re.dict=Fe,Re}}class Y extends F{constructor(K){if(super(K),this.data.annotationType=n.AnnotationType.HIGHLIGHT,this.data.quadPoints=P(K.dict,null)){const ie=this.appearance&&this.appearance.dict.get("Resources");if(!this.appearance||!(ie&&ie.has("ExtGState"))){this.appearance&&(0,n.warn)("HighlightAnnotation - ignoring built-in appearance stream.");const oe=this.color?Array.from(this.color).map(pe=>pe/255):[1,1,0],le=K.dict.get("CA");this._setDefaultAppearance({xref:K.xref,fillColor:oe,blendMode:"Multiply",fillAlpha:le,pointsCallback:(pe,fe)=>(pe.push(`${fe[0].x} ${fe[0].y} m`,`${fe[1].x} ${fe[1].y} l`,`${fe[3].x} ${fe[3].y} l`,`${fe[2].x} ${fe[2].y} l`,"f"),[fe[0].x,fe[1].x,fe[3].y,fe[1].y])})}}else this.data.hasPopup=!1}}class te extends F{constructor(K){if(super(K),this.data.annotationType=n.AnnotationType.UNDERLINE,this.data.quadPoints=P(K.dict,null)){if(!this.appearance){const ie=this.color?Array.from(this.color).map(le=>le/255):[0,0,0],oe=K.dict.get("CA");this._setDefaultAppearance({xref:K.xref,extra:"[] 0 d 1 w",strokeColor:ie,strokeAlpha:oe,pointsCallback:(le,pe)=>(le.push(`${pe[2].x} ${pe[2].y} m`,`${pe[3].x} ${pe[3].y} l`,"S"),[pe[0].x,pe[1].x,pe[3].y,pe[1].y])})}}else this.data.hasPopup=!1}}class $ extends F{constructor(K){if(super(K),this.data.annotationType=n.AnnotationType.SQUIGGLY,this.data.quadPoints=P(K.dict,null)){if(!this.appearance){const ie=this.color?Array.from(this.color).map(le=>le/255):[0,0,0],oe=K.dict.get("CA");this._setDefaultAppearance({xref:K.xref,extra:"[] 0 d 1 w",strokeColor:ie,strokeAlpha:oe,pointsCallback:(le,pe)=>{const fe=(pe[0].y-pe[2].y)/6;let ue=fe,ge=pe[2].x;const he=pe[2].y,xe=pe[3].x;le.push(`${ge} ${he+ue} m`);do ge+=2,ue=ue===0?fe:0,le.push(`${ge} ${he+ue} l`);while(ge<xe);return le.push("S"),[pe[2].x,xe,he-2*fe,he+2*fe]}})}}else this.data.hasPopup=!1}}class X extends F{constructor(K){if(super(K),this.data.annotationType=n.AnnotationType.STRIKEOUT,this.data.quadPoints=P(K.dict,null)){if(!this.appearance){const ie=this.color?Array.from(this.color).map(le=>le/255):[0,0,0],oe=K.dict.get("CA");this._setDefaultAppearance({xref:K.xref,extra:"[] 0 d 1 w",strokeColor:ie,strokeAlpha:oe,pointsCallback:(le,pe)=>(le.push(`${(pe[0].x+pe[2].x)/2} ${(pe[0].y+pe[2].y)/2} m`,`${(pe[1].x+pe[3].x)/2} ${(pe[1].y+pe[3].y)/2} l`,"S"),[pe[0].x,pe[1].x,pe[3].y,pe[1].y])})}}else this.data.hasPopup=!1}}class ne extends F{constructor(K){super(K),this.data.annotationType=n.AnnotationType.STAMP}}class ce extends F{constructor(K){super(K);const ee=new v.FileSpec(K.dict.get("FS"),K.xref);this.data.annotationType=n.AnnotationType.FILEATTACHMENT,this.data.file=ee.serializable}}},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createDefaultAppearance=v,s.getPdfColor=O,s.parseDefaultAppearance=B;var n=u(131),c=u(2),C=u(139),m=u(140),e=u(130),E=u(135);class A extends m.EvaluatorPreprocessor{constructor(o){super(new E.StringStream(o))}parse(){const o={fn:0,args:[]},T={fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3)};try{for(;o.args.length=0,!!this.read(o);){if(this.savedStatesDepth!==0)continue;const{fn:D,args:_}=o;switch(D|0){case c.OPS.setFont:const[y,P]=_;y instanceof e.Name&&(T.fontName=y.name),typeof P=="number"&&P>0&&(T.fontSize=P);break;case c.OPS.setFillRGBColor:C.ColorSpace.singletons.rgb.getRgbItem(_,0,T.fontColor,0);break;case c.OPS.setFillGray:C.ColorSpace.singletons.gray.getRgbItem(_,0,T.fontColor,0);break;case c.OPS.setFillColorSpace:C.ColorSpace.singletons.cmyk.getRgbItem(_,0,T.fontColor,0);break}}}catch(D){(0,c.warn)(`parseDefaultAppearance - ignoring errors: "${D}".`)}return T}}function B(b){return new A(b).parse()}function O(b,o){if(b[0]===b[1]&&b[1]===b[2]){const T=b[0]/255;return`${(0,n.numberToString)(T)} ${o?"g":"G"}`}return Array.from(b).map(T=>(0,n.numberToString)(T/255)).join(" ")+` ${o?"rg":"RG"}`}function v(b){let{fontSize:o,fontName:T,fontColor:D}=b;return`/${(0,n.escapePDFName)(T)} ${o} Tf ${O(D,!0)}`}},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorSpace=void 0;var n=u(2),c=u(130),C=u(132),m=u(131);function e(y,P,w,M,q,F,G){G=G!==1?0:G;const I=w/q,L=M/F;let x=0,S;const W=new Uint16Array(q),U=w*3;for(let z=0;z<q;z++)W[z]=Math.floor(z*I)*3;for(let z=0;z<F;z++){const re=Math.floor(z*L)*U;for(let J=0;J<q;J++)S=re+W[J],P[x++]=y[S++],P[x++]=y[S++],P[x++]=y[S++],x+=G}}class E{constructor(P,w){this.constructor===E&&(0,n.unreachable)("Cannot initialize ColorSpace."),this.name=P,this.numComps=w}getRgb(P,w){const M=new Uint8ClampedArray(3);return this.getRgbItem(P,w,M,0),M}getRgbItem(P,w,M,q){(0,n.unreachable)("Should not call ColorSpace.getRgbItem")}getRgbBuffer(P,w,M,q,F,G,R){(0,n.unreachable)("Should not call ColorSpace.getRgbBuffer")}getOutputLength(P,w){(0,n.unreachable)("Should not call ColorSpace.getOutputLength")}isPassthrough(P){return!1}isDefaultDecode(P,w){return E.isDefaultDecode(P,this.numComps)}fillRgb(P,w,M,q,F,G,R,I,L){const x=w*M;let S=null;const W=1<<R,U=M!==F||w!==q;if(this.isPassthrough(R))S=I;else if(this.numComps===1&&x>W&&this.name!=="DeviceGray"&&this.name!=="DeviceRGB"){const z=R<=8?new Uint8Array(W):new Uint16Array(W);for(let J=0;J<W;J++)z[J]=J;const re=new Uint8ClampedArray(W*3);if(this.getRgbBuffer(z,0,W,re,0,R,0),U){S=new Uint8Array(x*3);let J=0;for(let k=0;k<x;++k){const H=I[k]*3;S[J++]=re[H],S[J++]=re[H+1],S[J++]=re[H+2]}}else{let J=0;for(let k=0;k<x;++k){const H=I[k]*3;P[J++]=re[H],P[J++]=re[H+1],P[J++]=re[H+2],J+=L}}}else U?(S=new Uint8ClampedArray(x*3),this.getRgbBuffer(I,0,x,S,0,R,0)):this.getRgbBuffer(I,0,q*G,P,0,R,L);if(S)if(U)e(S,P,w,M,q,F,L);else{let z=0,re=0;for(let J=0,k=q*G;J<k;J++)P[z++]=S[re++],P[z++]=S[re++],P[z++]=S[re++],z+=L}}get usesZeroToOneRange(){return(0,n.shadow)(this,"usesZeroToOneRange",!0)}static _cache(P,w,M,q){if(!M)throw new Error('ColorSpace._cache - expected "localColorSpaceCache" argument.');if(!q)throw new Error('ColorSpace._cache - expected "parsedColorSpace" argument.');let F,G;P instanceof c.Ref&&(G=P,P=w.fetch(P)),P instanceof c.Name&&(F=P.name),(F||G)&&M.set(F,G,q)}static getCached(P,w,M){if(!M)throw new Error('ColorSpace.getCached - expected "localColorSpaceCache" argument.');if(P instanceof c.Ref){const q=M.getByRef(P);if(q)return q;try{P=w.fetch(P)}catch(F){if(F instanceof m.MissingDataException)throw F}}if(P instanceof c.Name){const q=M.getByName(P.name);if(q)return q}return null}static async parseAsync(P){let{cs:w,xref:M,resources:q=null,pdfFunctionFactory:F,localColorSpaceCache:G}=P;const R=this._parse(w,M,q,F);return this._cache(w,M,G,R),R}static parse(P){let{cs:w,xref:M,resources:q=null,pdfFunctionFactory:F,localColorSpaceCache:G}=P;const R=this.getCached(w,M,G);if(R)return R;const I=this._parse(w,M,q,F);return this._cache(w,M,G,I),I}static _parse(P,w){let M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,q=arguments.length>3?arguments[3]:void 0;if(P=w.fetchIfRef(P),P instanceof c.Name)switch(P.name){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"Pattern":return new B(null);default:if(M instanceof c.Dict){const F=M.get("ColorSpace");if(F instanceof c.Dict){const G=F.get(P.name);if(G){if(G instanceof c.Name)return this._parse(G,w,M,q);P=G;break}}}throw new n.FormatError(`Unrecognized ColorSpace: ${P.name}`)}if(Array.isArray(P)){const F=w.fetchIfRef(P[0]).name;let G,R,I,L,x,S;switch(F){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"CalGray":return G=w.fetchIfRef(P[1]),L=G.getArray("WhitePoint"),x=G.getArray("BlackPoint"),S=G.get("Gamma"),new T(L,x,S);case"CalRGB":G=w.fetchIfRef(P[1]),L=G.getArray("WhitePoint"),x=G.getArray("BlackPoint"),S=G.getArray("Gamma");const W=G.getArray("Matrix");return new D(L,x,S,W);case"ICCBased":const z=w.fetchIfRef(P[1]).dict;R=z.get("N");const re=z.get("Alternate");if(re){const V=this._parse(re,w,M,q);if(V.numComps===R)return V;(0,n.warn)("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(R===1)return this.singletons.gray;if(R===3)return this.singletons.rgb;if(R===4)return this.singletons.cmyk;break;case"Pattern":return I=P[1]||null,I&&(I=this._parse(I,w,M,q)),new B(I);case"I":case"Indexed":I=this._parse(P[1],w,M,q);const J=w.fetchIfRef(P[2])+1,k=w.fetchIfRef(P[3]);return new O(I,J,k);case"Separation":case"DeviceN":const H=w.fetchIfRef(P[1]);R=Array.isArray(H)?H.length:1,I=this._parse(P[2],w,M,q);const Z=q.create(P[3]);return new A(R,I,Z);case"Lab":G=w.fetchIfRef(P[1]),L=G.getArray("WhitePoint"),x=G.getArray("BlackPoint");const Q=G.getArray("Range");return new _(L,x,Q);default:throw new n.FormatError(`Unimplemented ColorSpace object: ${F}`)}}throw new n.FormatError(`Unrecognized ColorSpace object: ${P}`)}static isDefaultDecode(P,w){if(!Array.isArray(P))return!0;if(w*2!==P.length)return(0,n.warn)("The decode map is not the correct length"),!0;for(let M=0,q=P.length;M<q;M+=2)if(P[M]!==0||P[M+1]!==1)return!1;return!0}static get singletons(){return(0,n.shadow)(this,"singletons",{get gray(){return(0,n.shadow)(this,"gray",new v)},get rgb(){return(0,n.shadow)(this,"rgb",new b)},get cmyk(){return(0,n.shadow)(this,"cmyk",new o)}})}}s.ColorSpace=E;class A extends E{constructor(P,w,M){super("Alternate",P),this.base=w,this.tintFn=M,this.tmpBuf=new Float32Array(w.numComps)}getRgbItem(P,w,M,q){const F=this.tmpBuf;this.tintFn(P,w,F,0),this.base.getRgbItem(F,0,M,q)}getRgbBuffer(P,w,M,q,F,G,R){const I=this.tintFn,L=this.base,x=1/((1<<G)-1),S=L.numComps,W=L.usesZeroToOneRange,U=(L.isPassthrough(8)||!W)&&R===0;let z=U?F:0;const re=U?q:new Uint8ClampedArray(S*M),J=this.numComps,k=new Float32Array(J),H=new Float32Array(S);let Z,Q;for(Z=0;Z<M;Z++){for(Q=0;Q<J;Q++)k[Q]=P[w++]*x;if(I(k,0,H,0),W)for(Q=0;Q<S;Q++)re[z++]=H[Q]*255;else L.getRgbItem(H,0,re,z),z+=S}U||L.getRgbBuffer(re,0,M,q,F,8,R)}getOutputLength(P,w){return this.base.getOutputLength(P*this.base.numComps/this.numComps,w)}}class B extends E{constructor(P){super("Pattern",null),this.base=P}isDefaultDecode(P,w){(0,n.unreachable)("Should not call PatternCS.isDefaultDecode")}}class O extends E{constructor(P,w,M){super("Indexed",1),this.base=P,this.highVal=w;const q=P.numComps*w;if(this.lookup=new Uint8Array(q),M instanceof C.BaseStream){const F=M.getBytes(q);this.lookup.set(F)}else if(typeof M=="string")for(let F=0;F<q;++F)this.lookup[F]=M.charCodeAt(F)&255;else throw new n.FormatError(`IndexedCS - unrecognized lookup table: ${M}`)}getRgbItem(P,w,M,q){const F=this.base.numComps,G=P[w]*F;this.base.getRgbBuffer(this.lookup,G,1,M,q,8,0)}getRgbBuffer(P,w,M,q,F,G,R){const I=this.base,L=I.numComps,x=I.getOutputLength(L,R),S=this.lookup;for(let W=0;W<M;++W){const U=P[w++]*L;I.getRgbBuffer(S,U,1,q,F,8,R),F+=x}}getOutputLength(P,w){return this.base.getOutputLength(P*this.base.numComps,w)}isDefaultDecode(P,w){return Array.isArray(P)?P.length!==2?((0,n.warn)("Decode map length is not correct"),!0):!Number.isInteger(w)||w<1?((0,n.warn)("Bits per component is not correct"),!0):P[0]===0&&P[1]===(1<<w)-1:!0}}class v extends E{constructor(){super("DeviceGray",1)}getRgbItem(P,w,M,q){const F=P[w]*255;M[q]=M[q+1]=M[q+2]=F}getRgbBuffer(P,w,M,q,F,G,R){const I=255/((1<<G)-1);let L=w,x=F;for(let S=0;S<M;++S){const W=I*P[L++];q[x++]=W,q[x++]=W,q[x++]=W,x+=R}}getOutputLength(P,w){return P*(3+w)}}class b extends E{constructor(){super("DeviceRGB",3)}getRgbItem(P,w,M,q){M[q]=P[w]*255,M[q+1]=P[w+1]*255,M[q+2]=P[w+2]*255}getRgbBuffer(P,w,M,q,F,G,R){if(G===8&&R===0){q.set(P.subarray(w,w+M*3),F);return}const I=255/((1<<G)-1);let L=w,x=F;for(let S=0;S<M;++S)q[x++]=I*P[L++],q[x++]=I*P[L++],q[x++]=I*P[L++],x+=R}getOutputLength(P,w){return P*(3+w)/3|0}isPassthrough(P){return P===8}}const o=function(){function P(M,q,F,G,R){const I=M[q]*F,L=M[q+1]*F,x=M[q+2]*F,S=M[q+3]*F;G[R]=255+I*(-4.387332384609988*I+54.48615194189176*L+18.82290502165302*x+212.25662451639585*S+-285.2331026137004)+L*(1.7149763477362134*L-5.6096736904047315*x+-17.873870861415444*S-5.497006427196366)+x*(-2.5217340131683033*x-21.248923337353073*S+17.5119270841813)+S*(-21.86122147463605*S-189.48180835922747),G[R+1]=255+I*(8.841041422036149*I+60.118027045597366*L+6.871425592049007*x+31.159100130055922*S+-79.2970844816548)+L*(-15.310361306967817*L+17.575251261109482*x+131.35250912493976*S-190.9453302588951)+x*(4.444339102852739*x+9.8632861493405*S-24.86741582555878)+S*(-20.737325471181034*S-187.80453709719578),G[R+2]=255+I*(.8842522430003296*I+8.078677503112928*L+30.89978309703729*x-.23883238689178934*S+-14.183576799673286)+L*(10.49593273432072*L+63.02378494754052*x+50.606957656360734*S-112.23884253719248)+x*(.03296041114873217*x+115.60384449646641*S+-193.58209356861505)+S*(-22.33816807309886*S-180.12613974708367)}class w extends E{constructor(){super("DeviceCMYK",4)}getRgbItem(q,F,G,R){P(q,F,1,G,R)}getRgbBuffer(q,F,G,R,I,L,x){const S=1/((1<<L)-1);for(let W=0;W<G;W++)P(q,F,S,R,I),F+=4,I+=3+x}getOutputLength(q,F){return q/4*(3+F)|0}}return w}(),T=function(){function P(M,q,F,G,R,I){const x=(q[F]*I)**M.G,S=M.YW*x,W=Math.max(295.8*S**.3333333333333333-40.8,0);G[R]=W,G[R+1]=W,G[R+2]=W}class w extends E{constructor(q,F,G){if(super("CalGray",1),!q)throw new n.FormatError("WhitePoint missing - required for color space CalGray");if(F=F||[0,0,0],G=G||1,this.XW=q[0],this.YW=q[1],this.ZW=q[2],this.XB=F[0],this.YB=F[1],this.ZB=F[2],this.G=G,this.XW<0||this.ZW<0||this.YW!==1)throw new n.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(this.XB<0||this.YB<0||this.ZB<0)&&((0,n.info)(`Invalid BlackPoint for ${this.name}, falling back to default.`),this.XB=this.YB=this.ZB=0),(this.XB!==0||this.YB!==0||this.ZB!==0)&&(0,n.warn)(`${this.name}, BlackPoint: XB: ${this.XB}, YB: ${this.YB}, ZB: ${this.ZB}, only default values are supported.`),this.G<1&&((0,n.info)(`Invalid Gamma: ${this.G} for ${this.name}, falling back to default.`),this.G=1)}getRgbItem(q,F,G,R){P(this,q,F,G,R,1)}getRgbBuffer(q,F,G,R,I,L,x){const S=1/((1<<L)-1);for(let W=0;W<G;++W)P(this,q,F,R,I,S),F+=1,I+=3+x}getOutputLength(q,F){return q*(3+F)}}return w}(),D=function(){const P=new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),w=new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867]),M=new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252]),q=new Float32Array([1,1,1]),F=new Float32Array(3),G=new Float32Array(3),R=new Float32Array(3),I=((8+16)/116)**3/8;function L(Q,V,Y){Y[0]=Q[0]*V[0]+Q[1]*V[1]+Q[2]*V[2],Y[1]=Q[3]*V[0]+Q[4]*V[1]+Q[5]*V[2],Y[2]=Q[6]*V[0]+Q[7]*V[1]+Q[8]*V[2]}function x(Q,V,Y){Y[0]=V[0]*1/Q[0],Y[1]=V[1]*1/Q[1],Y[2]=V[2]*1/Q[2]}function S(Q,V,Y){Y[0]=V[0]*.95047/Q[0],Y[1]=V[1]*1/Q[1],Y[2]=V[2]*1.08883/Q[2]}function W(Q){return Q<=.0031308?U(0,1,12.92*Q):Q>=.99554525?1:U(0,1,(1+.055)*Q**(1/2.4)-.055)}function U(Q,V,Y){return Math.max(Q,Math.min(V,Y))}function z(Q){return Q<0?-z(-Q):Q>8?((Q+16)/116)**3:Q*I}function re(Q,V,Y){if(Q[0]===0&&Q[1]===0&&Q[2]===0){Y[0]=V[0],Y[1]=V[1],Y[2]=V[2];return}const te=z(0),$=te,X=z(Q[0]),ne=te,ce=z(Q[1]),se=te,K=z(Q[2]),ee=(1-$)/(1-X),ie=1-ee,oe=(1-ne)/(1-ce),le=1-oe,pe=(1-se)/(1-K),fe=1-pe;Y[0]=V[0]*ee+ie,Y[1]=V[1]*oe+le,Y[2]=V[2]*pe+fe}function J(Q,V,Y){if(Q[0]===1&&Q[2]===1){Y[0]=V[0],Y[1]=V[1],Y[2]=V[2];return}const te=Y;L(P,V,te);const $=F;x(Q,te,$),L(w,$,Y)}function k(Q,V,Y){const te=Y;L(P,V,te);const $=F;S(Q,te,$),L(w,$,Y)}function H(Q,V,Y,te,$,X){const ne=U(0,1,V[Y]*X),ce=U(0,1,V[Y+1]*X),se=U(0,1,V[Y+2]*X),K=ne===1?1:ne**Q.GR,ee=ce===1?1:ce**Q.GG,ie=se===1?1:se**Q.GB,oe=Q.MXA*K+Q.MXB*ee+Q.MXC*ie,le=Q.MYA*K+Q.MYB*ee+Q.MYC*ie,pe=Q.MZA*K+Q.MZB*ee+Q.MZC*ie,fe=G;fe[0]=oe,fe[1]=le,fe[2]=pe;const ue=R;J(Q.whitePoint,fe,ue);const ge=G;re(Q.blackPoint,ue,ge);const he=R;k(q,ge,he);const xe=G;L(M,he,xe),te[$]=W(xe[0])*255,te[$+1]=W(xe[1])*255,te[$+2]=W(xe[2])*255}class Z extends E{constructor(V,Y,te,$){if(super("CalRGB",3),!V)throw new n.FormatError("WhitePoint missing - required for color space CalRGB");Y=Y||new Float32Array(3),te=te||new Float32Array([1,1,1]),$=$||new Float32Array([1,0,0,0,1,0,0,0,1]);const X=V[0],ne=V[1],ce=V[2];this.whitePoint=V;const se=Y[0],K=Y[1],ee=Y[2];if(this.blackPoint=Y,this.GR=te[0],this.GG=te[1],this.GB=te[2],this.MXA=$[0],this.MYA=$[1],this.MZA=$[2],this.MXB=$[3],this.MYB=$[4],this.MZB=$[5],this.MXC=$[6],this.MYC=$[7],this.MZC=$[8],X<0||ce<0||ne!==1)throw new n.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(se<0||K<0||ee<0)&&((0,n.info)(`Invalid BlackPoint for ${this.name} [${se}, ${K}, ${ee}], falling back to default.`),this.blackPoint=new Float32Array(3)),(this.GR<0||this.GG<0||this.GB<0)&&((0,n.info)(`Invalid Gamma [${this.GR}, ${this.GG}, ${this.GB}] for ${this.name}, falling back to default.`),this.GR=this.GG=this.GB=1)}getRgbItem(V,Y,te,$){H(this,V,Y,te,$,1)}getRgbBuffer(V,Y,te,$,X,ne,ce){const se=1/((1<<ne)-1);for(let K=0;K<te;++K)H(this,V,Y,$,X,se),Y+=3,X+=3+ce}getOutputLength(V,Y){return V*(3+Y)/3|0}}return Z}(),_=function(){function P(F){let G;return F>=6/29?G=F**3:G=108/841*(F-4/29),G}function w(F,G,R,I){return R+F*(I-R)/G}function M(F,G,R,I,L,x){let S=G[R],W=G[R+1],U=G[R+2];I!==!1&&(S=w(S,I,0,100),W=w(W,I,F.amin,F.amax),U=w(U,I,F.bmin,F.bmax)),W>F.amax?W=F.amax:W<F.amin&&(W=F.amin),U>F.bmax?U=F.bmax:U<F.bmin&&(U=F.bmin);const z=(S+16)/116,re=z+W/500,J=z-U/200,k=F.XW*P(re),H=F.YW*P(z),Z=F.ZW*P(J);let Q,V,Y;F.ZW<1?(Q=k*3.1339+H*-1.617+Z*-.4906,V=k*-.9785+H*1.916+Z*.0333,Y=k*.072+H*-.229+Z*1.4057):(Q=k*3.2406+H*-1.5372+Z*-.4986,V=k*-.9689+H*1.8758+Z*.0415,Y=k*.0557+H*-.204+Z*1.057),L[x]=Math.sqrt(Q)*255,L[x+1]=Math.sqrt(V)*255,L[x+2]=Math.sqrt(Y)*255}class q extends E{constructor(G,R,I){if(super("Lab",3),!G)throw new n.FormatError("WhitePoint missing - required for color space Lab");if(R=R||[0,0,0],I=I||[-100,100,-100,100],this.XW=G[0],this.YW=G[1],this.ZW=G[2],this.amin=I[0],this.amax=I[1],this.bmin=I[2],this.bmax=I[3],this.XB=R[0],this.YB=R[1],this.ZB=R[2],this.XW<0||this.ZW<0||this.YW!==1)throw new n.FormatError("Invalid WhitePoint components, no fallback available");(this.XB<0||this.YB<0||this.ZB<0)&&((0,n.info)("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&((0,n.info)("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}getRgbItem(G,R,I,L){M(this,G,R,!1,I,L)}getRgbBuffer(G,R,I,L,x,S,W){const U=(1<<S)-1;for(let z=0;z<I;z++)M(this,G,R,U,L,x),R+=3,x+=3+W}getOutputLength(G,R){return G*(3+R)/3|0}isDefaultDecode(G,R){return!0}get usesZeroToOneRange(){return(0,n.shadow)(this,"usesZeroToOneRange",!1)}}return q}()},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PartialEvaluator=s.EvaluatorPreprocessor=void 0;var n=u(2),c=u(141),C=u(130),m=u(159),e=u(163),E=u(162),A=u(166),B=u(165),O=u(175),v=u(176),b=u(167),o=u(182),T=u(142),D=u(184),_=u(135),y=u(132),P=u(185),w=u(139),M=u(144),q=u(164),F=u(131),G=u(170),R=u(186),I=u(187),L=u(188);const x=Object.freeze({maxImageSize:-1,disableFontFace:!1,ignoreErrors:!1,isEvalSupported:!0,fontExtraProperties:!1,useSystemFonts:!0,cMapUrl:null,standardFontDataUrl:null}),S={TILING:1,SHADING:2},W=10,U=Promise.resolve();function z(te){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Array.isArray(te)){for(let X=0,ne=te.length;X<ne;X++){const ce=z(te[X],!0);if(ce)return ce}return(0,n.warn)(`Unsupported blend mode Array: ${te}`),"source-over"}if(!(te instanceof C.Name))return $?null:"source-over";switch(te.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}return $?null:((0,n.warn)(`Unsupported blend mode: ${te.name}`),"source-over")}function re(te){te.fn===n.OPS.paintImageMaskXObject&&te.args[0]&&te.args[0].count>0&&te.args[0].count++}class J{static get TIME_SLOT_DURATION_MS(){return(0,n.shadow)(this,"TIME_SLOT_DURATION_MS",20)}static get CHECK_TIME_EVERY(){return(0,n.shadow)(this,"CHECK_TIME_EVERY",100)}constructor(){this.reset()}check(){return++this.checked<J.CHECK_TIME_EVERY?!1:(this.checked=0,this.endTime<=Date.now())}reset(){this.endTime=Date.now()+J.TIME_SLOT_DURATION_MS,this.checked=0}}class k{constructor($){let{xref:X,handler:ne,pageIndex:ce,idFactory:se,fontCache:K,builtInCMapCache:ee,standardFontDataCache:ie,globalImageCache:oe,options:le=null}=$;this.xref=X,this.handler=ne,this.pageIndex=ce,this.idFactory=se,this.fontCache=K,this.builtInCMapCache=ee,this.standardFontDataCache=ie,this.globalImageCache=oe,this.options=le||x,this.parsingType3Font=!1,this._fetchBuiltInCMapBound=this.fetchBuiltInCMap.bind(this)}get _pdfFunctionFactory(){const $=new o.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.options.isEvalSupported});return(0,n.shadow)(this,"_pdfFunctionFactory",$)}clone(){let $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const X=Object.create(this);return X.options=Object.assign(Object.create(null),this.options,$),X}hasBlendModes($,X){if(!($ instanceof C.Dict)||$.objId&&X.has($.objId))return!1;const ne=new C.RefSet(X);$.objId&&ne.put($.objId);const ce=[$],se=this.xref;for(;ce.length;){const K=ce.shift(),ee=K.get("ExtGState");if(ee instanceof C.Dict)for(let oe of ee.getRawValues()){if(oe instanceof C.Ref){if(ne.has(oe))continue;try{oe=se.fetch(oe)}catch(pe){ne.put(oe),(0,n.info)(`hasBlendModes - ignoring ExtGState: "${pe}".`);continue}}if(!(oe instanceof C.Dict))continue;oe.objId&&ne.put(oe.objId);const le=oe.get("BM");if(le instanceof C.Name){if(le.name!=="Normal")return!0;continue}if(le!==void 0&&Array.isArray(le)){for(const pe of le)if(pe instanceof C.Name&&pe.name!=="Normal")return!0}}const ie=K.get("XObject");if(ie instanceof C.Dict)for(let oe of ie.getRawValues()){if(oe instanceof C.Ref){if(ne.has(oe))continue;try{oe=se.fetch(oe)}catch(pe){ne.put(oe),(0,n.info)(`hasBlendModes - ignoring XObject: "${pe}".`);continue}}if(!(oe instanceof y.BaseStream))continue;oe.dict.objId&&ne.put(oe.dict.objId);const le=oe.dict.get("Resources");le instanceof C.Dict&&(le.objId&&ne.has(le.objId)||(ce.push(le),le.objId&&ne.put(le.objId)))}}for(const K of ne)X.put(K);return!1}async fetchBuiltInCMap($){const X=this.builtInCMapCache.get($);if(X)return X;let ne;if(this.options.cMapUrl!==null){const ce=`${this.options.cMapUrl}${$}.bcmap`,se=await fetch(ce);if(!se.ok)throw new Error(`fetchBuiltInCMap: failed to fetch file "${ce}" with "${se.statusText}".`);ne={cMapData:new Uint8Array(await se.arrayBuffer()),compressionType:n.CMapCompressionType.BINARY}}else ne=await this.handler.sendWithPromise("FetchBuiltInCMap",{name:$});return ne.compressionType!==n.CMapCompressionType.NONE&&this.builtInCMapCache.set($,ne),ne}async fetchStandardFontData($){const X=this.standardFontDataCache.get($);if(X)return new _.Stream(X);if(this.options.useSystemFonts&&$!=="Symbol"&&$!=="ZapfDingbats")return null;const ne=(0,A.getFontNameToFileMap)(),ce=ne[$];let se;if(this.options.standardFontDataUrl!==null){const K=`${this.options.standardFontDataUrl}${ce}`,ee=await fetch(K);ee.ok?se=await ee.arrayBuffer():(0,n.warn)(`fetchStandardFontData: failed to fetch file "${K}" with "${ee.statusText}".`)}else try{se=await this.handler.sendWithPromise("FetchStandardFontData",{filename:ce})}catch(K){(0,n.warn)(`fetchStandardFontData: failed to fetch file "${ce}" with "${K}".`)}return se?(this.standardFontDataCache.set($,se),new _.Stream(se)):null}async buildFormXObject($,X,ne,ce,se,K,ee){const ie=X.dict,oe=ie.getArray("Matrix");let le=ie.getArray("BBox");Array.isArray(le)&&le.length===4?le=n.Util.normalizeRect(le):le=null;let pe,fe;ie.has("OC")&&(pe=await this.parseMarkedContentProps(ie.get("OC"),$)),pe!==void 0&&ce.addOp(n.OPS.beginMarkedContentProps,["OC",pe]);const ue=ie.get("Group");if(ue){fe={matrix:oe,bbox:le,smask:ne,isolated:!1,knockout:!1};const he=ue.get("S");let xe=null;if((0,C.isName)(he,"Transparency")&&(fe.isolated=ue.get("I")||!1,fe.knockout=ue.get("K")||!1,ue.has("CS"))){const ye=ue.getRaw("CS"),ve=w.ColorSpace.getCached(ye,this.xref,ee);ve?xe=ve:xe=await this.parseColorSpace({cs:ye,resources:$,localColorSpaceCache:ee})}ne&&ne.backdrop&&(xe=xe||w.ColorSpace.singletons.rgb,ne.backdrop=xe.getRgb(ne.backdrop,0)),ce.addOp(n.OPS.beginGroup,[fe])}const ge=ue?[oe,null]:[oe,le];return ce.addOp(n.OPS.paintFormXObjectBegin,ge),this.getOperatorList({stream:X,task:se,resources:ie.get("Resources")||$,operatorList:ce,initialState:K}).then(function(){ce.addOp(n.OPS.paintFormXObjectEnd,[]),ue&&ce.addOp(n.OPS.endGroup,[fe]),pe!==void 0&&ce.addOp(n.OPS.endMarkedContent,[])})}_sendImgData($,X){let ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const ce=X?[X.bitmap||X.data.buffer]:null;return this.parsingType3Font||ne?this.handler.send("commonobj",[$,"Image",X],ce):this.handler.send("obj",[$,this.pageIndex,"Image",X],ce)}async buildPaintImageXObject($){let{resources:X,image:ne,isInline:ce=!1,operatorList:se,cacheKey:K,localImageCache:ee,localColorSpaceCache:ie}=$;const oe=ne.dict,le=oe.objId,pe=oe.get("W","Width"),fe=oe.get("H","Height");if(!(pe&&typeof pe=="number")||!(fe&&typeof fe=="number")){(0,n.warn)("Image dimensions are missing, or not numbers.");return}const ue=this.options.maxImageSize;if(ue!==-1&&pe*fe>ue){const Oe="Image exceeded maximum allowed size and was removed.";if(this.options.ignoreErrors){(0,n.warn)(Oe);return}throw new Error(Oe)}let ge;oe.has("OC")&&(ge=await this.parseMarkedContentProps(oe.get("OC"),X));const he=oe.get("IM","ImageMask")||!1;let xe,ye;if(he){const Oe=oe.get("I","Interpolate"),Fe=pe+7>>3,Re=ne.getBytes(Fe*fe),Ne=oe.getArray("D","Decode");if(this.parsingType3Font){xe=L.PDFImage.createRawMask({imgArray:Re,width:pe,height:fe,imageIsFromDecodeStream:ne instanceof M.DecodeStream,inverseDecode:!!Ne&&Ne[0]>0,interpolate:Oe}),xe.cached=!!K,ye=[xe],se.addImageOps(n.OPS.paintImageMaskXObject,ye,ge),K&&ee.set(K,le,{fn:n.OPS.paintImageMaskXObject,args:ye,optionalContent:ge});return}if(xe=L.PDFImage.createMask({imgArray:Re,width:pe,height:fe,imageIsFromDecodeStream:ne instanceof M.DecodeStream,inverseDecode:!!Ne&&Ne[0]>0,interpolate:Oe}),xe.isSingleOpaquePixel){se.addImageOps(n.OPS.paintSolidColorImageMask,[],ge),K&&ee.set(K,le,{fn:n.OPS.paintSolidColorImageMask,args:[],optionalContent:ge});return}const Pe=`mask_${this.idFactory.createObjId()}`;se.addDependency(Pe),this._sendImgData(Pe,xe),ye=[{data:Pe,width:xe.width,height:xe.height,interpolate:xe.interpolate,count:1}],se.addImageOps(n.OPS.paintImageMaskXObject,ye,ge),K&&ee.set(K,le,{fn:n.OPS.paintImageMaskXObject,args:ye,optionalContent:ge});return}const ve=oe.get("SM","SMask")||!1,ke=oe.get("Mask")||!1,Se=200;if(ce&&!ve&&!ke&&pe+fe<Se){xe=new L.PDFImage({xref:this.xref,res:X,image:ne,isInline:ce,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:ie}).createImageData(!0),se.addImageOps(n.OPS.paintInlineImageXObject,[xe],ge);return}let be=`img_${this.idFactory.createObjId()}`,Ee=!1;this.parsingType3Font?be=`${this.idFactory.getDocId()}_type3_${be}`:le&&(Ee=this.globalImageCache.shouldCache(le,this.pageIndex),Ee&&(be=`${this.idFactory.getDocId()}_${be}`)),se.addDependency(be),ye=[be,pe,fe],L.PDFImage.buildImage({xref:this.xref,res:X,image:ne,isInline:ce,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:ie}).then(Oe=>(xe=Oe.createImageData(!1),K&&le&&Ee&&this.globalImageCache.addByteSize(le,xe.data.length),this._sendImgData(be,xe,Ee))).catch(Oe=>((0,n.warn)(`Unable to decode image "${be}": "${Oe}".`),this._sendImgData(be,null,Ee))),se.addImageOps(n.OPS.paintImageXObject,ye,ge),K&&(ee.set(K,le,{fn:n.OPS.paintImageXObject,args:ye,optionalContent:ge}),le&&((0,n.assert)(!ce,"Cannot cache an inline image globally."),this.globalImageCache.addPageIndex(le,this.pageIndex),Ee&&this.globalImageCache.setData(le,{objId:be,fn:n.OPS.paintImageXObject,args:ye,optionalContent:ge,byteSize:0})))}handleSMask($,X,ne,ce,se,K){const ee=$.get("G"),ie={subtype:$.get("S").name,backdrop:$.get("BC")},oe=$.get("TR");if((0,o.isPDFFunction)(oe)){const le=this._pdfFunctionFactory.create(oe),pe=new Uint8Array(256),fe=new Float32Array(1);for(let ue=0;ue<256;ue++)fe[0]=ue/255,le(fe,0,fe,0),pe[ue]=fe[0]*255|0;ie.transferMap=pe}return this.buildFormXObject(X,ee,ie,ne,ce,se.state.clone(),K)}handleTransferFunction($){let X;if(Array.isArray($))X=$;else if((0,o.isPDFFunction)($))X=[$];else return null;const ne=[];let ce=0,se=0;for(const K of X){const ee=this.xref.fetchIfRef(K);if(ce++,(0,C.isName)(ee,"Identity")){ne.push(null);continue}else if(!(0,o.isPDFFunction)(ee))return null;const ie=this._pdfFunctionFactory.create(ee),oe=new Uint8Array(256),le=new Float32Array(1);for(let pe=0;pe<256;pe++)le[0]=pe/255,ie(le,0,le,0),oe[pe]=le[0]*255|0;ne.push(oe),se++}return!(ce===1||ce===4)||se===0?null:ne}handleTilingType($,X,ne,ce,se,K,ee,ie){const oe=new I.OperatorList,le=C.Dict.merge({xref:this.xref,dictArray:[se.get("Resources"),ne]});return this.getOperatorList({stream:ce,task:ee,resources:le,operatorList:oe}).then(function(){const pe=oe.getIR(),fe=(0,O.getTilingPatternIR)(pe,se,X);K.addDependencies(oe.dependencies),K.addOp($,fe),se.objId&&ie.set(null,se.objId,{operatorListIR:pe,dict:se})}).catch(pe=>{if(!(pe instanceof n.AbortException)){if(this.options.ignoreErrors){this.handler.send("UnsupportedFeature",{featureId:n.UNSUPPORTED_FEATURES.errorTilingPattern}),(0,n.warn)(`handleTilingType - ignoring pattern: "${pe}".`);return}throw pe}})}handleSetFont($,X,ne,ce,se,K){let ee=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,ie=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null;const oe=X&&X[0]instanceof C.Name?X[0].name:null;return this.loadFont(oe,ne,$,ee,ie).then(le=>le.font.isType3Font?le.loadType3Data(this,$,se).then(function(){return ce.addDependencies(le.type3Dependencies),le}).catch(pe=>(this.handler.send("UnsupportedFeature",{featureId:n.UNSUPPORTED_FEATURES.errorFontLoadType3}),new H({loadedName:"g_font_error",font:new m.ErrorFont(`Type3 font load error: ${pe}`),dict:le.font,evaluatorOptions:this.options}))):le).then(le=>(K.font=le.font,le.send(this.handler),le.loadedName))}handleText($,X){const ne=X.font,ce=ne.charsToGlyphs($);return ne.data&&(!!(X.textRenderingMode&n.TextRenderingMode.ADD_TO_PATH_FLAG)||X.fillColorSpace.name==="Pattern"||ne.disableFontFace||this.options.disableFontFace)&&k.buildFontPaths(ne,ce,this.handler,this.options),ce}ensureStateFont($){if($.font)return;const X=new n.FormatError("Missing setFont (Tf) operator before text rendering operator.");if(this.options.ignoreErrors){this.handler.send("UnsupportedFeature",{featureId:n.UNSUPPORTED_FEATURES.errorFontState}),(0,n.warn)(`ensureStateFont: "${X}".`);return}throw X}async setGState($){let{resources:X,gState:ne,operatorList:ce,cacheKey:se,task:K,stateManager:ee,localGStateCache:ie,localColorSpaceCache:oe}=$;const le=ne.objId;let pe=!0;const fe=[],ue=ne.getKeys();let ge=Promise.resolve();for(let he=0,xe=ue.length;he<xe;he++){const ye=ue[he],ve=ne.get(ye);switch(ye){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":fe.push([ye,ve]);break;case"Font":pe=!1,ge=ge.then(()=>this.handleSetFont(X,null,ve[0],ce,K,ee.state).then(function(Se){ce.addDependency(Se),fe.push([ye,[Se,ve[1]]])}));break;case"BM":fe.push([ye,z(ve)]);break;case"SMask":if((0,C.isName)(ve,"None")){fe.push([ye,!1]);break}ve instanceof C.Dict?(pe=!1,ge=ge.then(()=>this.handleSMask(ve,X,ce,K,ee,oe)),fe.push([ye,!0])):(0,n.warn)("Unsupported SMask type");break;case"TR":const ke=this.handleTransferFunction(ve);fe.push([ye,ke]);break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":(0,n.info)("graphic state operator "+ye);break;default:(0,n.info)("Unknown graphic state operator "+ye);break}}return ge.then(function(){fe.length>0&&ce.addOp(n.OPS.setGState,[fe]),pe&&ie.set(se,le,fe)})}loadFont($,X,ne){let ce=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,se=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;const K=async()=>new H({loadedName:"g_font_error",font:new m.ErrorFont(`Font "${$}" is not available.`),dict:X,evaluatorOptions:this.options}),ee=this.xref;let ie;if(X)X instanceof C.Ref&&(ie=X);else{const he=ne.get("Font");he&&(ie=he.getRaw($))}if(!ie){const he=`Font "${$||X&&X.toString()}" is not available`;if(!this.options.ignoreErrors&&!this.parsingType3Font)return(0,n.warn)(`${he}.`),K();this.handler.send("UnsupportedFeature",{featureId:n.UNSUPPORTED_FEATURES.errorFontMissing}),(0,n.warn)(`${he} -- attempting to fallback to a default font.`),ce?ie=ce:ie=k.fallbackFontDict}if(this.parsingType3Font&&this.type3FontRefs.has(ie))return K();if(this.fontCache.has(ie))return this.fontCache.get(ie);if(X=ee.fetchIfRef(ie),!(X instanceof C.Dict))return K();if(X.cacheKey&&this.fontCache.has(X.cacheKey))return this.fontCache.get(X.cacheKey);const oe=(0,n.createPromiseCapability)();let le;try{le=this.preEvaluateFont(X),le.cssFontInfo=se}catch(he){return(0,n.warn)(`loadFont - preEvaluateFont failed: "${he}".`),K()}const{descriptor:pe,hash:fe}=le,ue=ie instanceof C.Ref;let ge;if(ue&&(ge=`f${ie.toString()}`),fe&&pe instanceof C.Dict){pe.fontAliases||(pe.fontAliases=Object.create(null));const he=pe.fontAliases;if(he[fe]){const xe=he[fe].aliasRef;if(ue&&xe&&this.fontCache.has(xe))return this.fontCache.putAlias(ie,xe),this.fontCache.get(ie)}else he[fe]={fontID:this.idFactory.createFontId()};ue&&(he[fe].aliasRef=ie),ge=he[fe].fontID}return ue?this.fontCache.put(ie,oe.promise):(ge||(ge=this.idFactory.createFontId()),X.cacheKey=`cacheKey_${ge}`,this.fontCache.put(X.cacheKey,oe.promise)),(0,n.assert)(ge&&ge.startsWith("f"),'The "fontID" must be (correctly) defined.'),X.loadedName=`${this.idFactory.getDocId()}_${ge}`,this.translateFont(le).then(he=>{he.fontType!==void 0&&ee.stats.addFontType(he.fontType),oe.resolve(new H({loadedName:X.loadedName,font:he,dict:X,evaluatorOptions:this.options}))}).catch(he=>{this.handler.send("UnsupportedFeature",{featureId:n.UNSUPPORTED_FEATURES.errorFontTranslate}),(0,n.warn)(`loadFont - translateFont failed: "${he}".`);try{const xe=pe&&pe.get("FontFile3"),ye=xe&&xe.get("Subtype"),ve=(0,e.getFontType)(le.type,ye&&ye.name);ve!==void 0&&ee.stats.addFontType(ve)}catch{}oe.resolve(new H({loadedName:X.loadedName,font:new m.ErrorFont(he instanceof Error?he.message:he),dict:X,evaluatorOptions:this.options}))}),oe.promise}buildPath($,X,ne){let ce=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const se=$.length-1;ne||(ne=[]);let K;if(se<0||$.fnArray[se]!==n.OPS.constructPath)ce&&((0,n.warn)(`Encountered path operator "${X}" inside of a text object.`),$.addOp(n.OPS.save,null)),K=[1/0,-1/0,1/0,-1/0],$.addOp(n.OPS.constructPath,[[X],ne,K]),ce&&$.addOp(n.OPS.restore,null);else{const ee=$.argsArray[se];ee[0].push(X),Array.prototype.push.apply(ee[1],ne),K=ee[2]}switch(X){case n.OPS.rectangle:K[0]=Math.min(K[0],ne[0],ne[0]+ne[2]),K[1]=Math.max(K[1],ne[0],ne[0]+ne[2]),K[2]=Math.min(K[2],ne[1],ne[1]+ne[3]),K[3]=Math.max(K[3],ne[1],ne[1]+ne[3]);break;case n.OPS.moveTo:case n.OPS.lineTo:K[0]=Math.min(K[0],ne[0]),K[1]=Math.max(K[1],ne[0]),K[2]=Math.min(K[2],ne[1]),K[3]=Math.max(K[3],ne[1]);break}}parseColorSpace($){let{cs:X,resources:ne,localColorSpaceCache:ce}=$;return w.ColorSpace.parseAsync({cs:X,xref:this.xref,resources:ne,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:ce}).catch(se=>{if(se instanceof n.AbortException)return null;if(this.options.ignoreErrors)return this.handler.send("UnsupportedFeature",{featureId:n.UNSUPPORTED_FEATURES.errorColorSpace}),(0,n.warn)(`parseColorSpace - ignoring ColorSpace: "${se}".`),null;throw se})}parseShading($){let{shading:X,resources:ne,localColorSpaceCache:ce,localShadingPatternCache:se}=$,K=se.get(X);if(!K){var ee=O.Pattern.parseShading(X,this.xref,ne,this.handler,this._pdfFunctionFactory,ce);const ie=ee.getIR();K=`pattern_${this.idFactory.createObjId()}`,se.set(X,K),this.handler.send("obj",[K,this.pageIndex,"Pattern",ie])}return K}handleColorN($,X,ne,ce,se,K,ee,ie,oe,le){const pe=ne.pop();if(pe instanceof C.Name){const fe=se.getRaw(pe.name),ue=fe instanceof C.Ref&&oe.getByRef(fe);if(ue)try{const he=ce.base?ce.base.getRgb(ne,0):null,xe=(0,O.getTilingPatternIR)(ue.operatorListIR,ue.dict,he);$.addOp(X,xe);return}catch{}const ge=this.xref.fetchIfRef(fe);if(ge){const he=ge instanceof y.BaseStream?ge.dict:ge,xe=he.get("PatternType");if(xe===S.TILING){const ye=ce.base?ce.base.getRgb(ne,0):null;return this.handleTilingType(X,ye,K,ge,he,$,ee,oe)}else if(xe===S.SHADING){const ye=he.get("Shading"),ve=he.getArray("Matrix"),ke=this.parseShading({shading:ye,resources:K,localColorSpaceCache:ie,localShadingPatternCache:le});$.addOp(X,["Shading",ke,ve]);return}throw new n.FormatError(`Unknown PatternType: ${xe}`)}}throw new n.FormatError(`Unknown PatternName: ${pe}`)}_parseVisibilityExpression($,X,ne){if(++X>10){(0,n.warn)("Visibility expression is too deeply nested");return}const se=$.length,K=this.xref.fetchIfRef($[0]);if(se<2||!(K instanceof C.Name)){(0,n.warn)("Invalid visibility expression");return}switch(K.name){case"And":case"Or":case"Not":ne.push(K.name);break;default:(0,n.warn)(`Invalid operator ${K.name} in visibility expression`);return}for(let ee=1;ee<se;ee++){const ie=$[ee],oe=this.xref.fetchIfRef(ie);if(Array.isArray(oe)){const le=[];ne.push(le),this._parseVisibilityExpression(oe,X,le)}else ie instanceof C.Ref&&ne.push(ie.toString())}}async parseMarkedContentProps($,X){let ne;if($ instanceof C.Name)ne=X.get("Properties").get($.name);else if($ instanceof C.Dict)ne=$;else throw new n.FormatError("Optional content properties malformed.");const ce=ne.get("Type").name;if(ce==="OCG")return{type:ce,id:ne.objId};if(ce==="OCMD"){const se=ne.get("VE");if(Array.isArray(se)){const ee=[];if(this._parseVisibilityExpression(se,0,ee),ee.length>0)return{type:"OCMD",expression:ee}}const K=ne.get("OCGs");if(Array.isArray(K)||K instanceof C.Dict){const ee=[];if(Array.isArray(K))for(const ie of K)ee.push(ie.toString());else ee.push(K.objId);return{type:ce,ids:ee,policy:ne.get("P")instanceof C.Name?ne.get("P").name:null,expression:null}}else if(K instanceof C.Ref)return{type:ce,id:K.toString()}}return null}getOperatorList($){let{stream:X,task:ne,resources:ce,operatorList:se,initialState:K=null,fallbackFontDict:ee=null}=$;if(ce=ce||C.Dict.empty,K=K||new V,!se)throw new Error('getOperatorList: missing "operatorList" parameter');const ie=this,oe=this.xref;let le=!1;const pe=new D.LocalImageCache,fe=new D.LocalColorSpaceCache,ue=new D.LocalGStateCache,ge=new D.LocalTilingPatternCache,he=new Map,xe=ce.get("XObject")||C.Dict.empty,ye=ce.get("Pattern")||C.Dict.empty,ve=new Z(K),ke=new Y(X,oe,ve),Se=new J;function be(Ee){for(let Oe=0,Fe=ke.savedStatesDepth;Oe<Fe;Oe++)se.addOp(n.OPS.restore,[])}return new Promise(function Ee(Oe,Fe){const Re=function(je){Promise.all([je,se.ready]).then(function(){try{Ee(Oe,Fe)}catch(it){Fe(it)}},Fe)};ne.ensureNotTerminated(),Se.reset();const Ne={};let Pe,Ie,Me,Te,Le,Be;for(;!(Pe=Se.check())&&(Ne.args=null,!!ke.read(Ne));){let je=Ne.args,it=Ne.fn;switch(it|0){case n.OPS.paintXObject:if(Be=je[0]instanceof C.Name,Le=je[0].name,Be){const ze=pe.getByName(Le);if(ze){se.addImageOps(ze.fn,ze.args,ze.optionalContent),re(ze),je=null;continue}}Re(new Promise(function(ze,lt){if(!Be)throw new n.FormatError("XObject must be referred to by name.");let ot=xe.getRaw(Le);if(ot instanceof C.Ref){const St=pe.getByRef(ot);if(St){se.addImageOps(St.fn,St.args,St.optionalContent),re(St),ze();return}const Et=ie.globalImageCache.getData(ot,ie.pageIndex);if(Et){se.addDependency(Et.objId),se.addImageOps(Et.fn,Et.args,Et.optionalContent),ze();return}ot=oe.fetch(ot)}if(!(ot instanceof y.BaseStream))throw new n.FormatError("XObject should be a stream");const ft=ot.dict.get("Subtype");if(!(ft instanceof C.Name))throw new n.FormatError("XObject should have a Name subtype");if(ft.name==="Form"){ve.save(),ie.buildFormXObject(ce,ot,null,se,ne,ve.state.clone(),fe).then(function(){ve.restore(),ze()},lt);return}else if(ft.name==="Image"){ie.buildPaintImageXObject({resources:ce,image:ot,operatorList:se,cacheKey:Le,localImageCache:pe,localColorSpaceCache:fe}).then(ze,lt);return}else if(ft.name==="PS")(0,n.info)("Ignored XObject subtype PS");else throw new n.FormatError(`Unhandled XObject subtype ${ft.name}`);ze()}).catch(function(ze){if(!(ze instanceof n.AbortException)){if(ie.options.ignoreErrors){ie.handler.send("UnsupportedFeature",{featureId:n.UNSUPPORTED_FEATURES.errorXObject}),(0,n.warn)(`getOperatorList - ignoring XObject: "${ze}".`);return}throw ze}}));return;case n.OPS.setFont:var Ae=je[1];Re(ie.handleSetFont(ce,je,null,se,ne,ve.state,ee).then(function(ze){se.addDependency(ze),se.addOp(n.OPS.setFont,[ze,Ae])}));return;case n.OPS.beginText:le=!0;break;case n.OPS.endText:le=!1;break;case n.OPS.endInlineImage:var we=je[0].cacheKey;if(we){const ze=pe.getByName(we);if(ze){se.addImageOps(ze.fn,ze.args,ze.optionalContent),re(ze),je=null;continue}}Re(ie.buildPaintImageXObject({resources:ce,image:je[0],isInline:!0,operatorList:se,cacheKey:we,localImageCache:pe,localColorSpaceCache:fe}));return;case n.OPS.showText:if(!ve.state.font){ie.ensureStateFont(ve.state);continue}je[0]=ie.handleText(je[0],ve.state);break;case n.OPS.showSpacedText:if(!ve.state.font){ie.ensureStateFont(ve.state);continue}var Ce=je[0],De=[],Ge=Ce.length,He=ve.state;for(Ie=0;Ie<Ge;++Ie){const ze=Ce[Ie];typeof ze=="string"?Array.prototype.push.apply(De,ie.handleText(ze,He)):typeof ze=="number"&&De.push(ze)}je[0]=De,it=n.OPS.showText;break;case n.OPS.nextLineShowText:if(!ve.state.font){ie.ensureStateFont(ve.state);continue}se.addOp(n.OPS.nextLine),je[0]=ie.handleText(je[0],ve.state),it=n.OPS.showText;break;case n.OPS.nextLineSetSpacingShowText:if(!ve.state.font){ie.ensureStateFont(ve.state);continue}se.addOp(n.OPS.nextLine),se.addOp(n.OPS.setWordSpacing,[je.shift()]),se.addOp(n.OPS.setCharSpacing,[je.shift()]),je[0]=ie.handleText(je[0],ve.state),it=n.OPS.showText;break;case n.OPS.setTextRenderingMode:ve.state.textRenderingMode=je[0];break;case n.OPS.setFillColorSpace:{const ze=w.ColorSpace.getCached(je[0],oe,fe);if(ze){ve.state.fillColorSpace=ze;continue}Re(ie.parseColorSpace({cs:je[0],resources:ce,localColorSpaceCache:fe}).then(function(lt){lt&&(ve.state.fillColorSpace=lt)}));return}case n.OPS.setStrokeColorSpace:{const ze=w.ColorSpace.getCached(je[0],oe,fe);if(ze){ve.state.strokeColorSpace=ze;continue}Re(ie.parseColorSpace({cs:je[0],resources:ce,localColorSpaceCache:fe}).then(function(lt){lt&&(ve.state.strokeColorSpace=lt)}));return}case n.OPS.setFillColor:Te=ve.state.fillColorSpace,je=Te.getRgb(je,0),it=n.OPS.setFillRGBColor;break;case n.OPS.setStrokeColor:Te=ve.state.strokeColorSpace,je=Te.getRgb(je,0),it=n.OPS.setStrokeRGBColor;break;case n.OPS.setFillGray:ve.state.fillColorSpace=w.ColorSpace.singletons.gray,je=w.ColorSpace.singletons.gray.getRgb(je,0),it=n.OPS.setFillRGBColor;break;case n.OPS.setStrokeGray:ve.state.strokeColorSpace=w.ColorSpace.singletons.gray,je=w.ColorSpace.singletons.gray.getRgb(je,0),it=n.OPS.setStrokeRGBColor;break;case n.OPS.setFillCMYKColor:ve.state.fillColorSpace=w.ColorSpace.singletons.cmyk,je=w.ColorSpace.singletons.cmyk.getRgb(je,0),it=n.OPS.setFillRGBColor;break;case n.OPS.setStrokeCMYKColor:ve.state.strokeColorSpace=w.ColorSpace.singletons.cmyk,je=w.ColorSpace.singletons.cmyk.getRgb(je,0),it=n.OPS.setStrokeRGBColor;break;case n.OPS.setFillRGBColor:ve.state.fillColorSpace=w.ColorSpace.singletons.rgb,je=w.ColorSpace.singletons.rgb.getRgb(je,0);break;case n.OPS.setStrokeRGBColor:ve.state.strokeColorSpace=w.ColorSpace.singletons.rgb,je=w.ColorSpace.singletons.rgb.getRgb(je,0);break;case n.OPS.setFillColorN:if(Te=ve.state.fillColorSpace,Te.name==="Pattern"){Re(ie.handleColorN(se,n.OPS.setFillColorN,je,Te,ye,ce,ne,fe,ge,he));return}je=Te.getRgb(je,0),it=n.OPS.setFillRGBColor;break;case n.OPS.setStrokeColorN:if(Te=ve.state.strokeColorSpace,Te.name==="Pattern"){Re(ie.handleColorN(se,n.OPS.setStrokeColorN,je,Te,ye,ce,ne,fe,ge,he));return}je=Te.getRgb(je,0),it=n.OPS.setStrokeRGBColor;break;case n.OPS.shadingFill:var Ze=ce.get("Shading");if(!Ze)throw new n.FormatError("No shading resource found");var Ye=Ze.get(je[0].name);if(!Ye)throw new n.FormatError("No shading object found");je=[ie.parseShading({shading:Ye,resources:ce,localColorSpaceCache:fe,localShadingPatternCache:he})],it=n.OPS.shadingFill;break;case n.OPS.setGState:if(Be=je[0]instanceof C.Name,Le=je[0].name,Be){const ze=ue.getByName(Le);if(ze){ze.length>0&&se.addOp(n.OPS.setGState,[ze]),je=null;continue}}Re(new Promise(function(ze,lt){if(!Be)throw new n.FormatError("GState must be referred to by name.");const ot=ce.get("ExtGState");if(!(ot instanceof C.Dict))throw new n.FormatError("ExtGState should be a dictionary.");const ft=ot.get(Le);if(!(ft instanceof C.Dict))throw new n.FormatError("GState should be a dictionary.");ie.setGState({resources:ce,gState:ft,operatorList:se,cacheKey:Le,task:ne,stateManager:ve,localGStateCache:ue,localColorSpaceCache:fe}).then(ze,lt)}).catch(function(ze){if(!(ze instanceof n.AbortException)){if(ie.options.ignoreErrors){ie.handler.send("UnsupportedFeature",{featureId:n.UNSUPPORTED_FEATURES.errorExtGState}),(0,n.warn)(`getOperatorList - ignoring ExtGState: "${ze}".`);return}throw ze}}));return;case n.OPS.moveTo:case n.OPS.lineTo:case n.OPS.curveTo:case n.OPS.curveTo2:case n.OPS.curveTo3:case n.OPS.closePath:case n.OPS.rectangle:ie.buildPath(se,it,je,le);continue;case n.OPS.markPoint:case n.OPS.markPointProps:case n.OPS.beginCompat:case n.OPS.endCompat:continue;case n.OPS.beginMarkedContentProps:if(!(je[0]instanceof C.Name)){(0,n.warn)(`Expected name for beginMarkedContentProps arg0=${je[0]}`);continue}if(je[0].name==="OC"){Re(ie.parseMarkedContentProps(je[1],ce).then(ze=>{se.addOp(n.OPS.beginMarkedContentProps,["OC",ze])}).catch(ze=>{if(!(ze instanceof n.AbortException)){if(ie.options.ignoreErrors){ie.handler.send("UnsupportedFeature",{featureId:n.UNSUPPORTED_FEATURES.errorMarkedContent}),(0,n.warn)(`getOperatorList - ignoring beginMarkedContentProps: "${ze}".`);return}throw ze}}));return}je=[je[0].name,je[1]instanceof C.Dict?je[1].get("MCID"):null];break;case n.OPS.beginMarkedContent:case n.OPS.endMarkedContent:default:if(je!==null){for(Ie=0,Me=je.length;Ie<Me&&!(je[Ie]instanceof C.Dict);Ie++);if(Ie<Me){(0,n.warn)("getOperatorList - ignoring operator: "+it);continue}}}se.addOp(it,je)}if(Pe){Re(U);return}be(),Oe()}).catch(Ee=>{if(!(Ee instanceof n.AbortException)){if(this.options.ignoreErrors){this.handler.send("UnsupportedFeature",{featureId:n.UNSUPPORTED_FEATURES.errorOperatorList}),(0,n.warn)(`getOperatorList - ignoring errors during "${ne.name}" task: "${Ee}".`),be();return}throw Ee}})}getTextContent($){let{stream:X,task:ne,resources:ce,stateManager:se=null,combineTextItems:K=!1,includeMarkedContent:ee=!1,sink:ie,seenStyles:oe=new Set,viewBox:le}=$;ce=ce||C.Dict.empty,se=se||new Z(new Q);const pe=(0,B.getNormalizedUnicodes)(),fe={items:[],styles:Object.create(null)},ue={initialized:!1,str:[],totalWidth:0,totalHeight:0,width:0,height:0,vertical:!1,prevTransform:null,textAdvanceScale:0,spaceInFlowMin:0,spaceInFlowMax:0,trackingSpaceMin:1/0,negativeSpaceMax:-1/0,notASpace:-1/0,transform:null,fontName:null,hasEOL:!1},ge=[" "," "];let he=0;function xe(ze){const lt=(he+1)%2,ot=ge[he]!==" "&&ge[lt]===" ";return ge[he]=ze,he=lt,ot}function ye(){ge[0]=ge[1]=" ",he=0}const ve=.1,ke=.03,Se=-.2,be=.1,Ee=.6,Oe=this,Fe=this.xref,Re=[];let Ne=null;const Pe=new D.LocalImageCache,Ie=new D.LocalGStateCache,Me=new Y(X,Fe,se);let Te;function Le(){const ze=Te.font,lt=[Te.fontSize*Te.textHScale,0,0,Te.fontSize,0,Te.textRise];if(ze.isType3Font&&(Te.fontSize<=1||ze.isCharBBox)&&!(0,n.isArrayEqual)(Te.fontMatrix,n.FONT_IDENTITY_MATRIX)){const ot=ze.bbox[3]-ze.bbox[1];ot>0&&(lt[3]*=ot*Te.fontMatrix[3])}return n.Util.transform(Te.ctm,n.Util.transform(Te.textMatrix,lt))}function Be(){if(ue.initialized)return ue;const ze=Te.font,lt=ze.loadedName;oe.has(lt)||(oe.add(lt),fe.styles[lt]={fontFamily:ze.fallbackName,ascent:ze.ascent,descent:ze.descent,vertical:ze.vertical}),ue.fontName=lt;const ot=ue.transform=Le();ze.vertical?(ue.width=ue.totalWidth=Math.hypot(ot[0],ot[1]),ue.height=ue.totalHeight=0,ue.vertical=!0):(ue.width=ue.totalWidth=0,ue.height=ue.totalHeight=Math.hypot(ot[2],ot[3]),ue.vertical=!1);const ft=Math.hypot(Te.textLineMatrix[0],Te.textLineMatrix[1]),St=Math.hypot(Te.ctm[0],Te.ctm[1]);return ue.textAdvanceScale=St*ft,ue.trackingSpaceMin=Te.fontSize*ve,ue.notASpace=Te.fontSize*ke,ue.negativeSpaceMax=Te.fontSize*Se,ue.spaceInFlowMin=Te.fontSize*be,ue.spaceInFlowMax=Te.fontSize*Ee,ue.hasEOL=!1,ue.initialized=!0,ue}function Ae(){if(!ue.initialized)return;const ze=Math.hypot(Te.textLineMatrix[0],Te.textLineMatrix[1]),ot=Math.hypot(Te.ctm[0],Te.ctm[1])*ze;ot!==ue.textAdvanceScale&&(ue.vertical?(ue.totalHeight+=ue.height*ue.textAdvanceScale,ue.height=0):(ue.totalWidth+=ue.width*ue.textAdvanceScale,ue.width=0),ue.textAdvanceScale=ot)}function we(ze){const lt=ze.str.join(""),ot=(0,P.bidi)(lt,-1,ze.vertical);return{str:ot.str,dir:ot.dir,width:Math.abs(ze.totalWidth),height:Math.abs(ze.totalHeight),transform:ze.transform,fontName:ze.fontName,hasEOL:ze.hasEOL}}function Ce(ze,lt){return Oe.loadFont(ze,lt,ce).then(function(ot){return ot.font.isType3Font?ot.loadType3Data(Oe,ce,ne).catch(function(){}).then(function(){return ot}):ot}).then(function(ot){Te.font=ot.font,Te.fontMatrix=ot.font.fontMatrix||n.FONT_IDENTITY_MATRIX})}function De(ze,lt,ot){const ft=Math.hypot(ot[0],ot[1]);return[(ot[0]*ze+ot[1]*lt)/ft,(ot[2]*ze+ot[3]*lt)/ft]}function Ge(){const ze=Le();let lt=ze[4],ot=ze[5];const ft=lt-le[0],St=ot-le[1];if(ft<0||ft>le[2]||St<0||St>le[3])return!1;if(!K||!Te.font||!ue.prevTransform)return!0;let Et=ue.prevTransform[4],pt=ue.prevTransform[5];if(Et===lt&&pt===ot)return!0;let Ht=-1;switch(ze[0]&&ze[1]===0&&ze[2]===0?Ht=ze[0]>0?0:180:ze[1]&&ze[0]===0&&ze[3]===0&&(Ht=ze[1]>0?90:270),Ht){case 0:break;case 90:[lt,ot]=[ot,lt],[Et,pt]=[pt,Et];break;case 180:[lt,ot,Et,pt]=[-lt,-ot,-Et,-pt];break;case 270:[lt,ot]=[-ot,-lt],[Et,pt]=[-pt,-Et];break;default:[lt,ot]=De(lt,ot,ze),[Et,pt]=De(Et,pt,ue.prevTransform)}if(Te.font.vertical){const tt=(pt-ot)/ue.textAdvanceScale,ut=lt-Et,mt=Math.sign(ue.height);return tt<mt*ue.negativeSpaceMax?Math.abs(ut)>.5*ue.width?(Ze(),!0):(ye(),je(),!0):Math.abs(ut)>ue.width?(Ze(),!0):(tt<=mt*ue.notASpace&&ye(),tt<=mt*ue.trackingSpaceMin?ue.height+=tt:Ye(tt,ue.prevTransform,mt)||(ue.str.length===0?(ye(),fe.items.push({str:" ",dir:"ltr",width:0,height:Math.abs(tt),transform:ue.prevTransform,fontName:ue.fontName,hasEOL:!1})):ue.height+=tt),!0)}const Qe=(lt-Et)/ue.textAdvanceScale,qe=ot-pt,rt=Math.sign(ue.width);return Qe<rt*ue.negativeSpaceMax?Math.abs(qe)>.5*ue.height?(Ze(),!0):(ye(),je(),!0):Math.abs(qe)>ue.height?(Ze(),!0):(Qe<=rt*ue.notASpace&&ye(),Qe<=rt*ue.trackingSpaceMin?ue.width+=Qe:Ye(Qe,ue.prevTransform,rt)||(ue.str.length===0?(ye(),fe.items.push({str:" ",dir:"ltr",width:Math.abs(Qe),height:0,transform:ue.prevTransform,fontName:ue.fontName,hasEOL:!1})):ue.width+=Qe),!0)}function He(ze){let{chars:lt,extraSpacing:ot}=ze;const ft=Te.font;if(!lt){const pt=Te.charSpacing+ot;pt&&(ft.vertical?Te.translateTextMatrix(0,-pt):Te.translateTextMatrix(pt*Te.textHScale,0));return}const St=ft.charsToGlyphs(lt),Et=Te.fontMatrix[0]*Te.fontSize;for(let pt=0,Ht=St.length;pt<Ht;pt++){const Qe=St[pt];if(Qe.isInvisibleFormatMark)continue;let qe=Te.charSpacing+(pt+1===Ht?ot:0),rt=Qe.width;ft.vertical&&(rt=Qe.vmetric?Qe.vmetric[0]:-rt);let tt=rt*Et;if(Qe.isWhitespace){ft.vertical?(qe+=-tt+Te.wordSpacing,Te.translateTextMatrix(0,-qe)):(qe+=tt+Te.wordSpacing,Te.translateTextMatrix(qe*Te.textHScale,0)),xe(" ");continue}if(!Ge())continue;const ut=Be();Qe.isZeroWidthDiacritic&&(tt=0),ft.vertical?(Te.translateTextMatrix(0,tt),tt=Math.abs(tt),ut.height+=tt):(tt*=Te.textHScale,Te.translateTextMatrix(tt,0),ut.width+=tt),tt&&(ut.prevTransform=Le());let mt=Qe.unicode;mt=pe[mt]||mt,mt=(0,B.reverseIfRtl)(mt),xe(mt)&&ut.str.push(" "),ut.str.push(mt),qe&&(ft.vertical?Te.translateTextMatrix(0,-qe):Te.translateTextMatrix(qe*Te.textHScale,0))}}function Ze(){ye(),ue.initialized?(ue.hasEOL=!0,je()):fe.items.push({str:"",dir:"ltr",width:0,height:0,transform:Le(),fontName:Te.font.loadedName,hasEOL:!0})}function Ye(ze,lt,ot){if(ot*ue.spaceInFlowMin<=ze&&ze<=ot*ue.spaceInFlowMax)return ue.initialized&&(ye(),ue.str.push(" ")),!1;const ft=ue.fontName;let St=0;return ue.vertical&&(St=ze,ze=0),je(),ye(),fe.items.push({str:" ",dir:"ltr",width:Math.abs(ze),height:Math.abs(St),transform:lt||Le(),fontName:ft,hasEOL:!1}),!0}function je(){!ue.initialized||!ue.str||(ue.vertical?ue.totalHeight+=ue.height*ue.textAdvanceScale:ue.totalWidth+=ue.width*ue.textAdvanceScale,fe.items.push(we(ue)),ue.initialized=!1,ue.str.length=0)}function it(){let ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const lt=fe.items.length;lt!==0&&(ze&&lt<W||(ie.enqueue(fe,lt),fe.items=[],fe.styles=Object.create(null)))}const dt=new J;return new Promise(function ze(lt,ot){const ft=function(tt){it(!0),Promise.all([tt,ie.ready]).then(function(){try{ze(lt,ot)}catch(ut){ot(ut)}},ot)};ne.ensureNotTerminated(),dt.reset();const St={};let Et,pt=[];for(;!(Et=dt.check())&&(pt.length=0,St.args=pt,!!Me.read(St));){Te=se.state;const tt=St.fn;switch(pt=St.args,tt|0){case n.OPS.setFont:var Ht=pt[0].name,Qe=pt[1];if(Te.font&&Ht===Te.fontName&&Qe===Te.fontSize)break;je(),Te.fontName=Ht,Te.fontSize=Qe,ft(Ce(Ht,null));return;case n.OPS.setTextRise:Te.textRise=pt[0];break;case n.OPS.setHScale:Te.textHScale=pt[0]/100;break;case n.OPS.setLeading:Te.leading=pt[0];break;case n.OPS.moveText:Te.translateTextLineMatrix(pt[0],pt[1]),Te.textMatrix=Te.textLineMatrix.slice();break;case n.OPS.setLeadingMoveText:Te.leading=-pt[1],Te.translateTextLineMatrix(pt[0],pt[1]),Te.textMatrix=Te.textLineMatrix.slice();break;case n.OPS.nextLine:Te.carriageReturn();break;case n.OPS.setTextMatrix:Te.setTextMatrix(pt[0],pt[1],pt[2],pt[3],pt[4],pt[5]),Te.setTextLineMatrix(pt[0],pt[1],pt[2],pt[3],pt[4],pt[5]),Ae();break;case n.OPS.setCharSpacing:Te.charSpacing=pt[0];break;case n.OPS.setWordSpacing:Te.wordSpacing=pt[0];break;case n.OPS.beginText:Te.textMatrix=n.IDENTITY_MATRIX.slice(),Te.textLineMatrix=n.IDENTITY_MATRIX.slice();break;case n.OPS.showSpacedText:if(!se.state.font){Oe.ensureStateFont(se.state);continue}const ut=(Te.font.vertical?1:-1)*Te.fontSize/1e3,mt=pt[0];for(let at=0,vt=mt.length;at<vt-1;at++){const bt=mt[at];if(typeof bt=="string")Re.push(bt);else if(typeof bt=="number"&&bt!==0){const Pt=Re.join("");Re.length=0,He({chars:Pt,extraSpacing:bt*ut})}}const xt=mt.at(-1);if(typeof xt=="string"&&Re.push(xt),Re.length>0){const at=Re.join("");Re.length=0,He({chars:at,extraSpacing:0})}break;case n.OPS.showText:if(!se.state.font){Oe.ensureStateFont(se.state);continue}He({chars:pt[0],extraSpacing:0});break;case n.OPS.nextLineShowText:if(!se.state.font){Oe.ensureStateFont(se.state);continue}Te.carriageReturn(),He({chars:pt[0],extraSpacing:0});break;case n.OPS.nextLineSetSpacingShowText:if(!se.state.font){Oe.ensureStateFont(se.state);continue}Te.wordSpacing=pt[0],Te.charSpacing=pt[1],Te.carriageReturn(),He({chars:pt[2],extraSpacing:0});break;case n.OPS.paintXObject:je(),Ne||(Ne=ce.get("XObject")||C.Dict.empty);var qe=pt[0]instanceof C.Name,rt=pt[0].name;if(qe&&Pe.getByName(rt))break;ft(new Promise(function(at,vt){if(!qe)throw new n.FormatError("XObject must be referred to by name.");let bt=Ne.getRaw(rt);if(bt instanceof C.Ref){if(Pe.getByRef(bt)){at();return}if(Oe.globalImageCache.getData(bt,Oe.pageIndex)){at();return}bt=Fe.fetch(bt)}if(!(bt instanceof y.BaseStream))throw new n.FormatError("XObject should be a stream");const Pt=bt.dict.get("Subtype");if(!(Pt instanceof C.Name))throw new n.FormatError("XObject should have a Name subtype");if(Pt.name!=="Form"){Pe.set(rt,bt.dict.objId,!0),at();return}const Tt=se.state.clone(),wt=new Z(Tt),Ue=bt.dict.getArray("Matrix");Array.isArray(Ue)&&Ue.length===6&&wt.transform(Ue),it();const We={enqueueInvoked:!1,enqueue(nt,et){this.enqueueInvoked=!0,ie.enqueue(nt,et)},get desiredSize(){return ie.desiredSize},get ready(){return ie.ready}};Oe.getTextContent({stream:bt,task:ne,resources:bt.dict.get("Resources")||ce,stateManager:wt,combineTextItems:K,includeMarkedContent:ee,sink:We,seenStyles:oe,viewBox:le}).then(function(){We.enqueueInvoked||Pe.set(rt,bt.dict.objId,!0),at()},vt)}).catch(function(at){if(!(at instanceof n.AbortException)){if(Oe.options.ignoreErrors){(0,n.warn)(`getTextContent - ignoring XObject: "${at}".`);return}throw at}}));return;case n.OPS.setGState:if(qe=pt[0]instanceof C.Name,rt=pt[0].name,qe&&Ie.getByName(rt))break;ft(new Promise(function(at,vt){if(!qe)throw new n.FormatError("GState must be referred to by name.");const bt=ce.get("ExtGState");if(!(bt instanceof C.Dict))throw new n.FormatError("ExtGState should be a dictionary.");const Pt=bt.get(rt);if(!(Pt instanceof C.Dict))throw new n.FormatError("GState should be a dictionary.");const Tt=Pt.get("Font");if(!Tt){Ie.set(rt,Pt.objId,!0),at();return}je(),Te.fontName=null,Te.fontSize=Tt[1],Ce(null,Tt[0]).then(at,vt)}).catch(function(at){if(!(at instanceof n.AbortException)){if(Oe.options.ignoreErrors){(0,n.warn)(`getTextContent - ignoring ExtGState: "${at}".`);return}throw at}}));return;case n.OPS.beginMarkedContent:je(),ee&&fe.items.push({type:"beginMarkedContent",tag:pt[0]instanceof C.Name?pt[0].name:null});break;case n.OPS.beginMarkedContentProps:if(je(),ee){let at=null;pt[1]instanceof C.Dict&&(at=pt[1].get("MCID")),fe.items.push({type:"beginMarkedContentProps",id:Number.isInteger(at)?`${Oe.idFactory.getPageObjId()}_mcid${at}`:null,tag:pt[0]instanceof C.Name?pt[0].name:null})}break;case n.OPS.endMarkedContent:je(),ee&&fe.items.push({type:"endMarkedContent"});break}if(fe.items.length>=ie.desiredSize){Et=!0;break}}if(Et){ft(U);return}je(),it(),lt()}).catch(ze=>{if(!(ze instanceof n.AbortException)){if(this.options.ignoreErrors){(0,n.warn)(`getTextContent - ignoring errors during "${ne.name}" task: "${ze}".`),je(),it();return}throw ze}})}extractDataStructures($,X,ne){const ce=this.xref;let se;const K=this.readToUnicode(ne.toUnicode||$.get("ToUnicode")||X.get("ToUnicode"));if(ne.composite){const le=$.get("CIDSystemInfo");le instanceof C.Dict&&(ne.cidSystemInfo={registry:(0,n.stringToPDFString)(le.get("Registry")),ordering:(0,n.stringToPDFString)(le.get("Ordering")),supplement:le.get("Supplement")});try{const pe=$.get("CIDToGIDMap");pe instanceof y.BaseStream&&(se=pe.getBytes())}catch(pe){if(!this.options.ignoreErrors)throw pe;(0,n.warn)(`extractDataStructures - ignoring CIDToGIDMap data: "${pe}".`)}}const ee=[];let ie=null,oe;if($.has("Encoding")){if(oe=$.get("Encoding"),oe instanceof C.Dict){if(ie=oe.get("BaseEncoding"),ie=ie instanceof C.Name?ie.name:null,oe.has("Differences")){const le=oe.get("Differences");let pe=0;for(let fe=0,ue=le.length;fe<ue;fe++){const ge=ce.fetchIfRef(le[fe]);if(typeof ge=="number")pe=ge;else if(ge instanceof C.Name)ee[pe++]=ge.name;else throw new n.FormatError(`Invalid entry in 'Differences' array: ${ge}`)}}}else if(oe instanceof C.Name)ie=oe.name;else{const le="Encoding is not a Name nor a Dict";if(!this.options.ignoreErrors)throw new n.FormatError(le);(0,n.warn)(le)}ie!=="MacRomanEncoding"&&ie!=="MacExpertEncoding"&&ie!=="WinAnsiEncoding"&&(ie=null)}if(ie)ne.defaultEncoding=(0,E.getEncoding)(ie);else{const le=!!(ne.flags&e.FontFlags.Symbolic),pe=!!(ne.flags&e.FontFlags.Nonsymbolic);oe=E.StandardEncoding,ne.type==="TrueType"&&!pe&&(oe=E.WinAnsiEncoding),le&&(oe=E.MacRomanEncoding,(!ne.file||ne.isInternalFont)&&(/Symbol/i.test(ne.name)?oe=E.SymbolSetEncoding:/Dingbats|Wingdings/i.test(ne.name)&&(oe=E.ZapfDingbatsEncoding))),ne.defaultEncoding=oe}return ne.differences=ee,ne.baseEncodingName=ie,ne.hasEncoding=!!ie||ee.length>0,ne.dict=$,K.then(le=>(ne.toUnicode=le,this.buildToUnicode(ne))).then(le=>(ne.toUnicode=le,se&&(ne.cidToGidMap=this.readCidToGidMap(se,le)),ne))}_simpleFontToUnicode($){let X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;(0,n.assert)(!$.composite,"Must be a simple font.");const ne=[],ce=$.defaultEncoding.slice(),se=$.baseEncodingName,K=$.differences;for(const ie in K){const oe=K[ie];oe!==".notdef"&&(ce[ie]=oe)}const ee=(0,q.getGlyphsUnicode)();for(const ie in ce){let oe=ce[ie];if(oe!==""){if(ee[oe]===void 0){let le=0;switch(oe[0]){case"G":oe.length===3&&(le=parseInt(oe.substring(1),16));break;case"g":oe.length===5&&(le=parseInt(oe.substring(1),16));break;case"C":case"c":if(oe.length>=3&&oe.length<=4){const fe=oe.substring(1);if(X){le=parseInt(fe,16);break}if(le=+fe,Number.isNaN(le)&&Number.isInteger(parseInt(fe,16)))return this._simpleFontToUnicode($,!0)}break;default:const pe=(0,B.getUnicodeForGlyph)(oe,ee);pe!==-1&&(le=pe)}if(le>0&&le<=1114111&&Number.isInteger(le)){if(se&&le===+ie){const pe=(0,E.getEncoding)(se);if(pe&&(oe=pe[ie])){ne[ie]=String.fromCharCode(ee[oe]);continue}}ne[ie]=String.fromCodePoint(le)}continue}ne[ie]=String.fromCharCode(ee[oe])}}return ne}async buildToUnicode($){if($.hasIncludedToUnicodeMap=!!$.toUnicode&&$.toUnicode.length>0,$.hasIncludedToUnicodeMap)return!$.composite&&$.hasEncoding&&($.fallbackToUnicode=this._simpleFontToUnicode($)),$.toUnicode;if(!$.composite)return new b.ToUnicodeMap(this._simpleFontToUnicode($));if($.composite&&($.cMap.builtInCMap&&!($.cMap instanceof c.IdentityCMap)||$.cidSystemInfo.registry==="Adobe"&&($.cidSystemInfo.ordering==="GB1"||$.cidSystemInfo.ordering==="CNS1"||$.cidSystemInfo.ordering==="Japan1"||$.cidSystemInfo.ordering==="Korea1"))){const{registry:X,ordering:ne}=$.cidSystemInfo,ce=C.Name.get(`${X}-${ne}-UCS2`),se=await c.CMapFactory.create({encoding:ce,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}),K=[];return $.cMap.forEach(function(ee,ie){if(ie>65535)throw new n.FormatError("Max size of CID is 65,535");const oe=se.lookup(ie);oe&&(K[ee]=String.fromCharCode((oe.charCodeAt(0)<<8)+oe.charCodeAt(1)))}),new b.ToUnicodeMap(K)}return new b.IdentityToUnicodeMap($.firstChar,$.lastChar)}readToUnicode($){return $?$ instanceof C.Name?c.CMapFactory.create({encoding:$,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(X){return X instanceof c.IdentityCMap?new b.IdentityToUnicodeMap(0,65535):new b.ToUnicodeMap(X.getMap())}):$ instanceof y.BaseStream?c.CMapFactory.create({encoding:$,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(X){if(X instanceof c.IdentityCMap)return new b.IdentityToUnicodeMap(0,65535);const ne=new Array(X.length);return X.forEach(function(ce,se){if(typeof se=="number"){ne[ce]=String.fromCodePoint(se);return}const K=[];for(let ee=0;ee<se.length;ee+=2){const ie=se.charCodeAt(ee)<<8|se.charCodeAt(ee+1);if((ie&63488)!==55296){K.push(ie);continue}ee+=2;const oe=se.charCodeAt(ee)<<8|se.charCodeAt(ee+1);K.push(((ie&1023)<<10)+(oe&1023)+65536)}ne[ce]=String.fromCodePoint(...K)}),new b.ToUnicodeMap(ne)},X=>{if(X instanceof n.AbortException)return null;if(this.options.ignoreErrors)return this.handler.send("UnsupportedFeature",{featureId:n.UNSUPPORTED_FEATURES.errorFontToUnicode}),(0,n.warn)(`readToUnicode - ignoring ToUnicode data: "${X}".`),null;throw X}):Promise.resolve(null):Promise.resolve(null)}readCidToGidMap($,X){const ne=[];for(let ce=0,se=$.length;ce<se;ce++){const K=$[ce++]<<8|$[ce],ee=ce>>1;K===0&&!X.has(ee)||(ne[ee]=K)}return ne}extractWidths($,X,ne){const ce=this.xref;let se=[],K=0;const ee=[];let ie,oe,le,pe,fe,ue,ge,he;if(ne.composite){if(K=$.has("DW")?$.get("DW"):1e3,he=$.get("W"),he)for(oe=0,le=he.length;oe<le;oe++)if(ue=ce.fetchIfRef(he[oe++]),ge=ce.fetchIfRef(he[oe]),Array.isArray(ge))for(pe=0,fe=ge.length;pe<fe;pe++)se[ue++]=ce.fetchIfRef(ge[pe]);else{const ve=ce.fetchIfRef(he[++oe]);for(pe=ue;pe<=ge;pe++)se[pe]=ve}if(ne.vertical){let ve=$.getArray("DW2")||[880,-1e3];if(ie=[ve[1],K*.5,ve[0]],ve=$.get("W2"),ve)for(oe=0,le=ve.length;oe<le;oe++)if(ue=ce.fetchIfRef(ve[oe++]),ge=ce.fetchIfRef(ve[oe]),Array.isArray(ge))for(pe=0,fe=ge.length;pe<fe;pe++)ee[ue++]=[ce.fetchIfRef(ge[pe++]),ce.fetchIfRef(ge[pe++]),ce.fetchIfRef(ge[pe])];else{const ke=[ce.fetchIfRef(ve[++oe]),ce.fetchIfRef(ve[++oe]),ce.fetchIfRef(ve[++oe])];for(pe=ue;pe<=ge;pe++)ee[pe]=ke}}}else{const ve=ne.firstChar;if(he=$.get("Widths"),he){for(pe=ve,oe=0,le=he.length;oe<le;oe++)se[pe++]=ce.fetchIfRef(he[oe]);K=parseFloat(X.get("MissingWidth"))||0}else{const ke=$.get("BaseFont");if(ke instanceof C.Name){const Se=this.getBaseFontMetrics(ke.name);se=this.buildCharCodeToWidth(Se.widths,ne),K=Se.defaultWidth}}}let xe=!0,ye=K;for(const ve in se){const ke=se[ve];if(!!ke){if(!ye){ye=ke;continue}if(ye!==ke){xe=!1;break}}}xe&&(ne.flags|=e.FontFlags.FixedPitch),ne.defaultWidth=K,ne.widths=se,ne.defaultVMetrics=ie,ne.vmetrics=ee}isSerifFont($){const X=$.split("-")[0];return X in(0,A.getSerifFonts)()||X.search(/serif/gi)!==-1}getBaseFontMetrics($){let X=0,ne=Object.create(null),ce=!1,K=(0,A.getStdFontMap)()[$]||$;const ee=(0,G.getMetrics)();K in ee||(this.isSerifFont($)?K="Times-Roman":K="Helvetica");const ie=ee[K];return typeof ie=="number"?(X=ie,ce=!0):ne=ie(),{defaultWidth:X,monospace:ce,widths:ne}}buildCharCodeToWidth($,X){const ne=Object.create(null),ce=X.differences,se=X.defaultEncoding;for(let K=0;K<256;K++){if(K in ce&&$[ce[K]]){ne[K]=$[ce[K]];continue}if(K in se&&$[se[K]]){ne[K]=$[se[K]];continue}}return ne}preEvaluateFont($){const X=$;let ne=$.get("Subtype");if(!(ne instanceof C.Name))throw new n.FormatError("invalid font Subtype");let ce=!1,se,K;if(ne.name==="Type0"){const le=$.get("DescendantFonts");if(!le)throw new n.FormatError("Descendant fonts are not specified");if($=Array.isArray(le)?this.xref.fetchIfRef(le[0]):le,!($ instanceof C.Dict))throw new n.FormatError("Descendant font is not a dictionary.");if(ne=$.get("Subtype"),!(ne instanceof C.Name))throw new n.FormatError("invalid font Subtype");ce=!0}const ee=$.get("FirstChar")||0,ie=$.get("LastChar")||(ce?65535:255),oe=$.get("FontDescriptor");if(oe){se=new R.MurmurHash3_64;const le=X.getRaw("Encoding");if(le instanceof C.Name)se.update(le.name);else if(le instanceof C.Ref)se.update(le.toString());else if(le instanceof C.Dict){for(const fe of le.getRawValues())if(fe instanceof C.Name)se.update(fe.name);else if(fe instanceof C.Ref)se.update(fe.toString());else if(Array.isArray(fe)){const ue=fe.length,ge=new Array(ue);for(let he=0;he<ue;he++){const xe=fe[he];xe instanceof C.Name?ge[he]=xe.name:(typeof xe=="number"||xe instanceof C.Ref)&&(ge[he]=xe.toString())}se.update(ge.join())}}if(se.update(`${ee}-${ie}`),K=$.get("ToUnicode")||X.get("ToUnicode"),K instanceof y.BaseStream){const fe=K.str||K,ue=fe.buffer?new Uint8Array(fe.buffer.buffer,0,fe.bufferLength):new Uint8Array(fe.bytes.buffer,fe.start,fe.end-fe.start);se.update(ue)}else K instanceof C.Name&&se.update(K.name);const pe=$.get("Widths")||X.get("Widths");if(Array.isArray(pe)){const fe=[];for(const ue of pe)(typeof ue=="number"||ue instanceof C.Ref)&&fe.push(ue.toString());se.update(fe.join())}if(ce){se.update("compositeFont");const fe=$.get("W")||X.get("W");if(Array.isArray(fe)){const ge=[];for(const he of fe)if(typeof he=="number"||he instanceof C.Ref)ge.push(he.toString());else if(Array.isArray(he)){const xe=[];for(const ye of he)(typeof ye=="number"||ye instanceof C.Ref)&&xe.push(ye.toString());ge.push(`[${xe.join()}]`)}se.update(ge.join())}const ue=$.getRaw("CIDToGIDMap")||X.getRaw("CIDToGIDMap");ue instanceof C.Name?se.update(ue.name):ue instanceof C.Ref?se.update(ue.toString()):ue instanceof y.BaseStream&&se.update(ue.peekBytes())}}return{descriptor:oe,dict:$,baseDict:X,composite:ce,type:ne.name,firstChar:ee,lastChar:ie,toUnicode:K,hash:se?se.hexdigest():""}}async translateFont($){let{descriptor:X,dict:ne,baseDict:ce,composite:se,type:K,firstChar:ee,lastChar:ie,toUnicode:oe,cssFontInfo:le}=$;const pe=K==="Type3";let fe;if(!X)if(pe)X=new C.Dict(null),X.set("FontName",C.Name.get(K)),X.set("FontBBox",ne.getArray("FontBBox")||[0,0,0,0]);else{let Oe=ne.get("BaseFont");if(!(Oe instanceof C.Name))throw new n.FormatError("Base font is not specified");Oe=Oe.name.replace(/[,_]/g,"-");const Fe=this.getBaseFontMetrics(Oe),Re=Oe.split("-")[0],Ne=(this.isSerifFont(Re)?e.FontFlags.Serif:0)|(Fe.monospace?e.FontFlags.FixedPitch:0)|((0,A.getSymbolsFonts)()[Re]?e.FontFlags.Symbolic:e.FontFlags.Nonsymbolic);fe={type:K,name:Oe,loadedName:ce.loadedName,widths:Fe.widths,defaultWidth:Fe.defaultWidth,isSimulatedFlags:!0,flags:Ne,firstChar:ee,lastChar:ie,toUnicode:oe,xHeight:0,capHeight:0,italicAngle:0,isType3Font:pe};const Pe=ne.get("Widths"),Ie=(0,A.getStandardFontName)(Oe);let Me=null;return Ie&&(fe.isStandardFont=!0,Me=await this.fetchStandardFontData(Ie),fe.isInternalFont=!!Me),this.extractDataStructures(ne,ne,fe).then(Te=>{if(Pe){const Le=[];let Be=ee;for(let Ae=0,we=Pe.length;Ae<we;Ae++)Le[Be++]=this.xref.fetchIfRef(Pe[Ae]);Te.widths=Le}else Te.widths=this.buildCharCodeToWidth(Fe.widths,Te);return new m.Font(Oe,Me,Te)})}let ue=X.get("FontName"),ge=ne.get("BaseFont");if(typeof ue=="string"&&(ue=C.Name.get(ue)),typeof ge=="string"&&(ge=C.Name.get(ge)),!pe){const Oe=ue&&ue.name,Fe=ge&&ge.name;Oe!==Fe&&((0,n.info)(`The FontDescriptor's FontName is "${Oe}" but should be the same as the Font's BaseFont "${Fe}".`),Oe&&Fe&&Fe.startsWith(Oe)&&(ue=ge))}if(ue=ue||ge,!(ue instanceof C.Name))throw new n.FormatError("invalid font name");let he,xe,ye,ve,ke;try{he=X.get("FontFile","FontFile2","FontFile3")}catch(Oe){if(!this.options.ignoreErrors)throw Oe;(0,n.warn)(`translateFont - fetching "${ue.name}" font file: "${Oe}".`),he=new _.NullStream}let Se=!1,be=!1,Ee=null;if(he){if(he.dict){const Oe=he.dict.get("Subtype");Oe instanceof C.Name&&(xe=Oe.name),ye=he.dict.get("Length1"),ve=he.dict.get("Length2"),ke=he.dict.get("Length3")}}else if(le){const Oe=(0,v.getXfaFontName)(ue.name);Oe&&(le.fontFamily=`${le.fontFamily}-PdfJS-XFA`,le.metrics=Oe.metrics||null,Ee=Oe.factors||null,he=await this.fetchStandardFontData(Oe.name),be=!!he,ce=ne=(0,v.getXfaFontDict)(ue.name),se=!0)}else if(!pe){const Oe=(0,A.getStandardFontName)(ue.name);Oe&&(Se=!0,he=await this.fetchStandardFontData(Oe),be=!!he)}if(fe={type:K,name:ue.name,subtype:xe,file:he,length1:ye,length2:ve,length3:ke,isStandardFont:Se,isInternalFont:be,loadedName:ce.loadedName,composite:se,fixedPitch:!1,fontMatrix:ne.getArray("FontMatrix")||n.FONT_IDENTITY_MATRIX,firstChar:ee,lastChar:ie,toUnicode:oe,bbox:X.getArray("FontBBox")||ne.getArray("FontBBox"),ascent:X.get("Ascent"),descent:X.get("Descent"),xHeight:X.get("XHeight")||0,capHeight:X.get("CapHeight")||0,flags:X.get("Flags"),italicAngle:X.get("ItalicAngle")||0,isType3Font:pe,cssFontInfo:le,scaleFactors:Ee},se){const Oe=ce.get("Encoding");Oe instanceof C.Name&&(fe.cidEncoding=Oe.name);const Fe=await c.CMapFactory.create({encoding:Oe,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null});fe.cMap=Fe,fe.vertical=fe.cMap.vertical}return this.extractDataStructures(ne,ce,fe).then(Oe=>(this.extractWidths(ne,X,Oe),new m.Font(ue.name,he,Oe)))}static buildFontPaths($,X,ne,ce){function se(K){const ee=`${$.loadedName}_path_${K}`;try{if($.renderer.hasBuiltPath(K))return;ne.send("commonobj",[ee,"FontPath",$.renderer.getPathJs(K)])}catch(ie){if(ce.ignoreErrors){ne.send("UnsupportedFeature",{featureId:n.UNSUPPORTED_FEATURES.errorFontBuildPath}),(0,n.warn)(`buildFontPaths - ignoring ${ee} glyph: "${ie}".`);return}throw ie}}for(const K of X){se(K.fontChar);const ee=K.accent;ee&&ee.fontChar&&se(ee.fontChar)}}static get fallbackFontDict(){const $=new C.Dict;return $.set("BaseFont",C.Name.get("PDFJS-FallbackFont")),$.set("Type",C.Name.get("FallbackType")),$.set("Subtype",C.Name.get("FallbackType")),$.set("Encoding",C.Name.get("WinAnsiEncoding")),(0,n.shadow)(this,"fallbackFontDict",$)}}s.PartialEvaluator=k;class H{constructor($){let{loadedName:X,font:ne,dict:ce,evaluatorOptions:se}=$;this.loadedName=X,this.font=ne,this.dict=ce,this._evaluatorOptions=se||x,this.type3Loaded=null,this.type3Dependencies=ne.isType3Font?new Set:null,this.sent=!1}send($){this.sent||(this.sent=!0,$.send("commonobj",[this.loadedName,"Font",this.font.exportData(this._evaluatorOptions.fontExtraProperties)]))}fallback($){!this.font.data||(this.font.disableFontFace=!0,k.buildFontPaths(this.font,this.font.glyphCacheValues,$,this._evaluatorOptions))}loadType3Data($,X,ne){if(this.type3Loaded)return this.type3Loaded;if(!this.font.isType3Font)throw new Error("Must be a Type3 font.");const ce=$.clone({ignoreErrors:!1});ce.parsingType3Font=!0;const se=new C.RefSet($.type3FontRefs);this.dict.objId&&!se.has(this.dict.objId)&&se.put(this.dict.objId),ce.type3FontRefs=se;const K=this.font,ee=this.type3Dependencies;let ie=Promise.resolve();const oe=this.dict.get("CharProcs"),le=this.dict.get("Resources")||X,pe=Object.create(null),fe=n.Util.normalizeRect(K.bbox||[0,0,0,0]),ue=fe[2]-fe[0],ge=fe[3]-fe[1],he=Math.hypot(ue,ge);for(const xe of oe.getKeys())ie=ie.then(()=>{const ye=oe.get(xe),ve=new I.OperatorList;return ce.getOperatorList({stream:ye,task:ne,resources:le,operatorList:ve}).then(()=>{ve.fnArray[0]===n.OPS.setCharWidthAndBounds&&this._removeType3ColorOperators(ve,he),pe[xe]=ve.getIR();for(const ke of ve.dependencies)ee.add(ke)}).catch(function(ke){(0,n.warn)(`Type3 font resource "${xe}" is not available.`);const Se=new I.OperatorList;pe[xe]=Se.getIR()})});return this.type3Loaded=ie.then(()=>{K.charProcOperatorList=pe,this._bbox&&(K.isCharBBox=!0,K.bbox=this._bbox)}),this.type3Loaded}_removeType3ColorOperators($){let X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NaN;const ne=n.Util.normalizeRect($.argsArray[0].slice(2)),ce=ne[2]-ne[0],se=ne[3]-ne[1],K=Math.hypot(ce,se);ce===0||se===0?($.fnArray.splice(0,1),$.argsArray.splice(0,1)):(X===0||Math.round(K/X)>=10)&&(this._bbox||(this._bbox=[1/0,1/0,-1/0,-1/0]),this._bbox[0]=Math.min(this._bbox[0],ne[0]),this._bbox[1]=Math.min(this._bbox[1],ne[1]),this._bbox[2]=Math.max(this._bbox[2],ne[2]),this._bbox[3]=Math.max(this._bbox[3],ne[3]));let ee=0,ie=$.length;for(;ee<ie;){switch($.fnArray[ee]){case n.OPS.setCharWidthAndBounds:break;case n.OPS.setStrokeColorSpace:case n.OPS.setFillColorSpace:case n.OPS.setStrokeColor:case n.OPS.setStrokeColorN:case n.OPS.setFillColor:case n.OPS.setFillColorN:case n.OPS.setStrokeGray:case n.OPS.setFillGray:case n.OPS.setStrokeRGBColor:case n.OPS.setFillRGBColor:case n.OPS.setStrokeCMYKColor:case n.OPS.setFillCMYKColor:case n.OPS.shadingFill:case n.OPS.setRenderingIntent:$.fnArray.splice(ee,1),$.argsArray.splice(ee,1),ie--;continue;case n.OPS.setGState:const[oe]=$.argsArray[ee];let le=0,pe=oe.length;for(;le<pe;){const[fe]=oe[le];switch(fe){case"TR":case"TR2":case"HT":case"BG":case"BG2":case"UCR":case"UCR2":oe.splice(le,1),pe--;continue}le++}break}ee++}}}class Z{constructor(){let $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new V;this.state=$,this.stateStack=[]}save(){const $=this.state;this.stateStack.push(this.state),this.state=$.clone()}restore(){const $=this.stateStack.pop();$&&(this.state=$)}transform($){this.state.ctm=n.Util.transform(this.state.ctm,$)}}class Q{constructor(){this.ctm=new Float32Array(n.IDENTITY_MATRIX),this.fontName=null,this.fontSize=0,this.font=null,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.textMatrix=n.IDENTITY_MATRIX.slice(),this.textLineMatrix=n.IDENTITY_MATRIX.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}setTextMatrix($,X,ne,ce,se,K){const ee=this.textMatrix;ee[0]=$,ee[1]=X,ee[2]=ne,ee[3]=ce,ee[4]=se,ee[5]=K}setTextLineMatrix($,X,ne,ce,se,K){const ee=this.textLineMatrix;ee[0]=$,ee[1]=X,ee[2]=ne,ee[3]=ce,ee[4]=se,ee[5]=K}translateTextMatrix($,X){const ne=this.textMatrix;ne[4]=ne[0]*$+ne[2]*X+ne[4],ne[5]=ne[1]*$+ne[3]*X+ne[5]}translateTextLineMatrix($,X){const ne=this.textLineMatrix;ne[4]=ne[0]*$+ne[2]*X+ne[4],ne[5]=ne[1]*$+ne[3]*X+ne[5]}carriageReturn(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()}clone(){const $=Object.create(this);return $.textMatrix=this.textMatrix.slice(),$.textLineMatrix=this.textLineMatrix.slice(),$.fontMatrix=this.fontMatrix.slice(),$}}class V{constructor(){this.ctm=new Float32Array(n.IDENTITY_MATRIX),this.font=null,this.textRenderingMode=n.TextRenderingMode.FILL,this.fillColorSpace=w.ColorSpace.singletons.gray,this.strokeColorSpace=w.ColorSpace.singletons.gray}clone(){return Object.create(this)}}class Y{static get opMap(){const $=(0,F.getLookupTableFactory)(function(X){X.w={id:n.OPS.setLineWidth,numArgs:1,variableArgs:!1},X.J={id:n.OPS.setLineCap,numArgs:1,variableArgs:!1},X.j={id:n.OPS.setLineJoin,numArgs:1,variableArgs:!1},X.M={id:n.OPS.setMiterLimit,numArgs:1,variableArgs:!1},X.d={id:n.OPS.setDash,numArgs:2,variableArgs:!1},X.ri={id:n.OPS.setRenderingIntent,numArgs:1,variableArgs:!1},X.i={id:n.OPS.setFlatness,numArgs:1,variableArgs:!1},X.gs={id:n.OPS.setGState,numArgs:1,variableArgs:!1},X.q={id:n.OPS.save,numArgs:0,variableArgs:!1},X.Q={id:n.OPS.restore,numArgs:0,variableArgs:!1},X.cm={id:n.OPS.transform,numArgs:6,variableArgs:!1},X.m={id:n.OPS.moveTo,numArgs:2,variableArgs:!1},X.l={id:n.OPS.lineTo,numArgs:2,variableArgs:!1},X.c={id:n.OPS.curveTo,numArgs:6,variableArgs:!1},X.v={id:n.OPS.curveTo2,numArgs:4,variableArgs:!1},X.y={id:n.OPS.curveTo3,numArgs:4,variableArgs:!1},X.h={id:n.OPS.closePath,numArgs:0,variableArgs:!1},X.re={id:n.OPS.rectangle,numArgs:4,variableArgs:!1},X.S={id:n.OPS.stroke,numArgs:0,variableArgs:!1},X.s={id:n.OPS.closeStroke,numArgs:0,variableArgs:!1},X.f={id:n.OPS.fill,numArgs:0,variableArgs:!1},X.F={id:n.OPS.fill,numArgs:0,variableArgs:!1},X["f*"]={id:n.OPS.eoFill,numArgs:0,variableArgs:!1},X.B={id:n.OPS.fillStroke,numArgs:0,variableArgs:!1},X["B*"]={id:n.OPS.eoFillStroke,numArgs:0,variableArgs:!1},X.b={id:n.OPS.closeFillStroke,numArgs:0,variableArgs:!1},X["b*"]={id:n.OPS.closeEOFillStroke,numArgs:0,variableArgs:!1},X.n={id:n.OPS.endPath,numArgs:0,variableArgs:!1},X.W={id:n.OPS.clip,numArgs:0,variableArgs:!1},X["W*"]={id:n.OPS.eoClip,numArgs:0,variableArgs:!1},X.BT={id:n.OPS.beginText,numArgs:0,variableArgs:!1},X.ET={id:n.OPS.endText,numArgs:0,variableArgs:!1},X.Tc={id:n.OPS.setCharSpacing,numArgs:1,variableArgs:!1},X.Tw={id:n.OPS.setWordSpacing,numArgs:1,variableArgs:!1},X.Tz={id:n.OPS.setHScale,numArgs:1,variableArgs:!1},X.TL={id:n.OPS.setLeading,numArgs:1,variableArgs:!1},X.Tf={id:n.OPS.setFont,numArgs:2,variableArgs:!1},X.Tr={id:n.OPS.setTextRenderingMode,numArgs:1,variableArgs:!1},X.Ts={id:n.OPS.setTextRise,numArgs:1,variableArgs:!1},X.Td={id:n.OPS.moveText,numArgs:2,variableArgs:!1},X.TD={id:n.OPS.setLeadingMoveText,numArgs:2,variableArgs:!1},X.Tm={id:n.OPS.setTextMatrix,numArgs:6,variableArgs:!1},X["T*"]={id:n.OPS.nextLine,numArgs:0,variableArgs:!1},X.Tj={id:n.OPS.showText,numArgs:1,variableArgs:!1},X.TJ={id:n.OPS.showSpacedText,numArgs:1,variableArgs:!1},X["'"]={id:n.OPS.nextLineShowText,numArgs:1,variableArgs:!1},X['"']={id:n.OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},X.d0={id:n.OPS.setCharWidth,numArgs:2,variableArgs:!1},X.d1={id:n.OPS.setCharWidthAndBounds,numArgs:6,variableArgs:!1},X.CS={id:n.OPS.setStrokeColorSpace,numArgs:1,variableArgs:!1},X.cs={id:n.OPS.setFillColorSpace,numArgs:1,variableArgs:!1},X.SC={id:n.OPS.setStrokeColor,numArgs:4,variableArgs:!0},X.SCN={id:n.OPS.setStrokeColorN,numArgs:33,variableArgs:!0},X.sc={id:n.OPS.setFillColor,numArgs:4,variableArgs:!0},X.scn={id:n.OPS.setFillColorN,numArgs:33,variableArgs:!0},X.G={id:n.OPS.setStrokeGray,numArgs:1,variableArgs:!1},X.g={id:n.OPS.setFillGray,numArgs:1,variableArgs:!1},X.RG={id:n.OPS.setStrokeRGBColor,numArgs:3,variableArgs:!1},X.rg={id:n.OPS.setFillRGBColor,numArgs:3,variableArgs:!1},X.K={id:n.OPS.setStrokeCMYKColor,numArgs:4,variableArgs:!1},X.k={id:n.OPS.setFillCMYKColor,numArgs:4,variableArgs:!1},X.sh={id:n.OPS.shadingFill,numArgs:1,variableArgs:!1},X.BI={id:n.OPS.beginInlineImage,numArgs:0,variableArgs:!1},X.ID={id:n.OPS.beginImageData,numArgs:0,variableArgs:!1},X.EI={id:n.OPS.endInlineImage,numArgs:1,variableArgs:!1},X.Do={id:n.OPS.paintXObject,numArgs:1,variableArgs:!1},X.MP={id:n.OPS.markPoint,numArgs:1,variableArgs:!1},X.DP={id:n.OPS.markPointProps,numArgs:2,variableArgs:!1},X.BMC={id:n.OPS.beginMarkedContent,numArgs:1,variableArgs:!1},X.BDC={id:n.OPS.beginMarkedContentProps,numArgs:2,variableArgs:!1},X.EMC={id:n.OPS.endMarkedContent,numArgs:0,variableArgs:!1},X.BX={id:n.OPS.beginCompat,numArgs:0,variableArgs:!1},X.EX={id:n.OPS.endCompat,numArgs:0,variableArgs:!1},X.BM=null,X.BD=null,X.true=null,X.fa=null,X.fal=null,X.fals=null,X.false=null,X.nu=null,X.nul=null,X.null=null});return(0,n.shadow)(this,"opMap",$())}static get MAX_INVALID_PATH_OPS(){return(0,n.shadow)(this,"MAX_INVALID_PATH_OPS",10)}constructor($,X){let ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Z;this.parser=new T.Parser({lexer:new T.Lexer($,Y.opMap),xref:X}),this.stateManager=ne,this.nonProcessedArgs=[],this._isPathOp=!1,this._numInvalidPathOPS=0}get savedStatesDepth(){return this.stateManager.stateStack.length}read($){let X=$.args;for(;;){const ne=this.parser.getObj();if(ne instanceof C.Cmd){const ce=ne.cmd,se=Y.opMap[ce];if(!se){(0,n.warn)(`Unknown command "${ce}".`);continue}const K=se.id,ee=se.numArgs;let ie=X!==null?X.length:0;if(this._isPathOp||(this._numInvalidPathOPS=0),this._isPathOp=K>=n.OPS.moveTo&&K<=n.OPS.endPath,se.variableArgs)ie>ee&&(0,n.info)(`Command ${ce}: expected [0, ${ee}] args, but received ${ie} args.`);else{if(ie!==ee){const oe=this.nonProcessedArgs;for(;ie>ee;)oe.push(X.shift()),ie--;for(;ie<ee&&oe.length!==0;)X===null&&(X=[]),X.unshift(oe.pop()),ie++}if(ie<ee){const oe=`command ${ce}: expected ${ee} args, but received ${ie} args.`;if(this._isPathOp&&++this._numInvalidPathOPS>Y.MAX_INVALID_PATH_OPS)throw new n.FormatError(`Invalid ${oe}`);(0,n.warn)(`Skipping ${oe}`),X!==null&&(X.length=0);continue}}return this.preprocessCommand(K,X),$.fn=K,$.args=X,!0}if(ne===C.EOF)return!1;if(ne!==null&&(X===null&&(X=[]),X.push(ne),X.length>33))throw new n.FormatError("Too many arguments")}}preprocessCommand($,X){switch($|0){case n.OPS.save:this.stateManager.save();break;case n.OPS.restore:this.stateManager.restore();break;case n.OPS.transform:this.stateManager.transform(X);break}}}s.EvaluatorPreprocessor=Y},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.IdentityCMap=s.CMapFactory=s.CMap=void 0;var n=u(2),c=u(130),C=u(132),m=u(142),e=u(131),E=u(135);const A=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],B=2**24-1;class O{constructor(){let D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=D}addCodespaceRange(D,_,y){this.codespaceRanges[D-1].push(_,y),this.numCodespaceRanges++}mapCidRange(D,_,y){if(_-D>B)throw new Error("mapCidRange - ignoring data above MAX_MAP_RANGE.");for(;D<=_;)this._map[D++]=y++}mapBfRange(D,_,y){if(_-D>B)throw new Error("mapBfRange - ignoring data above MAX_MAP_RANGE.");const P=y.length-1;for(;D<=_;){this._map[D++]=y;const w=y.charCodeAt(P)+1;if(w>255){y=y.substring(0,P-1)+String.fromCharCode(y.charCodeAt(P-1)+1)+"\0";continue}y=y.substring(0,P)+String.fromCharCode(w)}}mapBfRangeToArray(D,_,y){if(_-D>B)throw new Error("mapBfRangeToArray - ignoring data above MAX_MAP_RANGE.");const P=y.length;let w=0;for(;D<=_&&w<P;)this._map[D]=y[w++],++D}mapOne(D,_){this._map[D]=_}lookup(D){return this._map[D]}contains(D){return this._map[D]!==void 0}forEach(D){const _=this._map,y=_.length;if(y<=65536)for(let P=0;P<y;P++)_[P]!==void 0&&D(P,_[P]);else for(const P in _)D(P,_[P])}charCodeOf(D){const _=this._map;if(_.length<=65536)return _.indexOf(D);for(const y in _)if(_[y]===D)return y|0;return-1}getMap(){return this._map}readCharCode(D,_,y){let P=0;const w=this.codespaceRanges;for(let M=0,q=w.length;M<q;M++){P=(P<<8|D.charCodeAt(_+M))>>>0;const F=w[M];for(let G=0,R=F.length;G<R;){const I=F[G++],L=F[G++];if(P>=I&&P<=L){y.charcode=P,y.length=M+1;return}}}y.charcode=0,y.length=1}getCharCodeLength(D){const _=this.codespaceRanges;for(let y=0,P=_.length;y<P;y++){const w=_[y];for(let M=0,q=w.length;M<q;){const F=w[M++],G=w[M++];if(D>=F&&D<=G)return y+1}}return 1}get length(){return this._map.length}get isIdentityCMap(){if(!(this.name==="Identity-H"||this.name==="Identity-V")||this._map.length!==65536)return!1;for(let D=0;D<65536;D++)if(this._map[D]!==D)return!1;return!0}}s.CMap=O;class v extends O{constructor(D,_){super(),this.vertical=D,this.addCodespaceRange(_,0,65535)}mapCidRange(D,_,y){(0,n.unreachable)("should not call mapCidRange")}mapBfRange(D,_,y){(0,n.unreachable)("should not call mapBfRange")}mapBfRangeToArray(D,_,y){(0,n.unreachable)("should not call mapBfRangeToArray")}mapOne(D,_){(0,n.unreachable)("should not call mapCidOne")}lookup(D){return Number.isInteger(D)&&D<=65535?D:void 0}contains(D){return Number.isInteger(D)&&D<=65535}forEach(D){for(let _=0;_<=65535;_++)D(_,_)}charCodeOf(D){return Number.isInteger(D)&&D<=65535?D:-1}getMap(){const D=new Array(65536);for(let _=0;_<=65535;_++)D[_]=_;return D}get length(){return 65536}get isIdentityCMap(){(0,n.unreachable)("should not access .isIdentityCMap")}}s.IdentityCMap=v;const b=function(){function D(G,R){let I=0;for(let L=0;L<=R;L++)I=I<<8|G[L];return I>>>0}function _(G,R){return R===1?String.fromCharCode(G[0],G[1]):R===3?String.fromCharCode(G[0],G[1],G[2],G[3]):String.fromCharCode.apply(null,G.subarray(0,R+1))}function y(G,R,I){let L=0;for(let x=I;x>=0;x--)L+=G[x]+R[x],G[x]=L&255,L>>=8}function P(G,R){let I=1;for(let L=R;L>=0&&I>0;L--)I+=G[L],G[L]=I&255,I>>=8}const w=16,M=19;class q{constructor(R){this.buffer=R,this.pos=0,this.end=R.length,this.tmpBuf=new Uint8Array(M)}readByte(){return this.pos>=this.end?-1:this.buffer[this.pos++]}readNumber(){let R=0,I;do{const L=this.readByte();if(L<0)throw new n.FormatError("unexpected EOF in bcmap");I=!(L&128),R=R<<7|L&127}while(!I);return R}readSigned(){const R=this.readNumber();return R&1?~(R>>>1):R>>>1}readHex(R,I){R.set(this.buffer.subarray(this.pos,this.pos+I+1)),this.pos+=I+1}readHexNumber(R,I){let L;const x=this.tmpBuf;let S=0;do{const re=this.readByte();if(re<0)throw new n.FormatError("unexpected EOF in bcmap");L=!(re&128),x[S++]=re&127}while(!L);let W=I,U=0,z=0;for(;W>=0;){for(;z<8&&x.length>0;)U|=x[--S]<<z,z+=7;R[W]=U&255,W--,U>>=8,z-=8}}readHexSigned(R,I){this.readHexNumber(R,I);const L=R[I]&1?255:0;let x=0;for(let S=0;S<=I;S++)x=(x&1)<<8|R[S],R[S]=x>>1^L}readString(){const R=this.readNumber();let I="";for(let L=0;L<R;L++)I+=String.fromCharCode(this.readNumber());return I}}class F{async process(R,I,L){const x=new q(R),S=x.readByte();I.vertical=!!(S&1);let W=null;const U=new Uint8Array(w),z=new Uint8Array(w),re=new Uint8Array(w),J=new Uint8Array(w),k=new Uint8Array(w);let H,Z;for(;(Z=x.readByte())>=0;){const Q=Z>>5;if(Q===7){switch(Z&31){case 0:x.readString();break;case 1:W=x.readString();break}continue}const V=!!(Z&16),Y=Z&15;if(Y+1>w)throw new Error("BinaryCMapReader.process: Invalid dataSize.");const te=1,$=x.readNumber();switch(Q){case 0:x.readHex(U,Y),x.readHexNumber(z,Y),y(z,U,Y),I.addCodespaceRange(Y+1,D(U,Y),D(z,Y));for(let X=1;X<$;X++)P(z,Y),x.readHexNumber(U,Y),y(U,z,Y),x.readHexNumber(z,Y),y(z,U,Y),I.addCodespaceRange(Y+1,D(U,Y),D(z,Y));break;case 1:x.readHex(U,Y),x.readHexNumber(z,Y),y(z,U,Y),x.readNumber();for(let X=1;X<$;X++)P(z,Y),x.readHexNumber(U,Y),y(U,z,Y),x.readHexNumber(z,Y),y(z,U,Y),x.readNumber();break;case 2:x.readHex(re,Y),H=x.readNumber(),I.mapOne(D(re,Y),H);for(let X=1;X<$;X++)P(re,Y),V||(x.readHexNumber(k,Y),y(re,k,Y)),H=x.readSigned()+(H+1),I.mapOne(D(re,Y),H);break;case 3:x.readHex(U,Y),x.readHexNumber(z,Y),y(z,U,Y),H=x.readNumber(),I.mapCidRange(D(U,Y),D(z,Y),H);for(let X=1;X<$;X++)P(z,Y),V?U.set(z):(x.readHexNumber(U,Y),y(U,z,Y)),x.readHexNumber(z,Y),y(z,U,Y),H=x.readNumber(),I.mapCidRange(D(U,Y),D(z,Y),H);break;case 4:x.readHex(re,te),x.readHex(J,Y),I.mapOne(D(re,te),_(J,Y));for(let X=1;X<$;X++)P(re,te),V||(x.readHexNumber(k,te),y(re,k,te)),P(J,Y),x.readHexSigned(k,Y),y(J,k,Y),I.mapOne(D(re,te),_(J,Y));break;case 5:x.readHex(U,te),x.readHexNumber(z,te),y(z,U,te),x.readHex(J,Y),I.mapBfRange(D(U,te),D(z,te),_(J,Y));for(let X=1;X<$;X++)P(z,te),V?U.set(z):(x.readHexNumber(U,te),y(U,z,te)),x.readHexNumber(z,te),y(z,U,te),x.readHex(J,Y),I.mapBfRange(D(U,te),D(z,te),_(J,Y));break;default:throw new Error(`BinaryCMapReader.process - unknown type: ${Q}`)}}return W?L(W):I}}return F}(),o=function(){function D(S){let W=0;for(let U=0;U<S.length;U++)W=W<<8|S.charCodeAt(U);return W>>>0}function _(S){if(typeof S!="string")throw new n.FormatError("Malformed CMap: expected string.")}function y(S){if(!Number.isInteger(S))throw new n.FormatError("Malformed CMap: expected int.")}function P(S,W){for(;;){let U=W.getObj();if(U===c.EOF)break;if((0,c.isCmd)(U,"endbfchar"))return;_(U);const z=D(U);U=W.getObj(),_(U);const re=U;S.mapOne(z,re)}}function w(S,W){for(;;){let U=W.getObj();if(U===c.EOF)break;if((0,c.isCmd)(U,"endbfrange"))return;_(U);const z=D(U);U=W.getObj(),_(U);const re=D(U);if(U=W.getObj(),Number.isInteger(U)||typeof U=="string"){const J=Number.isInteger(U)?String.fromCharCode(U):U;S.mapBfRange(z,re,J)}else if((0,c.isCmd)(U,"[")){U=W.getObj();const J=[];for(;!(0,c.isCmd)(U,"]")&&U!==c.EOF;)J.push(U),U=W.getObj();S.mapBfRangeToArray(z,re,J)}else break}throw new n.FormatError("Invalid bf range.")}function M(S,W){for(;;){let U=W.getObj();if(U===c.EOF)break;if((0,c.isCmd)(U,"endcidchar"))return;_(U);const z=D(U);U=W.getObj(),y(U);const re=U;S.mapOne(z,re)}}function q(S,W){for(;;){let U=W.getObj();if(U===c.EOF)break;if((0,c.isCmd)(U,"endcidrange"))return;_(U);const z=D(U);U=W.getObj(),_(U);const re=D(U);U=W.getObj(),y(U);const J=U;S.mapCidRange(z,re,J)}}function F(S,W){for(;;){let U=W.getObj();if(U===c.EOF)break;if((0,c.isCmd)(U,"endcodespacerange"))return;if(typeof U!="string")break;const z=D(U);if(U=W.getObj(),typeof U!="string")break;const re=D(U);S.addCodespaceRange(U.length,z,re)}throw new n.FormatError("Invalid codespace range.")}function G(S,W){const U=W.getObj();Number.isInteger(U)&&(S.vertical=!!U)}function R(S,W){const U=W.getObj();U instanceof c.Name&&(S.name=U.name)}async function I(S,W,U,z){let re,J;e:for(;;)try{const k=W.getObj();if(k===c.EOF)break;if(k instanceof c.Name)k.name==="WMode"?G(S,W):k.name==="CMapName"&&R(S,W),re=k;else if(k instanceof c.Cmd)switch(k.cmd){case"endcmap":break e;case"usecmap":re instanceof c.Name&&(J=re.name);break;case"begincodespacerange":F(S,W);break;case"beginbfchar":P(S,W);break;case"begincidchar":M(S,W);break;case"beginbfrange":w(S,W);break;case"begincidrange":q(S,W);break}}catch(k){if(k instanceof e.MissingDataException)throw k;(0,n.warn)("Invalid cMap data: "+k);continue}return!z&&J&&(z=J),z?L(S,U,z):S}async function L(S,W,U){if(S.useCMap=await x(U,W),S.numCodespaceRanges===0){const z=S.useCMap.codespaceRanges;for(let re=0;re<z.length;re++)S.codespaceRanges[re]=z[re].slice();S.numCodespaceRanges=S.useCMap.numCodespaceRanges}return S.useCMap.forEach(function(z,re){S.contains(z)||S.mapOne(z,S.useCMap.lookup(z))}),S}async function x(S,W){if(S==="Identity-H")return new v(!1,2);if(S==="Identity-V")return new v(!0,2);if(!A.includes(S))throw new Error("Unknown CMap name: "+S);if(!W)throw new Error("Built-in CMap parameters are not provided.");const{cMapData:U,compressionType:z}=await W(S),re=new O(!0);if(z===n.CMapCompressionType.BINARY)return new b().process(U,re,J=>L(re,W,J));if(z===n.CMapCompressionType.NONE){const J=new m.Lexer(new E.Stream(U));return I(re,J,W,null)}throw new Error("TODO: Only BINARY/NONE CMap compression is currently supported.")}return{async create(S){const W=S.encoding,U=S.fetchBuiltInCMap,z=S.useCMap;if(W instanceof c.Name)return x(W.name,U);if(W instanceof C.BaseStream){const re=await I(new O,new m.Lexer(W),U,z);return re.isIdentityCMap?x(re.name,U):re}throw new Error("Encoding required.")}}}();s.CMapFactory=o},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Parser=s.Linearization=s.Lexer=void 0;var n=u(2),c=u(130),C=u(131),m=u(143),e=u(145),E=u(146),A=u(148),B=u(149),O=u(152),v=u(154),b=u(156),o=u(135),T=u(157),D=u(158);const _=1e3,y=5552;function P(R){const I=R.length;let L=1,x=0;for(let S=0;S<I;++S)L+=R[S]&255,x+=L;return x%65521<<16|L%65521}class w{constructor(I){let{lexer:L,xref:x,allowStreams:S=!1,recoveryMode:W=!1}=I;this.lexer=L,this.xref=x,this.allowStreams=S,this.recoveryMode=W,this.imageCache=Object.create(null),this.refill()}refill(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()}shift(){this.buf2 instanceof c.Cmd&&this.buf2.cmd==="ID"?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())}tryShift(){try{return this.shift(),!0}catch(I){if(I instanceof C.MissingDataException)throw I;return!1}}getObj(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const L=this.buf1;if(this.shift(),L instanceof c.Cmd)switch(L.cmd){case"BI":return this.makeInlineImage(I);case"[":const x=[];for(;!(0,c.isCmd)(this.buf1,"]")&&this.buf1!==c.EOF;)x.push(this.getObj(I));if(this.buf1===c.EOF){if(this.recoveryMode)return x;throw new C.ParserEOFException("End of file inside array.")}return this.shift(),x;case"<<":const S=new c.Dict(this.xref);for(;!(0,c.isCmd)(this.buf1,">>")&&this.buf1!==c.EOF;){if(!(this.buf1 instanceof c.Name)){(0,n.info)("Malformed dictionary: key must be a name object"),this.shift();continue}const W=this.buf1.name;if(this.shift(),this.buf1===c.EOF)break;S.set(W,this.getObj(I))}if(this.buf1===c.EOF){if(this.recoveryMode)return S;throw new C.ParserEOFException("End of file inside dictionary.")}return(0,c.isCmd)(this.buf2,"stream")?this.allowStreams?this.makeStream(S,I):S:(this.shift(),S);default:return L}if(Number.isInteger(L)){if(Number.isInteger(this.buf1)&&(0,c.isCmd)(this.buf2,"R")){const x=c.Ref.get(L,this.buf1);return this.shift(),this.shift(),x}return L}return typeof L=="string"&&I?I.decryptString(L):L}findDefaultInlineStreamEnd(I){const re=this.lexer,J=I.pos,k=10;let H=0,Z,Q;for(;(Z=I.getByte())!==-1;)if(H===0)H=Z===69?1:0;else if(H===1)H=Z===73?2:0;else if((0,n.assert)(H===2,"findDefaultInlineStreamEnd - invalid state."),Z===32||Z===10||Z===13){Q=I.pos;const Y=I.peekBytes(k);for(let te=0,$=Y.length;te<$;te++)if(Z=Y[te],!(Z===0&&Y[te+1]!==0)&&Z!==10&&Z!==13&&(Z<32||Z>127)){H=0;break}if(H!==2)continue;if(re.knownCommands){const te=re.peekObj();te instanceof c.Cmd&&!re.knownCommands[te.cmd]&&(H=0)}else(0,n.warn)("findDefaultInlineStreamEnd - `lexer.knownCommands` is undefined.");if(H===2)break}else H=0;Z===-1&&((0,n.warn)("findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker"),Q&&((0,n.warn)('... trying to recover by using the last "EI" occurrence.'),I.skip(-(I.pos-Q))));let V=4;return I.skip(-V),Z=I.peekByte(),I.skip(V),(0,C.isWhiteSpace)(Z)||V--,I.pos-V-J}findDCTDecodeInlineStreamEnd(I){const L=I.pos;let x=!1,S,W;for(;(S=I.getByte())!==-1;)if(S===255){switch(I.getByte()){case 0:break;case 255:I.skip(-1);break;case 217:x=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:W=I.getUint16(),W>2?I.skip(W-2):I.skip(-2);break}if(x)break}const U=I.pos-L;return S===-1?((0,n.warn)("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),I.skip(-U),this.findDefaultInlineStreamEnd(I)):(this.inlineStreamSkipEI(I),U)}findASCII85DecodeInlineStreamEnd(I){const S=I.pos;let W;for(;(W=I.getByte())!==-1;)if(W===126){const z=I.pos;for(W=I.peekByte();(0,C.isWhiteSpace)(W);)I.skip(),W=I.peekByte();if(W===62){I.skip();break}if(I.pos>z){const re=I.peekBytes(2);if(re[0]===69&&re[1]===73)break}}const U=I.pos-S;return W===-1?((0,n.warn)("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),I.skip(-U),this.findDefaultInlineStreamEnd(I)):(this.inlineStreamSkipEI(I),U)}findASCIIHexDecodeInlineStreamEnd(I){const x=I.pos;let S;for(;(S=I.getByte())!==-1&&S!==62;);const W=I.pos-x;return S===-1?((0,n.warn)("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),I.skip(-W),this.findDefaultInlineStreamEnd(I)):(this.inlineStreamSkipEI(I),W)}inlineStreamSkipEI(I){let S=0,W;for(;(W=I.getByte())!==-1;)if(S===0)S=W===69?1:0;else if(S===1)S=W===73?2:0;else if(S===2)break}makeInlineImage(I){const L=this.lexer,x=L.stream,S=new c.Dict(this.xref);let W;for(;!(0,c.isCmd)(this.buf1,"ID")&&this.buf1!==c.EOF;){if(!(this.buf1 instanceof c.Name))throw new n.FormatError("Dictionary key must be a name object");const Z=this.buf1.name;if(this.shift(),this.buf1===c.EOF)break;S.set(Z,this.getObj(I))}L.beginInlineImagePos!==-1&&(W=x.pos-L.beginInlineImagePos);const U=S.get("F","Filter");let z;if(U instanceof c.Name)z=U.name;else if(Array.isArray(U)){const Z=this.xref.fetchIfRef(U[0]);Z instanceof c.Name&&(z=Z.name)}const re=x.pos;let J;switch(z){case"DCT":case"DCTDecode":J=this.findDCTDecodeInlineStreamEnd(x);break;case"A85":case"ASCII85Decode":J=this.findASCII85DecodeInlineStreamEnd(x);break;case"AHx":case"ASCIIHexDecode":J=this.findASCIIHexDecodeInlineStreamEnd(x);break;default:J=this.findDefaultInlineStreamEnd(x)}let k=x.makeSubStream(re,J,S),H;if(J<_&&W<y){const Z=k.getBytes();k.reset();const Q=x.pos;x.pos=L.beginInlineImagePos;const V=x.getBytes(W);x.pos=Q,H=P(Z)+"_"+P(V);const Y=this.imageCache[H];if(Y!==void 0)return this.buf2=c.Cmd.get("EI"),this.shift(),Y.reset(),Y}return I&&(k=I.createStream(k,J)),k=this.filter(k,S,J),k.dict=S,H!==void 0&&(k.cacheKey=`inline_${J}_${H}`,this.imageCache[H]=k),this.buf2=c.Cmd.get("EI"),this.shift(),k}_findStreamLength(I,L){const{stream:x}=this.lexer;x.pos=I;const S=2048,W=L.length;for(;x.pos<x.end;){const U=x.peekBytes(S),z=U.length-W;if(z<=0)break;let re=0;for(;re<z;){let J=0;for(;J<W&&U[re+J]===L[J];)J++;if(J>=W)return x.pos+=re,x.pos-I;re++}x.pos+=z}return-1}makeStream(I,L){const x=this.lexer;let S=x.stream;x.skipToNextLine();const W=S.pos-1;let U=I.get("Length");if(Number.isInteger(U)||((0,n.info)(`Bad length "${U&&U.toString()}" in stream.`),U=0),S.pos=W+U,x.nextChar(),this.tryShift()&&(0,c.isCmd)(this.buf2,"endstream"))this.shift();else{const z=new Uint8Array([101,110,100,115,116,114,101,97,109]);let re=this._findStreamLength(W,z);if(re<0){for(let k=1;k<=1;k++){const H=z.length-k,Z=z.slice(0,H),Q=this._findStreamLength(W,Z);if(Q>=0){const V=S.peekBytes(H+1)[H];if(!(0,C.isWhiteSpace)(V))break;(0,n.info)(`Found "${(0,n.bytesToString)(Z)}" when searching for endstream command.`),re=Q;break}}if(re<0)throw new n.FormatError("Missing endstream command.")}U=re,x.nextChar(),this.shift(),this.shift()}return this.shift(),S=S.makeSubStream(W,U,I),L&&(S=L.createStream(S,U)),S=this.filter(S,I,U),S.dict=I,S}filter(I,L,x){let S=L.get("F","Filter"),W=L.get("DP","DecodeParms");if(S instanceof c.Name)return Array.isArray(W)&&(0,n.warn)("/DecodeParms should not be an Array, when /Filter is a Name."),this.makeFilter(I,S.name,x,W);let U=x;if(Array.isArray(S)){const z=S,re=W;for(let J=0,k=z.length;J<k;++J){if(S=this.xref.fetchIfRef(z[J]),!(S instanceof c.Name))throw new n.FormatError(`Bad filter name "${S}"`);W=null,Array.isArray(re)&&J in re&&(W=this.xref.fetchIfRef(re[J])),I=this.makeFilter(I,S.name,U,W),U=null}}return I}makeFilter(I,L,x,S){if(x===0)return(0,n.warn)(`Empty "${L}" stream.`),new o.NullStream;const W=this.xref.stats;try{switch(L){case"Fl":case"FlateDecode":return W.addStreamType(n.StreamType.FLATE),S?new T.PredictorStream(new A.FlateStream(I,x),x,S):new A.FlateStream(I,x);case"LZW":case"LZWDecode":W.addStreamType(n.StreamType.LZW);let U=1;return S?(S.has("EarlyChange")&&(U=S.get("EarlyChange")),new T.PredictorStream(new b.LZWStream(I,x,U),x,S)):new b.LZWStream(I,x,U);case"DCT":case"DCTDecode":return W.addStreamType(n.StreamType.DCT),new O.JpegStream(I,x,S);case"JPX":case"JPXDecode":return W.addStreamType(n.StreamType.JPX),new v.JpxStream(I,x,S);case"A85":case"ASCII85Decode":return W.addStreamType(n.StreamType.A85),new m.Ascii85Stream(I,x);case"AHx":case"ASCIIHexDecode":return W.addStreamType(n.StreamType.AHX),new e.AsciiHexStream(I,x);case"CCF":case"CCITTFaxDecode":return W.addStreamType(n.StreamType.CCF),new E.CCITTFaxStream(I,x,S);case"RL":case"RunLengthDecode":return W.addStreamType(n.StreamType.RLX),new D.RunLengthStream(I,x);case"JBIG2Decode":return W.addStreamType(n.StreamType.JBIG),new B.Jbig2Stream(I,x,S)}return(0,n.warn)(`Filter "${L}" is not supported.`),I}catch(U){if(U instanceof C.MissingDataException)throw U;return(0,n.warn)(`Invalid stream: "${U}"`),new o.NullStream}}}s.Parser=w;const M=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function q(R){return R>=48&&R<=57?R&15:R>=65&&R<=70||R>=97&&R<=102?(R&15)+9:-1}class F{constructor(I){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.stream=I,this.nextChar(),this.strBuf=[],this.knownCommands=L,this._hexStringNumWarn=0,this.beginInlineImagePos=-1}nextChar(){return this.currentChar=this.stream.getByte()}peekChar(){return this.stream.peekByte()}getNumber(){let I=this.currentChar,L=!1,x=0,S=0;if(I===45?(S=-1,I=this.nextChar(),I===45&&(I=this.nextChar())):I===43&&(S=1,I=this.nextChar()),I===10||I===13)do I=this.nextChar();while(I===10||I===13);if(I===46&&(x=10,I=this.nextChar()),I<48||I>57){if((0,C.isWhiteSpace)(I)||I===-1){if(x===10&&S===0)return(0,n.warn)("Lexer.getNumber - treating a single decimal point as zero."),0;if(x===0&&S===-1)return(0,n.warn)("Lexer.getNumber - treating a single minus sign as zero."),0}throw new n.FormatError(`Invalid number: ${String.fromCharCode(I)} (charCode ${I})`)}S=S||1;let W=I-48,U=0,z=1;for(;(I=this.nextChar())>=0;)if(I>=48&&I<=57){const re=I-48;L?U=U*10+re:(x!==0&&(x*=10),W=W*10+re)}else if(I===46)if(x===0)x=1;else break;else if(I===45)(0,n.warn)("Badly formatted number: minus sign in the middle");else if(I===69||I===101){if(I=this.peekChar(),I===43||I===45)z=I===45?-1:1,this.nextChar();else if(I<48||I>57)break;L=!0}else break;return x!==0&&(W/=x),L&&(W*=10**(z*U)),S*W}getString(){let I=1,L=!1;const x=this.strBuf;x.length=0;let S=this.nextChar();for(;;){let W=!1;switch(S|0){case-1:(0,n.warn)("Unterminated string"),L=!0;break;case 40:++I,x.push("(");break;case 41:--I===0?(this.nextChar(),L=!0):x.push(")");break;case 92:switch(S=this.nextChar(),S){case-1:(0,n.warn)("Unterminated string"),L=!0;break;case 110:x.push(`
`);break;case 114:x.push("\r");break;case 116:x.push("	");break;case 98:x.push("\b");break;case 102:x.push("\f");break;case 92:case 40:case 41:x.push(String.fromCharCode(S));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:let U=S&15;S=this.nextChar(),W=!0,S>=48&&S<=55&&(U=(U<<3)+(S&15),S=this.nextChar(),S>=48&&S<=55&&(W=!1,U=(U<<3)+(S&15))),x.push(String.fromCharCode(U));break;case 13:this.peekChar()===10&&this.nextChar();break;case 10:break;default:x.push(String.fromCharCode(S));break}break;default:x.push(String.fromCharCode(S));break}if(L)break;W||(S=this.nextChar())}return x.join("")}getName(){let I,L;const x=this.strBuf;for(x.length=0;(I=this.nextChar())>=0&&!M[I];)if(I===35){if(I=this.nextChar(),M[I]){(0,n.warn)("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),x.push("#");break}const S=q(I);if(S!==-1){L=I,I=this.nextChar();const W=q(I);if(W===-1){if((0,n.warn)(`Lexer_getName: Illegal digit (${String.fromCharCode(I)}) in hexadecimal number.`),x.push("#",String.fromCharCode(L)),M[I])break;x.push(String.fromCharCode(I));continue}x.push(String.fromCharCode(S<<4|W))}else x.push("#",String.fromCharCode(I))}else x.push(String.fromCharCode(I));return x.length>127&&(0,n.warn)(`Name token is longer than allowed by the spec: ${x.length}`),c.Name.get(x.join(""))}_hexStringWarn(I){if(this._hexStringNumWarn++===5){(0,n.warn)("getHexString - ignoring additional invalid characters.");return}this._hexStringNumWarn>5||(0,n.warn)(`getHexString - ignoring invalid character: ${I}`)}getHexString(){const I=this.strBuf;I.length=0;let L=this.currentChar,x=!0,S,W;for(this._hexStringNumWarn=0;;)if(L<0){(0,n.warn)("Unterminated hex string");break}else if(L===62){this.nextChar();break}else if(M[L]===1){L=this.nextChar();continue}else{if(x){if(S=q(L),S===-1){this._hexStringWarn(L),L=this.nextChar();continue}}else{if(W=q(L),W===-1){this._hexStringWarn(L),L=this.nextChar();continue}I.push(String.fromCharCode(S<<4|W))}x=!x,L=this.nextChar()}return I.join("")}getObj(){let I=!1,L=this.currentChar;for(;;){if(L<0)return c.EOF;if(I)(L===10||L===13)&&(I=!1);else if(L===37)I=!0;else if(M[L]!==1)break;L=this.nextChar()}switch(L|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),c.Cmd.get("[");case 93:return this.nextChar(),c.Cmd.get("]");case 60:return L=this.nextChar(),L===60?(this.nextChar(),c.Cmd.get("<<")):this.getHexString();case 62:return L=this.nextChar(),L===62?(this.nextChar(),c.Cmd.get(">>")):c.Cmd.get(">");case 123:return this.nextChar(),c.Cmd.get("{");case 125:return this.nextChar(),c.Cmd.get("}");case 41:throw this.nextChar(),new n.FormatError(`Illegal character: ${L}`)}let x=String.fromCharCode(L);if(L<32||L>127){const U=this.peekChar();if(U>=32&&U<=127)return this.nextChar(),c.Cmd.get(x)}const S=this.knownCommands;let W=S&&S[x]!==void 0;for(;(L=this.nextChar())>=0&&!M[L];){const U=x+String.fromCharCode(L);if(W&&S[U]===void 0)break;if(x.length===128)throw new n.FormatError(`Command token too long: ${x.length}`);x=U,W=S&&S[x]!==void 0}return x==="true"?!0:x==="false"?!1:x==="null"?null:(x==="BI"&&(this.beginInlineImagePos=this.stream.pos),c.Cmd.get(x))}peekObj(){const I=this.stream.pos,L=this.currentChar,x=this.beginInlineImagePos;let S;try{S=this.getObj()}catch(W){if(W instanceof C.MissingDataException)throw W;(0,n.warn)(`peekObj: ${W}`)}return this.stream.pos=I,this.currentChar=L,this.beginInlineImagePos=x,S}skipToNextLine(){let I=this.currentChar;for(;I>=0;){if(I===13){I=this.nextChar(),I===10&&this.nextChar();break}else if(I===10){this.nextChar();break}I=this.nextChar()}}}s.Lexer=F;class G{static create(I){function L(H,Z){let Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const V=H.get(Z);if(Number.isInteger(V)&&(Q?V>=0:V>0))return V;throw new Error(`The "${Z}" parameter in the linearization dictionary is invalid.`)}function x(H){const Z=H.get("H");let Q;if(Array.isArray(Z)&&((Q=Z.length)===2||Q===4)){for(let V=0;V<Q;V++){const Y=Z[V];if(!(Number.isInteger(Y)&&Y>0))throw new Error(`Hint (${V}) in the linearization dictionary is invalid.`)}return Z}throw new Error("Hint array in the linearization dictionary is invalid.")}const S=new w({lexer:new F(I),xref:null}),W=S.getObj(),U=S.getObj(),z=S.getObj(),re=S.getObj();let J,k;if(Number.isInteger(W)&&Number.isInteger(U)&&(0,c.isCmd)(z,"obj")&&re instanceof c.Dict&&typeof(J=re.get("Linearized"))=="number"&&J>0){if((k=L(re,"L"))!==I.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.')}else return null;return{length:k,hints:x(re),objectNumberFirst:L(re,"O"),endFirst:L(re,"E"),numPages:L(re,"N"),mainXRefEntriesOffset:L(re,"T"),pageFirst:re.has("P")?L(re,"P",!0):0}}}s.Linearization=G},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Ascii85Stream=void 0;var n=u(144),c=u(131);class C extends n.DecodeStream{constructor(e,E){E&&(E*=.8),super(E),this.str=e,this.dict=e.dict,this.input=new Uint8Array(5)}readBlock(){const B=this.str;let O=B.getByte();for(;(0,c.isWhiteSpace)(O);)O=B.getByte();if(O===-1||O===126){this.eof=!0;return}const v=this.bufferLength;let b,o;if(O===122){for(b=this.ensureBuffer(v+4),o=0;o<4;++o)b[v+o]=0;this.bufferLength+=4}else{const T=this.input;for(T[0]=O,o=1;o<5;++o){for(O=B.getByte();(0,c.isWhiteSpace)(O);)O=B.getByte();if(T[o]=O,O===-1||O===126)break}if(b=this.ensureBuffer(v+o-1),this.bufferLength+=o-1,o<5){for(;o<5;++o)T[o]=117;this.eof=!0}let D=0;for(o=0;o<5;++o)D=D*85+(T[o]-33);for(o=3;o>=0;--o)b[v+o]=D&255,D>>=8}}}s.Ascii85Stream=C},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.StreamsSequenceStream=s.DecodeStream=void 0;var n=u(132),c=u(135);const C=new Uint8Array(0);class m extends n.BaseStream{constructor(A){if(super(),this._rawMinBufferLength=A||0,this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=C,this.minBufferLength=512,A)for(;this.minBufferLength<A;)this.minBufferLength*=2}get isEmpty(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0}ensureBuffer(A){const B=this.buffer;if(A<=B.byteLength)return B;let O=this.minBufferLength;for(;O<A;)O*=2;const v=new Uint8Array(O);return v.set(B),this.buffer=v}getByte(){const A=this.pos;for(;this.bufferLength<=A;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]}getBytes(A){const B=this.pos;let O;if(A){for(this.ensureBuffer(B+A),O=B+A;!this.eof&&this.bufferLength<O;)this.readBlock();const v=this.bufferLength;O>v&&(O=v)}else{for(;!this.eof;)this.readBlock();O=this.bufferLength}return this.pos=O,this.buffer.subarray(B,O)}reset(){this.pos=0}makeSubStream(A,B){let O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(B===void 0)for(;!this.eof;)this.readBlock();else{const v=A+B;for(;this.bufferLength<=v&&!this.eof;)this.readBlock()}return new c.Stream(this.buffer,A,B,O)}getBaseStreams(){return this.str?this.str.getBaseStreams():null}}s.DecodeStream=m;class e extends m{constructor(A){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,O=0;for(const v of A)O+=v instanceof m?v._rawMinBufferLength:v.length;super(O),this.streams=A,this._onError=B}readBlock(){const A=this.streams;if(A.length===0){this.eof=!0;return}const B=A.shift();let O;try{O=B.getBytes()}catch(T){if(this._onError){this._onError(T,B.dict&&B.dict.objId);return}throw T}const v=this.bufferLength,b=v+O.length;this.ensureBuffer(b).set(O,v),this.bufferLength=b}getBaseStreams(){const A=[];for(const B of this.streams){const O=B.getBaseStreams();O&&A.push(...O)}return A.length>0?A:null}}s.StreamsSequenceStream=e},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AsciiHexStream=void 0;var n=u(144);class c extends n.DecodeStream{constructor(m,e){e&&(e*=.5),super(e),this.str=m,this.dict=m.dict,this.firstDigit=-1}readBlock(){const e=this.str.getBytes(8e3);if(!e.length){this.eof=!0;return}const E=e.length+1>>1,A=this.ensureBuffer(this.bufferLength+E);let B=this.bufferLength,O=this.firstDigit;for(const v of e){let b;if(v>=48&&v<=57)b=v&15;else if(v>=65&&v<=70||v>=97&&v<=102)b=(v&15)+9;else if(v===62){this.eof=!0;break}else continue;O<0?O=b:(A[B++]=O<<4|b,O=-1)}O>=0&&this.eof&&(A[B++]=O<<4,O=-1),this.firstDigit=O,this.bufferLength=B}}s.AsciiHexStream=c},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CCITTFaxStream=void 0;var n=u(147),c=u(144),C=u(130);class m extends c.DecodeStream{constructor(E,A,B){super(A),this.str=E,this.dict=E.dict,B instanceof C.Dict||(B=C.Dict.empty);const O={next(){return E.getByte()}};this.ccittFaxDecoder=new n.CCITTFaxDecoder(O,{K:B.get("K"),EndOfLine:B.get("EndOfLine"),EncodedByteAlign:B.get("EncodedByteAlign"),Columns:B.get("Columns"),Rows:B.get("Rows"),EndOfBlock:B.get("EndOfBlock"),BlackIs1:B.get("BlackIs1")})}readBlock(){for(;!this.eof;){const E=this.ccittFaxDecoder.readNextChar();if(E===-1){this.eof=!0;return}this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=E}}}s.CCITTFaxStream=m},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CCITTFaxDecoder=void 0;var n=u(2);const c=-2,C=-1,m=0,e=1,E=2,A=3,B=4,O=5,v=6,b=7,o=8,T=[[-1,-1],[-1,-1],[7,o],[7,b],[6,v],[6,v],[6,O],[6,O],[4,m],[4,m],[4,m],[4,m],[4,m],[4,m],[4,m],[4,m],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,e],[3,B],[3,B],[3,B],[3,B],[3,B],[3,B],[3,B],[3,B],[3,B],[3,B],[3,B],[3,B],[3,B],[3,B],[3,B],[3,B],[3,A],[3,A],[3,A],[3,A],[3,A],[3,A],[3,A],[3,A],[3,A],[3,A],[3,A],[3,A],[3,A],[3,A],[3,A],[3,A],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E],[1,E]],D=[[-1,-1],[12,c],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],_=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],y=[[-1,-1],[-1,-1],[12,c],[12,c],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],P=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],w=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];class M{constructor(F){let G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!F||typeof F.next!="function")throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=F,this.eof=!1,this.encoding=G.K||0,this.eoline=G.EndOfLine||!1,this.byteAlign=G.EncodedByteAlign||!1,this.columns=G.Columns||1728,this.rows=G.Rows||0;let R=G.EndOfBlock;R==null&&(R=!0),this.eoblock=R,this.black=G.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;let I;for(;(I=this._lookBits(12))===0;)this._eatBits(1);I===1&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}readNextChar(){if(this.eof)return-1;const F=this.refLine,G=this.codingLine,R=this.columns;let I,L,x,S;if(this.outputBits===0){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;this.err=!1;let U,z,re;if(this.nextLine2D){for(S=0;G[S]<R;++S)F[S]=G[S];for(F[S++]=R,F[S]=R,G[0]=0,this.codingPos=0,I=0,L=0;G[this.codingPos]<R;)switch(U=this._getTwoDimCode(),U){case m:this._addPixels(F[I+1],L),F[I+1]<R&&(I+=2);break;case e:if(U=z=0,L){do U+=re=this._getBlackCode();while(re>=64);do z+=re=this._getWhiteCode();while(re>=64)}else{do U+=re=this._getWhiteCode();while(re>=64);do z+=re=this._getBlackCode();while(re>=64)}for(this._addPixels(G[this.codingPos]+U,L),G[this.codingPos]<R&&this._addPixels(G[this.codingPos]+z,L^1);F[I]<=G[this.codingPos]&&F[I]<R;)I+=2;break;case b:if(this._addPixels(F[I]+3,L),L^=1,G[this.codingPos]<R)for(++I;F[I]<=G[this.codingPos]&&F[I]<R;)I+=2;break;case O:if(this._addPixels(F[I]+2,L),L^=1,G[this.codingPos]<R)for(++I;F[I]<=G[this.codingPos]&&F[I]<R;)I+=2;break;case A:if(this._addPixels(F[I]+1,L),L^=1,G[this.codingPos]<R)for(++I;F[I]<=G[this.codingPos]&&F[I]<R;)I+=2;break;case E:if(this._addPixels(F[I],L),L^=1,G[this.codingPos]<R)for(++I;F[I]<=G[this.codingPos]&&F[I]<R;)I+=2;break;case o:if(this._addPixelsNeg(F[I]-3,L),L^=1,G[this.codingPos]<R)for(I>0?--I:++I;F[I]<=G[this.codingPos]&&F[I]<R;)I+=2;break;case v:if(this._addPixelsNeg(F[I]-2,L),L^=1,G[this.codingPos]<R)for(I>0?--I:++I;F[I]<=G[this.codingPos]&&F[I]<R;)I+=2;break;case B:if(this._addPixelsNeg(F[I]-1,L),L^=1,G[this.codingPos]<R)for(I>0?--I:++I;F[I]<=G[this.codingPos]&&F[I]<R;)I+=2;break;case C:this._addPixels(R,0),this.eof=!0;break;default:(0,n.info)("bad 2d code"),this._addPixels(R,0),this.err=!0}}else for(G[0]=0,this.codingPos=0,L=0;G[this.codingPos]<R;){if(U=0,L)do U+=re=this._getBlackCode();while(re>=64);else do U+=re=this._getWhiteCode();while(re>=64);this._addPixels(G[this.codingPos]+U,L),L^=1}let J=!1;if(this.byteAlign&&(this.inputBits&=-8),!this.eoblock&&this.row===this.rows-1)this.rowsDone=!0;else{if(U=this._lookBits(12),this.eoline)for(;U!==C&&U!==1;)this._eatBits(1),U=this._lookBits(12);else for(;U===0;)this._eatBits(1),U=this._lookBits(12);U===1?(this._eatBits(12),J=!0):U===C&&(this.eof=!0)}if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&J&&this.byteAlign){if(U=this._lookBits(12),U===1){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(S=0;S<4;++S)U=this._lookBits(12),U!==1&&(0,n.info)("bad rtc code: "+U),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(U=this._lookBits(13),U===C)return this.eof=!0,-1;if(U>>1===1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(U&1))}G[0]>0?this.outputBits=G[this.codingPos=0]:this.outputBits=G[this.codingPos=1],this.row++}let W;if(this.outputBits>=8)W=this.codingPos&1?0:255,this.outputBits-=8,this.outputBits===0&&G[this.codingPos]<R&&(this.codingPos++,this.outputBits=G[this.codingPos]-G[this.codingPos-1]);else{x=8,W=0;do{if(typeof this.outputBits!="number")throw new n.FormatError('Invalid /CCITTFaxDecode data, "outputBits" must be a number.');this.outputBits>x?(W<<=x,this.codingPos&1||(W|=255>>8-x),this.outputBits-=x,x=0):(W<<=this.outputBits,this.codingPos&1||(W|=255>>8-this.outputBits),x-=this.outputBits,this.outputBits=0,G[this.codingPos]<R?(this.codingPos++,this.outputBits=G[this.codingPos]-G[this.codingPos-1]):x>0&&(W<<=x,x=0))}while(x)}return this.black&&(W^=255),W}_addPixels(F,G){const R=this.codingLine;let I=this.codingPos;F>R[I]&&(F>this.columns&&((0,n.info)("row is wrong length"),this.err=!0,F=this.columns),I&1^G&&++I,R[I]=F),this.codingPos=I}_addPixelsNeg(F,G){const R=this.codingLine;let I=this.codingPos;if(F>R[I])F>this.columns&&((0,n.info)("row is wrong length"),this.err=!0,F=this.columns),I&1^G&&++I,R[I]=F;else if(F<R[I]){for(F<0&&((0,n.info)("invalid code"),this.err=!0,F=0);I>0&&F<R[I-1];)--I;R[I]=F}this.codingPos=I}_findTableCode(F,G,R,I){const L=I||0;for(let x=F;x<=G;++x){let S=this._lookBits(x);if(S===C)return[!0,1,!1];if(x<G&&(S<<=G-x),!L||S>=L){const W=R[S-L];if(W[0]===x)return this._eatBits(x),[!0,W[1],!0]}}return[!1,0,!1]}_getTwoDimCode(){let F=0,G;if(this.eoblock){if(F=this._lookBits(7),G=T[F],G&&G[0]>0)return this._eatBits(G[0]),G[1]}else{const R=this._findTableCode(1,7,T);if(R[0]&&R[2])return R[1]}return(0,n.info)("Bad two dim code"),C}_getWhiteCode(){let F=0,G;if(this.eoblock){if(F=this._lookBits(12),F===C)return 1;if(F>>5===0?G=D[F]:G=_[F>>3],G[0]>0)return this._eatBits(G[0]),G[1]}else{let R=this._findTableCode(1,9,_);if(R[0]||(R=this._findTableCode(11,12,D),R[0]))return R[1]}return(0,n.info)("bad white code"),this._eatBits(1),1}_getBlackCode(){let F,G;if(this.eoblock){if(F=this._lookBits(13),F===C)return 1;if(F>>7===0?G=y[F]:F>>9===0&&F>>7!==0?G=P[(F>>1)-64]:G=w[F>>7],G[0]>0)return this._eatBits(G[0]),G[1]}else{let R=this._findTableCode(2,6,w);if(R[0]||(R=this._findTableCode(7,12,P,64),R[0])||(R=this._findTableCode(10,13,y),R[0]))return R[1]}return(0,n.info)("bad black code"),this._eatBits(1),1}_lookBits(F){let G;for(;this.inputBits<F;){if((G=this.source.next())===-1)return this.inputBits===0?C:this.inputBuf<<F-this.inputBits&65535>>16-F;this.inputBuf=this.inputBuf<<8|G,this.inputBits+=8}return this.inputBuf>>this.inputBits-F&65535>>16-F}_eatBits(F){(this.inputBits-=F)<0&&(this.inputBits=0)}}s.CCITTFaxDecoder=M},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.FlateStream=void 0;var n=u(144),c=u(2);const C=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),m=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),e=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),E=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],A=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];class B extends n.DecodeStream{constructor(v,b){super(b),this.str=v,this.dict=v.dict;const o=v.getByte(),T=v.getByte();if(o===-1||T===-1)throw new c.FormatError(`Invalid header in flate stream: ${o}, ${T}`);if((o&15)!==8)throw new c.FormatError(`Unknown compression method in flate stream: ${o}, ${T}`);if(((o<<8)+T)%31!==0)throw new c.FormatError(`Bad FCHECK in flate stream: ${o}, ${T}`);if(T&32)throw new c.FormatError(`FDICT bit set in flate stream: ${o}, ${T}`);this.codeSize=0,this.codeBuf=0}getBits(v){const b=this.str;let o=this.codeSize,T=this.codeBuf,D;for(;o<v;){if((D=b.getByte())===-1)throw new c.FormatError("Bad encoding in flate stream");T|=D<<o,o+=8}return D=T&(1<<v)-1,this.codeBuf=T>>v,this.codeSize=o-=v,D}getCode(v){const b=this.str,o=v[0],T=v[1];let D=this.codeSize,_=this.codeBuf,y;for(;D<T&&(y=b.getByte())!==-1;)_|=y<<D,D+=8;const P=o[_&(1<<T)-1],w=P>>16,M=P&65535;if(w<1||D<w)throw new c.FormatError("Bad encoding in flate stream");return this.codeBuf=_>>w,this.codeSize=D-w,M}generateHuffmanTable(v){const b=v.length;let o=0,T;for(T=0;T<b;++T)v[T]>o&&(o=v[T]);const D=1<<o,_=new Int32Array(D);for(let y=1,P=0,w=2;y<=o;++y,P<<=1,w<<=1)for(let M=0;M<b;++M)if(v[M]===y){let q=0,F=P;for(T=0;T<y;++T)q=q<<1|F&1,F>>=1;for(T=q;T<D;T+=w)_[T]=y<<16|M;++P}return[_,o]}readBlock(){let v,b;const o=this.str;let T=this.getBits(3);if(T&1&&(this.eof=!0),T>>=1,T===0){let w;if((w=o.getByte())===-1)throw new c.FormatError("Bad block header in flate stream");let M=w;if((w=o.getByte())===-1)throw new c.FormatError("Bad block header in flate stream");if(M|=w<<8,(w=o.getByte())===-1)throw new c.FormatError("Bad block header in flate stream");let q=w;if((w=o.getByte())===-1)throw new c.FormatError("Bad block header in flate stream");if(q|=w<<8,q!==(~M&65535)&&(M!==0||q!==0))throw new c.FormatError("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;const F=this.bufferLength,G=F+M;if(v=this.ensureBuffer(G),this.bufferLength=G,M===0)o.peekByte()===-1&&(this.eof=!0);else{const R=o.getBytes(M);v.set(R,F),R.length<M&&(this.eof=!0)}return}let D,_;if(T===1)D=E,_=A;else if(T===2){const w=this.getBits(5)+257,M=this.getBits(5)+1,q=this.getBits(4)+4,F=new Uint8Array(C.length);let G;for(G=0;G<q;++G)F[C[G]]=this.getBits(3);const R=this.generateHuffmanTable(F);b=0,G=0;const I=w+M,L=new Uint8Array(I);let x,S,W;for(;G<I;){const U=this.getCode(R);if(U===16)x=2,S=3,W=b;else if(U===17)x=3,S=3,W=b=0;else if(U===18)x=7,S=11,W=b=0;else{L[G++]=b=U;continue}let z=this.getBits(x)+S;for(;z-- >0;)L[G++]=W}D=this.generateHuffmanTable(L.subarray(0,w)),_=this.generateHuffmanTable(L.subarray(w,I))}else throw new c.FormatError("Unknown block type in flate stream");v=this.buffer;let y=v?v.length:0,P=this.bufferLength;for(;;){let w=this.getCode(D);if(w<256){P+1>=y&&(v=this.ensureBuffer(P+1),y=v.length),v[P++]=w;continue}if(w===256){this.bufferLength=P;return}w-=257,w=m[w];let M=w>>16;M>0&&(M=this.getBits(M)),b=(w&65535)+M,w=this.getCode(_),w=e[w],M=w>>16,M>0&&(M=this.getBits(M));const q=(w&65535)+M;P+b>=y&&(v=this.ensureBuffer(P+b),y=v.length);for(let F=0;F<b;++F,++P)v[P]=v[P-q]}}}s.FlateStream=B},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Jbig2Stream=void 0;var n=u(132),c=u(144),C=u(130),m=u(150),e=u(2);class E extends c.DecodeStream{constructor(B,O,v){super(O),this.stream=B,this.dict=B.dict,this.maybeLength=O,this.params=v}get bytes(){return(0,e.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(B){}readBlock(){if(this.eof)return;const B=new m.Jbig2Image,O=[];if(this.params instanceof C.Dict){const o=this.params.get("JBIG2Globals");if(o instanceof n.BaseStream){const T=o.getBytes();O.push({data:T,start:0,end:T.length})}}O.push({data:this.bytes,start:0,end:this.bytes.length});const v=B.parseChunks(O),b=v.length;for(let o=0;o<b;o++)v[o]^=255;this.buffer=v,this.bufferLength=b,this.eof=!0}}s.Jbig2Stream=E},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Jbig2Image=void 0;var n=u(2),c=u(131),C=u(151),m=u(147);class e extends n.BaseException{constructor(se){super(`JBIG2 error: ${se}`,"Jbig2Error")}}class E{getContexts(se){return se in this?this[se]:this[se]=new Int8Array(65536)}}class A{constructor(se,K,ee){this.data=se,this.start=K,this.end=ee}get decoder(){const se=new C.ArithmeticDecoder(this.data,this.start,this.end);return(0,n.shadow)(this,"decoder",se)}get contextCache(){const se=new E;return(0,n.shadow)(this,"contextCache",se)}}function B(ce,se,K){const ee=ce.getContexts(se);let ie=1;function oe(fe){let ue=0;for(let ge=0;ge<fe;ge++){const he=K.readBit(ee,ie);ie=ie<256?ie<<1|he:(ie<<1|he)&511|256,ue=ue<<1|he}return ue>>>0}const le=oe(1),pe=oe(1)?oe(1)?oe(1)?oe(1)?oe(1)?oe(32)+4436:oe(12)+340:oe(8)+84:oe(6)+20:oe(4)+4:oe(2);return le===0?pe:pe>0?-pe:null}function O(ce,se,K){const ee=ce.getContexts("IAID");let ie=1;for(let oe=0;oe<K;oe++){const le=se.readBit(ee,ie);ie=ie<<1|le}return K<31?ie&(1<<K)-1:ie&2147483647}const v=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],b=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],o=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],T=[39717,1941,229,405],D=[32,8];function _(ce,se,K){const ee=K.decoder,ie=K.contextCache.getContexts("GB"),oe=[];let le,pe,fe,ue,ge,he,xe;const ye=31735;for(pe=0;pe<se;pe++)for(ge=oe[pe]=new Uint8Array(ce),he=pe<1?ge:oe[pe-1],xe=pe<2?ge:oe[pe-2],le=xe[0]<<13|xe[1]<<12|xe[2]<<11|he[0]<<7|he[1]<<6|he[2]<<5|he[3]<<4,fe=0;fe<ce;fe++)ge[fe]=ue=ee.readBit(ie,le),le=(le&ye)<<1|(fe+3<ce?xe[fe+3]<<11:0)|(fe+4<ce?he[fe+4]<<4:0)|ue;return oe}function y(ce,se,K,ee,ie,oe,le,pe){if(ce){const dt=new Q(pe.data,pe.start,pe.end);return X(dt,se,K,!1)}if(ee===0&&!oe&&!ie&&le.length===4&&le[0].x===3&&le[0].y===-1&&le[1].x===-3&&le[1].y===-1&&le[2].x===2&&le[2].y===-2&&le[3].x===-2&&le[3].y===-2)return _(se,K,pe);const fe=!!oe,ue=b[ee].concat(le);ue.sort(function(dt,ze){return dt.y-ze.y||dt.x-ze.x});const ge=ue.length,he=new Int8Array(ge),xe=new Int8Array(ge),ye=[];let ve=0,ke=0,Se=0,be=0,Ee,Oe;for(Oe=0;Oe<ge;Oe++)he[Oe]=ue[Oe].x,xe[Oe]=ue[Oe].y,ke=Math.min(ke,ue[Oe].x),Se=Math.max(Se,ue[Oe].x),be=Math.min(be,ue[Oe].y),Oe<ge-1&&ue[Oe].y===ue[Oe+1].y&&ue[Oe].x===ue[Oe+1].x-1?ve|=1<<ge-1-Oe:ye.push(Oe);const Fe=ye.length,Re=new Int8Array(Fe),Ne=new Int8Array(Fe),Pe=new Uint16Array(Fe);for(Ee=0;Ee<Fe;Ee++)Oe=ye[Ee],Re[Ee]=ue[Oe].x,Ne[Ee]=ue[Oe].y,Pe[Ee]=1<<ge-1-Oe;const Ie=-ke,Me=-be,Te=se-Se,Le=T[ee];let Be=new Uint8Array(se);const Ae=[],we=pe.decoder,Ce=pe.contextCache.getContexts("GB");let De=0,Ge,He,Ze,Ye=0,je,it;for(let dt=0;dt<K;dt++){if(ie){const ze=we.readBit(Ce,Le);if(De^=ze,De){Ae.push(Be);continue}}for(Be=new Uint8Array(Be),Ae.push(Be),Ge=0;Ge<se;Ge++){if(fe&&oe[dt][Ge]){Be[Ge]=0;continue}if(Ge>=Ie&&Ge<Te&&dt>=Me)for(Ye=Ye<<1&ve,Oe=0;Oe<Fe;Oe++)He=dt+Ne[Oe],Ze=Ge+Re[Oe],je=Ae[He][Ze],je&&(je=Pe[Oe],Ye|=je);else for(Ye=0,it=ge-1,Oe=0;Oe<ge;Oe++,it--)Ze=Ge+he[Oe],Ze>=0&&Ze<se&&(He=dt+xe[Oe],He>=0&&(je=Ae[He][Ze],je&&(Ye|=je<<it)));const ze=we.readBit(Ce,Ye);Be[Ge]=ze}}return Ae}function P(ce,se,K,ee,ie,oe,le,pe,fe){let ue=o[K].coding;K===0&&(ue=ue.concat([pe[0]]));const ge=ue.length,he=new Int32Array(ge),xe=new Int32Array(ge);let ye;for(ye=0;ye<ge;ye++)he[ye]=ue[ye].x,xe[ye]=ue[ye].y;let ve=o[K].reference;K===0&&(ve=ve.concat([pe[1]]));const ke=ve.length,Se=new Int32Array(ke),be=new Int32Array(ke);for(ye=0;ye<ke;ye++)Se[ye]=ve[ye].x,be[ye]=ve[ye].y;const Ee=ee[0].length,Oe=ee.length,Fe=D[K],Re=[],Ne=fe.decoder,Pe=fe.contextCache.getContexts("GR");let Ie=0;for(let Me=0;Me<se;Me++){if(le){const Le=Ne.readBit(Pe,Fe);if(Ie^=Le,Ie)throw new e("prediction is not supported")}const Te=new Uint8Array(ce);Re.push(Te);for(let Le=0;Le<ce;Le++){let Be,Ae,we=0;for(ye=0;ye<ge;ye++)Be=Me+xe[ye],Ae=Le+he[ye],Be<0||Ae<0||Ae>=ce?we<<=1:we=we<<1|Re[Be][Ae];for(ye=0;ye<ke;ye++)Be=Me+be[ye]-oe,Ae=Le+Se[ye]-ie,Be<0||Be>=Oe||Ae<0||Ae>=Ee?we<<=1:we=we<<1|ee[Be][Ae];const Ce=Ne.readBit(Pe,we);Te[Le]=Ce}}return Re}function w(ce,se,K,ee,ie,oe,le,pe,fe,ue,ge,he){if(ce&&se)throw new e("symbol refinement with Huffman is not supported");const xe=[];let ye=0,ve=(0,c.log2)(K.length+ee);const ke=ge.decoder,Se=ge.contextCache;let be,Ee;for(ce&&(be=Z(1),Ee=[],ve=Math.max(ve,1));xe.length<ee;){const Me=ce?oe.tableDeltaHeight.decode(he):B(Se,"IADH",ke);ye+=Me;let Te=0,Le=0;const Be=ce?Ee.length:0;for(;;){const Ae=ce?oe.tableDeltaWidth.decode(he):B(Se,"IADW",ke);if(Ae===null)break;Te+=Ae,Le+=Te;let we;if(se){const Ce=B(Se,"IAAI",ke);if(Ce>1)we=M(ce,se,Te,ye,0,Ce,1,K.concat(xe),ve,0,0,1,0,oe,fe,ue,ge,0,he);else{const De=O(Se,ke,ve),Ge=B(Se,"IARDX",ke),He=B(Se,"IARDY",ke),Ze=De<K.length?K[De]:xe[De-K.length];we=P(Te,ye,fe,Ze,Ge,He,!1,ue,ge)}xe.push(we)}else ce?Ee.push(Te):(we=y(!1,Te,ye,le,!1,null,pe,ge),xe.push(we))}if(ce&&!se){const Ae=oe.tableBitmapSize.decode(he);he.byteAlign();let we;if(Ae===0)we=$(he,Le,ye);else{const De=he.end,Ge=he.position+Ae;he.end=Ge,we=X(he,Le,ye,!1),he.end=De,he.position=Ge}const Ce=Ee.length;if(Be===Ce-1)xe.push(we);else{let De,Ge,He=0,Ze,Ye,je;for(De=Be;De<Ce;De++){for(Ye=Ee[De],Ze=He+Ye,je=[],Ge=0;Ge<ye;Ge++)je.push(we[Ge].subarray(He,Ze));xe.push(je),He=Ze}}}}const Oe=[],Fe=[];let Re=!1,Ne,Pe;const Ie=K.length+ee;for(;Fe.length<Ie;){let Me=ce?be.decode(he):B(Se,"IAEX",ke);for(;Me--;)Fe.push(Re);Re=!Re}for(Ne=0,Pe=K.length;Ne<Pe;Ne++)Fe[Ne]&&Oe.push(K[Ne]);for(let Me=0;Me<ee;Ne++,Me++)Fe[Ne]&&Oe.push(xe[Me]);return Oe}function M(ce,se,K,ee,ie,oe,le,pe,fe,ue,ge,he,xe,ye,ve,ke,Se,be,Ee){if(ce&&se)throw new e("refinement with Huffman is not supported");const Oe=[];let Fe,Re;for(Fe=0;Fe<ee;Fe++){if(Re=new Uint8Array(K),ie)for(let Te=0;Te<K;Te++)Re[Te]=ie;Oe.push(Re)}const Ne=Se.decoder,Pe=Se.contextCache;let Ie=ce?-ye.tableDeltaT.decode(Ee):-B(Pe,"IADT",Ne),Me=0;for(Fe=0;Fe<oe;){const Te=ce?ye.tableDeltaT.decode(Ee):B(Pe,"IADT",Ne);Ie+=Te;const Le=ce?ye.tableFirstS.decode(Ee):B(Pe,"IAFS",Ne);Me+=Le;let Be=Me;do{let Ae=0;le>1&&(Ae=ce?Ee.readBits(be):B(Pe,"IAIT",Ne));const we=le*Ie+Ae,Ce=ce?ye.symbolIDTable.decode(Ee):O(Pe,Ne,fe),De=se&&(ce?Ee.readBit():B(Pe,"IARI",Ne));let Ge=pe[Ce],He=Ge[0].length,Ze=Ge.length;if(De){const ot=B(Pe,"IARDW",Ne),ft=B(Pe,"IARDH",Ne),St=B(Pe,"IARDX",Ne),Et=B(Pe,"IARDY",Ne);He+=ot,Ze+=ft,Ge=P(He,Ze,ve,Ge,(ot>>1)+St,(ft>>1)+Et,!1,ke,Se)}const Ye=we-(he&1?0:Ze-1),je=Be-(he&2?He-1:0);let it,dt,ze;if(ue){for(it=0;it<Ze;it++){if(Re=Oe[je+it],!Re)continue;ze=Ge[it];const ot=Math.min(K-Ye,He);switch(xe){case 0:for(dt=0;dt<ot;dt++)Re[Ye+dt]|=ze[dt];break;case 2:for(dt=0;dt<ot;dt++)Re[Ye+dt]^=ze[dt];break;default:throw new e(`operator ${xe} is not supported`)}}Be+=Ze-1}else{for(dt=0;dt<Ze;dt++)if(Re=Oe[Ye+dt],!!Re)switch(ze=Ge[dt],xe){case 0:for(it=0;it<He;it++)Re[je+it]|=ze[it];break;case 2:for(it=0;it<He;it++)Re[je+it]^=ze[it];break;default:throw new e(`operator ${xe} is not supported`)}Be+=He-1}Fe++;const lt=ce?ye.tableDeltaS.decode(Ee):B(Pe,"IADS",Ne);if(lt===null)break;Be+=lt+ge}while(!0)}return Oe}function q(ce,se,K,ee,ie,oe){const le=[];ce||(le.push({x:-se,y:0}),ie===0&&le.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const pe=(ee+1)*se,fe=y(ce,pe,K,ie,!1,null,le,oe),ue=[];for(let ge=0;ge<=ee;ge++){const he=[],xe=se*ge,ye=xe+se;for(let ve=0;ve<K;ve++)he.push(fe[ve].subarray(xe,ye));ue.push(he)}return ue}function F(ce,se,K,ee,ie,oe,le,pe,fe,ue,ge,he,xe,ye,ve){if(le)throw new e("skip is not supported");if(pe!==0)throw new e(`operator "${pe}" is not supported in halftone region`);const Se=[];let be,Ee,Oe;for(be=0;be<ie;be++){if(Oe=new Uint8Array(ee),oe)for(Ee=0;Ee<ee;Ee++)Oe[Ee]=oe;Se.push(Oe)}const Fe=se.length,Re=se[0],Ne=Re[0].length,Pe=Re.length,Ie=(0,c.log2)(Fe),Me=[];ce||(Me.push({x:K<=1?3:2,y:-1}),K===0&&Me.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const Te=[];let Le,Be;for(ce&&(Le=new Q(ve.data,ve.start,ve.end)),be=Ie-1;be>=0;be--)ce?Be=X(Le,fe,ue,!0):Be=y(!1,fe,ue,K,!1,null,Me,ve),Te[be]=Be;let Ae,we,Ce,De,Ge,He,Ze,Ye,je;for(Ae=0;Ae<ue;Ae++)for(we=0;we<fe;we++){for(Ce=0,De=0,Ee=Ie-1;Ee>=0;Ee--)Ce^=Te[Ee][Ae][we],De|=Ce<<Ee;if(Ge=se[De],He=ge+Ae*ye+we*xe>>8,Ze=he+Ae*xe-we*ye>>8,He>=0&&He+Ne<=ee&&Ze>=0&&Ze+Pe<=ie)for(be=0;be<Pe;be++)for(je=Se[Ze+be],Ye=Ge[be],Ee=0;Ee<Ne;Ee++)je[He+Ee]|=Ye[Ee];else{let it,dt;for(be=0;be<Pe;be++)if(dt=Ze+be,!(dt<0||dt>=ie))for(je=Se[dt],Ye=Ge[be],Ee=0;Ee<Ne;Ee++)it=He+Ee,it>=0&&it<ee&&(je[it]|=Ye[Ee])}}return Se}function G(ce,se){const K={};K.number=(0,c.readUint32)(ce,se);const ee=ce[se+4],ie=ee&63;if(!v[ie])throw new e("invalid segment type: "+ie);K.type=ie,K.typeName=v[ie],K.deferredNonRetain=!!(ee&128);const oe=!!(ee&64),le=ce[se+5];let pe=le>>5&7;const fe=[le&31];let ue=se+6;if(le===7){pe=(0,c.readUint32)(ce,ue-1)&536870911,ue+=3;let ve=pe+7>>3;for(fe[0]=ce[ue++];--ve>0;)fe.push(ce[ue++])}else if(le===5||le===6)throw new e("invalid referred-to flags");K.retainBits=fe;let ge=4;K.number<=256?ge=1:K.number<=65536&&(ge=2);const he=[];let xe,ye;for(xe=0;xe<pe;xe++){let ve;ge===1?ve=ce[ue]:ge===2?ve=(0,c.readUint16)(ce,ue):ve=(0,c.readUint32)(ce,ue),he.push(ve),ue+=ge}if(K.referredTo=he,oe?(K.pageAssociation=(0,c.readUint32)(ce,ue),ue+=4):K.pageAssociation=ce[ue++],K.length=(0,c.readUint32)(ce,ue),ue+=4,K.length===4294967295)if(ie===38){const ve=I(ce,ue),Se=!!(ce[ue+L]&1),be=6,Ee=new Uint8Array(be);for(Se||(Ee[0]=255,Ee[1]=172),Ee[2]=ve.height>>>24&255,Ee[3]=ve.height>>16&255,Ee[4]=ve.height>>8&255,Ee[5]=ve.height&255,xe=ue,ye=ce.length;xe<ye;xe++){let Oe=0;for(;Oe<be&&Ee[Oe]===ce[xe+Oe];)Oe++;if(Oe===be){K.length=xe+be;break}}if(K.length===4294967295)throw new e("segment end was not found")}else throw new e("invalid unknown segment length");return K.headerEnd=ue,K}function R(ce,se,K,ee){const ie=[];let oe=K;for(;oe<ee;){const le=G(se,oe);oe=le.headerEnd;const pe={header:le,data:se};if(ce.randomAccess||(pe.start=oe,oe+=le.length,pe.end=oe),ie.push(pe),le.type===51)break}if(ce.randomAccess)for(let le=0,pe=ie.length;le<pe;le++)ie[le].start=oe,oe+=ie[le].header.length,ie[le].end=oe;return ie}function I(ce,se){return{width:(0,c.readUint32)(ce,se),height:(0,c.readUint32)(ce,se+4),x:(0,c.readUint32)(ce,se+8),y:(0,c.readUint32)(ce,se+12),combinationOperator:ce[se+16]&7}}const L=17;function x(ce,se){const K=ce.header,ee=ce.data,ie=ce.end;let oe=ce.start,le,pe,fe,ue;switch(K.type){case 0:const he={},xe=(0,c.readUint16)(ee,oe);if(he.huffman=!!(xe&1),he.refinement=!!(xe&2),he.huffmanDHSelector=xe>>2&3,he.huffmanDWSelector=xe>>4&3,he.bitmapSizeSelector=xe>>6&1,he.aggregationInstancesSelector=xe>>7&1,he.bitmapCodingContextUsed=!!(xe&256),he.bitmapCodingContextRetained=!!(xe&512),he.template=xe>>10&3,he.refinementTemplate=xe>>12&1,oe+=2,!he.huffman){for(ue=he.template===0?4:1,pe=[],fe=0;fe<ue;fe++)pe.push({x:(0,c.readInt8)(ee,oe),y:(0,c.readInt8)(ee,oe+1)}),oe+=2;he.at=pe}if(he.refinement&&!he.refinementTemplate){for(pe=[],fe=0;fe<2;fe++)pe.push({x:(0,c.readInt8)(ee,oe),y:(0,c.readInt8)(ee,oe+1)}),oe+=2;he.refinementAt=pe}he.numberOfExportedSymbols=(0,c.readUint32)(ee,oe),oe+=4,he.numberOfNewSymbols=(0,c.readUint32)(ee,oe),oe+=4,le=[he,K.number,K.referredTo,ee,oe,ie];break;case 6:case 7:const ye={};ye.info=I(ee,oe),oe+=L;const ve=(0,c.readUint16)(ee,oe);if(oe+=2,ye.huffman=!!(ve&1),ye.refinement=!!(ve&2),ye.logStripSize=ve>>2&3,ye.stripSize=1<<ye.logStripSize,ye.referenceCorner=ve>>4&3,ye.transposed=!!(ve&64),ye.combinationOperator=ve>>7&3,ye.defaultPixelValue=ve>>9&1,ye.dsOffset=ve<<17>>27,ye.refinementTemplate=ve>>15&1,ye.huffman){const Pe=(0,c.readUint16)(ee,oe);oe+=2,ye.huffmanFS=Pe&3,ye.huffmanDS=Pe>>2&3,ye.huffmanDT=Pe>>4&3,ye.huffmanRefinementDW=Pe>>6&3,ye.huffmanRefinementDH=Pe>>8&3,ye.huffmanRefinementDX=Pe>>10&3,ye.huffmanRefinementDY=Pe>>12&3,ye.huffmanRefinementSizeSelector=!!(Pe&16384)}if(ye.refinement&&!ye.refinementTemplate){for(pe=[],fe=0;fe<2;fe++)pe.push({x:(0,c.readInt8)(ee,oe),y:(0,c.readInt8)(ee,oe+1)}),oe+=2;ye.refinementAt=pe}ye.numberOfSymbolInstances=(0,c.readUint32)(ee,oe),oe+=4,le=[ye,K.referredTo,ee,oe,ie];break;case 16:const ke={},Se=ee[oe++];ke.mmr=!!(Se&1),ke.template=Se>>1&3,ke.patternWidth=ee[oe++],ke.patternHeight=ee[oe++],ke.maxPatternIndex=(0,c.readUint32)(ee,oe),oe+=4,le=[ke,K.number,ee,oe,ie];break;case 22:case 23:const be={};be.info=I(ee,oe),oe+=L;const Ee=ee[oe++];be.mmr=!!(Ee&1),be.template=Ee>>1&3,be.enableSkip=!!(Ee&8),be.combinationOperator=Ee>>4&7,be.defaultPixelValue=Ee>>7&1,be.gridWidth=(0,c.readUint32)(ee,oe),oe+=4,be.gridHeight=(0,c.readUint32)(ee,oe),oe+=4,be.gridOffsetX=(0,c.readUint32)(ee,oe)&4294967295,oe+=4,be.gridOffsetY=(0,c.readUint32)(ee,oe)&4294967295,oe+=4,be.gridVectorX=(0,c.readUint16)(ee,oe),oe+=2,be.gridVectorY=(0,c.readUint16)(ee,oe),oe+=2,le=[be,K.referredTo,ee,oe,ie];break;case 38:case 39:const Oe={};Oe.info=I(ee,oe),oe+=L;const Fe=ee[oe++];if(Oe.mmr=!!(Fe&1),Oe.template=Fe>>1&3,Oe.prediction=!!(Fe&8),!Oe.mmr){for(ue=Oe.template===0?4:1,pe=[],fe=0;fe<ue;fe++)pe.push({x:(0,c.readInt8)(ee,oe),y:(0,c.readInt8)(ee,oe+1)}),oe+=2;Oe.at=pe}le=[Oe,ee,oe,ie];break;case 48:const Re={width:(0,c.readUint32)(ee,oe),height:(0,c.readUint32)(ee,oe+4),resolutionX:(0,c.readUint32)(ee,oe+8),resolutionY:(0,c.readUint32)(ee,oe+12)};Re.height===4294967295&&delete Re.height;const Ne=ee[oe+16];(0,c.readUint16)(ee,oe+17),Re.lossless=!!(Ne&1),Re.refinement=!!(Ne&2),Re.defaultPixelValue=Ne>>2&1,Re.combinationOperator=Ne>>3&3,Re.requiresBuffer=!!(Ne&32),Re.combinationOperatorOverride=!!(Ne&64),le=[Re];break;case 49:break;case 50:break;case 51:break;case 53:le=[K.number,ee,oe,ie];break;case 62:break;default:throw new e(`segment type ${K.typeName}(${K.type}) is not implemented`)}const ge="on"+K.typeName;ge in se&&se[ge].apply(se,le)}function S(ce,se){for(let K=0,ee=ce.length;K<ee;K++)x(ce[K],se)}function W(ce){const se=new U;for(let K=0,ee=ce.length;K<ee;K++){const ie=ce[K],oe=R({},ie.data,ie.start,ie.end);S(oe,se)}return se.buffer}class U{onPageInformation(se){this.currentPageInfo=se;const K=se.width+7>>3,ee=new Uint8ClampedArray(K*se.height);se.defaultPixelValue&&ee.fill(255),this.buffer=ee}drawBitmap(se,K){const ee=this.currentPageInfo,ie=se.width,oe=se.height,le=ee.width+7>>3,pe=ee.combinationOperatorOverride?se.combinationOperator:ee.combinationOperator,fe=this.buffer,ue=128>>(se.x&7);let ge=se.y*le+(se.x>>3),he,xe,ye,ve;switch(pe){case 0:for(he=0;he<oe;he++){for(ye=ue,ve=ge,xe=0;xe<ie;xe++)K[he][xe]&&(fe[ve]|=ye),ye>>=1,ye||(ye=128,ve++);ge+=le}break;case 2:for(he=0;he<oe;he++){for(ye=ue,ve=ge,xe=0;xe<ie;xe++)K[he][xe]&&(fe[ve]^=ye),ye>>=1,ye||(ye=128,ve++);ge+=le}break;default:throw new e(`operator ${pe} is not supported`)}}onImmediateGenericRegion(se,K,ee,ie){const oe=se.info,le=new A(K,ee,ie),pe=y(se.mmr,oe.width,oe.height,se.template,se.prediction,null,se.at,le);this.drawBitmap(oe,pe)}onImmediateLosslessGenericRegion(){this.onImmediateGenericRegion(...arguments)}onSymbolDictionary(se,K,ee,ie,oe,le){let pe,fe;se.huffman&&(pe=te(se,ee,this.customTables),fe=new Q(ie,oe,le));let ue=this.symbols;ue||(this.symbols=ue={});const ge=[];for(const xe of ee){const ye=ue[xe];ye&&ge.push(...ye)}const he=new A(ie,oe,le);ue[K]=w(se.huffman,se.refinement,ge,se.numberOfNewSymbols,se.numberOfExportedSymbols,pe,se.template,se.at,se.refinementTemplate,se.refinementAt,he,fe)}onImmediateTextRegion(se,K,ee,ie,oe){const le=se.info;let pe,fe;const ue=this.symbols,ge=[];for(const ve of K){const ke=ue[ve];ke&&ge.push(...ke)}const he=(0,c.log2)(ge.length);se.huffman&&(fe=new Q(ee,ie,oe),pe=Y(se,K,this.customTables,ge.length,fe));const xe=new A(ee,ie,oe),ye=M(se.huffman,se.refinement,le.width,le.height,se.defaultPixelValue,se.numberOfSymbolInstances,se.stripSize,ge,he,se.transposed,se.dsOffset,se.referenceCorner,se.combinationOperator,pe,se.refinementTemplate,se.refinementAt,xe,se.logStripSize,fe);this.drawBitmap(le,ye)}onImmediateLosslessTextRegion(){this.onImmediateTextRegion(...arguments)}onPatternDictionary(se,K,ee,ie,oe){let le=this.patterns;le||(this.patterns=le={});const pe=new A(ee,ie,oe);le[K]=q(se.mmr,se.patternWidth,se.patternHeight,se.maxPatternIndex,se.template,pe)}onImmediateHalftoneRegion(se,K,ee,ie,oe){const le=this.patterns[K[0]],pe=se.info,fe=new A(ee,ie,oe),ue=F(se.mmr,le,se.template,pe.width,pe.height,se.defaultPixelValue,se.enableSkip,se.combinationOperator,se.gridWidth,se.gridHeight,se.gridOffsetX,se.gridOffsetY,se.gridVectorX,se.gridVectorY,fe);this.drawBitmap(pe,ue)}onImmediateLosslessHalftoneRegion(){this.onImmediateHalftoneRegion(...arguments)}onTables(se,K,ee,ie){let oe=this.customTables;oe||(this.customTables=oe={}),oe[se]=k(K,ee,ie)}}class z{constructor(se){se.length===2?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=se[0],this.rangeLength=0,this.prefixCode=se[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=se[0],this.prefixLength=se[1],this.rangeLength=se[2],this.prefixCode=se[3],this.isLowerRange=se[4]==="lower")}}class re{constructor(se){this.children=[],se?(this.isLeaf=!0,this.rangeLength=se.rangeLength,this.rangeLow=se.rangeLow,this.isLowerRange=se.isLowerRange,this.isOOB=se.isOOB):this.isLeaf=!1}buildTree(se,K){const ee=se.prefixCode>>K&1;if(K<=0)this.children[ee]=new re(se);else{let ie=this.children[ee];ie||(this.children[ee]=ie=new re(null)),ie.buildTree(se,K-1)}}decodeNode(se){if(this.isLeaf){if(this.isOOB)return null;const ee=se.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-ee:ee)}const K=this.children[se.readBit()];if(!K)throw new e("invalid Huffman data");return K.decodeNode(se)}}class J{constructor(se,K){K||this.assignPrefixCodes(se),this.rootNode=new re(null);for(let ee=0,ie=se.length;ee<ie;ee++){const oe=se[ee];oe.prefixLength>0&&this.rootNode.buildTree(oe,oe.prefixLength-1)}}decode(se){return this.rootNode.decodeNode(se)}assignPrefixCodes(se){const K=se.length;let ee=0;for(let ge=0;ge<K;ge++)ee=Math.max(ee,se[ge].prefixLength);const ie=new Uint32Array(ee+1);for(let ge=0;ge<K;ge++)ie[se[ge].prefixLength]++;let oe=1,le=0,pe,fe,ue;for(ie[0]=0;oe<=ee;){for(le=le+ie[oe-1]<<1,pe=le,fe=0;fe<K;)ue=se[fe],ue.prefixLength===oe&&(ue.prefixCode=pe,pe++),fe++;oe++}}}function k(ce,se,K){const ee=ce[se],ie=(0,c.readUint32)(ce,se+1)&4294967295,oe=(0,c.readUint32)(ce,se+5)&4294967295,le=new Q(ce,se+9,K),pe=(ee>>1&7)+1,fe=(ee>>4&7)+1,ue=[];let ge,he,xe=ie;do ge=le.readBits(pe),he=le.readBits(fe),ue.push(new z([xe,ge,he,0])),xe+=1<<he;while(xe<oe);return ge=le.readBits(pe),ue.push(new z([ie-1,ge,32,0,"lower"])),ge=le.readBits(pe),ue.push(new z([oe,ge,32,0])),ee&1&&(ge=le.readBits(pe),ue.push(new z([ge,0]))),new J(ue,!1)}const H={};function Z(ce){let se=H[ce];if(se)return se;let K;switch(ce){case 1:K=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:K=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:K=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:K=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:K=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:K=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:K=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:K=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:K=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:K=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:K=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:K=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:K=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:K=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:K=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new e(`standard table B.${ce} does not exist`)}for(let ee=0,ie=K.length;ee<ie;ee++)K[ee]=new z(K[ee]);return se=new J(K,!0),H[ce]=se,se}class Q{constructor(se,K,ee){this.data=se,this.start=K,this.end=ee,this.position=K,this.shift=-1,this.currentByte=0}readBit(){if(this.shift<0){if(this.position>=this.end)throw new e("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}const se=this.currentByte>>this.shift&1;return this.shift--,se}readBits(se){let K=0,ee;for(ee=se-1;ee>=0;ee--)K|=this.readBit()<<ee;return K}byteAlign(){this.shift=-1}next(){return this.position>=this.end?-1:this.data[this.position++]}}function V(ce,se,K){let ee=0;for(let ie=0,oe=se.length;ie<oe;ie++){const le=K[se[ie]];if(le){if(ce===ee)return le;ee++}}throw new e("can't find custom Huffman table")}function Y(ce,se,K,ee,ie){const oe=[];for(let xe=0;xe<=34;xe++){const ye=ie.readBits(4);oe.push(new z([xe,ye,0,0]))}const le=new J(oe,!1);oe.length=0;for(let xe=0;xe<ee;){const ye=le.decode(ie);if(ye>=32){let ve,ke,Se;switch(ye){case 32:if(xe===0)throw new e("no previous value in symbol ID table");ke=ie.readBits(2)+3,ve=oe[xe-1].prefixLength;break;case 33:ke=ie.readBits(3)+3,ve=0;break;case 34:ke=ie.readBits(7)+11,ve=0;break;default:throw new e("invalid code length in symbol ID table")}for(Se=0;Se<ke;Se++)oe.push(new z([xe,ve,0,0])),xe++}else oe.push(new z([xe,ye,0,0])),xe++}ie.byteAlign();const pe=new J(oe,!1);let fe=0,ue,ge,he;switch(ce.huffmanFS){case 0:case 1:ue=Z(ce.huffmanFS+6);break;case 3:ue=V(fe,se,K),fe++;break;default:throw new e("invalid Huffman FS selector")}switch(ce.huffmanDS){case 0:case 1:case 2:ge=Z(ce.huffmanDS+8);break;case 3:ge=V(fe,se,K),fe++;break;default:throw new e("invalid Huffman DS selector")}switch(ce.huffmanDT){case 0:case 1:case 2:he=Z(ce.huffmanDT+11);break;case 3:he=V(fe,se,K),fe++;break;default:throw new e("invalid Huffman DT selector")}if(ce.refinement)throw new e("refinement with Huffman is not supported");return{symbolIDTable:pe,tableFirstS:ue,tableDeltaS:ge,tableDeltaT:he}}function te(ce,se,K){let ee=0,ie,oe;switch(ce.huffmanDHSelector){case 0:case 1:ie=Z(ce.huffmanDHSelector+4);break;case 3:ie=V(ee,se,K),ee++;break;default:throw new e("invalid Huffman DH selector")}switch(ce.huffmanDWSelector){case 0:case 1:oe=Z(ce.huffmanDWSelector+2);break;case 3:oe=V(ee,se,K),ee++;break;default:throw new e("invalid Huffman DW selector")}let le,pe;return ce.bitmapSizeSelector?(le=V(ee,se,K),ee++):le=Z(1),ce.aggregationInstancesSelector?pe=V(ee,se,K):pe=Z(1),{tableDeltaHeight:ie,tableDeltaWidth:oe,tableBitmapSize:le,tableAggregateInstances:pe}}function $(ce,se,K){const ee=[];for(let ie=0;ie<K;ie++){const oe=new Uint8Array(se);ee.push(oe);for(let le=0;le<se;le++)oe[le]=ce.readBit();ce.byteAlign()}return ee}function X(ce,se,K,ee){const ie={K:-1,Columns:se,Rows:K,BlackIs1:!0,EndOfBlock:ee},oe=new m.CCITTFaxDecoder(ce,ie),le=[];let pe,fe=!1;for(let ue=0;ue<K;ue++){const ge=new Uint8Array(se);le.push(ge);let he=-1;for(let xe=0;xe<se;xe++)he<0&&(pe=oe.readNextChar(),pe===-1&&(pe=0,fe=!0),he=7),ge[xe]=pe>>he&1,he--}if(ee&&!fe)for(let ge=0;ge<5&&oe.readNextChar()!==-1;ge++);return le}class ne{parseChunks(se){return W(se)}parse(se){throw new Error("Not implemented: Jbig2Image.parse")}}s.Jbig2Image=ne},(d,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ArithmeticDecoder=void 0;const u=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];class n{constructor(C,m,e){this.data=C,this.bp=m,this.dataEnd=e,this.chigh=C[m],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}byteIn(){const C=this.data;let m=this.bp;C[m]===255?C[m+1]>143?(this.clow+=65280,this.ct=8):(m++,this.clow+=C[m]<<9,this.ct=7,this.bp=m):(m++,this.clow+=m<this.dataEnd?C[m]<<8:65280,this.ct=8,this.bp=m),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)}readBit(C,m){let e=C[m]>>1,E=C[m]&1;const A=u[e],B=A.qe;let O,v=this.a-B;if(this.chigh<B)v<B?(v=B,O=E,e=A.nmps):(v=B,O=1^E,A.switchFlag===1&&(E=O),e=A.nlps);else{if(this.chigh-=B,(v&32768)!==0)return this.a=v,E;v<B?(O=1^E,A.switchFlag===1&&(E=O),e=A.nlps):(O=E,e=A.nmps)}do this.ct===0&&this.byteIn(),v<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--;while((v&32768)===0);return this.a=v,C[m]=e<<1|E,O}}s.ArithmeticDecoder=n},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.JpegStream=void 0;var n=u(144),c=u(130),C=u(153),m=u(2);class e extends n.DecodeStream{constructor(A,B,O){let v;for(;(v=A.getByte())!==-1;)if(v===255){A.skip(-1);break}super(B),this.stream=A,this.dict=A.dict,this.maybeLength=B,this.params=O}get bytes(){return(0,m.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(A){}readBlock(){if(this.eof)return;const A={decodeTransform:void 0,colorTransform:void 0},B=this.dict.getArray("D","Decode");if(this.forceRGB&&Array.isArray(B)){const b=this.dict.get("BPC","BitsPerComponent")||8,o=B.length,T=new Int32Array(o);let D=!1;const _=(1<<b)-1;for(let y=0;y<o;y+=2)T[y]=(B[y+1]-B[y])*256|0,T[y+1]=B[y]*_|0,(T[y]!==256||T[y+1]!==0)&&(D=!0);D&&(A.decodeTransform=T)}if(this.params instanceof c.Dict){const b=this.params.get("ColorTransform");Number.isInteger(b)&&(A.colorTransform=b)}const O=new C.JpegImage(A);O.parse(this.bytes);const v=O.getData({width:this.drawWidth,height:this.drawHeight,forceRGB:this.forceRGB,isSourcePDF:!0});this.buffer=v,this.bufferLength=v.length,this.eof=!0}}s.JpegStream=e},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.JpegImage=void 0;var n=u(2),c=u(131);class C extends n.BaseException{constructor(R){super(`JPEG error: ${R}`,"JpegError")}}class m extends n.BaseException{constructor(R,I){super(R,"DNLMarkerError"),this.scanLines=I}}class e extends n.BaseException{constructor(R){super(R,"EOIMarkerError")}}const E=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),A=4017,B=799,O=3406,v=2276,b=1567,o=3784,T=5793,D=2896;function _(G,R){let I=0,L,x,S=16;for(;S>0&&!G[S-1];)S--;const W=[{children:[],index:0}];let U=W[0],z;for(L=0;L<S;L++){for(x=0;x<G[L];x++){for(U=W.pop(),U.children[U.index]=R[I];U.index>0;)U=W.pop();for(U.index++,W.push(U);W.length<=L;)W.push(z={children:[],index:0}),U.children[U.index]=z.children,U=z;I++}L+1<S&&(W.push(z={children:[],index:0}),U.children[U.index]=z.children,U=z)}return W[0].children}function y(G,R,I){return 64*((G.blocksPerLine+1)*R+I)}function P(G,R,I,L,x,S,W,U,z){let re=arguments.length>9&&arguments[9]!==void 0?arguments[9]:!1;const J=I.mcusPerLine,k=I.progressive,H=R;let Z=0,Q=0;function V(){if(Q>0)return Q--,Z>>Q&1;if(Z=G[R++],Z===255){const Re=G[R++];if(Re){if(Re===220&&re){R+=2;const Ne=(0,c.readUint16)(G,R);if(R+=2,Ne>0&&Ne!==I.scanLines)throw new m("Found DNL marker (0xFFDC) while parsing scan data",Ne)}else if(Re===217){if(re){const Ne=le*(I.precision===8?8:0);if(Ne>0&&Math.round(I.scanLines/Ne)>=10)throw new m("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",Ne)}throw new e("Found EOI marker (0xFFD9) while parsing scan data")}throw new C(`unexpected marker ${(Z<<8|Re).toString(16)}`)}}return Q=7,Z>>>7}function Y(Re){let Ne=Re;for(;;){switch(Ne=Ne[V()],typeof Ne){case"number":return Ne;case"object":continue}throw new C("invalid huffman sequence")}}function te(Re){let Ne=0;for(;Re>0;)Ne=Ne<<1|V(),Re--;return Ne}function $(Re){if(Re===1)return V()===1?1:-1;const Ne=te(Re);return Ne>=1<<Re-1?Ne:Ne+(-1<<Re)+1}function X(Re,Ne){const Pe=Y(Re.huffmanTableDC),Ie=Pe===0?0:$(Pe);Re.blockData[Ne]=Re.pred+=Ie;let Me=1;for(;Me<64;){const Te=Y(Re.huffmanTableAC),Le=Te&15,Be=Te>>4;if(Le===0){if(Be<15)break;Me+=16;continue}Me+=Be;const Ae=E[Me];Re.blockData[Ne+Ae]=$(Le),Me++}}function ne(Re,Ne){const Pe=Y(Re.huffmanTableDC),Ie=Pe===0?0:$(Pe)<<z;Re.blockData[Ne]=Re.pred+=Ie}function ce(Re,Ne){Re.blockData[Ne]|=V()<<z}let se=0;function K(Re,Ne){if(se>0){se--;return}let Pe=S;const Ie=W;for(;Pe<=Ie;){const Me=Y(Re.huffmanTableAC),Te=Me&15,Le=Me>>4;if(Te===0){if(Le<15){se=te(Le)+(1<<Le)-1;break}Pe+=16;continue}Pe+=Le;const Be=E[Pe];Re.blockData[Ne+Be]=$(Te)*(1<<z),Pe++}}let ee=0,ie;function oe(Re,Ne){let Pe=S;const Ie=W;let Me=0,Te,Le;for(;Pe<=Ie;){const Be=Ne+E[Pe],Ae=Re.blockData[Be]<0?-1:1;switch(ee){case 0:if(Le=Y(Re.huffmanTableAC),Te=Le&15,Me=Le>>4,Te===0)Me<15?(se=te(Me)+(1<<Me),ee=4):(Me=16,ee=1);else{if(Te!==1)throw new C("invalid ACn encoding");ie=$(Te),ee=Me?2:3}continue;case 1:case 2:Re.blockData[Be]?Re.blockData[Be]+=Ae*(V()<<z):(Me--,Me===0&&(ee=ee===2?3:0));break;case 3:Re.blockData[Be]?Re.blockData[Be]+=Ae*(V()<<z):(Re.blockData[Be]=ie<<z,ee=0);break;case 4:Re.blockData[Be]&&(Re.blockData[Be]+=Ae*(V()<<z));break}Pe++}ee===4&&(se--,se===0&&(ee=0))}let le=0;function pe(Re,Ne,Pe,Ie,Me){const Te=Pe/J|0,Le=Pe%J;le=Te*Re.v+Ie;const Be=Le*Re.h+Me,Ae=y(Re,le,Be);Ne(Re,Ae)}function fe(Re,Ne,Pe){le=Pe/Re.blocksPerLine|0;const Ie=Pe%Re.blocksPerLine,Me=y(Re,le,Ie);Ne(Re,Me)}const ue=L.length;let ge,he,xe,ye,ve,ke;k?S===0?ke=U===0?ne:ce:ke=U===0?K:oe:ke=X;let Se=0,be,Ee;ue===1?Ee=L[0].blocksPerLine*L[0].blocksPerColumn:Ee=J*I.mcusPerColumn;let Oe,Fe;for(;Se<=Ee;){const Re=x?Math.min(Ee-Se,x):Ee;if(Re>0){for(he=0;he<ue;he++)L[he].pred=0;if(se=0,ue===1)for(ge=L[0],ve=0;ve<Re;ve++)fe(ge,ke,Se),Se++;else for(ve=0;ve<Re;ve++){for(he=0;he<ue;he++)for(ge=L[he],Oe=ge.h,Fe=ge.v,xe=0;xe<Fe;xe++)for(ye=0;ye<Oe;ye++)pe(ge,ke,Se,xe,ye);Se++}}if(Q=0,be=q(G,R),!be)break;if(be.invalid){const Ne=Re>0?"unexpected":"excessive";(0,n.warn)(`decodeScan - ${Ne} MCU data, current marker is: ${be.invalid}`),R=be.offset}if(be.marker>=65488&&be.marker<=65495)R+=2;else break}return R-H}function w(G,R,I){const L=G.quantizationTable,x=G.blockData;let S,W,U,z,re,J,k,H,Z,Q,V,Y,te,$,X,ne,ce;if(!L)throw new C("missing required Quantization Table.");for(let se=0;se<64;se+=8){if(Z=x[R+se],Q=x[R+se+1],V=x[R+se+2],Y=x[R+se+3],te=x[R+se+4],$=x[R+se+5],X=x[R+se+6],ne=x[R+se+7],Z*=L[se],(Q|V|Y|te|$|X|ne)===0){ce=T*Z+512>>10,I[se]=ce,I[se+1]=ce,I[se+2]=ce,I[se+3]=ce,I[se+4]=ce,I[se+5]=ce,I[se+6]=ce,I[se+7]=ce;continue}Q*=L[se+1],V*=L[se+2],Y*=L[se+3],te*=L[se+4],$*=L[se+5],X*=L[se+6],ne*=L[se+7],S=T*Z+128>>8,W=T*te+128>>8,U=V,z=X,re=D*(Q-ne)+128>>8,H=D*(Q+ne)+128>>8,J=Y<<4,k=$<<4,S=S+W+1>>1,W=S-W,ce=U*o+z*b+128>>8,U=U*b-z*o+128>>8,z=ce,re=re+k+1>>1,k=re-k,H=H+J+1>>1,J=H-J,S=S+z+1>>1,z=S-z,W=W+U+1>>1,U=W-U,ce=re*v+H*O+2048>>12,re=re*O-H*v+2048>>12,H=ce,ce=J*B+k*A+2048>>12,J=J*A-k*B+2048>>12,k=ce,I[se]=S+H,I[se+7]=S-H,I[se+1]=W+k,I[se+6]=W-k,I[se+2]=U+J,I[se+5]=U-J,I[se+3]=z+re,I[se+4]=z-re}for(let se=0;se<8;++se){if(Z=I[se],Q=I[se+8],V=I[se+16],Y=I[se+24],te=I[se+32],$=I[se+40],X=I[se+48],ne=I[se+56],(Q|V|Y|te|$|X|ne)===0){ce=T*Z+8192>>14,ce<-2040?ce=0:ce>=2024?ce=255:ce=ce+2056>>4,x[R+se]=ce,x[R+se+8]=ce,x[R+se+16]=ce,x[R+se+24]=ce,x[R+se+32]=ce,x[R+se+40]=ce,x[R+se+48]=ce,x[R+se+56]=ce;continue}S=T*Z+2048>>12,W=T*te+2048>>12,U=V,z=X,re=D*(Q-ne)+2048>>12,H=D*(Q+ne)+2048>>12,J=Y,k=$,S=(S+W+1>>1)+4112,W=S-W,ce=U*o+z*b+2048>>12,U=U*b-z*o+2048>>12,z=ce,re=re+k+1>>1,k=re-k,H=H+J+1>>1,J=H-J,S=S+z+1>>1,z=S-z,W=W+U+1>>1,U=W-U,ce=re*v+H*O+2048>>12,re=re*O-H*v+2048>>12,H=ce,ce=J*B+k*A+2048>>12,J=J*A-k*B+2048>>12,k=ce,Z=S+H,ne=S-H,Q=W+k,X=W-k,V=U+J,$=U-J,Y=z+re,te=z-re,Z<16?Z=0:Z>=4080?Z=255:Z>>=4,Q<16?Q=0:Q>=4080?Q=255:Q>>=4,V<16?V=0:V>=4080?V=255:V>>=4,Y<16?Y=0:Y>=4080?Y=255:Y>>=4,te<16?te=0:te>=4080?te=255:te>>=4,$<16?$=0:$>=4080?$=255:$>>=4,X<16?X=0:X>=4080?X=255:X>>=4,ne<16?ne=0:ne>=4080?ne=255:ne>>=4,x[R+se]=Z,x[R+se+8]=Q,x[R+se+16]=V,x[R+se+24]=Y,x[R+se+32]=te,x[R+se+40]=$,x[R+se+48]=X,x[R+se+56]=ne}}function M(G,R){const I=R.blocksPerLine,L=R.blocksPerColumn,x=new Int16Array(64);for(let S=0;S<L;S++)for(let W=0;W<I;W++){const U=y(R,S,W);w(R,U,x)}return R.blockData}function q(G,R){let I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:R;const L=G.length-1;let x=I<R?I:R;if(R>=L)return null;const S=(0,c.readUint16)(G,R);if(S>=65472&&S<=65534)return{invalid:null,marker:S,offset:R};let W=(0,c.readUint16)(G,x);for(;!(W>=65472&&W<=65534);){if(++x>=L)return null;W=(0,c.readUint16)(G,x)}return{invalid:S.toString(16),marker:W,offset:x}}class F{constructor(){let{decodeTransform:R=null,colorTransform:I=-1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._decodeTransform=R,this._colorTransform=I}parse(R){let{dnlScanLines:I=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};function L(){const V=(0,c.readUint16)(R,S);S+=2;let Y=S+V-2;const te=q(R,Y,S);te&&te.invalid&&((0,n.warn)("readDataBlock - incorrect length, current marker is: "+te.invalid),Y=te.offset);const $=R.subarray(S,Y);return S+=$.length,$}function x(V){const Y=Math.ceil(V.samplesPerLine/8/V.maxH),te=Math.ceil(V.scanLines/8/V.maxV);for(let $=0,X=V.components.length;$<X;$++){const ne=V.components[$],ce=Math.ceil(Math.ceil(V.samplesPerLine/8)*ne.h/V.maxH),se=Math.ceil(Math.ceil(V.scanLines/8)*ne.v/V.maxV),K=Y*ne.h,ie=64*(te*ne.v)*(K+1);ne.blockData=new Int16Array(ie),ne.blocksPerLine=ce,ne.blocksPerColumn=se}V.mcusPerLine=Y,V.mcusPerColumn=te}let S=0,W=null,U=null,z,re,J=0;const k=[],H=[],Z=[];let Q=(0,c.readUint16)(R,S);if(S+=2,Q!==65496)throw new C("SOI not found");Q=(0,c.readUint16)(R,S),S+=2;e:for(;Q!==65497;){let V,Y,te;switch(Q){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:const $=L();Q===65504&&$[0]===74&&$[1]===70&&$[2]===73&&$[3]===70&&$[4]===0&&(W={version:{major:$[5],minor:$[6]},densityUnits:$[7],xDensity:$[8]<<8|$[9],yDensity:$[10]<<8|$[11],thumbWidth:$[12],thumbHeight:$[13],thumbData:$.subarray(14,14+3*$[12]*$[13])}),Q===65518&&$[0]===65&&$[1]===100&&$[2]===111&&$[3]===98&&$[4]===101&&(U={version:$[5]<<8|$[6],flags0:$[7]<<8|$[8],flags1:$[9]<<8|$[10],transformCode:$[11]});break;case 65499:const X=(0,c.readUint16)(R,S);S+=2;const ne=X+S-2;let ce;for(;S<ne;){const ye=R[S++],ve=new Uint16Array(64);if(ye>>4===0)for(Y=0;Y<64;Y++)ce=E[Y],ve[ce]=R[S++];else if(ye>>4===1)for(Y=0;Y<64;Y++)ce=E[Y],ve[ce]=(0,c.readUint16)(R,S),S+=2;else throw new C("DQT - invalid table spec");k[ye&15]=ve}break;case 65472:case 65473:case 65474:if(z)throw new C("Only single frame JPEGs supported");S+=2,z={},z.extended=Q===65473,z.progressive=Q===65474,z.precision=R[S++];const se=(0,c.readUint16)(R,S);S+=2,z.scanLines=I||se,z.samplesPerLine=(0,c.readUint16)(R,S),S+=2,z.components=[],z.componentIds={};const K=R[S++];let ee=0,ie=0;for(V=0;V<K;V++){const ye=R[S],ve=R[S+1]>>4,ke=R[S+1]&15;ee<ve&&(ee=ve),ie<ke&&(ie=ke);const Se=R[S+2];te=z.components.push({h:ve,v:ke,quantizationId:Se,quantizationTable:null}),z.componentIds[ye]=te-1,S+=3}z.maxH=ee,z.maxV=ie,x(z);break;case 65476:const oe=(0,c.readUint16)(R,S);for(S+=2,V=2;V<oe;){const ye=R[S++],ve=new Uint8Array(16);let ke=0;for(Y=0;Y<16;Y++,S++)ke+=ve[Y]=R[S];const Se=new Uint8Array(ke);for(Y=0;Y<ke;Y++,S++)Se[Y]=R[S];V+=17+ke,(ye>>4===0?Z:H)[ye&15]=_(ve,Se)}break;case 65501:S+=2,re=(0,c.readUint16)(R,S),S+=2;break;case 65498:const le=++J===1&&!I;S+=2;const pe=R[S++],fe=[];for(V=0;V<pe;V++){const ye=R[S++],ve=z.componentIds[ye],ke=z.components[ve];ke.index=ye;const Se=R[S++];ke.huffmanTableDC=Z[Se>>4],ke.huffmanTableAC=H[Se&15],fe.push(ke)}const ue=R[S++],ge=R[S++],he=R[S++];try{const ye=P(R,S,z,fe,re,ue,ge,he>>4,he&15,le);S+=ye}catch(ye){if(ye instanceof m)return(0,n.warn)(`${ye.message} -- attempting to re-parse the JPEG image.`),this.parse(R,{dnlScanLines:ye.scanLines});if(ye instanceof e){(0,n.warn)(`${ye.message} -- ignoring the rest of the image data.`);break e}throw ye}break;case 65500:S+=4;break;case 65535:R[S]!==255&&S--;break;default:const xe=q(R,S-2,S-3);if(xe&&xe.invalid){(0,n.warn)("JpegImage.parse - unexpected data, current marker is: "+xe.invalid),S=xe.offset;break}if(!xe||S>=R.length-1){(0,n.warn)("JpegImage.parse - reached the end of the image data without finding an EOI marker (0xFFD9).");break e}throw new C("JpegImage.parse - unknown marker: "+Q.toString(16))}Q=(0,c.readUint16)(R,S),S+=2}this.width=z.samplesPerLine,this.height=z.scanLines,this.jfif=W,this.adobe=U,this.components=[];for(let V=0,Y=z.components.length;V<Y;V++){const te=z.components[V],$=k[te.quantizationId];$&&(te.quantizationTable=$),this.components.push({index:te.index,output:M(z,te),scaleX:te.h/z.maxH,scaleY:te.v/z.maxV,blocksPerLine:te.blocksPerLine,blocksPerColumn:te.blocksPerColumn})}this.numComponents=this.components.length}_getLinearizedBlockData(R,I){let L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const x=this.width/R,S=this.height/I;let W,U,z,re,J,k,H,Z,Q,V,Y=0,te;const $=this.components.length,X=R*I*$,ne=new Uint8ClampedArray(X),ce=new Uint32Array(R),se=4294967288;let K;for(H=0;H<$;H++){if(W=this.components[H],U=W.scaleX*x,z=W.scaleY*S,Y=H,te=W.output,re=W.blocksPerLine+1<<3,U!==K){for(J=0;J<R;J++)Z=0|J*U,ce[J]=(Z&se)<<3|Z&7;K=U}for(k=0;k<I;k++)for(Z=0|k*z,V=re*(Z&se)|(Z&7)<<3,J=0;J<R;J++)ne[Y]=te[V+ce[J]],Y+=$}let ee=this._decodeTransform;if(!L&&$===4&&!ee&&(ee=new Int32Array([-256,255,-256,255,-256,255,-256,255])),ee)for(H=0;H<X;)for(Z=0,Q=0;Z<$;Z++,H++,Q+=2)ne[H]=(ne[H]*ee[Q]>>8)+ee[Q+1];return ne}get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:this.numComponents===3?this._colorTransform===0?!1:!(this.components[0].index===82&&this.components[1].index===71&&this.components[2].index===66):this._colorTransform===1}_convertYccToRgb(R){let I,L,x;for(let S=0,W=R.length;S<W;S+=3)I=R[S],L=R[S+1],x=R[S+2],R[S]=I-179.456+1.402*x,R[S+1]=I+135.459-.344*L-.714*x,R[S+2]=I-226.816+1.772*L;return R}_convertYcckToRgb(R){let I,L,x,S,W=0;for(let U=0,z=R.length;U<z;U+=4)I=R[U],L=R[U+1],x=R[U+2],S=R[U+3],R[W++]=-122.67195406894+L*(-660635669420364e-19*L+.000437130475926232*x-54080610064599e-18*I+.00048449797120281*S-.154362151871126)+x*(-.000957964378445773*x+.000817076911346625*I-.00477271405408747*S+1.53380253221734)+I*(.000961250184130688*I-.00266257332283933*S+.48357088451265)+S*(-.000336197177618394*S+.484791561490776),R[W++]=107.268039397724+L*(219927104525741e-19*L-.000640992018297945*x+.000659397001245577*I+.000426105652938837*S-.176491792462875)+x*(-.000778269941513683*x+.00130872261408275*I+.000770482631801132*S-.151051492775562)+I*(.00126935368114843*I-.00265090189010898*S+.25802910206845)+S*(-.000318913117588328*S-.213742400323665),R[W++]=-20.810012546947+L*(-.000570115196973677*L-263409051004589e-19*x+.0020741088115012*I-.00288260236853442*S+.814272968359295)+x*(-153496057440975e-19*x-.000132689043961446*I+.000560833691242812*S-.195152027534049)+I*(.00174418132927582*I-.00255243321439347*S+.116935020465145)+S*(-.000343531996510555*S+.24165260232407);return R.subarray(0,W)}_convertYcckToCmyk(R){let I,L,x;for(let S=0,W=R.length;S<W;S+=4)I=R[S],L=R[S+1],x=R[S+2],R[S]=434.456-I-1.402*x,R[S+1]=119.541-I+.344*L+.714*x,R[S+2]=481.816-I-1.772*L;return R}_convertCmykToRgb(R){let I,L,x,S,W=0;for(let U=0,z=R.length;U<z;U+=4)I=R[U],L=R[U+1],x=R[U+2],S=R[U+3],R[W++]=255+I*(-6747147073602441e-20*I+.0008379262121013727*L+.0002894718188643294*x+.003264231057537806*S-1.1185611867203937)+L*(26374107616089405e-21*L-8626949158638572e-20*x-.0002748769067499491*S-.02155688794978967)+x*(-3878099212869363e-20*x-.0003267808279485286*S+.0686742238595345)-S*(.0003361971776183937*S+.7430659151342254),R[W++]=255+I*(.00013596372813588848*I+.000924537132573585*L+.00010567359618683593*x+.0004791864687436512*S-.3109689587515875)+L*(-.00023545346108370344*L+.0002702845253534714*x+.0020200308977307156*S-.7488052167015494)+x*(6834815998235662e-20*x+.00015168452363460973*S-.09751927774728933)-S*(.0003189131175883281*S+.7364883807733168),R[W++]=255+I*(13598650411385307e-21*I+.00012423956175490851*L+.0004751985097583589*x-36729317476630422e-22*S-.05562186980264034)+L*(.00016141380598724676*L+.0009692239130725186*x+.0007782692450036253*S-.44015232367526463)+x*(5068882914068769e-22*x+.0017778369011375071*S-.7591454649749609)-S*(.0003435319965105553*S+.7063770186160144);return R.subarray(0,W)}getData(R){let{width:I,height:L,forceRGB:x=!1,isSourcePDF:S=!1}=R;if(this.numComponents>4)throw new C("Unsupported color mode");const W=this._getLinearizedBlockData(I,L,S);if(this.numComponents===1&&x){const U=W.length,z=new Uint8ClampedArray(U*3);let re=0;for(let J=0;J<U;J++){const k=W[J];z[re++]=k,z[re++]=k,z[re++]=k}return z}else{if(this.numComponents===3&&this._isColorConversionNeeded)return this._convertYccToRgb(W);if(this.numComponents===4){if(this._isColorConversionNeeded)return x?this._convertYcckToRgb(W):this._convertYcckToCmyk(W);if(x)return this._convertCmykToRgb(W)}}return W}}s.JpegImage=F},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.JpxStream=void 0;var n=u(144),c=u(155),C=u(2);class m extends n.DecodeStream{constructor(E,A,B){super(A),this.stream=E,this.dict=E.dict,this.maybeLength=A,this.params=B}get bytes(){return(0,C.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(E){}readBlock(){if(this.eof)return;const E=new c.JpxImage;E.parse(this.bytes);const A=E.width,B=E.height,O=E.componentsCount,v=E.tiles.length;if(v===1)this.buffer=E.tiles[0].items;else{const b=new Uint8ClampedArray(A*B*O);for(let o=0;o<v;o++){const T=E.tiles[o],D=T.width,_=T.height,y=T.left,P=T.top,w=T.items;let M=0,q=(A*P+y)*O;const F=A*O,G=D*O;for(let R=0;R<_;R++){const I=w.subarray(M,M+G);b.set(I,q),M+=G,q+=F}}this.buffer=b}this.bufferLength=this.buffer.length,this.eof=!0}}s.JpxStream=m},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.JpxImage=void 0;var n=u(2),c=u(131),C=u(151);class m extends n.BaseException{constructor(k){super(`JPX error: ${k}`,"JpxError")}}const e={LL:0,LH:1,HL:1,HH:2};class E{constructor(){this.failOnCorruptedImage=!1}parse(k){if((0,c.readUint16)(k,0)===65359){this.parseCodestream(k,0,k.length);return}const Z=k.length;let Q=0;for(;Q<Z;){let V=8,Y=(0,c.readUint32)(k,Q);const te=(0,c.readUint32)(k,Q+4);if(Q+=V,Y===1&&(Y=(0,c.readUint32)(k,Q)*4294967296+(0,c.readUint32)(k,Q+4),Q+=8,V+=8),Y===0&&(Y=Z-Q+V),Y<V)throw new m("Invalid box field size");const $=Y-V;let X=!0;switch(te){case 1785737832:X=!1;break;case 1668246642:const ne=k[Q];if(ne===1){const se=(0,c.readUint32)(k,Q+3);switch(se){case 16:case 17:case 18:break;default:(0,n.warn)("Unknown colorspace "+se);break}}else ne===2&&(0,n.info)("ICC profile not supported");break;case 1785737827:this.parseCodestream(k,Q,Q+$);break;case 1783636e3:(0,c.readUint32)(k,Q)!==218793738&&(0,n.warn)("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:const ce=String.fromCharCode(te>>24&255,te>>16&255,te>>8&255,te&255);(0,n.warn)(`Unsupported header type ${te} (${ce}).`);break}X&&(Q+=$)}}parseImageProperties(k){let H=k.getByte();for(;H>=0;){const Z=H;if(H=k.getByte(),(Z<<8|H)===65361){k.skip(4);const V=k.getInt32()>>>0,Y=k.getInt32()>>>0,te=k.getInt32()>>>0,$=k.getInt32()>>>0;k.skip(16);const X=k.getUint16();this.width=V-te,this.height=Y-$,this.componentsCount=X,this.bitsPerComponent=8;return}}throw new m("No size marker found in JPX stream")}parseCodestream(k,H,Z){const Q={};let V=!1;try{let Y=H;for(;Y+1<Z;){const te=(0,c.readUint16)(k,Y);Y+=2;let $=0,X,ne,ce,se,K,ee;switch(te){case 65359:Q.mainHeader=!0;break;case 65497:break;case 65361:$=(0,c.readUint16)(k,Y);const ie={};ie.Xsiz=(0,c.readUint32)(k,Y+4),ie.Ysiz=(0,c.readUint32)(k,Y+8),ie.XOsiz=(0,c.readUint32)(k,Y+12),ie.YOsiz=(0,c.readUint32)(k,Y+16),ie.XTsiz=(0,c.readUint32)(k,Y+20),ie.YTsiz=(0,c.readUint32)(k,Y+24),ie.XTOsiz=(0,c.readUint32)(k,Y+28),ie.YTOsiz=(0,c.readUint32)(k,Y+32);const oe=(0,c.readUint16)(k,Y+36);ie.Csiz=oe;const le=[];X=Y+38;for(let ve=0;ve<oe;ve++){const ke={precision:(k[X]&127)+1,isSigned:!!(k[X]&128),XRsiz:k[X+1],YRsiz:k[X+2]};X+=3,A(ke,ie),le.push(ke)}Q.SIZ=ie,Q.components=le,B(Q,le),Q.QCC=[],Q.COC=[];break;case 65372:$=(0,c.readUint16)(k,Y);const pe={};switch(X=Y+2,ne=k[X++],ne&31){case 0:se=8,K=!0;break;case 1:se=16,K=!1;break;case 2:se=16,K=!0;break;default:throw new Error("Invalid SQcd value "+ne)}for(pe.noQuantization=se===8,pe.scalarExpounded=K,pe.guardBits=ne>>5,ce=[];X<$+Y;){const ve={};se===8?(ve.epsilon=k[X++]>>3,ve.mu=0):(ve.epsilon=k[X]>>3,ve.mu=(k[X]&7)<<8|k[X+1],X+=2),ce.push(ve)}pe.SPqcds=ce,Q.mainHeader?Q.QCD=pe:(Q.currentTile.QCD=pe,Q.currentTile.QCC=[]);break;case 65373:$=(0,c.readUint16)(k,Y);const fe={};X=Y+2;let ue;switch(Q.SIZ.Csiz<257?ue=k[X++]:(ue=(0,c.readUint16)(k,X),X+=2),ne=k[X++],ne&31){case 0:se=8,K=!0;break;case 1:se=16,K=!1;break;case 2:se=16,K=!0;break;default:throw new Error("Invalid SQcd value "+ne)}for(fe.noQuantization=se===8,fe.scalarExpounded=K,fe.guardBits=ne>>5,ce=[];X<$+Y;){const ve={};se===8?(ve.epsilon=k[X++]>>3,ve.mu=0):(ve.epsilon=k[X]>>3,ve.mu=(k[X]&7)<<8|k[X+1],X+=2),ce.push(ve)}fe.SPqcds=ce,Q.mainHeader?Q.QCC[ue]=fe:Q.currentTile.QCC[ue]=fe;break;case 65362:$=(0,c.readUint16)(k,Y);const ge={};X=Y+2;const he=k[X++];ge.entropyCoderWithCustomPrecincts=!!(he&1),ge.sopMarkerUsed=!!(he&2),ge.ephMarkerUsed=!!(he&4),ge.progressionOrder=k[X++],ge.layersCount=(0,c.readUint16)(k,X),X+=2,ge.multipleComponentTransform=k[X++],ge.decompositionLevelsCount=k[X++],ge.xcb=(k[X++]&15)+2,ge.ycb=(k[X++]&15)+2;const xe=k[X++];if(ge.selectiveArithmeticCodingBypass=!!(xe&1),ge.resetContextProbabilities=!!(xe&2),ge.terminationOnEachCodingPass=!!(xe&4),ge.verticallyStripe=!!(xe&8),ge.predictableTermination=!!(xe&16),ge.segmentationSymbolUsed=!!(xe&32),ge.reversibleTransformation=k[X++],ge.entropyCoderWithCustomPrecincts){const ve=[];for(;X<$+Y;){const ke=k[X++];ve.push({PPx:ke&15,PPy:ke>>4})}ge.precinctsSizes=ve}const ye=[];ge.selectiveArithmeticCodingBypass&&ye.push("selectiveArithmeticCodingBypass"),ge.terminationOnEachCodingPass&&ye.push("terminationOnEachCodingPass"),ge.verticallyStripe&&ye.push("verticallyStripe"),ge.predictableTermination&&ye.push("predictableTermination"),ye.length>0&&(V=!0,(0,n.warn)(`JPX: Unsupported COD options (${ye.join(", ")}).`)),Q.mainHeader?Q.COD=ge:(Q.currentTile.COD=ge,Q.currentTile.COC=[]);break;case 65424:$=(0,c.readUint16)(k,Y),ee={},ee.index=(0,c.readUint16)(k,Y+2),ee.length=(0,c.readUint32)(k,Y+4),ee.dataEnd=ee.length+Y-2,ee.partIndex=k[Y+8],ee.partsCount=k[Y+9],Q.mainHeader=!1,ee.partIndex===0&&(ee.COD=Q.COD,ee.COC=Q.COC.slice(0),ee.QCD=Q.QCD,ee.QCC=Q.QCC.slice(0)),Q.currentTile=ee;break;case 65427:ee=Q.currentTile,ee.partIndex===0&&(L(Q,ee.index),q(Q)),$=ee.dataEnd-Y,F(Q,k,Y,$);break;case 65363:(0,n.warn)("JPX: Codestream code 0xFF53 (COC) is not implemented.");case 65365:case 65367:case 65368:case 65380:$=(0,c.readUint16)(k,Y);break;default:throw new Error("Unknown codestream code: "+te.toString(16))}Y+=$}}catch(Y){if(V||this.failOnCorruptedImage)throw new m(Y.message);(0,n.warn)(`JPX: Trying to recover from: "${Y.message}".`)}this.tiles=I(Q),this.width=Q.SIZ.Xsiz-Q.SIZ.XOsiz,this.height=Q.SIZ.Ysiz-Q.SIZ.YOsiz,this.componentsCount=Q.SIZ.Csiz}}s.JpxImage=E;function A(J,k){J.x0=Math.ceil(k.XOsiz/J.XRsiz),J.x1=Math.ceil(k.Xsiz/J.XRsiz),J.y0=Math.ceil(k.YOsiz/J.YRsiz),J.y1=Math.ceil(k.Ysiz/J.YRsiz),J.width=J.x1-J.x0,J.height=J.y1-J.y0}function B(J,k){const H=J.SIZ,Z=[];let Q;const V=Math.ceil((H.Xsiz-H.XTOsiz)/H.XTsiz),Y=Math.ceil((H.Ysiz-H.YTOsiz)/H.YTsiz);for(let $=0;$<Y;$++)for(let X=0;X<V;X++)Q={},Q.tx0=Math.max(H.XTOsiz+X*H.XTsiz,H.XOsiz),Q.ty0=Math.max(H.YTOsiz+$*H.YTsiz,H.YOsiz),Q.tx1=Math.min(H.XTOsiz+(X+1)*H.XTsiz,H.Xsiz),Q.ty1=Math.min(H.YTOsiz+($+1)*H.YTsiz,H.Ysiz),Q.width=Q.tx1-Q.tx0,Q.height=Q.ty1-Q.ty0,Q.components=[],Z.push(Q);J.tiles=Z;const te=H.Csiz;for(let $=0,X=te;$<X;$++){const ne=k[$];for(let ce=0,se=Z.length;ce<se;ce++){const K={};Q=Z[ce],K.tcx0=Math.ceil(Q.tx0/ne.XRsiz),K.tcy0=Math.ceil(Q.ty0/ne.YRsiz),K.tcx1=Math.ceil(Q.tx1/ne.XRsiz),K.tcy1=Math.ceil(Q.ty1/ne.YRsiz),K.width=K.tcx1-K.tcx0,K.height=K.tcy1-K.tcy0,Q.components[$]=K}}}function O(J,k,H){const Z=k.codingStyleParameters,Q={};return Z.entropyCoderWithCustomPrecincts?(Q.PPx=Z.precinctsSizes[H].PPx,Q.PPy=Z.precinctsSizes[H].PPy):(Q.PPx=15,Q.PPy=15),Q.xcb_=H>0?Math.min(Z.xcb,Q.PPx-1):Math.min(Z.xcb,Q.PPx),Q.ycb_=H>0?Math.min(Z.ycb,Q.PPy-1):Math.min(Z.ycb,Q.PPy),Q}function v(J,k,H){const Z=1<<H.PPx,Q=1<<H.PPy,V=k.resLevel===0,Y=1<<H.PPx+(V?0:-1),te=1<<H.PPy+(V?0:-1),$=k.trx1>k.trx0?Math.ceil(k.trx1/Z)-Math.floor(k.trx0/Z):0,X=k.try1>k.try0?Math.ceil(k.try1/Q)-Math.floor(k.try0/Q):0,ne=$*X;k.precinctParameters={precinctWidth:Z,precinctHeight:Q,numprecinctswide:$,numprecinctshigh:X,numprecincts:ne,precinctWidthInSubband:Y,precinctHeightInSubband:te}}function b(J,k,H){const Z=H.xcb_,Q=H.ycb_,V=1<<Z,Y=1<<Q,te=k.tbx0>>Z,$=k.tby0>>Q,X=k.tbx1+V-1>>Z,ne=k.tby1+Y-1>>Q,ce=k.resolution.precinctParameters,se=[],K=[];let ee,ie,oe,le;for(ie=$;ie<ne;ie++)for(ee=te;ee<X;ee++){oe={cbx:ee,cby:ie,tbx0:V*ee,tby0:Y*ie,tbx1:V*(ee+1),tby1:Y*(ie+1)},oe.tbx0_=Math.max(k.tbx0,oe.tbx0),oe.tby0_=Math.max(k.tby0,oe.tby0),oe.tbx1_=Math.min(k.tbx1,oe.tbx1),oe.tby1_=Math.min(k.tby1,oe.tby1);const pe=Math.floor((oe.tbx0_-k.tbx0)/ce.precinctWidthInSubband),fe=Math.floor((oe.tby0_-k.tby0)/ce.precinctHeightInSubband);if(le=pe+fe*ce.numprecinctswide,oe.precinctNumber=le,oe.subbandType=k.type,oe.Lblock=3,oe.tbx1_<=oe.tbx0_||oe.tby1_<=oe.tby0_)continue;se.push(oe);let ue=K[le];ue!==void 0?(ee<ue.cbxMin?ue.cbxMin=ee:ee>ue.cbxMax&&(ue.cbxMax=ee),ie<ue.cbyMin?ue.cbxMin=ie:ie>ue.cbyMax&&(ue.cbyMax=ie)):K[le]=ue={cbxMin:ee,cbyMin:ie,cbxMax:ee,cbyMax:ie},oe.precinct=ue}k.codeblockParameters={codeblockWidth:Z,codeblockHeight:Q,numcodeblockwide:X-te+1,numcodeblockhigh:ne-$+1},k.codeblocks=se,k.precincts=K}function o(J,k,H){const Z=[],Q=J.subbands;for(let V=0,Y=Q.length;V<Y;V++){const $=Q[V].codeblocks;for(let X=0,ne=$.length;X<ne;X++){const ce=$[X];ce.precinctNumber===k&&Z.push(ce)}}return{layerNumber:H,codeblocks:Z}}function T(J){const k=J.SIZ,H=J.currentTile.index,Z=J.tiles[H],Q=Z.codingStyleDefaultParameters.layersCount,V=k.Csiz;let Y=0;for(let ce=0;ce<V;ce++)Y=Math.max(Y,Z.components[ce].codingStyleParameters.decompositionLevelsCount);let te=0,$=0,X=0,ne=0;this.nextPacket=function(){for(;te<Q;te++){for(;$<=Y;$++){for(;X<V;X++){const se=Z.components[X];if($>se.codingStyleParameters.decompositionLevelsCount)continue;const K=se.resolutions[$],ee=K.precinctParameters.numprecincts;for(;ne<ee;){const ie=o(K,ne,te);return ne++,ie}ne=0}X=0}$=0}throw new m("Out of packets")}}function D(J){const k=J.SIZ,H=J.currentTile.index,Z=J.tiles[H],Q=Z.codingStyleDefaultParameters.layersCount,V=k.Csiz;let Y=0;for(let ce=0;ce<V;ce++)Y=Math.max(Y,Z.components[ce].codingStyleParameters.decompositionLevelsCount);let te=0,$=0,X=0,ne=0;this.nextPacket=function(){for(;te<=Y;te++){for(;$<Q;$++){for(;X<V;X++){const se=Z.components[X];if(te>se.codingStyleParameters.decompositionLevelsCount)continue;const K=se.resolutions[te],ee=K.precinctParameters.numprecincts;for(;ne<ee;){const ie=o(K,ne,$);return ne++,ie}ne=0}X=0}$=0}throw new m("Out of packets")}}function _(J){const k=J.SIZ,H=J.currentTile.index,Z=J.tiles[H],Q=Z.codingStyleDefaultParameters.layersCount,V=k.Csiz;let Y,te,$,X,ne=0;for($=0;$<V;$++){const se=Z.components[$];ne=Math.max(ne,se.codingStyleParameters.decompositionLevelsCount)}const ce=new Int32Array(ne+1);for(te=0;te<=ne;++te){let se=0;for($=0;$<V;++$){const K=Z.components[$].resolutions;te<K.length&&(se=Math.max(se,K[te].precinctParameters.numprecincts))}ce[te]=se}Y=0,te=0,$=0,X=0,this.nextPacket=function(){for(;te<=ne;te++){for(;X<ce[te];X++){for(;$<V;$++){const K=Z.components[$];if(te>K.codingStyleParameters.decompositionLevelsCount)continue;const ee=K.resolutions[te],ie=ee.precinctParameters.numprecincts;if(!(X>=ie)){for(;Y<Q;){const oe=o(ee,X,Y);return Y++,oe}Y=0}}$=0}X=0}throw new m("Out of packets")}}function y(J){const k=J.SIZ,H=J.currentTile.index,Z=J.tiles[H],Q=Z.codingStyleDefaultParameters.layersCount,V=k.Csiz,Y=M(Z),te=Y;let $=0,X=0,ne=0,ce=0,se=0;this.nextPacket=function(){for(;se<te.maxNumHigh;se++){for(;ce<te.maxNumWide;ce++){for(;ne<V;ne++){const ee=Z.components[ne],ie=ee.codingStyleParameters.decompositionLevelsCount;for(;X<=ie;X++){const oe=ee.resolutions[X],le=Y.components[ne].resolutions[X],pe=w(ce,se,le,te,oe);if(pe!==null){for(;$<Q;){const fe=o(oe,pe,$);return $++,fe}$=0}}X=0}ne=0}ce=0}throw new m("Out of packets")}}function P(J){const k=J.SIZ,H=J.currentTile.index,Z=J.tiles[H],Q=Z.codingStyleDefaultParameters.layersCount,V=k.Csiz,Y=M(Z);let te=0,$=0,X=0,ne=0,ce=0;this.nextPacket=function(){for(;X<V;++X){const K=Z.components[X],ee=Y.components[X],ie=K.codingStyleParameters.decompositionLevelsCount;for(;ce<ee.maxNumHigh;ce++){for(;ne<ee.maxNumWide;ne++){for(;$<=ie;$++){const oe=K.resolutions[$],le=ee.resolutions[$],pe=w(ne,ce,le,ee,oe);if(pe!==null){for(;te<Q;){const fe=o(oe,pe,te);return te++,fe}te=0}}$=0}ne=0}ce=0}throw new m("Out of packets")}}function w(J,k,H,Z,Q){const V=J*Z.minWidth,Y=k*Z.minHeight;if(V%H.width!==0||Y%H.height!==0)return null;const te=Y/H.width*Q.precinctParameters.numprecinctswide;return V/H.height+te}function M(J){const k=J.components.length;let H=Number.MAX_VALUE,Z=Number.MAX_VALUE,Q=0,V=0;const Y=new Array(k);for(let te=0;te<k;te++){const $=J.components[te],X=$.codingStyleParameters.decompositionLevelsCount,ne=new Array(X+1);let ce=Number.MAX_VALUE,se=Number.MAX_VALUE,K=0,ee=0,ie=1;for(let oe=X;oe>=0;--oe){const le=$.resolutions[oe],pe=ie*le.precinctParameters.precinctWidth,fe=ie*le.precinctParameters.precinctHeight;ce=Math.min(ce,pe),se=Math.min(se,fe),K=Math.max(K,le.precinctParameters.numprecinctswide),ee=Math.max(ee,le.precinctParameters.numprecinctshigh),ne[oe]={width:pe,height:fe},ie<<=1}H=Math.min(H,ce),Z=Math.min(Z,se),Q=Math.max(Q,K),V=Math.max(V,ee),Y[te]={resolutions:ne,minWidth:ce,minHeight:se,maxNumWide:K,maxNumHigh:ee}}return{components:Y,minWidth:H,minHeight:Z,maxNumWide:Q,maxNumHigh:V}}function q(J){const k=J.SIZ,H=J.currentTile.index,Z=J.tiles[H],Q=k.Csiz;for(let Y=0;Y<Q;Y++){const te=Z.components[Y],$=te.codingStyleParameters.decompositionLevelsCount,X=[],ne=[];for(let ce=0;ce<=$;ce++){const se=O(J,te,ce),K={},ee=1<<$-ce;K.trx0=Math.ceil(te.tcx0/ee),K.try0=Math.ceil(te.tcy0/ee),K.trx1=Math.ceil(te.tcx1/ee),K.try1=Math.ceil(te.tcy1/ee),K.resLevel=ce,v(J,K,se),X.push(K);let ie;if(ce===0)ie={},ie.type="LL",ie.tbx0=Math.ceil(te.tcx0/ee),ie.tby0=Math.ceil(te.tcy0/ee),ie.tbx1=Math.ceil(te.tcx1/ee),ie.tby1=Math.ceil(te.tcy1/ee),ie.resolution=K,b(J,ie,se),ne.push(ie),K.subbands=[ie];else{const oe=1<<$-ce+1,le=[];ie={},ie.type="HL",ie.tbx0=Math.ceil(te.tcx0/oe-.5),ie.tby0=Math.ceil(te.tcy0/oe),ie.tbx1=Math.ceil(te.tcx1/oe-.5),ie.tby1=Math.ceil(te.tcy1/oe),ie.resolution=K,b(J,ie,se),ne.push(ie),le.push(ie),ie={},ie.type="LH",ie.tbx0=Math.ceil(te.tcx0/oe),ie.tby0=Math.ceil(te.tcy0/oe-.5),ie.tbx1=Math.ceil(te.tcx1/oe),ie.tby1=Math.ceil(te.tcy1/oe-.5),ie.resolution=K,b(J,ie,se),ne.push(ie),le.push(ie),ie={},ie.type="HH",ie.tbx0=Math.ceil(te.tcx0/oe-.5),ie.tby0=Math.ceil(te.tcy0/oe-.5),ie.tbx1=Math.ceil(te.tcx1/oe-.5),ie.tby1=Math.ceil(te.tcy1/oe-.5),ie.resolution=K,b(J,ie,se),ne.push(ie),le.push(ie),K.subbands=le}}te.resolutions=X,te.subbands=ne}const V=Z.codingStyleDefaultParameters.progressionOrder;switch(V){case 0:Z.packetsIterator=new T(J);break;case 1:Z.packetsIterator=new D(J);break;case 2:Z.packetsIterator=new _(J);break;case 3:Z.packetsIterator=new y(J);break;case 4:Z.packetsIterator=new P(J);break;default:throw new m(`Unsupported progression order ${V}`)}}function F(J,k,H,Z){let Q=0,V,Y=0,te=!1;function $(pe){for(;Y<pe;){const fe=k[H+Q];Q++,te?(V=V<<7|fe,Y+=7,te=!1):(V=V<<8|fe,Y+=8),fe===255&&(te=!0)}return Y-=pe,V>>>Y&(1<<pe)-1}function X(pe){return k[H+Q-1]===255&&k[H+Q]===pe?(ne(1),!0):k[H+Q]===255&&k[H+Q+1]===pe?(ne(2),!0):!1}function ne(pe){Q+=pe}function ce(){Y=0,te&&(Q++,te=!1)}function se(){if($(1)===0)return 1;if($(1)===0)return 2;let pe=$(2);return pe<3?pe+3:(pe=$(5),pe<31?pe+6:(pe=$(7),pe+37))}const K=J.currentTile.index,ee=J.tiles[K],ie=J.COD.sopMarkerUsed,oe=J.COD.ephMarkerUsed,le=ee.packetsIterator;for(;Q<Z;){ce(),ie&&X(145)&&ne(4);const pe=le.nextPacket();if(!$(1))continue;const fe=pe.layerNumber,ue=[];let ge;for(let he=0,xe=pe.codeblocks.length;he<xe;he++){ge=pe.codeblocks[he];let ye=ge.precinct;const ve=ge.cbx-ye.cbxMin,ke=ge.cby-ye.cbyMin;let Se=!1,be=!1,Ee,Oe;if(ge.included!==void 0)Se=!!$(1);else{ye=ge.precinct;let Ie;if(ye.inclusionTree!==void 0)Ie=ye.inclusionTree;else{const Me=ye.cbxMax-ye.cbxMin+1,Te=ye.cbyMax-ye.cbyMin+1;Ie=new S(Me,Te,fe),Oe=new x(Me,Te),ye.inclusionTree=Ie,ye.zeroBitPlanesTree=Oe;for(let Le=0;Le<fe;Le++)if($(1)!==0)throw new m("Invalid tag tree")}if(Ie.reset(ve,ke,fe))for(;;)if($(1)){if(Ee=!Ie.nextLevel(),Ee){ge.included=!0,Se=be=!0;break}}else{Ie.incrementValue(fe);break}}if(!Se)continue;if(be){for(Oe=ye.zeroBitPlanesTree,Oe.reset(ve,ke);;)if($(1)){if(Ee=!Oe.nextLevel(),Ee)break}else Oe.incrementValue();ge.zeroBitPlanes=Oe.value}const Fe=se();for(;$(1);)ge.Lblock++;const Re=(0,c.log2)(Fe),Ne=(Fe<1<<Re?Re-1:Re)+ge.Lblock,Pe=$(Ne);ue.push({codeblock:ge,codingpasses:Fe,dataLength:Pe})}for(ce(),oe&&X(146);ue.length>0;){const he=ue.shift();ge=he.codeblock,ge.data===void 0&&(ge.data=[]),ge.data.push({data:k,start:H+Q,end:H+Q+he.dataLength,codingpasses:he.codingpasses}),Q+=he.dataLength}}return Q}function G(J,k,H,Z,Q,V,Y,te,$){const X=Z.tbx0,ne=Z.tby0,ce=Z.tbx1-Z.tbx0,se=Z.codeblocks,K=Z.type.charAt(0)==="H"?1:0,ee=Z.type.charAt(1)==="H"?k:0;for(let ie=0,oe=se.length;ie<oe;++ie){const le=se[ie],pe=le.tbx1_-le.tbx0_,fe=le.tby1_-le.tby0_;if(pe===0||fe===0||le.data===void 0)continue;const ue=new W(pe,fe,le.subbandType,le.zeroBitPlanes,V);let ge=2;const he=le.data;let xe=0,ye=0,ve,ke,Se;for(ve=0,ke=he.length;ve<ke;ve++)Se=he[ve],xe+=Se.end-Se.start,ye+=Se.codingpasses;const be=new Uint8Array(xe);let Ee=0;for(ve=0,ke=he.length;ve<ke;ve++){Se=he[ve];const Ae=Se.data.subarray(Se.start,Se.end);be.set(Ae,Ee),Ee+=Ae.length}const Oe=new C.ArithmeticDecoder(be,0,xe);for(ue.setDecoder(Oe),ve=0;ve<ye;ve++){switch(ge){case 0:ue.runSignificancePropagationPass();break;case 1:ue.runMagnitudeRefinementPass();break;case 2:ue.runCleanupPass(),te&&ue.checkSegmentationSymbol();break}$&&ue.reset(),ge=(ge+1)%3}let Fe=le.tbx0_-X+(le.tby0_-ne)*ce;const Re=ue.coefficentsSign,Ne=ue.coefficentsMagnitude,Pe=ue.bitsDecoded,Ie=Y?0:.5;let Me,Te,Le;Ee=0;const Be=Z.type!=="LL";for(ve=0;ve<fe;ve++){const we=2*(Fe/ce|0)*(k-ce)+K+ee;for(Me=0;Me<pe;Me++){if(Te=Ne[Ee],Te!==0){Te=(Te+Ie)*Q,Re[Ee]!==0&&(Te=-Te),Le=Pe[Ee];const Ce=Be?we+(Fe<<1):Fe;Y&&Le>=V?J[Ce]=Te:J[Ce]=Te*(1<<V-Le)}Fe++,Ee++}Fe+=ce-pe}}}function R(J,k,H){const Z=k.components[H],Q=Z.codingStyleParameters,V=Z.quantizationParameters,Y=Q.decompositionLevelsCount,te=V.SPqcds,$=V.scalarExpounded,X=V.guardBits,ne=Q.segmentationSymbolUsed,ce=Q.resetContextProbabilities,se=J.components[H].precision,K=Q.reversibleTransformation,ee=K?new re:new z,ie=[];let oe=0;for(let pe=0;pe<=Y;pe++){const fe=Z.resolutions[pe],ue=fe.trx1-fe.trx0,ge=fe.try1-fe.try0,he=new Float32Array(ue*ge);for(let xe=0,ye=fe.subbands.length;xe<ye;xe++){let ve,ke;$?(ve=te[oe].mu,ke=te[oe].epsilon,oe++):(ve=te[0].mu,ke=te[0].epsilon+(pe>0?1-pe:0));const Se=fe.subbands[xe],be=e[Se.type],Ee=K?1:2**(se+be-ke)*(1+ve/2048),Oe=X+ke-1;G(he,ue,ge,Se,Ee,Oe,K,ne,ce)}ie.push({width:ue,height:ge,items:he})}const le=ee.calculate(ie,Z.tcx0,Z.tcy0);return{left:Z.tcx0,top:Z.tcy0,width:le.width,height:le.height,items:le.items}}function I(J){const k=J.SIZ,H=J.components,Z=k.Csiz,Q=[];for(let V=0,Y=J.tiles.length;V<Y;V++){const te=J.tiles[V],$=[];for(let ue=0;ue<Z;ue++)$[ue]=R(J,te,ue);const X=$[0],ne=new Uint8ClampedArray(X.items.length*Z),ce={left:X.left,top:X.top,width:X.width,height:X.height,items:ne};let se,K,ee=0,ie,oe,le,pe,fe;if(te.codingStyleDefaultParameters.multipleComponentTransform){const ue=Z===4,ge=$[0].items,he=$[1].items,xe=$[2].items,ye=ue?$[3].items:null;se=H[0].precision-8,K=(128<<se)+.5;const ve=te.components[0],ke=Z-3;if(oe=ge.length,ve.codingStyleParameters.reversibleTransformation)for(ie=0;ie<oe;ie++,ee+=ke){le=ge[ie]+K,pe=he[ie],fe=xe[ie];const Se=le-(fe+pe>>2);ne[ee++]=Se+fe>>se,ne[ee++]=Se>>se,ne[ee++]=Se+pe>>se}else for(ie=0;ie<oe;ie++,ee+=ke)le=ge[ie]+K,pe=he[ie],fe=xe[ie],ne[ee++]=le+1.402*fe>>se,ne[ee++]=le-.34413*pe-.71414*fe>>se,ne[ee++]=le+1.772*pe>>se;if(ue)for(ie=0,ee=3;ie<oe;ie++,ee+=4)ne[ee]=ye[ie]+K>>se}else for(let ue=0;ue<Z;ue++){const ge=$[ue].items;for(se=H[ue].precision-8,K=(128<<se)+.5,ee=ue,ie=0,oe=ge.length;ie<oe;ie++)ne[ee]=ge[ie]+K>>se,ee+=Z}Q.push(ce)}return Q}function L(J,k){const Z=J.SIZ.Csiz,Q=J.tiles[k];for(let V=0;V<Z;V++){const Y=Q.components[V],te=J.currentTile.QCC[V]!==void 0?J.currentTile.QCC[V]:J.currentTile.QCD;Y.quantizationParameters=te;const $=J.currentTile.COC[V]!==void 0?J.currentTile.COC[V]:J.currentTile.COD;Y.codingStyleParameters=$}Q.codingStyleDefaultParameters=J.currentTile.COD}class x{constructor(k,H){const Z=(0,c.log2)(Math.max(k,H))+1;this.levels=[];for(let Q=0;Q<Z;Q++){const V={width:k,height:H,items:[]};this.levels.push(V),k=Math.ceil(k/2),H=Math.ceil(H/2)}}reset(k,H){let Z=0,Q=0,V;for(;Z<this.levels.length;){V=this.levels[Z];const Y=k+H*V.width;if(V.items[Y]!==void 0){Q=V.items[Y];break}V.index=Y,k>>=1,H>>=1,Z++}Z--,V=this.levels[Z],V.items[V.index]=Q,this.currentLevel=Z,delete this.value}incrementValue(){const k=this.levels[this.currentLevel];k.items[k.index]++}nextLevel(){let k=this.currentLevel,H=this.levels[k];const Z=H.items[H.index];return k--,k<0?(this.value=Z,!1):(this.currentLevel=k,H=this.levels[k],H.items[H.index]=Z,!0)}}class S{constructor(k,H,Z){const Q=(0,c.log2)(Math.max(k,H))+1;this.levels=[];for(let V=0;V<Q;V++){const Y=new Uint8Array(k*H);for(let $=0,X=Y.length;$<X;$++)Y[$]=Z;const te={width:k,height:H,items:Y};this.levels.push(te),k=Math.ceil(k/2),H=Math.ceil(H/2)}}reset(k,H,Z){let Q=0;for(;Q<this.levels.length;){const V=this.levels[Q],Y=k+H*V.width;V.index=Y;const te=V.items[Y];if(te===255)break;if(te>Z)return this.currentLevel=Q,this.propagateValues(),!1;k>>=1,H>>=1,Q++}return this.currentLevel=Q-1,!0}incrementValue(k){const H=this.levels[this.currentLevel];H.items[H.index]=k+1,this.propagateValues()}propagateValues(){let k=this.currentLevel,H=this.levels[k];const Z=H.items[H.index];for(;--k>=0;)H=this.levels[k],H.items[H.index]=Z}nextLevel(){let k=this.currentLevel,H=this.levels[k];const Z=H.items[H.index];return H.items[H.index]=255,k--,k<0?!1:(this.currentLevel=k,H=this.levels[k],H.items[H.index]=Z,!0)}}const W=function(){const Z=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]),Q=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]),V=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]);class Y{constructor($,X,ne,ce,se){this.width=$,this.height=X;let K;ne==="HH"?K=V:ne==="HL"?K=Q:K=Z,this.contextLabelTable=K;const ee=$*X;this.neighborsSignificance=new Uint8Array(ee),this.coefficentsSign=new Uint8Array(ee);let ie;se>14?ie=new Uint32Array(ee):se>6?ie=new Uint16Array(ee):ie=new Uint8Array(ee),this.coefficentsMagnitude=ie,this.processingFlags=new Uint8Array(ee);const oe=new Uint8Array(ee);if(ce!==0)for(let le=0;le<ee;le++)oe[le]=ce;this.bitsDecoded=oe,this.reset()}setDecoder($){this.decoder=$}reset(){this.contexts=new Int8Array(19),this.contexts[0]=4<<1|0,this.contexts[17]=46<<1|0,this.contexts[18]=3<<1|0}setNeighborsSignificance($,X,ne){const ce=this.neighborsSignificance,se=this.width,K=this.height,ee=X>0,ie=X+1<se;let oe;$>0&&(oe=ne-se,ee&&(ce[oe-1]+=16),ie&&(ce[oe+1]+=16),ce[oe]+=4),$+1<K&&(oe=ne+se,ee&&(ce[oe-1]+=16),ie&&(ce[oe+1]+=16),ce[oe]+=4),ee&&(ce[ne-1]+=1),ie&&(ce[ne+1]+=1),ce[ne]|=128}runSignificancePropagationPass(){const $=this.decoder,X=this.width,ne=this.height,ce=this.coefficentsMagnitude,se=this.coefficentsSign,K=this.neighborsSignificance,ee=this.processingFlags,ie=this.contexts,oe=this.contextLabelTable,le=this.bitsDecoded,pe=-2,fe=1,ue=2;for(let ge=0;ge<ne;ge+=4)for(let he=0;he<X;he++){let xe=ge*X+he;for(let ye=0;ye<4;ye++,xe+=X){const ve=ge+ye;if(ve>=ne)break;if(ee[xe]&=pe,ce[xe]||!K[xe])continue;const ke=oe[K[xe]];if($.readBit(ie,ke)){const be=this.decodeSignBit(ve,he,xe);se[xe]=be,ce[xe]=1,this.setNeighborsSignificance(ve,he,xe),ee[xe]|=ue}le[xe]++,ee[xe]|=fe}}}decodeSignBit($,X,ne){const ce=this.width,se=this.height,K=this.coefficentsMagnitude,ee=this.coefficentsSign;let ie,oe,le,pe,fe,ue;pe=X>0&&K[ne-1]!==0,X+1<ce&&K[ne+1]!==0?(le=ee[ne+1],pe?(oe=ee[ne-1],ie=1-le-oe):ie=1-le-le):pe?(oe=ee[ne-1],ie=1-oe-oe):ie=0;const ge=3*ie;return pe=$>0&&K[ne-ce]!==0,$+1<se&&K[ne+ce]!==0?(le=ee[ne+ce],pe?(oe=ee[ne-ce],ie=1-le-oe+ge):ie=1-le-le+ge):pe?(oe=ee[ne-ce],ie=1-oe-oe+ge):ie=ge,ie>=0?(fe=9+ie,ue=this.decoder.readBit(this.contexts,fe)):(fe=9-ie,ue=this.decoder.readBit(this.contexts,fe)^1),ue}runMagnitudeRefinementPass(){const $=this.decoder,X=this.width,ne=this.height,ce=this.coefficentsMagnitude,se=this.neighborsSignificance,K=this.contexts,ee=this.bitsDecoded,ie=this.processingFlags,oe=1,le=2,pe=X*ne,fe=X*4;for(let ue=0,ge;ue<pe;ue=ge){ge=Math.min(pe,ue+fe);for(let he=0;he<X;he++)for(let xe=ue+he;xe<ge;xe+=X){if(!ce[xe]||(ie[xe]&oe)!==0)continue;let ye=16;(ie[xe]&le)!==0&&(ie[xe]^=le,ye=(se[xe]&127)===0?15:14);const ve=$.readBit(K,ye);ce[xe]=ce[xe]<<1|ve,ee[xe]++,ie[xe]|=oe}}}runCleanupPass(){const $=this.decoder,X=this.width,ne=this.height,ce=this.neighborsSignificance,se=this.coefficentsMagnitude,K=this.coefficentsSign,ee=this.contexts,ie=this.contextLabelTable,oe=this.bitsDecoded,le=this.processingFlags,pe=1,fe=2,ue=X,ge=X*2,he=X*3;let xe;for(let ye=0;ye<ne;ye=xe){xe=Math.min(ye+4,ne);const ve=ye*X,ke=ye+3<ne;for(let Se=0;Se<X;Se++){const be=ve+Se,Ee=ke&&le[be]===0&&le[be+ue]===0&&le[be+ge]===0&&le[be+he]===0&&ce[be]===0&&ce[be+ue]===0&&ce[be+ge]===0&&ce[be+he]===0;let Oe=0,Fe=be,Re=ye,Ne;if(Ee){if(!$.readBit(ee,18)){oe[be]++,oe[be+ue]++,oe[be+ge]++,oe[be+he]++;continue}Oe=$.readBit(ee,17)<<1|$.readBit(ee,17),Oe!==0&&(Re=ye+Oe,Fe+=Oe*X),Ne=this.decodeSignBit(Re,Se,Fe),K[Fe]=Ne,se[Fe]=1,this.setNeighborsSignificance(Re,Se,Fe),le[Fe]|=fe,Fe=be;for(let Ie=ye;Ie<=Re;Ie++,Fe+=X)oe[Fe]++;Oe++}for(Re=ye+Oe;Re<xe;Re++,Fe+=X){if(se[Fe]||(le[Fe]&pe)!==0)continue;const Pe=ie[ce[Fe]];$.readBit(ee,Pe)===1&&(Ne=this.decodeSignBit(Re,Se,Fe),K[Fe]=Ne,se[Fe]=1,this.setNeighborsSignificance(Re,Se,Fe),le[Fe]|=fe),oe[Fe]++}}}}checkSegmentationSymbol(){const $=this.decoder,X=this.contexts;if(($.readBit(X,17)<<3|$.readBit(X,17)<<2|$.readBit(X,17)<<1|$.readBit(X,17))!==10)throw new m("Invalid segmentation symbol")}}return Y}();class U{constructor(){this.constructor===U&&(0,n.unreachable)("Cannot initialize Transform.")}calculate(k,H,Z){let Q=k[0];for(let V=1,Y=k.length;V<Y;V++)Q=this.iterate(Q,k[V],H,Z);return Q}extend(k,H,Z){let Q=H-1,V=H+1,Y=H+Z-2,te=H+Z;k[Q--]=k[V++],k[te++]=k[Y--],k[Q--]=k[V++],k[te++]=k[Y--],k[Q--]=k[V++],k[te++]=k[Y--],k[Q]=k[V],k[te]=k[Y]}filter(k,H,Z){(0,n.unreachable)("Abstract method `filter` called")}iterate(k,H,Z,Q){const V=k.width,Y=k.height;let te=k.items;const $=H.width,X=H.height,ne=H.items;let ce,se,K,ee,ie,oe;for(K=0,ce=0;ce<Y;ce++)for(ee=ce*2*$,se=0;se<V;se++,K++,ee+=2)ne[ee]=te[K];te=k.items=null;const le=4,pe=new Float32Array($+2*le);if($===1){if((Z&1)!==0)for(oe=0,K=0;oe<X;oe++,K+=$)ne[K]*=.5}else for(oe=0,K=0;oe<X;oe++,K+=$)pe.set(ne.subarray(K,K+$),le),this.extend(pe,le,$),this.filter(pe,le,$),ne.set(pe.subarray(le,le+$),K);let fe=16;const ue=[];for(ce=0;ce<fe;ce++)ue.push(new Float32Array(X+2*le));let ge,he=0;if(k=le+X,X===1){if((Q&1)!==0)for(ie=0;ie<$;ie++)ne[ie]*=.5}else for(ie=0;ie<$;ie++){if(he===0){for(fe=Math.min($-ie,fe),K=ie,ee=le;ee<k;K+=$,ee++)for(ge=0;ge<fe;ge++)ue[ge][ee]=ne[K+ge];he=fe}he--;const xe=ue[he];if(this.extend(xe,le,X),this.filter(xe,le,X),he===0)for(K=ie-fe+1,ee=le;ee<k;K+=$,ee++)for(ge=0;ge<fe;ge++)ne[K+ge]=ue[ge][ee]}return{width:$,height:X,items:ne}}}class z extends U{filter(k,H,Z){const Q=Z>>1;H|=0;let V,Y,te,$;const X=-1.586134342059924,ne=-.052980118572961,ce=.882911075530934,se=.443506852043971,K=1.230174104914001,ee=1/K;for(V=H-3,Y=Q+4;Y--;V+=2)k[V]*=ee;for(V=H-2,te=se*k[V-1],Y=Q+3;Y--&&($=se*k[V+1],k[V]=K*k[V]-te-$,Y--);V+=2)V+=2,te=se*k[V+1],k[V]=K*k[V]-te-$;for(V=H-1,te=ce*k[V-1],Y=Q+2;Y--&&($=ce*k[V+1],k[V]-=te+$,Y--);V+=2)V+=2,te=ce*k[V+1],k[V]-=te+$;for(V=H,te=ne*k[V-1],Y=Q+1;Y--&&($=ne*k[V+1],k[V]-=te+$,Y--);V+=2)V+=2,te=ne*k[V+1],k[V]-=te+$;if(Q!==0)for(V=H+1,te=X*k[V-1],Y=Q;Y--&&($=X*k[V+1],k[V]-=te+$,Y--);V+=2)V+=2,te=X*k[V+1],k[V]-=te+$}}class re extends U{filter(k,H,Z){const Q=Z>>1;H|=0;let V,Y;for(V=H,Y=Q+1;Y--;V+=2)k[V]-=k[V-1]+k[V+1]+2>>2;for(V=H+1,Y=Q;Y--;V+=2)k[V]+=k[V-1]+k[V+1]>>1}}},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.LZWStream=void 0;var n=u(144);class c extends n.DecodeStream{constructor(m,e,E){super(e),this.str=m,this.dict=m.dict,this.cachedData=0,this.bitsCached=0;const A=4096,B={earlyChange:E,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(A),dictionaryLengths:new Uint16Array(A),dictionaryPrevCodes:new Uint16Array(A),currentSequence:new Uint8Array(A),currentSequenceLength:0};for(let O=0;O<256;++O)B.dictionaryValues[O]=O,B.dictionaryLengths[O]=1;this.lzwState=B}readBits(m){let e=this.bitsCached,E=this.cachedData;for(;e<m;){const A=this.str.getByte();if(A===-1)return this.eof=!0,null;E=E<<8|A,e+=8}return this.bitsCached=e-=m,this.cachedData=E,this.lastCode=null,E>>>e&(1<<m)-1}readBlock(){let E=1024,A,B,O;const v=this.lzwState;if(!v)return;const b=v.earlyChange;let o=v.nextCode;const T=v.dictionaryValues,D=v.dictionaryLengths,_=v.dictionaryPrevCodes;let y=v.codeLength,P=v.prevCode;const w=v.currentSequence;let M=v.currentSequenceLength,q=0,F=this.bufferLength,G=this.ensureBuffer(this.bufferLength+E);for(A=0;A<512;A++){const R=this.readBits(y),I=M>0;if(R<256)w[0]=R,M=1;else if(R>=258)if(R<o)for(M=D[R],B=M-1,O=R;B>=0;B--)w[B]=T[O],O=_[O];else w[M++]=w[0];else if(R===256){y=9,o=258,M=0;continue}else{this.eof=!0,delete this.lzwState;break}if(I&&(_[o]=P,D[o]=D[P]+1,T[o]=w[0],o++,y=o+b&o+b-1?y:Math.min(Math.log(o+b)/.6931471805599453+1,12)|0),P=R,q+=M,E<q){do E+=512;while(E<q);G=this.ensureBuffer(this.bufferLength+E)}for(B=0;B<M;B++)G[F++]=w[B]}v.nextCode=o,v.codeLength=y,v.prevCode=P,v.currentSequenceLength=M,this.bufferLength=F}}s.LZWStream=c},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PredictorStream=void 0;var n=u(144),c=u(130),C=u(2);class m extends n.DecodeStream{constructor(E,A,B){if(super(A),!(B instanceof c.Dict))return E;const O=this.predictor=B.get("Predictor")||1;if(O<=1)return E;if(O!==2&&(O<10||O>15))throw new C.FormatError(`Unsupported predictor: ${O}`);O===2?this.readBlock=this.readBlockTiff:this.readBlock=this.readBlockPng,this.str=E,this.dict=E.dict;const v=this.colors=B.get("Colors")||1,b=this.bits=B.get("BPC","BitsPerComponent")||8,o=this.columns=B.get("Columns")||1;return this.pixBytes=v*b+7>>3,this.rowBytes=o*v*b+7>>3,this}readBlockTiff(){const E=this.rowBytes,A=this.bufferLength,B=this.ensureBuffer(A+E),O=this.bits,v=this.colors,b=this.str.getBytes(E);if(this.eof=!b.length,this.eof)return;let o=0,T=0,D=0,_=0,y=A,P;if(O===1&&v===1)for(P=0;P<E;++P){let w=b[P]^o;w^=w>>1,w^=w>>2,w^=w>>4,o=(w&1)<<7,B[y++]=w}else if(O===8){for(P=0;P<v;++P)B[y++]=b[P];for(;P<E;++P)B[y]=B[y-v]+b[P],y++}else if(O===16){const w=v*2;for(P=0;P<w;++P)B[y++]=b[P];for(;P<E;P+=2){const M=((b[P]&255)<<8)+(b[P+1]&255)+((B[y-w]&255)<<8)+(B[y-w+1]&255);B[y++]=M>>8&255,B[y++]=M&255}}else{const w=new Uint8Array(v+1),M=(1<<O)-1;let q=0,F=A;const G=this.columns;for(P=0;P<G;++P)for(let R=0;R<v;++R)D<O&&(o=o<<8|b[q++]&255,D+=8),w[R]=w[R]+(o>>D-O)&M,D-=O,T=T<<O|w[R],_+=O,_>=8&&(B[F++]=T>>_-8&255,_-=8);_>0&&(B[F++]=(T<<8-_)+(o&(1<<8-_)-1))}this.bufferLength+=E}readBlockPng(){const E=this.rowBytes,A=this.pixBytes,B=this.str.getByte(),O=this.str.getBytes(E);if(this.eof=!O.length,this.eof)return;const v=this.bufferLength,b=this.ensureBuffer(v+E);let o=b.subarray(v-E,v);o.length===0&&(o=new Uint8Array(E));let T,D=v,_,y;switch(B){case 0:for(T=0;T<E;++T)b[D++]=O[T];break;case 1:for(T=0;T<A;++T)b[D++]=O[T];for(;T<E;++T)b[D]=b[D-A]+O[T]&255,D++;break;case 2:for(T=0;T<E;++T)b[D++]=o[T]+O[T]&255;break;case 3:for(T=0;T<A;++T)b[D++]=(o[T]>>1)+O[T];for(;T<E;++T)b[D]=(o[T]+b[D-A]>>1)+O[T]&255,D++;break;case 4:for(T=0;T<A;++T)_=o[T],y=O[T],b[D++]=_+y;for(;T<E;++T){_=o[T];const P=o[T-A],w=b[D-A],M=w+_-P;let q=M-w;q<0&&(q=-q);let F=M-_;F<0&&(F=-F);let G=M-P;G<0&&(G=-G),y=O[T],q<=F&&q<=G?b[D++]=w+y:F<=G?b[D++]=_+y:b[D++]=P+y}break;default:throw new C.FormatError(`Unsupported predictor: ${B}`)}this.bufferLength+=E}}s.PredictorStream=m},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.RunLengthStream=void 0;var n=u(144);class c extends n.DecodeStream{constructor(m,e){super(e),this.str=m,this.dict=m.dict}readBlock(){const m=this.str.getBytes(2);if(!m||m.length<2||m[0]===128){this.eof=!0;return}let e,E=this.bufferLength,A=m[0];if(A<128){if(e=this.ensureBuffer(E+A+1),e[E++]=m[1],A>0){const B=this.str.getBytes(A);e.set(B,E),E+=A}}else{A=257-A;const B=m[1];e=this.ensureBuffer(E+A+1);for(let O=0;O<A;O++)e[E++]=B}this.bufferLength=E}}s.RunLengthStream=c},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Font=s.ErrorFont=void 0;var n=u(2),c=u(160),C=u(163),m=u(165),e=u(164),E=u(162),A=u(166),B=u(167),O=u(168),v=u(169),b=u(170),o=u(171),T=u(141),D=u(172),_=u(131),y=u(135),P=u(173);const w=[[57344,63743],[1048576,1114109]],M=1e3,q=["ascent","bbox","black","bold","charProcOperatorList","composite","cssFontInfo","data","defaultVMetrics","defaultWidth","descent","fallbackName","fontMatrix","fontType","isType3Font","italic","loadedName","mimetype","missingFile","name","remeasure","subtype","type","vertical"],F=["cMap","defaultEncoding","differences","isMonospace","isSerifFont","isSymbolicFont","seacMap","toFontChar","toUnicode","vmetrics","widths"];function G(fe){if(!fe.fontMatrix||fe.fontMatrix[0]===n.FONT_IDENTITY_MATRIX[0])return;const ue=.001/fe.fontMatrix[0],ge=fe.widths;for(const he in ge)ge[he]*=ue;fe.defaultWidth*=ue}function R(fe,ue){if(fe.isInternalFont||ue===fe.defaultEncoding||fe.toUnicode instanceof B.IdentityToUnicodeMap)return;const ge=[],he=(0,e.getGlyphsUnicode)();for(const xe in ue){if(fe.hasIncludedToUnicodeMap){if(fe.toUnicode.has(xe))continue}else if(fe.hasEncoding&&(fe.differences.length===0||fe.differences[xe]!==void 0))continue;const ye=ue[xe],ve=(0,m.getUnicodeForGlyph)(ye,he);ve!==-1&&(ge[xe]=String.fromCharCode(ve))}ge.length>0&&fe.toUnicode.amend(ge)}function I(fe){if(!fe.fallbackToUnicode||fe.toUnicode instanceof B.IdentityToUnicodeMap)return;const ue=[];for(const ge in fe.fallbackToUnicode)fe.toUnicode.has(ge)||(ue[ge]=fe.fallbackToUnicode[ge]);ue.length>0&&fe.toUnicode.amend(ue)}class L{constructor(ue,ge,he,xe,ye,ve,ke,Se,be){this.originalCharCode=ue,this.fontChar=ge,this.unicode=he,this.accent=xe,this.width=ye,this.vmetric=ve,this.operatorListId=ke,this.isSpace=Se,this.isInFont=be;const Ee=(0,m.getCharUnicodeCategory)(he);this.isWhitespace=Ee.isWhitespace,this.isZeroWidthDiacritic=Ee.isZeroWidthDiacritic,this.isInvisibleFormatMark=Ee.isInvisibleFormatMark}matchesForCache(ue,ge,he,xe,ye,ve,ke,Se,be){return this.originalCharCode===ue&&this.fontChar===ge&&this.unicode===he&&this.accent===xe&&this.width===ye&&this.vmetric===ve&&this.operatorListId===ke&&this.isSpace===Se&&this.isInFont===be}}function x(fe,ue){return(fe<<8)+ue}function S(fe,ue,ge){fe[ue+1]=ge,fe[ue]=ge>>>8}function W(fe,ue){const ge=(fe<<8)+ue;return ge&32768?ge-65536:ge}function U(fe,ue,ge,he){return(fe<<24)+(ue<<16)+(ge<<8)+he}function z(fe){return String.fromCharCode(fe>>8&255,fe&255)}function re(fe){return fe>32767?fe=32767:fe<-32768&&(fe=-32768),String.fromCharCode(fe>>8&255,fe&255)}function J(fe){const ue=fe.peekBytes(4);return(0,_.readUint32)(ue,0)===65536||(0,n.bytesToString)(ue)==="true"}function k(fe){const ue=fe.peekBytes(4);return(0,n.bytesToString)(ue)==="ttcf"}function H(fe){const ue=fe.peekBytes(4);return(0,n.bytesToString)(ue)==="OTTO"}function Z(fe){const ue=fe.peekBytes(2);return ue[0]===37&&ue[1]===33||ue[0]===128&&ue[1]===1}function Q(fe){const ue=fe.peekBytes(4);return ue[0]>=1&&ue[3]>=1&&ue[3]<=4}function V(fe,ue){let{type:ge,subtype:he,composite:xe}=ue,ye,ve;return J(fe)||k(fe)?xe?ye="CIDFontType2":ye="TrueType":H(fe)?xe?ye="CIDFontType2":ye="OpenType":Z(fe)?xe?ye="CIDFontType0":ye=ge==="MMType1"?"MMType1":"Type1":Q(fe)?xe?(ye="CIDFontType0",ve="CIDFontType0C"):(ye=ge==="MMType1"?"MMType1":"Type1",ve="Type1C"):((0,n.warn)("getFontFileType: Unable to detect correct font file Type/Subtype."),ye=ge,ve=he),[ye,ve]}function Y(fe,ue){for(const ge in ue)fe[+ge]=ue[ge]}function te(fe,ue,ge){const he=[];let xe;for(let ye=0,ve=fe.length;ye<ve;ye++)xe=(0,m.getUnicodeForGlyph)(fe[ye],ue),xe!==-1&&(he[ye]=xe);for(const ye in ge)xe=(0,m.getUnicodeForGlyph)(ge[ye],ue),xe!==-1&&(he[+ye]=xe);return he}function $(fe,ue){let ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;switch(ue.length){case 1:return ue.charCodeAt(0);case 2:return ue.charCodeAt(0)<<8|ue.charCodeAt(1)}const he=`Unsupported CID string (charCode ${fe}): "${ue}".`;if(ge)throw new n.FormatError(he);return(0,n.warn)(he),ue}function X(fe,ue,ge,he){const xe=Object.create(null),ye=new Map,ve=[],ke=new Set;let Se=0;const be=w[Se][0];let Ee=be,Oe=w[Se][1];for(let Fe in fe){Fe|=0;let Re=fe[Fe];if(!ue(Re))continue;if(Ee>Oe){if(Se++,Se>=w.length){(0,n.warn)("Ran out of space in font private use area.");break}Ee=w[Se][0],Oe=w[Se][1]}const Ne=Ee++;Re===0&&(Re=ge);let Pe=he.get(Fe);typeof Pe=="string"&&(Pe=Pe.codePointAt(0)),Pe&&Pe<be&&!ke.has(Re)&&(ye.set(Pe,Re),ke.add(Re)),xe[Ne]=Re,ve[Fe]=Ne}return{toFontChar:ve,charCodeToGlyphId:xe,toUnicodeExtraMap:ye,nextAvailableFontCharCode:Ee}}function ne(fe,ue,ge){const he=[];for(const ve in fe)fe[ve]>=ge||he.push({fontCharCode:ve|0,glyphId:fe[ve]});if(ue)for(const[ve,ke]of ue)ke>=ge||he.push({fontCharCode:ve,glyphId:ke});he.length===0&&he.push({fontCharCode:0,glyphId:0}),he.sort(function(ke,Se){return ke.fontCharCode-Se.fontCharCode});const xe=[],ye=he.length;for(let ve=0;ve<ye;){const ke=he[ve].fontCharCode,Se=[he[ve].glyphId];++ve;let be=ke;for(;ve<ye&&be+1===he[ve].fontCharCode&&(Se.push(he[ve].glyphId),++be,++ve,be!==65535););xe.push([ke,be,Se])}return xe}function ce(fe,ue,ge){const he=ne(fe,ue,ge),xe=he.at(-1)[1]>65535?2:1;let ye="\0\0"+z(xe)+"\0\0"+(0,n.string32)(4+xe*8),ve,ke,Se,be;for(ve=he.length-1;ve>=0&&!(he[ve][0]<=65535);--ve);const Ee=ve+1;he[ve][0]<65535&&he[ve][1]===65535&&(he[ve][1]=65534);const Oe=he[ve][1]<65535?1:0,Fe=Ee+Oe,Re=D.OpenTypeFileBuilder.getSearchParams(Fe,2);let Ne="",Pe="",Ie="",Me="",Te="",Le=0,Be,Ae,we,Ce;for(ve=0,ke=Ee;ve<ke;ve++){Be=he[ve],Ae=Be[0],we=Be[1],Ne+=z(Ae),Pe+=z(we),Ce=Be[2];let Ze=!0;for(Se=1,be=Ce.length;Se<be;++Se)if(Ce[Se]!==Ce[Se-1]+1){Ze=!1;break}if(Ze){const Ye=Ce[0];Ie+=z(Ye-Ae&65535),Me+=z(0)}else{const Ye=(Fe-ve)*2+Le*2;for(Le+=we-Ae+1,Ie+=z(0),Me+=z(Ye),Se=0,be=Ce.length;Se<be;++Se)Te+=z(Ce[Se])}}Oe>0&&(Pe+="\xFF\xFF",Ne+="\xFF\xFF",Ie+="\0",Me+="\0\0");const De="\0\0"+z(2*Fe)+z(Re.range)+z(Re.entry)+z(Re.rangeShift)+Pe+"\0\0"+Ne+Ie+Me+Te;let Ge="",He="";if(xe>1){for(ye+=`\0\0
`+(0,n.string32)(4+xe*8+4+De.length),Ge="",ve=0,ke=he.length;ve<ke;ve++){Be=he[ve],Ae=Be[0],Ce=Be[2];let Ze=Ce[0];for(Se=1,be=Ce.length;Se<be;++Se)Ce[Se]!==Ce[Se-1]+1&&(we=Be[0]+Se-1,Ge+=(0,n.string32)(Ae)+(0,n.string32)(we)+(0,n.string32)(Ze),Ae=we+1,Ze=Ce[Se]);Ge+=(0,n.string32)(Ae)+(0,n.string32)(Be[1])+(0,n.string32)(Ze)}He="\0\f\0\0"+(0,n.string32)(Ge.length+16)+"\0\0\0\0"+(0,n.string32)(Ge.length/12)}return ye+"\0"+z(De.length+4)+De+He+Ge}function se(fe,ue){ue.pos=(ue.start||0)+fe.offset;const ge=ue.getUint16();ue.skip(60);const he=ue.getUint16();if(ge<4&&he&768)return!1;const xe=ue.getUint16(),ye=ue.getUint16();return xe>ye||(ue.skip(6),ue.getUint16()===0)?!1:(fe.data[8]=fe.data[9]=0,!0)}function K(fe,ue,ge){ge=ge||{unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0};let he=0,xe=0,ye=0,ve=0,ke=null,Se=0;if(ue){for(let Ie in ue){Ie|=0,(ke>Ie||!ke)&&(ke=Ie),Se<Ie&&(Se=Ie);const Me=(0,m.getUnicodeRangeFor)(Ie);if(Me<32)he|=1<<Me;else if(Me<64)xe|=1<<Me-32;else if(Me<96)ye|=1<<Me-64;else if(Me<123)ve|=1<<Me-96;else throw new n.FormatError("Unicode ranges Bits > 123 are reserved for internal usage")}Se>65535&&(Se=65535)}else ke=0,Se=255;const be=fe.bbox||[0,0,0,0],Ee=ge.unitsPerEm||1/(fe.fontMatrix||n.FONT_IDENTITY_MATRIX)[0],Oe=fe.ascentScaled?1:Ee/M,Fe=ge.ascent||Math.round(Oe*(fe.ascent||be[3]));let Re=ge.descent||Math.round(Oe*(fe.descent||be[1]));Re>0&&fe.descent>0&&be[1]<0&&(Re=-Re);const Ne=ge.yMax||Fe,Pe=-ge.yMin||-Re;return"\0$\xF4\0\0\0\x8A\xBB\0\0\0\x8C\x8A\xBB\0\0\xDF\x001\0\0\0\0"+String.fromCharCode(fe.fixedPitch?9:0)+"\0\0\0\0\0\0"+(0,n.string32)(he)+(0,n.string32)(xe)+(0,n.string32)(ye)+(0,n.string32)(ve)+"*21*"+z(fe.italicAngle?1:0)+z(ke||fe.firstChar)+z(Se||fe.lastChar)+z(Fe)+z(Re)+"\0d"+z(Ne)+z(Pe)+"\0\0\0\0\0\0\0\0"+z(fe.xHeight)+z(fe.capHeight)+z(0)+z(ke||fe.firstChar)+"\0"}function ee(fe){const ue=Math.floor(fe.italicAngle*65536);return"\0\0\0"+(0,n.string32)(ue)+"\0\0\0\0"+(0,n.string32)(fe.fixedPitch?1:0)+"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}function ie(fe){return fe.replace(/[^\x21-\x7E]|[[\](){}<>/%]/g,"").slice(0,63)}function oe(fe,ue){ue||(ue=[[],[]]);const ge=[ue[0][0]||"Original licence",ue[0][1]||fe,ue[0][2]||"Unknown",ue[0][3]||"uniqueID",ue[0][4]||fe,ue[0][5]||"Version 0.11",ue[0][6]||ie(fe),ue[0][7]||"Unknown",ue[0][8]||"Unknown",ue[0][9]||"Unknown"],he=[];let xe,ye,ve,ke,Se;for(xe=0,ye=ge.length;xe<ye;xe++){Se=ue[1][xe]||ge[xe];const Ie=[];for(ve=0,ke=Se.length;ve<ke;ve++)Ie.push(z(Se.charCodeAt(ve)));he.push(Ie.join(""))}const be=[ge,he],Ee=["\0","\0"],Oe=["\0\0","\0"],Fe=["\0\0","	"],Re=ge.length*Ee.length;let Ne="\0\0"+z(Re)+z(Re*12+6),Pe=0;for(xe=0,ye=Ee.length;xe<ye;xe++){const Ie=be[xe];for(ve=0,ke=Ie.length;ve<ke;ve++){Se=Ie[ve];const Me=Ee[xe]+Oe[xe]+Fe[xe]+z(ve)+z(Se.length)+z(Pe);Ne+=Me,Pe+=Se.length}}return Ne+=ge.join("")+he.join(""),Ne}class le{constructor(ue,ge,he){this.name=ue,this.psName=null,this.mimetype=null,this.disableFontFace=!1,this.loadedName=he.loadedName,this.isType3Font=he.isType3Font,this.missingFile=!1,this.cssFontInfo=he.cssFontInfo,this._charsCache=Object.create(null),this._glyphCache=Object.create(null);let xe=!!(he.flags&C.FontFlags.Serif);if(!xe&&!he.isSimulatedFlags){const be=ue.replace(/[,_]/g,"-").split("-")[0],Ee=(0,A.getSerifFonts)();for(const Oe of be.split("+"))if(Ee[Oe]){xe=!0;break}}this.isSerifFont=xe,this.isSymbolicFont=!!(he.flags&C.FontFlags.Symbolic),this.isMonospace=!!(he.flags&C.FontFlags.FixedPitch);let ye=he.type,ve=he.subtype;this.type=ye,this.subtype=ve;let ke="sans-serif";if(this.isMonospace?ke="monospace":this.isSerifFont&&(ke="serif"),this.fallbackName=ke,this.differences=he.differences,this.widths=he.widths,this.defaultWidth=he.defaultWidth,this.composite=he.composite,this.cMap=he.cMap,this.capHeight=he.capHeight/M,this.ascent=he.ascent/M,this.descent=he.descent/M,this.lineHeight=this.ascent-this.descent,this.fontMatrix=he.fontMatrix,this.bbox=he.bbox,this.defaultEncoding=he.defaultEncoding,this.toUnicode=he.toUnicode,this.toFontChar=[],he.type==="Type3"){for(let be=0;be<256;be++)this.toFontChar[be]=this.differences[be]||he.defaultEncoding[be];this.fontType=n.FontType.TYPE3;return}if(this.cidEncoding=he.cidEncoding||"",this.vertical=!!he.vertical,this.vertical&&(this.vmetrics=he.vmetrics,this.defaultVMetrics=he.defaultVMetrics),!ge||ge.isEmpty){ge&&(0,n.warn)('Font file is empty in "'+ue+'" ('+this.loadedName+")"),this.fallbackToSystemFont(he);return}[ye,ve]=V(ge,he),(ye!==this.type||ve!==this.subtype)&&(0,n.info)(`Inconsistent font file Type/SubType, expected: ${this.type}/${this.subtype} but found: ${ye}/${ve}.`);let Se;try{switch(ye){case"MMType1":(0,n.info)("MMType1 font ("+ue+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";const be=ve==="Type1C"||ve==="CIDFontType0C"?new O.CFFFont(ge,he):new P.Type1Font(ue,ge,he);G(he),Se=this.convert(ue,be,he);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",Se=this.checkAndRepair(ue,ge,he),this.isOpenType&&(G(he),ye="OpenType");break;default:throw new n.FormatError(`Font ${ye} is not supported`)}}catch(be){(0,n.warn)(be),this.fallbackToSystemFont(he);return}I(he),this.data=Se,this.fontType=(0,C.getFontType)(ye,ve,he.isStandardFont),this.fontMatrix=he.fontMatrix,this.widths=he.widths,this.defaultWidth=he.defaultWidth,this.toUnicode=he.toUnicode,this.seacMap=he.seacMap}get renderer(){const ue=v.FontRendererFactory.create(this,C.SEAC_ANALYSIS_ENABLED);return(0,n.shadow)(this,"renderer",ue)}exportData(){const ge=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?[...q,...F]:q,he=Object.create(null);let xe,ye;for(xe of ge)ye=this[xe],ye!==void 0&&(he[xe]=ye);return he}fallbackToSystemFont(ue){this.missingFile=!0;const ge=this.name,he=this.type,xe=this.subtype;let ye=(0,C.normalizeFontName)(ge);const ve=(0,A.getStdFontMap)(),ke=(0,A.getNonStdFontMap)(),Se=!!ve[ye],be=!!(ke[ye]&&ve[ke[ye]]);ye=ve[ye]||ke[ye]||ye;const Oe=(0,b.getFontBasicMetrics)()[ye];Oe&&(isNaN(this.ascent)&&(this.ascent=Oe.ascent/M),isNaN(this.descent)&&(this.descent=Oe.descent/M),isNaN(this.capHeight)&&(this.capHeight=Oe.capHeight/M)),this.bold=ye.search(/bold/gi)!==-1,this.italic=ye.search(/oblique/gi)!==-1||ye.search(/italic/gi)!==-1,this.black=ge.search(/Black/g)!==-1;const Fe=ge.search(/Narrow/g)!==-1;if(this.remeasure=(!Se||Fe)&&Object.keys(this.widths).length>0,(Se||be)&&he==="CIDFontType2"&&this.cidEncoding.startsWith("Identity-")){const Re=ue.cidToGidMap,Ne=[];if(Y(Ne,(0,A.getGlyphMapForStandardFonts)()),/Arial-?Black/i.test(ge)?Y(Ne,(0,A.getSupplementalGlyphMapForArialBlack)()):/Calibri/i.test(ge)&&Y(Ne,(0,A.getSupplementalGlyphMapForCalibri)()),Re){for(const Pe in Ne){const Ie=Ne[Pe];Re[Ie]!==void 0&&(Ne[+Pe]=Re[Ie])}Re.length!==this.toUnicode.length&&ue.hasIncludedToUnicodeMap&&this.toUnicode instanceof B.IdentityToUnicodeMap&&this.toUnicode.forEach(function(Pe,Ie){const Me=Ne[Pe];Re[Me]===void 0&&(Ne[+Pe]=Ie)})}this.toUnicode instanceof B.IdentityToUnicodeMap||this.toUnicode.forEach(function(Pe,Ie){Ne[+Pe]=Ie}),this.toFontChar=Ne,this.toUnicode=new B.ToUnicodeMap(Ne)}else if(/Symbol/i.test(ye))this.toFontChar=te(E.SymbolSetEncoding,(0,e.getGlyphsUnicode)(),this.differences);else if(/Dingbats/i.test(ye))/Wingdings/i.test(ge)&&(0,n.warn)("Non-embedded Wingdings font, falling back to ZapfDingbats."),this.toFontChar=te(E.ZapfDingbatsEncoding,(0,e.getDingbatsGlyphsUnicode)(),this.differences);else if(Se){const Re=te(this.defaultEncoding,(0,e.getGlyphsUnicode)(),this.differences);he==="CIDFontType2"&&!this.cidEncoding.startsWith("Identity-")&&!(this.toUnicode instanceof B.IdentityToUnicodeMap)&&this.toUnicode.forEach(function(Ne,Pe){Re[+Ne]=Pe}),this.toFontChar=Re}else{const Re=(0,e.getGlyphsUnicode)(),Ne=[];this.toUnicode.forEach((Pe,Ie)=>{if(!this.composite){const Me=this.differences[Pe]||this.defaultEncoding[Pe],Te=(0,m.getUnicodeForGlyph)(Me,Re);Te!==-1&&(Ie=Te)}Ne[+Pe]=Ie}),this.composite&&this.toUnicode instanceof B.IdentityToUnicodeMap&&/Verdana/i.test(ge)&&Y(Ne,(0,A.getGlyphMapForStandardFonts)()),this.toFontChar=Ne}I(ue),this.loadedName=ye.split("-")[0],this.fontType=(0,C.getFontType)(he,xe,ue.isStandardFont)}checkAndRepair(ue,ge,he){const xe=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "];function ye(Qe,qe){const rt=Object.create(null);rt["OS/2"]=null,rt.cmap=null,rt.head=null,rt.hhea=null,rt.hmtx=null,rt.maxp=null,rt.name=null,rt.post=null;for(let tt=0;tt<qe;tt++){const ut=ve(Qe);!xe.includes(ut.tag)||ut.length!==0&&(rt[ut.tag]=ut)}return rt}function ve(Qe){const qe=Qe.getString(4),rt=Qe.getInt32()>>>0,tt=Qe.getInt32()>>>0,ut=Qe.getInt32()>>>0,mt=Qe.pos;Qe.pos=Qe.start||0,Qe.skip(tt);const xt=Qe.getBytes(ut);return Qe.pos=mt,qe==="head"&&(xt[8]=xt[9]=xt[10]=xt[11]=0,xt[17]|=32),{tag:qe,checksum:rt,length:ut,offset:tt,data:xt}}function ke(Qe){return{version:Qe.getString(4),numTables:Qe.getUint16(),searchRange:Qe.getUint16(),entrySelector:Qe.getUint16(),rangeShift:Qe.getUint16()}}function Se(Qe){const qe=Qe.getString(4);(0,n.assert)(qe==="ttcf","Must be a TrueType Collection font.");const rt=Qe.getUint16(),tt=Qe.getUint16(),ut=Qe.getInt32()>>>0,mt=[];for(let at=0;at<ut;at++)mt.push(Qe.getInt32()>>>0);const xt={ttcTag:qe,majorVersion:rt,minorVersion:tt,numFonts:ut,offsetTable:mt};switch(rt){case 1:return xt;case 2:return xt.dsigTag=Qe.getInt32()>>>0,xt.dsigLength=Qe.getInt32()>>>0,xt.dsigOffset=Qe.getInt32()>>>0,xt}throw new n.FormatError(`Invalid TrueType Collection majorVersion: ${rt}.`)}function be(Qe,qe){const{numFonts:rt,offsetTable:tt}=Se(Qe),ut=qe.split("+");let mt;for(let xt=0;xt<rt;xt++){Qe.pos=(Qe.start||0)+tt[xt];const at=ke(Qe),vt=ye(Qe,at.numTables);if(!vt.name)throw new n.FormatError('TrueType Collection font must contain a "name" table.');const bt=Ie(vt.name);for(let Pt=0,Tt=bt.length;Pt<Tt;Pt++)for(let wt=0,Ue=bt[Pt].length;wt<Ue;wt++){const We=bt[Pt][wt]&&bt[Pt][wt].replace(/\s/g,"");if(!!We){if(We===qe)return{header:at,tables:vt};if(!(ut.length<2))for(const nt of ut)We===nt&&(mt={name:nt,header:at,tables:vt})}}}if(mt)return(0,n.warn)(`TrueType Collection does not contain "${qe}" font, falling back to "${mt.name}" font instead.`),{header:mt.header,tables:mt.tables};throw new n.FormatError(`TrueType Collection does not contain "${qe}" font.`)}function Ee(Qe,qe,rt,tt){if(!Qe)return(0,n.warn)("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};let ut,mt=(qe.start||0)+Qe.offset;qe.pos=mt,qe.skip(2);const xt=qe.getUint16();let at,vt=!1;for(let We=0;We<xt;We++){const nt=qe.getUint16(),et=qe.getUint16(),ht=qe.getInt32()>>>0;let _t=!1;if(!(at&&at.platformId===nt&&at.encodingId===et)){if(nt===0&&(et===0||et===1||et===3))_t=!0;else if(nt===1&&et===0)_t=!0;else if(nt===3&&et===1&&(tt||!at))_t=!0,rt||(vt=!0);else if(rt&&nt===3&&et===0){_t=!0;let Gt=!0;if(We<xt-1){const It=qe.peekBytes(2);x(It[0],It[1])<nt&&(Gt=!1)}Gt&&(vt=!0)}if(_t&&(at={platformId:nt,encodingId:et,offset:ht}),vt)break}}if(at&&(qe.pos=mt+at.offset),!at||qe.peekByte()===-1)return(0,n.warn)("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};const bt=qe.getUint16();let Pt=!1;const Tt=[];let wt,Ue;if(bt===0){for(qe.skip(4),wt=0;wt<256;wt++){const We=qe.getByte();!We||Tt.push({charCode:wt,glyphId:We})}Pt=!0}else if(bt===2){qe.skip(4);const We=[];let nt=0;for(let ht=0;ht<256;ht++){const _t=qe.getUint16()>>3;We.push(_t),nt=Math.max(_t,nt)}const et=[];for(let ht=0;ht<=nt;ht++)et.push({firstCode:qe.getUint16(),entryCount:qe.getUint16(),idDelta:W(qe.getByte(),qe.getByte()),idRangePos:qe.pos+qe.getUint16()});for(let ht=0;ht<256;ht++)if(We[ht]===0)qe.pos=et[0].idRangePos+2*ht,Ue=qe.getUint16(),Tt.push({charCode:ht,glyphId:Ue});else{const _t=et[We[ht]];for(wt=0;wt<_t.entryCount;wt++){const Gt=(ht<<8)+wt+_t.firstCode;qe.pos=_t.idRangePos+2*wt,Ue=qe.getUint16(),Ue!==0&&(Ue=(Ue+_t.idDelta)%65536),Tt.push({charCode:Gt,glyphId:Ue})}}}else if(bt===4){qe.skip(4);const We=qe.getUint16()>>1;qe.skip(6);const nt=[];let et;for(et=0;et<We;et++)nt.push({end:qe.getUint16()});for(qe.skip(2),et=0;et<We;et++)nt[et].start=qe.getUint16();for(et=0;et<We;et++)nt[et].delta=qe.getUint16();let ht=0,_t;for(et=0;et<We;et++){ut=nt[et];const It=qe.getUint16();if(!It){ut.offsetIndex=-1;continue}_t=(It>>1)-(We-et),ut.offsetIndex=_t,ht=Math.max(ht,_t+ut.end-ut.start+1)}const Gt=[];for(wt=0;wt<ht;wt++)Gt.push(qe.getUint16());for(et=0;et<We;et++){ut=nt[et],mt=ut.start;const It=ut.end,Ft=ut.delta;for(_t=ut.offsetIndex,wt=mt;wt<=It;wt++)wt!==65535&&(Ue=_t<0?wt:Gt[_t+wt-mt],Ue=Ue+Ft&65535,Tt.push({charCode:wt,glyphId:Ue}))}}else if(bt===6){qe.skip(4);const We=qe.getUint16(),nt=qe.getUint16();for(wt=0;wt<nt;wt++){Ue=qe.getUint16();const et=We+wt;Tt.push({charCode:et,glyphId:Ue})}}else if(bt===12){qe.skip(10);const We=qe.getInt32()>>>0;for(wt=0;wt<We;wt++){const nt=qe.getInt32()>>>0,et=qe.getInt32()>>>0;let ht=qe.getInt32()>>>0;for(let _t=nt;_t<=et;_t++)Tt.push({charCode:_t,glyphId:ht++})}}else return(0,n.warn)("cmap table has unsupported format: "+bt),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};Tt.sort(function(We,nt){return We.charCode-nt.charCode});for(let We=1;We<Tt.length;We++)Tt[We-1].charCode===Tt[We].charCode&&(Tt.splice(We,1),We--);return{platformId:at.platformId,encodingId:at.encodingId,mappings:Tt,hasShortCmap:Pt}}function Oe(Qe,qe,rt,tt,ut,mt){if(!qe){rt&&(rt.data=null);return}Qe.pos=(Qe.start||0)+qe.offset,Qe.pos+=4,Qe.pos+=2,Qe.pos+=2,Qe.pos+=2,Qe.pos+=2,Qe.pos+=2,Qe.pos+=2,Qe.pos+=2,Qe.pos+=2,Qe.pos+=2;const xt=Qe.getUint16();Qe.pos+=8,Qe.pos+=2;let at=Qe.getUint16();xt!==0&&(x(tt.data[44],tt.data[45])&2||(qe.data[22]=0,qe.data[23]=0)),at>ut&&((0,n.info)(`The numOfMetrics (${at}) should not be greater than the numGlyphs (${ut}).`),at=ut,qe.data[34]=(at&65280)>>8,qe.data[35]=at&255);const bt=ut-at-(rt.length-at*4>>1);if(bt>0){const Pt=new Uint8Array(rt.length+bt*2);Pt.set(rt.data),mt&&(Pt[rt.length]=rt.data[2],Pt[rt.length+1]=rt.data[3]),rt.data=Pt}}function Fe(Qe,qe,rt,tt,ut,mt){const xt={length:0,sizeOfInstructions:0};if(rt-qe<=12)return xt;const at=Qe.subarray(qe,rt);let vt=W(at[0],at[1]);if(vt<0)return vt=-1,S(at,0,vt),tt.set(at,ut),xt.length=at.length,xt;let bt,Pt=10,Tt=0;for(bt=0;bt<vt;bt++)Tt=(at[Pt]<<8|at[Pt+1])+1,Pt+=2;const wt=Pt,Ue=at[Pt]<<8|at[Pt+1];xt.sizeOfInstructions=Ue,Pt+=2+Ue;const We=Pt;let nt=0;for(bt=0;bt<Tt;bt++){const ht=at[Pt++];ht&192&&(at[Pt-1]=ht&63);let _t=2;ht&2?_t=1:ht&16&&(_t=0);let Gt=2;ht&4?Gt=1:ht&32&&(Gt=0);const It=_t+Gt;if(nt+=It,ht&8){const Ft=at[Pt++];bt+=Ft,nt+=Ft*It}}if(nt===0)return xt;let et=Pt+nt;return et>at.length?xt:!mt&&Ue>0?(tt.set(at.subarray(0,wt),ut),tt.set([0,0],ut+wt),tt.set(at.subarray(We,et),ut+wt+2),et-=Ue,at.length-et>3&&(et=et+3&-4),xt.length=et,xt):at.length-et>3?(et=et+3&-4,tt.set(at.subarray(0,et),ut),xt.length=et,xt):(tt.set(at,ut),xt.length=at.length,xt)}function Re(Qe,qe,rt){const tt=Qe.data,ut=U(tt[0],tt[1],tt[2],tt[3]);ut>>16!==1&&((0,n.info)("Attempting to fix invalid version in head table: "+ut),tt[0]=0,tt[1]=1,tt[2]=0,tt[3]=0);const mt=x(tt[50],tt[51]);if(mt<0||mt>1){(0,n.info)("Attempting to fix invalid indexToLocFormat in head table: "+mt);const xt=qe+1;if(rt===xt<<1)tt[50]=0,tt[51]=0;else if(rt===xt<<2)tt[50]=0,tt[51]=1;else throw new n.FormatError("Could not fix indexToLocFormat: "+mt)}}function Ne(Qe,qe,rt,tt,ut,mt,xt){let at,vt,bt;tt?(at=4,vt=function($t,qt){return $t[qt]<<24|$t[qt+1]<<16|$t[qt+2]<<8|$t[qt+3]},bt=function($t,qt,sr){$t[qt]=sr>>>24&255,$t[qt+1]=sr>>16&255,$t[qt+2]=sr>>8&255,$t[qt+3]=sr&255}):(at=2,vt=function($t,qt){return $t[qt]<<9|$t[qt+1]<<1},bt=function($t,qt,sr){$t[qt]=sr>>9&255,$t[qt+1]=sr>>1&255});const Pt=mt?rt+1:rt,Tt=at*(1+Pt),wt=new Uint8Array(Tt);wt.set(Qe.data.subarray(0,Tt)),Qe.data=wt;const Ue=qe.data,We=Ue.length,nt=new Uint8Array(We);let et,ht;const _t=[];for(et=0,ht=0;et<rt+1;et++,ht+=at){let Ft=vt(wt,ht);Ft>We&&(Ft=We),_t.push({index:et,offset:Ft,endOffset:0})}for(_t.sort((Ft,$t)=>Ft.offset-$t.offset),et=0;et<rt;et++)_t[et].endOffset=_t[et+1].offset;for(_t.sort((Ft,$t)=>Ft.index-$t.index),et=0;et<rt;et++){const{offset:Ft,endOffset:$t}=_t[et];if(Ft!==0||$t!==0)break;const qt=_t[et+1].offset;if(qt!==0){_t[et].endOffset=qt;break}}const Gt=Object.create(null);let It=0;for(bt(wt,0,It),et=0,ht=at;et<rt;et++,ht+=at){const Ft=Fe(Ue,_t[et].offset,_t[et].endOffset,nt,It,ut),$t=Ft.length;$t===0&&(Gt[et]=!0),Ft.sizeOfInstructions>xt&&(xt=Ft.sizeOfInstructions),It+=$t,bt(wt,ht,It)}if(It===0){const Ft=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(et=0,ht=at;et<Pt;et++,ht+=at)bt(wt,ht,Ft.length);qe.data=Ft}else if(mt){const Ft=vt(wt,at);nt.length>Ft+It?qe.data=nt.subarray(0,Ft+It):(qe.data=new Uint8Array(Ft+It),qe.data.set(nt.subarray(0,It))),qe.data.set(nt.subarray(0,Ft),It),bt(Qe.data,wt.length-at,It+Ft)}else qe.data=nt.subarray(0,It);return{missingGlyphs:Gt,maxSizeOfInstructions:xt}}function Pe(Qe,qe,rt){const tt=(ge.start||0)+Qe.offset;ge.pos=tt;const ut=Qe.length,mt=tt+ut,xt=ge.getInt32();ge.skip(28);let at,vt=!0,bt;switch(xt){case 65536:at=C.MacStandardGlyphOrdering;break;case 131072:const Pt=ge.getUint16();if(Pt!==rt){vt=!1;break}const Tt=[];for(bt=0;bt<Pt;++bt){const We=ge.getUint16();if(We>=32768){vt=!1;break}Tt.push(We)}if(!vt)break;const wt=[],Ue=[];for(;ge.pos<mt;){const We=ge.getByte();for(Ue.length=We,bt=0;bt<We;++bt)Ue[bt]=String.fromCharCode(ge.getByte());wt.push(Ue.join(""))}for(at=[],bt=0;bt<Pt;++bt){const We=Tt[bt];if(We<258){at.push(C.MacStandardGlyphOrdering[We]);continue}at.push(wt[We-258])}break;case 196608:break;default:(0,n.warn)("Unknown/unsupported post table version "+xt),vt=!1,qe.defaultEncoding&&(at=qe.defaultEncoding);break}return qe.glyphNames=at,vt}function Ie(Qe){const qe=(ge.start||0)+Qe.offset;ge.pos=qe;const rt=[[],[]],tt=Qe.length,ut=qe+tt;if(ge.getUint16()!==0||tt<6)return rt;const at=ge.getUint16(),vt=ge.getUint16(),bt=[],Pt=12;let Tt,wt;for(Tt=0;Tt<at&&ge.pos+Pt<=ut;Tt++){const Ue={platform:ge.getUint16(),encoding:ge.getUint16(),language:ge.getUint16(),name:ge.getUint16(),length:ge.getUint16(),offset:ge.getUint16()};(Ue.platform===1&&Ue.encoding===0&&Ue.language===0||Ue.platform===3&&Ue.encoding===1&&Ue.language===1033)&&bt.push(Ue)}for(Tt=0,wt=bt.length;Tt<wt;Tt++){const Ue=bt[Tt];if(Ue.length<=0)continue;const We=qe+vt+Ue.offset;if(We+Ue.length>ut)continue;ge.pos=We;const nt=Ue.name;if(Ue.encoding){let et="";for(let ht=0,_t=Ue.length;ht<_t;ht+=2)et+=String.fromCharCode(ge.getUint16());rt[1][nt]=et}else rt[0][nt]=ge.getString(Ue.length)}return rt}const Me=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function Te(Qe,qe){let rt=Qe.data,tt=0,ut,mt,xt,at,vt,bt=0,Pt=0;const Tt=[],wt=[],Ue=[];let We=qe.tooComplexToFollowFunctions,nt=!1,et=0,ht=0;for(let Gt=rt.length;tt<Gt;){const It=rt[tt++];if(It===64)if(mt=rt[tt++],nt||ht)tt+=mt;else for(ut=0;ut<mt;ut++)Tt.push(rt[tt++]);else if(It===65)if(mt=rt[tt++],nt||ht)tt+=mt*2;else for(ut=0;ut<mt;ut++)xt=rt[tt++],Tt.push(xt<<8|rt[tt++]);else if((It&248)===176)if(mt=It-176+1,nt||ht)tt+=mt;else for(ut=0;ut<mt;ut++)Tt.push(rt[tt++]);else if((It&248)===184)if(mt=It-184+1,nt||ht)tt+=mt*2;else for(ut=0;ut<mt;ut++)xt=rt[tt++],Tt.push(xt<<8|rt[tt++]);else if(It===43&&!We){if(!nt&&!ht){if(at=Tt.at(-1),isNaN(at))(0,n.info)("TT: CALL empty stack (or invalid entry).");else if(qe.functionsUsed[at]=!0,at in qe.functionsStackDeltas){const Ft=Tt.length+qe.functionsStackDeltas[at];if(Ft<0){(0,n.warn)("TT: CALL invalid functions stack delta."),qe.hintsValid=!1;return}Tt.length=Ft}else if(at in qe.functionsDefined&&!Ue.includes(at)){if(wt.push({data:rt,i:tt,stackTop:Tt.length-1}),Ue.push(at),vt=qe.functionsDefined[at],!vt){(0,n.warn)("TT: CALL non-existent function"),qe.hintsValid=!1;return}rt=vt.data,tt=vt.i}}}else if(It===44&&!We)(nt||ht)&&((0,n.warn)("TT: nested FDEFs not allowed"),We=!0),nt=!0,Pt=tt,at=Tt.pop(),qe.functionsDefined[at]={data:rt,i:tt};else if(It===45)if(nt)nt=!1,bt=tt;else{if(vt=wt.pop(),!vt){(0,n.warn)("TT: ENDF bad stack"),qe.hintsValid=!1;return}at=Ue.pop(),rt=vt.data,tt=vt.i,qe.functionsStackDeltas[at]=Tt.length-vt.stackTop}else if(It===137)(nt||ht)&&((0,n.warn)("TT: nested IDEFs not allowed"),We=!0),nt=!0,Pt=tt;else if(It===88)++et;else if(It===27)ht=et;else if(It===89)ht===et&&(ht=0),--et;else if(It===28&&!nt&&!ht){const Ft=Tt.at(-1);Ft>0&&(tt+=Ft-1)}if(!nt&&!ht){let Ft=0;for(It<=142?Ft=Me[It]:It>=192&&It<=223?Ft=-1:It>=224&&(Ft=-2),It>=113&&It<=117&&(mt=Tt.pop(),isNaN(mt)||(Ft=-mt*2));Ft<0&&Tt.length>0;)Tt.pop(),Ft++;for(;Ft>0;)Tt.push(NaN),Ft--}}qe.tooComplexToFollowFunctions=We;const _t=[rt];tt>rt.length&&_t.push(new Uint8Array(tt-rt.length)),Pt>bt&&((0,n.warn)("TT: complementing a missing function tail"),_t.push(new Uint8Array([34,45]))),Be(Qe,_t)}function Le(Qe,qe){if(!Qe.tooComplexToFollowFunctions){if(Qe.functionsDefined.length>qe){(0,n.warn)("TT: more functions defined than expected"),Qe.hintsValid=!1;return}for(let rt=0,tt=Qe.functionsUsed.length;rt<tt;rt++){if(rt>qe){(0,n.warn)("TT: invalid function id: "+rt),Qe.hintsValid=!1;return}if(Qe.functionsUsed[rt]&&!Qe.functionsDefined[rt]){(0,n.warn)("TT: undefined function: "+rt),Qe.hintsValid=!1;return}}}}function Be(Qe,qe){if(qe.length>1){let rt=0,tt,ut;for(tt=0,ut=qe.length;tt<ut;tt++)rt+=qe[tt].length;rt=rt+3&-4;const mt=new Uint8Array(rt);let xt=0;for(tt=0,ut=qe.length;tt<ut;tt++)mt.set(qe[tt],xt),xt+=qe[tt].length;Qe.data=mt,Qe.length=rt}}function Ae(Qe,qe,rt,tt){const ut={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(Qe&&Te(Qe,ut),qe&&Te(qe,ut),Qe&&Le(ut,tt),rt&&rt.length&1){const mt=new Uint8Array(rt.length+1);mt.set(rt.data),rt.data=mt}return ut.hintsValid}ge=new y.Stream(new Uint8Array(ge.getBytes()));let we,Ce;if(k(ge)){const Qe=be(ge,this.name);we=Qe.header,Ce=Qe.tables}else we=ke(ge),Ce=ye(ge,we.numTables);let De,Ge;const He=!Ce["CFF "];if(He){if(!Ce.loca)throw new n.FormatError('Required "loca" table is not found');Ce.glyf||((0,n.warn)('Required "glyf" table is not found -- trying to recover.'),Ce.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1}else{const Qe=he.composite&&((he.cidToGidMap||[]).length>0||!(he.cMap instanceof T.IdentityCMap));if(we.version==="OTTO"&&!Qe||!Ce.head||!Ce.hhea||!Ce.maxp||!Ce.post)return Ge=new y.Stream(Ce["CFF "].data),De=new O.CFFFont(Ge,he),G(he),this.convert(ue,De,he);delete Ce.glyf,delete Ce.loca,delete Ce.fpgm,delete Ce.prep,delete Ce["cvt "],this.isOpenType=!0}if(!Ce.maxp)throw new n.FormatError('Required "maxp" table is not found');ge.pos=(ge.start||0)+Ce.maxp.offset;const Ze=ge.getInt32(),Ye=ge.getUint16();if(he.scaleFactors&&he.scaleFactors.length===Ye&&He){const{scaleFactors:Qe}=he,qe=x(Ce.head.data[50],Ce.head.data[51]),rt=new o.GlyfTable({glyfTable:Ce.glyf.data,isGlyphLocationsLong:qe,locaTable:Ce.loca.data,numGlyphs:Ye});rt.scale(Qe);const{glyf:tt,loca:ut,isLocationLong:mt}=rt.write();Ce.glyf.data=tt,Ce.loca.data=ut,mt!==!!qe&&(Ce.head.data[50]=0,Ce.head.data[51]=mt?1:0);const xt=Ce.hmtx.data;for(let at=0;at<Ye;at++){const vt=4*at,bt=Math.round(Qe[at]*x(xt[vt],xt[vt+1]));xt[vt]=bt>>8&255,xt[vt+1]=bt&255;const Pt=Math.round(Qe[at]*W(xt[vt+2],xt[vt+3]));S(xt,vt+2,Pt)}}let je=Ye+1,it=!0;je>65535&&(it=!1,je=Ye,(0,n.warn)("Not enough space in glyfs to duplicate first glyph."));let dt=0,ze=0;Ze>=65536&&Ce.maxp.length>=22&&(ge.pos+=8,ge.getUint16()>2&&(Ce.maxp.data[14]=0,Ce.maxp.data[15]=2),ge.pos+=4,dt=ge.getUint16(),ge.pos+=4,ze=ge.getUint16()),Ce.maxp.data[4]=je>>8,Ce.maxp.data[5]=je&255;const lt=Ae(Ce.fpgm,Ce.prep,Ce["cvt "],dt);if(lt||(delete Ce.fpgm,delete Ce.prep,delete Ce["cvt "]),Oe(ge,Ce.hhea,Ce.hmtx,Ce.head,je,it),!Ce.head)throw new n.FormatError('Required "head" table is not found');Re(Ce.head,Ye,He?Ce.loca.length:0);let ot=Object.create(null);if(He){const Qe=x(Ce.head.data[50],Ce.head.data[51]),qe=Ne(Ce.loca,Ce.glyf,Ye,Qe,lt,it,ze);ot=qe.missingGlyphs,Ze>=65536&&Ce.maxp.length>=22&&(Ce.maxp.data[26]=qe.maxSizeOfInstructions>>8,Ce.maxp.data[27]=qe.maxSizeOfInstructions&255)}if(!Ce.hhea)throw new n.FormatError('Required "hhea" table is not found');Ce.hhea.data[10]===0&&Ce.hhea.data[11]===0&&(Ce.hhea.data[10]=255,Ce.hhea.data[11]=255);const ft={unitsPerEm:x(Ce.head.data[18],Ce.head.data[19]),yMax:x(Ce.head.data[42],Ce.head.data[43]),yMin:W(Ce.head.data[38],Ce.head.data[39]),ascent:W(Ce.hhea.data[4],Ce.hhea.data[5]),descent:W(Ce.hhea.data[6],Ce.hhea.data[7]),lineGap:W(Ce.hhea.data[8],Ce.hhea.data[9])};this.ascent=ft.ascent/ft.unitsPerEm,this.descent=ft.descent/ft.unitsPerEm,this.lineGap=ft.lineGap/ft.unitsPerEm,this.cssFontInfo&&this.cssFontInfo.lineHeight?(this.lineHeight=this.cssFontInfo.metrics.lineHeight,this.lineGap=this.cssFontInfo.metrics.lineGap):this.lineHeight=this.ascent-this.descent+this.lineGap,Ce.post&&Pe(Ce.post,he,Ye),Ce.post={tag:"post",data:ee(he)};const St=[];function Et(Qe){return!ot[Qe]}if(he.composite){const Qe=he.cidToGidMap||[],qe=Qe.length===0;he.cMap.forEach(function(rt,tt){if(typeof tt=="string"&&(tt=$(rt,tt,!0)),tt>65535)throw new n.FormatError("Max size of CID is 65,535");let ut=-1;qe?ut=tt:Qe[tt]!==void 0&&(ut=Qe[tt]),ut>=0&&ut<Ye&&Et(ut)&&(St[rt]=ut)})}else{const Qe=Ee(Ce.cmap,ge,this.isSymbolicFont,he.hasEncoding),qe=Qe.platformId,rt=Qe.encodingId,tt=Qe.mappings,ut=tt.length;let mt=[],xt=!1;if(he.hasEncoding&&(he.baseEncodingName==="MacRomanEncoding"||he.baseEncodingName==="WinAnsiEncoding")&&(mt=(0,E.getEncoding)(he.baseEncodingName)),he.hasEncoding&&!this.isSymbolicFont&&(qe===3&&rt===1||qe===1&&rt===0)){const at=(0,e.getGlyphsUnicode)();for(let vt=0;vt<256;vt++){let bt;if(this.differences[vt]!==void 0?bt=this.differences[vt]:mt.length&&mt[vt]!==""?bt=mt[vt]:bt=E.StandardEncoding[vt],!bt)continue;const Pt=(0,C.recoverGlyphName)(bt,at);let Tt;if(qe===3&&rt===1?Tt=at[Pt]:qe===1&&rt===0&&(Tt=E.MacRomanEncoding.indexOf(Pt)),Tt===void 0){if(!he.glyphNames&&he.hasIncludedToUnicodeMap&&!(this.toUnicode instanceof B.IdentityToUnicodeMap)){const wt=this.toUnicode.get(vt);wt&&(Tt=wt.codePointAt(0))}if(Tt===void 0)continue}for(let wt=0;wt<ut;++wt)if(tt[wt].charCode===Tt){St[vt]=tt[wt].glyphId;break}}}else if(qe===0){for(let at=0;at<ut;++at)St[tt[at].charCode]=tt[at].glyphId;xt=!0}else for(let at=0;at<ut;++at){let vt=tt[at].charCode;qe===3&&vt>=61440&&vt<=61695&&(vt&=255),St[vt]=tt[at].glyphId}if(he.glyphNames&&(mt.length||this.differences.length))for(let at=0;at<256;++at){if(!xt&&St[at]!==void 0)continue;const vt=this.differences[at]||mt[at];if(!vt)continue;const bt=he.glyphNames.indexOf(vt);bt>0&&Et(bt)&&(St[at]=bt)}}St.length===0&&(St[0]=0);let pt=je-1;if(it||(pt=0),!he.cssFontInfo){const Qe=X(St,Et,pt,this.toUnicode);this.toFontChar=Qe.toFontChar,Ce.cmap={tag:"cmap",data:ce(Qe.charCodeToGlyphId,Qe.toUnicodeExtraMap,je)},(!Ce["OS/2"]||!se(Ce["OS/2"],ge))&&(Ce["OS/2"]={tag:"OS/2",data:K(he,Qe.charCodeToGlyphId,ft)})}if(!He)try{Ge=new y.Stream(Ce["CFF "].data),De=new c.CFFParser(Ge,he,C.SEAC_ANALYSIS_ENABLED).parse(),De.duplicateFirstGlyph();const qe=new c.CFFCompiler(De);Ce["CFF "].data=qe.compile()}catch{(0,n.warn)("Failed to compile font "+he.loadedName)}if(!Ce.name)Ce.name={tag:"name",data:oe(this.name)};else{const Qe=Ie(Ce.name);Ce.name.data=oe(ue,Qe),this.psName=Qe[0][6]||null}const Ht=new D.OpenTypeFileBuilder(we.version);for(const Qe in Ce)Ht.addTable(Qe,Ce[Qe].data);return Ht.toArray()}convert(ue,ge,he){he.fixedPitch=!1,he.builtInEncoding&&R(he,he.builtInEncoding);let xe=1;ge instanceof O.CFFFont&&(xe=ge.numGlyphs-1);const ye=ge.getGlyphMapping(he);let ve=null,ke=ye,Se=null;he.cssFontInfo||(ve=X(ye,ge.hasGlyphId.bind(ge),xe,this.toUnicode),this.toFontChar=ve.toFontChar,ke=ve.charCodeToGlyphId,Se=ve.toUnicodeExtraMap);const be=ge.numGlyphs;function Ee(Pe,Ie){let Me=null;for(const Te in Pe)Ie===Pe[Te]&&(Me||(Me=[]),Me.push(Te|0));return Me}function Oe(Pe,Ie){for(const Me in Pe)if(Ie===Pe[Me])return Me|0;return ve.charCodeToGlyphId[ve.nextAvailableFontCharCode]=Ie,ve.nextAvailableFontCharCode++}const Fe=ge.seacs;if(ve&&C.SEAC_ANALYSIS_ENABLED&&Fe&&Fe.length){const Pe=he.fontMatrix||n.FONT_IDENTITY_MATRIX,Ie=ge.getCharset(),Me=Object.create(null);for(let Te in Fe){Te|=0;const Le=Fe[Te],Be=E.StandardEncoding[Le[2]],Ae=E.StandardEncoding[Le[3]],we=Ie.indexOf(Be),Ce=Ie.indexOf(Ae);if(we<0||Ce<0)continue;const De={x:Le[0]*Pe[0]+Le[1]*Pe[2]+Pe[4],y:Le[0]*Pe[1]+Le[1]*Pe[3]+Pe[5]},Ge=Ee(ye,Te);if(!!Ge)for(let He=0,Ze=Ge.length;He<Ze;He++){const Ye=Ge[He],je=ve.charCodeToGlyphId,it=Oe(je,we),dt=Oe(je,Ce);Me[Ye]={baseFontCharCode:it,accentFontCharCode:dt,accentOffset:De}}}he.seacMap=Me}const Re=1/(he.fontMatrix||n.FONT_IDENTITY_MATRIX)[0],Ne=new D.OpenTypeFileBuilder("OTTO");return Ne.addTable("CFF ",ge.data),Ne.addTable("OS/2",K(he,ke)),Ne.addTable("cmap",ce(ke,Se,be)),Ne.addTable("head","\0\0\0\0\0\0\0\0\0\0_<\xF5\0\0"+re(Re)+"\0\0\0\0\x9E\v~'\0\0\0\0\x9E\v~'\0\0"+re(he.descent)+"\xFF"+re(he.ascent)+z(he.italicAngle?2:0)+"\0\0\0\0\0\0\0"),Ne.addTable("hhea","\0\0\0"+re(he.ascent)+re(he.descent)+"\0\0\xFF\xFF\0\0\0\0\0\0"+re(he.capHeight)+re(Math.tan(he.italicAngle)*he.xHeight)+"\0\0\0\0\0\0\0\0\0\0\0\0"+z(be)),Ne.addTable("hmtx",function(){const Ie=ge.charstrings,Me=ge.cff?ge.cff.widths:null;let Te="\0\0\0\0";for(let Le=1,Be=be;Le<Be;Le++){let Ae=0;if(Ie){const we=Ie[Le-1];Ae="width"in we?we.width:0}else Me&&(Ae=Math.ceil(Me[Le]||0));Te+=z(Ae)+z(0)}return Te}()),Ne.addTable("maxp","\0\0P\0"+z(be)),Ne.addTable("name",oe(ue)),Ne.addTable("post",ee(he)),Ne.toArray()}get spaceWidth(){const ue=["space","minus","one","i","I"];let ge;for(let he=0,xe=ue.length;he<xe;he++){const ye=ue[he];if(ye in this.widths){ge=this.widths[ye];break}const ke=(0,e.getGlyphsUnicode)()[ye];let Se=0;if(this.composite&&this.cMap.contains(ke)&&(Se=this.cMap.lookup(ke),typeof Se=="string"&&(Se=$(ke,Se))),!Se&&this.toUnicode&&(Se=this.toUnicode.charCodeOf(ke)),Se<=0&&(Se=ke),ge=this.widths[Se],ge)break}return ge=ge||this.defaultWidth,(0,n.shadow)(this,"spaceWidth",ge)}_charToGlyph(ue){let ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,he,xe,ye,ve=ue;this.cMap&&this.cMap.contains(ue)&&(ve=this.cMap.lookup(ue),typeof ve=="string"&&(ve=$(ue,ve))),xe=this.widths[ve],typeof xe!="number"&&(xe=this.defaultWidth);const ke=this.vmetrics&&this.vmetrics[ve];let Se=this.toUnicode.get(ue)||ue;typeof Se=="number"&&(Se=String.fromCharCode(Se));let be=this.toFontChar[ue]!==void 0;if(he=this.toFontChar[ue]||ue,this.missingFile){const Re=this.differences[ue]||this.defaultEncoding[ue];(Re===".notdef"||Re==="")&&this.type==="Type1"&&(he=32),he=(0,m.mapSpecialUnicodeValues)(he)}this.isType3Font&&(ye=he);let Ee=null;if(this.seacMap&&this.seacMap[ue]){be=!0;const Re=this.seacMap[ue];he=Re.baseFontCharCode,Ee={fontChar:String.fromCodePoint(Re.accentFontCharCode),offset:Re.accentOffset}}let Oe="";typeof he=="number"&&(he<=1114111?Oe=String.fromCodePoint(he):(0,n.warn)(`charToGlyph - invalid fontCharCode: ${he}`));let Fe=this._glyphCache[ue];return(!Fe||!Fe.matchesForCache(ue,Oe,Se,Ee,xe,ke,ye,ge,be))&&(Fe=new L(ue,Oe,Se,Ee,xe,ke,ye,ge,be),this._glyphCache[ue]=Fe),Fe}charsToGlyphs(ue){let ge=this._charsCache[ue];if(ge)return ge;if(ge=[],this.cMap){const he=Object.create(null),xe=ue.length;let ye=0;for(;ye<xe;){this.cMap.readCharCode(ue,ye,he);const{charcode:ve,length:ke}=he;ye+=ke;const Se=this._charToGlyph(ve,ke===1&&ue.charCodeAt(ye-1)===32);ge.push(Se)}}else for(let he=0,xe=ue.length;he<xe;++he){const ye=ue.charCodeAt(he),ve=this._charToGlyph(ye,ye===32);ge.push(ve)}return this._charsCache[ue]=ge}getCharPositions(ue){const ge=[];if(this.cMap){const he=Object.create(null);let xe=0;for(;xe<ue.length;){this.cMap.readCharCode(ue,xe,he);const ye=he.length;ge.push([xe,xe+ye]),xe+=ye}}else for(let he=0,xe=ue.length;he<xe;++he)ge.push([he,he+1]);return ge}get glyphCacheValues(){return Object.values(this._glyphCache)}encodeString(ue){const ge=[],he=[],xe=()=>ge.length%2===1,ye=this.toUnicode instanceof B.IdentityToUnicodeMap?ve=>this.toUnicode.charCodeOf(ve):ve=>this.toUnicode.charCodeOf(String.fromCodePoint(ve));for(let ve=0,ke=ue.length;ve<ke;ve++){const Se=ue.codePointAt(ve);if(Se>55295&&(Se<57344||Se>65533)&&ve++,this.toUnicode){const be=ye(Se);if(be!==-1){xe()&&(ge.push(he.join("")),he.length=0);const Ee=this.cMap?this.cMap.getCharCodeLength(be):1;for(let Oe=Ee-1;Oe>=0;Oe--)he.push(String.fromCharCode(be>>8*Oe&255));continue}}xe()||(ge.push(he.join("")),he.length=0),he.push(String.fromCodePoint(Se))}return ge.push(he.join("")),ge}}s.Font=le;class pe{constructor(ue){this.error=ue,this.loadedName="g_font_error",this.missingFile=!0}charsToGlyphs(){return[]}encodeString(ue){return[ue]}exportData(){return{error:this.error}}}s.ErrorFont=pe},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CFFTopDict=s.CFFStrings=s.CFFStandardStrings=s.CFFPrivateDict=s.CFFParser=s.CFFIndex=s.CFFHeader=s.CFFFDSelect=s.CFFCompiler=s.CFFCharset=s.CFF=void 0;var n=u(2),c=u(161),C=u(162);const m=10,e=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"];s.CFFStandardStrings=e;const E=391,A=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],B=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn(L,x){L[x-2]=L[x-2]+L[x-1]}},{id:"sub",min:2,stackDelta:-1,stackFn(L,x){L[x-2]=L[x-2]-L[x-1]}},{id:"div",min:2,stackDelta:-1,stackFn(L,x){L[x-2]=L[x-2]/L[x-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn(L,x){L[x-1]=-L[x-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn(L,x){L[x-2]=L[x-2]*L[x-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}];class O{constructor(x,S,W){this.bytes=x.getBytes(),this.properties=S,this.seacAnalysisEnabled=!!W}parse(){const x=this.properties,S=new v;this.cff=S;const W=this.parseHeader(),U=this.parseIndex(W.endPos),z=this.parseIndex(U.endPos),re=this.parseIndex(z.endPos),J=this.parseIndex(re.endPos),k=this.parseDict(z.obj.get(0)),H=this.createDict(y,k,S.strings);S.header=W.obj,S.names=this.parseNameIndex(U.obj),S.strings=this.parseStringIndex(re.obj),S.topDict=H,S.globalSubrIndex=J.obj,this.parsePrivateDict(S.topDict),S.isCIDFont=H.hasName("ROS");const Z=H.getByName("CharStrings"),Q=this.parseIndex(Z).obj,V=H.getByName("FontMatrix");V&&(x.fontMatrix=V);const Y=H.getByName("FontBBox");Y&&(x.ascent=Math.max(Y[3],Y[1]),x.descent=Math.min(Y[1],Y[3]),x.ascentScaled=!0);let te,$;if(S.isCIDFont){const ne=this.parseIndex(H.getByName("FDArray")).obj;for(let ce=0,se=ne.count;ce<se;++ce){const K=ne.get(ce),ee=this.createDict(y,this.parseDict(K),S.strings);this.parsePrivateDict(ee),S.fdArray.push(ee)}$=null,te=this.parseCharsets(H.getByName("charset"),Q.count,S.strings,!0),S.fdSelect=this.parseFDSelect(H.getByName("FDSelect"),Q.count)}else te=this.parseCharsets(H.getByName("charset"),Q.count,S.strings,!1),$=this.parseEncoding(H.getByName("Encoding"),x,S.strings,te.charset);S.charset=te,S.encoding=$;const X=this.parseCharStrings({charStrings:Q,localSubrIndex:H.privateDict.subrsIndex,globalSubrIndex:J.obj,fdSelect:S.fdSelect,fdArray:S.fdArray,privateDict:H.privateDict});return S.charStrings=X.charStrings,S.seacs=X.seacs,S.widths=X.widths,S}parseHeader(){let x=this.bytes;const S=x.length;let W=0;for(;W<S&&x[W]!==1;)++W;if(W>=S)throw new n.FormatError("Invalid CFF header");W!==0&&((0,n.info)("cff data is shifted"),x=x.subarray(W),this.bytes=x);const U=x[0],z=x[1],re=x[2],J=x[3];return{obj:new b(U,z,re,J),endPos:re}}parseDict(x){let S=0;function W(){let k=x[S++];return k===30?U():k===28?(k=x[S++],k=(k<<24|x[S++]<<16)>>16,k):k===29?(k=x[S++],k=k<<8|x[S++],k=k<<8|x[S++],k=k<<8|x[S++],k):k>=32&&k<=246?k-139:k>=247&&k<=250?(k-247)*256+x[S++]+108:k>=251&&k<=254?-((k-251)*256)-x[S++]-108:((0,n.warn)('CFFParser_parseDict: "'+k+'" is a reserved command.'),NaN)}function U(){let k="";const Z=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],Q=x.length;for(;S<Q;){const V=x[S++],Y=V>>4,te=V&15;if(Y===15||(k+=Z[Y],te===15))break;k+=Z[te]}return parseFloat(k)}let z=[];const re=[];S=0;const J=x.length;for(;S<J;){let k=x[S];k<=21?(k===12&&(k=k<<8|x[++S]),re.push([k,z]),z=[],++S):z.push(W())}return re}parseIndex(x){const S=new T,W=this.bytes,U=W[x++]<<8|W[x++],z=[];let re=x,J,k;if(U!==0){const H=W[x++],Z=x+(U+1)*H-1;for(J=0,k=U+1;J<k;++J){let Q=0;for(let V=0;V<H;++V)Q<<=8,Q+=W[x++];z.push(Z+Q)}re=z[U]}for(J=0,k=z.length-1;J<k;++J){const H=z[J],Z=z[J+1];S.add(W.subarray(H,Z))}return{obj:S,endPos:re}}parseNameIndex(x){const S=[];for(let W=0,U=x.count;W<U;++W){const z=x.get(W);S.push((0,n.bytesToString)(z))}return S}parseStringIndex(x){const S=new o;for(let W=0,U=x.count;W<U;++W){const z=x.get(W);S.add((0,n.bytesToString)(z))}return S}createDict(x,S,W){const U=new x(W);for(let z=0,re=S.length;z<re;++z){const J=S[z],k=J[0],H=J[1];U.setByKey(k,H)}return U}parseCharString(x,S,W,U){if(!S||x.callDepth>m)return!1;let z=x.stackSize;const re=x.stack,J=S.length;for(let k=0;k<J;){const H=S[k++];let Z=null;if(H===12){const Q=S[k++];Q===0?(S[k-2]=139,S[k-1]=22,z=0):Z=B[Q]}else if(H===28)re[z]=(S[k]<<24|S[k+1]<<16)>>16,k+=2,z++;else if(H===14){if(z>=4&&(z-=4,this.seacAnalysisEnabled))return x.seac=re.slice(z,z+4),!1;Z=A[H]}else if(H>=32&&H<=246)re[z]=H-139,z++;else if(H>=247&&H<=254)re[z]=H<251?(H-247<<8)+S[k]+108:-(H-251<<8)-S[k]-108,k++,z++;else if(H===255)re[z]=(S[k]<<24|S[k+1]<<16|S[k+2]<<8|S[k+3])/65536,k+=4,z++;else if(H===19||H===20)x.hints+=z>>1,k+=x.hints+7>>3,z%=2,Z=A[H];else if(H===10||H===29){let Q;if(H===10?Q=W:Q=U,!Q)return Z=A[H],(0,n.warn)("Missing subrsIndex for "+Z.id),!1;let V=32768;Q.count<1240?V=107:Q.count<33900&&(V=1131);const Y=re[--z]+V;if(Y<0||Y>=Q.count||isNaN(Y))return Z=A[H],(0,n.warn)("Out of bounds subrIndex for "+Z.id),!1;if(x.stackSize=z,x.callDepth++,!this.parseCharString(x,Q.get(Y),W,U))return!1;x.callDepth--,z=x.stackSize;continue}else{if(H===11)return x.stackSize=z,!0;H===0&&k===S.length?(S[k-1]=14,Z=A[14]):Z=A[H]}if(Z){if(Z.stem&&(x.hints+=z>>1,H===3||H===23?x.hasVStems=!0:x.hasVStems&&(H===1||H===18)&&((0,n.warn)("CFF stem hints are in wrong order"),S[k-1]=H===1?3:23)),"min"in Z&&!x.undefStack&&z<Z.min)return(0,n.warn)("Not enough parameters for "+Z.id+"; actual: "+z+", expected: "+Z.min),z===0?(S[k-1]=14,!0):!1;x.firstStackClearing&&Z.stackClearing&&(x.firstStackClearing=!1,z-=Z.min,z>=2&&Z.stem?z%=2:z>1&&(0,n.warn)("Found too many parameters for stack-clearing command"),z>0&&(x.width=re[z-1])),"stackDelta"in Z?("stackFn"in Z&&Z.stackFn(re,z),z+=Z.stackDelta):Z.stackClearing?z=0:Z.resetStack?(z=0,x.undefStack=!1):Z.undefStack&&(z=0,x.undefStack=!0,x.firstStackClearing=!1)}}return x.stackSize=z,!0}parseCharStrings(x){let{charStrings:S,localSubrIndex:W,globalSubrIndex:U,fdSelect:z,fdArray:re,privateDict:J}=x;const k=[],H=[],Z=S.count;for(let Q=0;Q<Z;Q++){const V=S.get(Q),Y={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null,hasVStems:!1};let te=!0,$=null,X=J;if(z&&re.length){const ne=z.getFDIndex(Q);ne===-1&&((0,n.warn)("Glyph index is not in fd select."),te=!1),ne>=re.length&&((0,n.warn)("Invalid fd index for glyph index."),te=!1),te&&(X=re[ne].privateDict,$=X.subrsIndex)}else W&&($=W);if(te&&(te=this.parseCharString(Y,V,$,U)),Y.width!==null){const ne=X.getByName("nominalWidthX");H[Q]=ne+Y.width}else{const ne=X.getByName("defaultWidthX");H[Q]=ne}Y.seac!==null&&(k[Q]=Y.seac),te||S.set(Q,new Uint8Array([14]))}return{charStrings:S,seacs:k,widths:H}}emptyPrivateDictionary(x){const S=this.createDict(w,[],x.strings);x.setByKey(18,[0,0]),x.privateDict=S}parsePrivateDict(x){if(!x.hasName("Private")){this.emptyPrivateDictionary(x);return}const S=x.getByName("Private");if(!Array.isArray(S)||S.length!==2){x.removeByName("Private");return}const W=S[0],U=S[1];if(W===0||U>=this.bytes.length){this.emptyPrivateDictionary(x);return}const z=U+W,re=this.bytes.subarray(U,z),J=this.parseDict(re),k=this.createDict(w,J,x.strings);if(x.privateDict=k,!k.getByName("Subrs"))return;const H=k.getByName("Subrs"),Z=U+H;if(H===0||Z>=this.bytes.length){this.emptyPrivateDictionary(x);return}const Q=this.parseIndex(Z);k.subrsIndex=Q.obj}parseCharsets(x,S,W,U){if(x===0)return new q(!0,M.ISO_ADOBE,c.ISOAdobeCharset);if(x===1)return new q(!0,M.EXPERT,c.ExpertCharset);if(x===2)return new q(!0,M.EXPERT_SUBSET,c.ExpertSubsetCharset);const z=this.bytes,re=x,J=z[x++],k=[U?0:".notdef"];let H,Z,Q;switch(S-=1,J){case 0:for(Q=0;Q<S;Q++)H=z[x++]<<8|z[x++],k.push(U?H:W.get(H));break;case 1:for(;k.length<=S;)for(H=z[x++]<<8|z[x++],Z=z[x++],Q=0;Q<=Z;Q++)k.push(U?H++:W.get(H++));break;case 2:for(;k.length<=S;)for(H=z[x++]<<8|z[x++],Z=z[x++]<<8|z[x++],Q=0;Q<=Z;Q++)k.push(U?H++:W.get(H++));break;default:throw new n.FormatError("Unknown charset format")}const V=x,Y=z.subarray(re,V);return new q(!1,J,k,Y)}parseEncoding(x,S,W,U){const z=Object.create(null),re=this.bytes;let J=!1,k,H,Z,Q=null;function V(){const Y=re[x++];for(H=0;H<Y;H++){const te=re[x++],$=(re[x++]<<8)+(re[x++]&255);z[te]=U.indexOf(W.get($))}}if(x===0||x===1){J=!0,k=x;const Y=x?C.ExpertEncoding:C.StandardEncoding;for(H=0,Z=U.length;H<Z;H++){const te=Y.indexOf(U[H]);te!==-1&&(z[te]=H)}}else{const Y=x;switch(k=re[x++],k&127){case 0:const $=re[x++];for(H=1;H<=$;H++)z[re[x++]]=H;break;case 1:const X=re[x++];let ne=1;for(H=0;H<X;H++){const ce=re[x++],se=re[x++];for(let K=ce;K<=ce+se;K++)z[K]=ne++}break;default:throw new n.FormatError(`Unknown encoding format: ${k} in CFF`)}const te=x;k&128&&(re[Y]&=127,V()),Q=re.subarray(Y,te)}return k&=127,new F(J,k,z,Q)}parseFDSelect(x,S){const W=this.bytes,U=W[x++],z=[];let re;switch(U){case 0:for(re=0;re<S;++re){const k=W[x++];z.push(k)}break;case 3:const J=W[x++]<<8|W[x++];for(re=0;re<J;++re){let k=W[x++]<<8|W[x++];re===0&&k!==0&&((0,n.warn)("parseFDSelect: The first range must have a first GID of 0 -- trying to recover."),k=0);const H=W[x++],Z=W[x]<<8|W[x+1];for(let Q=k;Q<Z;++Q)z.push(H)}x+=2;break;default:throw new n.FormatError(`parseFDSelect: Unknown format "${U}".`)}if(z.length!==S)throw new n.FormatError("parseFDSelect: Invalid font data.");return new G(U,z)}}s.CFFParser=O;class v{constructor(){this.header=null,this.names=[],this.topDict=null,this.strings=new o,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}duplicateFirstGlyph(){if(this.charStrings.count>=65535){(0,n.warn)("Not enough space in charstrings to duplicate first glyph.");return}const x=this.charStrings.get(0);this.charStrings.add(x),this.isCIDFont&&this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0])}hasGlyphId(x){return x<0||x>=this.charStrings.count?!1:this.charStrings.get(x).length>0}}s.CFF=v;class b{constructor(x,S,W,U){this.major=x,this.minor=S,this.hdrSize=W,this.offSize=U}}s.CFFHeader=b;class o{constructor(){this.strings=[]}get(x){return x>=0&&x<=E-1?e[x]:x-E<=this.strings.length?this.strings[x-E]:e[0]}getSID(x){let S=e.indexOf(x);return S!==-1?S:(S=this.strings.indexOf(x),S!==-1?S+E:-1)}add(x){this.strings.push(x)}get count(){return this.strings.length}}s.CFFStrings=o;class T{constructor(){this.objects=[],this.length=0}add(x){this.length+=x.length,this.objects.push(x)}set(x,S){this.length+=S.length-this.objects[x].length,this.objects[x]=S}get(x){return this.objects[x]}get count(){return this.objects.length}}s.CFFIndex=T;class D{constructor(x,S){this.keyToNameMap=x.keyToNameMap,this.nameToKeyMap=x.nameToKeyMap,this.defaults=x.defaults,this.types=x.types,this.opcodes=x.opcodes,this.order=x.order,this.strings=S,this.values=Object.create(null)}setByKey(x,S){if(!(x in this.keyToNameMap))return!1;const W=S.length;if(W===0)return!0;for(let z=0;z<W;z++)if(isNaN(S[z]))return(0,n.warn)('Invalid CFFDict value: "'+S+'" for key "'+x+'".'),!0;const U=this.types[x];return(U==="num"||U==="sid"||U==="offset")&&(S=S[0]),this.values[x]=S,!0}setByName(x,S){if(!(x in this.nameToKeyMap))throw new n.FormatError(`Invalid dictionary name "${x}"`);this.values[this.nameToKeyMap[x]]=S}hasName(x){return this.nameToKeyMap[x]in this.values}getByName(x){if(!(x in this.nameToKeyMap))throw new n.FormatError(`Invalid dictionary name ${x}"`);const S=this.nameToKeyMap[x];return S in this.values?this.values[S]:this.defaults[S]}removeByName(x){delete this.values[this.nameToKeyMap[x]]}static createTables(x){const S={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]};for(let W=0,U=x.length;W<U;++W){const z=x[W],re=Array.isArray(z[0])?(z[0][0]<<8)+z[0][1]:z[0];S.keyToNameMap[re]=z[1],S.nameToKeyMap[z[1]]=re,S.types[re]=z[2],S.defaults[re]=z[3],S.opcodes[re]=Array.isArray(z[0])?z[0]:[z[0]],S.order.push(re)}return S}}const _=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]];class y extends D{static get tables(){return(0,n.shadow)(this,"tables",this.createTables(_))}constructor(x){super(y.tables,x),this.privateDict=null}}s.CFFTopDict=y;const P=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]];class w extends D{static get tables(){return(0,n.shadow)(this,"tables",this.createTables(P))}constructor(x){super(w.tables,x),this.subrsIndex=null}}s.CFFPrivateDict=w;const M={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2};class q{constructor(x,S,W,U){this.predefined=x,this.format=S,this.charset=W,this.raw=U}}s.CFFCharset=q;class F{constructor(x,S,W,U){this.predefined=x,this.format=S,this.encoding=W,this.raw=U}}class G{constructor(x,S){this.format=x,this.fdSelect=S}getFDIndex(x){return x<0||x>=this.fdSelect.length?-1:this.fdSelect[x]}}s.CFFFDSelect=G;class R{constructor(){this.offsets=Object.create(null)}isTracking(x){return x in this.offsets}track(x,S){if(x in this.offsets)throw new n.FormatError(`Already tracking location of ${x}`);this.offsets[x]=S}offset(x){for(const S in this.offsets)this.offsets[S]+=x}setEntryLocation(x,S,W){if(!(x in this.offsets))throw new n.FormatError(`Not tracking location of ${x}`);const U=W.data,z=this.offsets[x],re=5;for(let J=0,k=S.length;J<k;++J){const H=J*re+z,Z=H+1,Q=H+2,V=H+3,Y=H+4;if(U[H]!==29||U[Z]!==0||U[Q]!==0||U[V]!==0||U[Y]!==0)throw new n.FormatError("writing to an offset that is not empty");const te=S[J];U[H]=29,U[Z]=te>>24&255,U[Q]=te>>16&255,U[V]=te>>8&255,U[Y]=te&255}}}class I{constructor(x){this.cff=x}compile(){const x=this.cff,S={data:[],length:0,add(V){this.data=this.data.concat(V),this.length=this.data.length}},W=this.compileHeader(x.header);S.add(W);const U=this.compileNameIndex(x.names);if(S.add(U),x.isCIDFont&&x.topDict.hasName("FontMatrix")){const V=x.topDict.getByName("FontMatrix");x.topDict.removeByName("FontMatrix");for(let Y=0,te=x.fdArray.length;Y<te;Y++){const $=x.fdArray[Y];let X=V.slice(0);$.hasName("FontMatrix")&&(X=n.Util.transform(X,$.getByName("FontMatrix"))),$.setByName("FontMatrix",X)}}const z=x.topDict.getByName("XUID");z&&z.length>16&&x.topDict.removeByName("XUID"),x.topDict.setByName("charset",0);let re=this.compileTopDicts([x.topDict],S.length,x.isCIDFont);S.add(re.output);const J=re.trackers[0],k=this.compileStringIndex(x.strings.strings);S.add(k);const H=this.compileIndex(x.globalSubrIndex);if(S.add(H),x.encoding&&x.topDict.hasName("Encoding"))if(x.encoding.predefined)J.setEntryLocation("Encoding",[x.encoding.format],S);else{const V=this.compileEncoding(x.encoding);J.setEntryLocation("Encoding",[S.length],S),S.add(V)}const Z=this.compileCharset(x.charset,x.charStrings.count,x.strings,x.isCIDFont);J.setEntryLocation("charset",[S.length],S),S.add(Z);const Q=this.compileCharStrings(x.charStrings);if(J.setEntryLocation("CharStrings",[S.length],S),S.add(Q),x.isCIDFont){J.setEntryLocation("FDSelect",[S.length],S);const V=this.compileFDSelect(x.fdSelect);S.add(V),re=this.compileTopDicts(x.fdArray,S.length,!0),J.setEntryLocation("FDArray",[S.length],S),S.add(re.output);const Y=re.trackers;this.compilePrivateDicts(x.fdArray,Y,S)}return this.compilePrivateDicts([x.topDict],[J],S),S.add([0]),S.data}encodeNumber(x){return Number.isInteger(x)?this.encodeInteger(x):this.encodeFloat(x)}static get EncodeFloatRegExp(){return(0,n.shadow)(this,"EncodeFloatRegExp",/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/)}encodeFloat(x){let S=x.toString();const W=I.EncodeFloatRegExp.exec(S);if(W){const k=parseFloat("1e"+((W[2]?+W[2]:0)+W[1].length));S=(Math.round(x*k)/k).toString()}let U="",z,re;for(z=0,re=S.length;z<re;++z){const k=S[z];k==="e"?U+=S[++z]==="-"?"c":"b":k==="."?U+="a":k==="-"?U+="e":U+=k}U+=U.length&1?"f":"ff";const J=[30];for(z=0,re=U.length;z<re;z+=2)J.push(parseInt(U.substring(z,z+2),16));return J}encodeInteger(x){let S;return x>=-107&&x<=107?S=[x+139]:x>=108&&x<=1131?(x-=108,S=[(x>>8)+247,x&255]):x>=-1131&&x<=-108?(x=-x-108,S=[(x>>8)+251,x&255]):x>=-32768&&x<=32767?S=[28,x>>8&255,x&255]:S=[29,x>>24&255,x>>16&255,x>>8&255,x&255],S}compileHeader(x){return[x.major,x.minor,4,x.offSize]}compileNameIndex(x){const S=new T;for(let W=0,U=x.length;W<U;++W){const z=x[W],re=Math.min(z.length,127);let J=new Array(re);for(let k=0;k<re;k++){let H=z[k];(H<"!"||H>"~"||H==="["||H==="]"||H==="("||H===")"||H==="{"||H==="}"||H==="<"||H===">"||H==="/"||H==="%")&&(H="_"),J[k]=H}J=J.join(""),J===""&&(J="Bad_Font_Name"),S.add((0,n.stringToBytes)(J))}return this.compileIndex(S)}compileTopDicts(x,S,W){const U=[];let z=new T;for(let re=0,J=x.length;re<J;++re){const k=x[re];W&&(k.removeByName("CIDFontVersion"),k.removeByName("CIDFontRevision"),k.removeByName("CIDFontType"),k.removeByName("CIDCount"),k.removeByName("UIDBase"));const H=new R,Z=this.compileDict(k,H);U.push(H),z.add(Z),H.offset(S)}return z=this.compileIndex(z,U),{trackers:U,output:z}}compilePrivateDicts(x,S,W){for(let U=0,z=x.length;U<z;++U){const re=x[U],J=re.privateDict;if(!J||!re.hasName("Private"))throw new n.FormatError("There must be a private dictionary.");const k=new R,H=this.compileDict(J,k);let Z=W.length;if(k.offset(Z),H.length||(Z=0),S[U].setEntryLocation("Private",[H.length,Z],W),W.add(H),J.subrsIndex&&J.hasName("Subrs")){const Q=this.compileIndex(J.subrsIndex);k.setEntryLocation("Subrs",[H.length],W),W.add(Q)}}}compileDict(x,S){const W=[];for(const U of x.order){if(!(U in x.values))continue;let z=x.values[U],re=x.types[U];if(Array.isArray(re)||(re=[re]),Array.isArray(z)||(z=[z]),z.length!==0){for(let J=0,k=re.length;J<k;++J){const H=re[J],Z=z[J];switch(H){case"num":case"sid":W.push(...this.encodeNumber(Z));break;case"offset":const Q=x.keyToNameMap[U];S.isTracking(Q)||S.track(Q,W.length),W.push(29,0,0,0,0);break;case"array":case"delta":W.push(...this.encodeNumber(Z));for(let V=1,Y=z.length;V<Y;++V)W.push(...this.encodeNumber(z[V]));break;default:throw new n.FormatError(`Unknown data type of ${H}`)}}W.push(...x.opcodes[U])}}return W}compileStringIndex(x){const S=new T;for(let W=0,U=x.length;W<U;++W)S.add((0,n.stringToBytes)(x[W]));return this.compileIndex(S)}compileGlobalSubrIndex(){const x=this.cff.globalSubrIndex;this.out.writeByteArray(this.compileIndex(x))}compileCharStrings(x){const S=new T;for(let W=0;W<x.count;W++){const U=x.get(W);if(U.length===0){S.add(new Uint8Array([139,14]));continue}S.add(U)}return this.compileIndex(S)}compileCharset(x,S,W,U){let z;const re=S-1;if(U)z=new Uint8Array([2,0,0,re>>8&255,re&255]);else{const J=1+re*2;z=new Uint8Array(J),z[0]=0;let k=0;const H=x.charset.length;let Z=!1;for(let Q=1;Q<z.length;Q+=2){let V=0;if(k<H){const Y=x.charset[k++];V=W.getSID(Y),V===-1&&(V=0,Z||(Z=!0,(0,n.warn)(`Couldn't find ${Y} in CFF strings`)))}z[Q]=V>>8&255,z[Q+1]=V&255}}return this.compileTypedArray(z)}compileEncoding(x){return this.compileTypedArray(x.raw)}compileFDSelect(x){const S=x.format;let W,U;switch(S){case 0:for(W=new Uint8Array(1+x.fdSelect.length),W[0]=S,U=0;U<x.fdSelect.length;U++)W[U+1]=x.fdSelect[U];break;case 3:const z=0;let re=x.fdSelect[0];const J=[S,0,0,z>>8&255,z&255,re];for(U=1;U<x.fdSelect.length;U++){const H=x.fdSelect[U];H!==re&&(J.push(U>>8&255,U&255,H),re=H)}const k=(J.length-3)/3;J[1]=k>>8&255,J[2]=k&255,J.push(U>>8&255,U&255),W=new Uint8Array(J);break}return this.compileTypedArray(W)}compileTypedArray(x){const S=[];for(let W=0,U=x.length;W<U;++W)S[W]=x[W];return S}compileIndex(x){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const W=x.objects,U=W.length;if(U===0)return[0,0];const z=[U>>8&255,U&255];let re=1,J;for(J=0;J<U;++J)re+=W[J].length;let k;re<256?k=1:re<65536?k=2:re<16777216?k=3:k=4,z.push(k);let H=1;for(J=0;J<U+1;J++)k===1?z.push(H&255):k===2?z.push(H>>8&255,H&255):k===3?z.push(H>>16&255,H>>8&255,H&255):z.push(H>>>24&255,H>>16&255,H>>8&255,H&255),W[J]&&(H+=W[J].length);for(J=0;J<U;J++){S[J]&&S[J].offset(z.length);for(let Z=0,Q=W[J].length;Z<Q;Z++)z.push(W[J][Z])}return z}}s.CFFCompiler=I},(d,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ISOAdobeCharset=s.ExpertSubsetCharset=s.ExpertCharset=void 0;const u=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"];s.ISOAdobeCharset=u;const n=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];s.ExpertCharset=n;const c=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"];s.ExpertSubsetCharset=c},(d,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ZapfDingbatsEncoding=s.WinAnsiEncoding=s.SymbolSetEncoding=s.StandardEncoding=s.MacRomanEncoding=s.ExpertEncoding=void 0,s.getEncoding=A;const u=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];s.ExpertEncoding=u;const n=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall","","","",""],c=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"];s.MacRomanEncoding=c;const C=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls","","","",""];s.StandardEncoding=C;const m=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"];s.WinAnsiEncoding=m;const e=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt",""];s.SymbolSetEncoding=e;const E=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191",""];s.ZapfDingbatsEncoding=E;function A(B){switch(B){case"WinAnsiEncoding":return m;case"StandardEncoding":return C;case"MacRomanEncoding":return c;case"SymbolSetEncoding":return e;case"ZapfDingbatsEncoding":return E;case"ExpertEncoding":return u;case"MacExpertEncoding":return n;default:return null}}},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SEAC_ANALYSIS_ENABLED=s.MacStandardGlyphOrdering=s.FontFlags=void 0,s.getFontType=B,s.normalizeFontName=b,s.recoverGlyphName=O,s.type1FontGlyphMapping=v;var n=u(2),c=u(162),C=u(164),m=u(165);const e=!0;s.SEAC_ANALYSIS_ENABLED=e;const E={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144};s.FontFlags=E;const A=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];s.MacStandardGlyphOrdering=A;function B(o,T){let D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;switch(o){case"Type1":return D?n.FontType.TYPE1STANDARD:T==="Type1C"?n.FontType.TYPE1C:n.FontType.TYPE1;case"CIDFontType0":return T==="CIDFontType0C"?n.FontType.CIDFONTTYPE0C:n.FontType.CIDFONTTYPE0;case"OpenType":return n.FontType.OPENTYPE;case"TrueType":return n.FontType.TRUETYPE;case"CIDFontType2":return n.FontType.CIDFONTTYPE2;case"MMType1":return n.FontType.MMTYPE1;case"Type0":return n.FontType.TYPE0;default:return n.FontType.UNKNOWN}}function O(o,T){if(T[o]!==void 0)return o;const D=(0,m.getUnicodeForGlyph)(o,T);if(D!==-1){for(const _ in T)if(T[_]===D)return _}return(0,n.info)("Unable to recover a standard glyph name for: "+o),o}function v(o,T,D){const _=Object.create(null);let y,P,w;const M=!!(o.flags&E.Symbolic);if(o.isInternalFont)for(w=T,P=0;P<w.length;P++)y=D.indexOf(w[P]),y>=0?_[P]=y:_[P]=0;else if(o.baseEncodingName)for(w=(0,c.getEncoding)(o.baseEncodingName),P=0;P<w.length;P++)y=D.indexOf(w[P]),y>=0?_[P]=y:_[P]=0;else if(M)for(P in T)_[P]=T[P];else for(w=c.StandardEncoding,P=0;P<w.length;P++)y=D.indexOf(w[P]),y>=0?_[P]=y:_[P]=0;const q=o.differences;let F;if(q)for(P in q){const G=q[P];if(y=D.indexOf(G),y===-1){F||(F=(0,C.getGlyphsUnicode)());const R=O(G,F);R!==G&&(y=D.indexOf(R))}y>=0?_[P]=y:_[P]=0}return _}function b(o){return o.replace(/[,_]/g,"-").replace(/\s/g,"")}},(d,s,u)=>{u.r(s),u.d(s,{getDingbatsGlyphsUnicode:()=>C,getGlyphsUnicode:()=>c});var n=u(131);const c=(0,n.getArrayLookupTableFactory)(function(){return["A",65,"AE",198,"AEacute",508,"AEmacron",482,"AEsmall",63462,"Aacute",193,"Aacutesmall",63457,"Abreve",258,"Abreveacute",7854,"Abrevecyrillic",1232,"Abrevedotbelow",7862,"Abrevegrave",7856,"Abrevehookabove",7858,"Abrevetilde",7860,"Acaron",461,"Acircle",9398,"Acircumflex",194,"Acircumflexacute",7844,"Acircumflexdotbelow",7852,"Acircumflexgrave",7846,"Acircumflexhookabove",7848,"Acircumflexsmall",63458,"Acircumflextilde",7850,"Acute",63177,"Acutesmall",63412,"Acyrillic",1040,"Adblgrave",512,"Adieresis",196,"Adieresiscyrillic",1234,"Adieresismacron",478,"Adieresissmall",63460,"Adotbelow",7840,"Adotmacron",480,"Agrave",192,"Agravesmall",63456,"Ahookabove",7842,"Aiecyrillic",1236,"Ainvertedbreve",514,"Alpha",913,"Alphatonos",902,"Amacron",256,"Amonospace",65313,"Aogonek",260,"Aring",197,"Aringacute",506,"Aringbelow",7680,"Aringsmall",63461,"Asmall",63329,"Atilde",195,"Atildesmall",63459,"Aybarmenian",1329,"B",66,"Bcircle",9399,"Bdotaccent",7682,"Bdotbelow",7684,"Becyrillic",1041,"Benarmenian",1330,"Beta",914,"Bhook",385,"Blinebelow",7686,"Bmonospace",65314,"Brevesmall",63220,"Bsmall",63330,"Btopbar",386,"C",67,"Caarmenian",1342,"Cacute",262,"Caron",63178,"Caronsmall",63221,"Ccaron",268,"Ccedilla",199,"Ccedillaacute",7688,"Ccedillasmall",63463,"Ccircle",9400,"Ccircumflex",264,"Cdot",266,"Cdotaccent",266,"Cedillasmall",63416,"Chaarmenian",1353,"Cheabkhasiancyrillic",1212,"Checyrillic",1063,"Chedescenderabkhasiancyrillic",1214,"Chedescendercyrillic",1206,"Chedieresiscyrillic",1268,"Cheharmenian",1347,"Chekhakassiancyrillic",1227,"Cheverticalstrokecyrillic",1208,"Chi",935,"Chook",391,"Circumflexsmall",63222,"Cmonospace",65315,"Coarmenian",1361,"Csmall",63331,"D",68,"DZ",497,"DZcaron",452,"Daarmenian",1332,"Dafrican",393,"Dcaron",270,"Dcedilla",7696,"Dcircle",9401,"Dcircumflexbelow",7698,"Dcroat",272,"Ddotaccent",7690,"Ddotbelow",7692,"Decyrillic",1044,"Deicoptic",1006,"Delta",8710,"Deltagreek",916,"Dhook",394,"Dieresis",63179,"DieresisAcute",63180,"DieresisGrave",63181,"Dieresissmall",63400,"Digammagreek",988,"Djecyrillic",1026,"Dlinebelow",7694,"Dmonospace",65316,"Dotaccentsmall",63223,"Dslash",272,"Dsmall",63332,"Dtopbar",395,"Dz",498,"Dzcaron",453,"Dzeabkhasiancyrillic",1248,"Dzecyrillic",1029,"Dzhecyrillic",1039,"E",69,"Eacute",201,"Eacutesmall",63465,"Ebreve",276,"Ecaron",282,"Ecedillabreve",7708,"Echarmenian",1333,"Ecircle",9402,"Ecircumflex",202,"Ecircumflexacute",7870,"Ecircumflexbelow",7704,"Ecircumflexdotbelow",7878,"Ecircumflexgrave",7872,"Ecircumflexhookabove",7874,"Ecircumflexsmall",63466,"Ecircumflextilde",7876,"Ecyrillic",1028,"Edblgrave",516,"Edieresis",203,"Edieresissmall",63467,"Edot",278,"Edotaccent",278,"Edotbelow",7864,"Efcyrillic",1060,"Egrave",200,"Egravesmall",63464,"Eharmenian",1335,"Ehookabove",7866,"Eightroman",8551,"Einvertedbreve",518,"Eiotifiedcyrillic",1124,"Elcyrillic",1051,"Elevenroman",8554,"Emacron",274,"Emacronacute",7702,"Emacrongrave",7700,"Emcyrillic",1052,"Emonospace",65317,"Encyrillic",1053,"Endescendercyrillic",1186,"Eng",330,"Enghecyrillic",1188,"Enhookcyrillic",1223,"Eogonek",280,"Eopen",400,"Epsilon",917,"Epsilontonos",904,"Ercyrillic",1056,"Ereversed",398,"Ereversedcyrillic",1069,"Escyrillic",1057,"Esdescendercyrillic",1194,"Esh",425,"Esmall",63333,"Eta",919,"Etarmenian",1336,"Etatonos",905,"Eth",208,"Ethsmall",63472,"Etilde",7868,"Etildebelow",7706,"Euro",8364,"Ezh",439,"Ezhcaron",494,"Ezhreversed",440,"F",70,"Fcircle",9403,"Fdotaccent",7710,"Feharmenian",1366,"Feicoptic",996,"Fhook",401,"Fitacyrillic",1138,"Fiveroman",8548,"Fmonospace",65318,"Fourroman",8547,"Fsmall",63334,"G",71,"GBsquare",13191,"Gacute",500,"Gamma",915,"Gammaafrican",404,"Gangiacoptic",1002,"Gbreve",286,"Gcaron",486,"Gcedilla",290,"Gcircle",9404,"Gcircumflex",284,"Gcommaaccent",290,"Gdot",288,"Gdotaccent",288,"Gecyrillic",1043,"Ghadarmenian",1346,"Ghemiddlehookcyrillic",1172,"Ghestrokecyrillic",1170,"Gheupturncyrillic",1168,"Ghook",403,"Gimarmenian",1331,"Gjecyrillic",1027,"Gmacron",7712,"Gmonospace",65319,"Grave",63182,"Gravesmall",63328,"Gsmall",63335,"Gsmallhook",667,"Gstroke",484,"H",72,"H18533",9679,"H18543",9642,"H18551",9643,"H22073",9633,"HPsquare",13259,"Haabkhasiancyrillic",1192,"Hadescendercyrillic",1202,"Hardsigncyrillic",1066,"Hbar",294,"Hbrevebelow",7722,"Hcedilla",7720,"Hcircle",9405,"Hcircumflex",292,"Hdieresis",7718,"Hdotaccent",7714,"Hdotbelow",7716,"Hmonospace",65320,"Hoarmenian",1344,"Horicoptic",1e3,"Hsmall",63336,"Hungarumlaut",63183,"Hungarumlautsmall",63224,"Hzsquare",13200,"I",73,"IAcyrillic",1071,"IJ",306,"IUcyrillic",1070,"Iacute",205,"Iacutesmall",63469,"Ibreve",300,"Icaron",463,"Icircle",9406,"Icircumflex",206,"Icircumflexsmall",63470,"Icyrillic",1030,"Idblgrave",520,"Idieresis",207,"Idieresisacute",7726,"Idieresiscyrillic",1252,"Idieresissmall",63471,"Idot",304,"Idotaccent",304,"Idotbelow",7882,"Iebrevecyrillic",1238,"Iecyrillic",1045,"Ifraktur",8465,"Igrave",204,"Igravesmall",63468,"Ihookabove",7880,"Iicyrillic",1048,"Iinvertedbreve",522,"Iishortcyrillic",1049,"Imacron",298,"Imacroncyrillic",1250,"Imonospace",65321,"Iniarmenian",1339,"Iocyrillic",1025,"Iogonek",302,"Iota",921,"Iotaafrican",406,"Iotadieresis",938,"Iotatonos",906,"Ismall",63337,"Istroke",407,"Itilde",296,"Itildebelow",7724,"Izhitsacyrillic",1140,"Izhitsadblgravecyrillic",1142,"J",74,"Jaarmenian",1345,"Jcircle",9407,"Jcircumflex",308,"Jecyrillic",1032,"Jheharmenian",1355,"Jmonospace",65322,"Jsmall",63338,"K",75,"KBsquare",13189,"KKsquare",13261,"Kabashkircyrillic",1184,"Kacute",7728,"Kacyrillic",1050,"Kadescendercyrillic",1178,"Kahookcyrillic",1219,"Kappa",922,"Kastrokecyrillic",1182,"Kaverticalstrokecyrillic",1180,"Kcaron",488,"Kcedilla",310,"Kcircle",9408,"Kcommaaccent",310,"Kdotbelow",7730,"Keharmenian",1364,"Kenarmenian",1343,"Khacyrillic",1061,"Kheicoptic",998,"Khook",408,"Kjecyrillic",1036,"Klinebelow",7732,"Kmonospace",65323,"Koppacyrillic",1152,"Koppagreek",990,"Ksicyrillic",1134,"Ksmall",63339,"L",76,"LJ",455,"LL",63167,"Lacute",313,"Lambda",923,"Lcaron",317,"Lcedilla",315,"Lcircle",9409,"Lcircumflexbelow",7740,"Lcommaaccent",315,"Ldot",319,"Ldotaccent",319,"Ldotbelow",7734,"Ldotbelowmacron",7736,"Liwnarmenian",1340,"Lj",456,"Ljecyrillic",1033,"Llinebelow",7738,"Lmonospace",65324,"Lslash",321,"Lslashsmall",63225,"Lsmall",63340,"M",77,"MBsquare",13190,"Macron",63184,"Macronsmall",63407,"Macute",7742,"Mcircle",9410,"Mdotaccent",7744,"Mdotbelow",7746,"Menarmenian",1348,"Mmonospace",65325,"Msmall",63341,"Mturned",412,"Mu",924,"N",78,"NJ",458,"Nacute",323,"Ncaron",327,"Ncedilla",325,"Ncircle",9411,"Ncircumflexbelow",7754,"Ncommaaccent",325,"Ndotaccent",7748,"Ndotbelow",7750,"Nhookleft",413,"Nineroman",8552,"Nj",459,"Njecyrillic",1034,"Nlinebelow",7752,"Nmonospace",65326,"Nowarmenian",1350,"Nsmall",63342,"Ntilde",209,"Ntildesmall",63473,"Nu",925,"O",79,"OE",338,"OEsmall",63226,"Oacute",211,"Oacutesmall",63475,"Obarredcyrillic",1256,"Obarreddieresiscyrillic",1258,"Obreve",334,"Ocaron",465,"Ocenteredtilde",415,"Ocircle",9412,"Ocircumflex",212,"Ocircumflexacute",7888,"Ocircumflexdotbelow",7896,"Ocircumflexgrave",7890,"Ocircumflexhookabove",7892,"Ocircumflexsmall",63476,"Ocircumflextilde",7894,"Ocyrillic",1054,"Odblacute",336,"Odblgrave",524,"Odieresis",214,"Odieresiscyrillic",1254,"Odieresissmall",63478,"Odotbelow",7884,"Ogoneksmall",63227,"Ograve",210,"Ogravesmall",63474,"Oharmenian",1365,"Ohm",8486,"Ohookabove",7886,"Ohorn",416,"Ohornacute",7898,"Ohorndotbelow",7906,"Ohorngrave",7900,"Ohornhookabove",7902,"Ohorntilde",7904,"Ohungarumlaut",336,"Oi",418,"Oinvertedbreve",526,"Omacron",332,"Omacronacute",7762,"Omacrongrave",7760,"Omega",8486,"Omegacyrillic",1120,"Omegagreek",937,"Omegaroundcyrillic",1146,"Omegatitlocyrillic",1148,"Omegatonos",911,"Omicron",927,"Omicrontonos",908,"Omonospace",65327,"Oneroman",8544,"Oogonek",490,"Oogonekmacron",492,"Oopen",390,"Oslash",216,"Oslashacute",510,"Oslashsmall",63480,"Osmall",63343,"Ostrokeacute",510,"Otcyrillic",1150,"Otilde",213,"Otildeacute",7756,"Otildedieresis",7758,"Otildesmall",63477,"P",80,"Pacute",7764,"Pcircle",9413,"Pdotaccent",7766,"Pecyrillic",1055,"Peharmenian",1354,"Pemiddlehookcyrillic",1190,"Phi",934,"Phook",420,"Pi",928,"Piwrarmenian",1363,"Pmonospace",65328,"Psi",936,"Psicyrillic",1136,"Psmall",63344,"Q",81,"Qcircle",9414,"Qmonospace",65329,"Qsmall",63345,"R",82,"Raarmenian",1356,"Racute",340,"Rcaron",344,"Rcedilla",342,"Rcircle",9415,"Rcommaaccent",342,"Rdblgrave",528,"Rdotaccent",7768,"Rdotbelow",7770,"Rdotbelowmacron",7772,"Reharmenian",1360,"Rfraktur",8476,"Rho",929,"Ringsmall",63228,"Rinvertedbreve",530,"Rlinebelow",7774,"Rmonospace",65330,"Rsmall",63346,"Rsmallinverted",641,"Rsmallinvertedsuperior",694,"S",83,"SF010000",9484,"SF020000",9492,"SF030000",9488,"SF040000",9496,"SF050000",9532,"SF060000",9516,"SF070000",9524,"SF080000",9500,"SF090000",9508,"SF100000",9472,"SF110000",9474,"SF190000",9569,"SF200000",9570,"SF210000",9558,"SF220000",9557,"SF230000",9571,"SF240000",9553,"SF250000",9559,"SF260000",9565,"SF270000",9564,"SF280000",9563,"SF360000",9566,"SF370000",9567,"SF380000",9562,"SF390000",9556,"SF400000",9577,"SF410000",9574,"SF420000",9568,"SF430000",9552,"SF440000",9580,"SF450000",9575,"SF460000",9576,"SF470000",9572,"SF480000",9573,"SF490000",9561,"SF500000",9560,"SF510000",9554,"SF520000",9555,"SF530000",9579,"SF540000",9578,"Sacute",346,"Sacutedotaccent",7780,"Sampigreek",992,"Scaron",352,"Scarondotaccent",7782,"Scaronsmall",63229,"Scedilla",350,"Schwa",399,"Schwacyrillic",1240,"Schwadieresiscyrillic",1242,"Scircle",9416,"Scircumflex",348,"Scommaaccent",536,"Sdotaccent",7776,"Sdotbelow",7778,"Sdotbelowdotaccent",7784,"Seharmenian",1357,"Sevenroman",8550,"Shaarmenian",1351,"Shacyrillic",1064,"Shchacyrillic",1065,"Sheicoptic",994,"Shhacyrillic",1210,"Shimacoptic",1004,"Sigma",931,"Sixroman",8549,"Smonospace",65331,"Softsigncyrillic",1068,"Ssmall",63347,"Stigmagreek",986,"T",84,"Tau",932,"Tbar",358,"Tcaron",356,"Tcedilla",354,"Tcircle",9417,"Tcircumflexbelow",7792,"Tcommaaccent",354,"Tdotaccent",7786,"Tdotbelow",7788,"Tecyrillic",1058,"Tedescendercyrillic",1196,"Tenroman",8553,"Tetsecyrillic",1204,"Theta",920,"Thook",428,"Thorn",222,"Thornsmall",63486,"Threeroman",8546,"Tildesmall",63230,"Tiwnarmenian",1359,"Tlinebelow",7790,"Tmonospace",65332,"Toarmenian",1337,"Tonefive",444,"Tonesix",388,"Tonetwo",423,"Tretroflexhook",430,"Tsecyrillic",1062,"Tshecyrillic",1035,"Tsmall",63348,"Twelveroman",8555,"Tworoman",8545,"U",85,"Uacute",218,"Uacutesmall",63482,"Ubreve",364,"Ucaron",467,"Ucircle",9418,"Ucircumflex",219,"Ucircumflexbelow",7798,"Ucircumflexsmall",63483,"Ucyrillic",1059,"Udblacute",368,"Udblgrave",532,"Udieresis",220,"Udieresisacute",471,"Udieresisbelow",7794,"Udieresiscaron",473,"Udieresiscyrillic",1264,"Udieresisgrave",475,"Udieresismacron",469,"Udieresissmall",63484,"Udotbelow",7908,"Ugrave",217,"Ugravesmall",63481,"Uhookabove",7910,"Uhorn",431,"Uhornacute",7912,"Uhorndotbelow",7920,"Uhorngrave",7914,"Uhornhookabove",7916,"Uhorntilde",7918,"Uhungarumlaut",368,"Uhungarumlautcyrillic",1266,"Uinvertedbreve",534,"Ukcyrillic",1144,"Umacron",362,"Umacroncyrillic",1262,"Umacrondieresis",7802,"Umonospace",65333,"Uogonek",370,"Upsilon",933,"Upsilon1",978,"Upsilonacutehooksymbolgreek",979,"Upsilonafrican",433,"Upsilondieresis",939,"Upsilondieresishooksymbolgreek",980,"Upsilonhooksymbol",978,"Upsilontonos",910,"Uring",366,"Ushortcyrillic",1038,"Usmall",63349,"Ustraightcyrillic",1198,"Ustraightstrokecyrillic",1200,"Utilde",360,"Utildeacute",7800,"Utildebelow",7796,"V",86,"Vcircle",9419,"Vdotbelow",7806,"Vecyrillic",1042,"Vewarmenian",1358,"Vhook",434,"Vmonospace",65334,"Voarmenian",1352,"Vsmall",63350,"Vtilde",7804,"W",87,"Wacute",7810,"Wcircle",9420,"Wcircumflex",372,"Wdieresis",7812,"Wdotaccent",7814,"Wdotbelow",7816,"Wgrave",7808,"Wmonospace",65335,"Wsmall",63351,"X",88,"Xcircle",9421,"Xdieresis",7820,"Xdotaccent",7818,"Xeharmenian",1341,"Xi",926,"Xmonospace",65336,"Xsmall",63352,"Y",89,"Yacute",221,"Yacutesmall",63485,"Yatcyrillic",1122,"Ycircle",9422,"Ycircumflex",374,"Ydieresis",376,"Ydieresissmall",63487,"Ydotaccent",7822,"Ydotbelow",7924,"Yericyrillic",1067,"Yerudieresiscyrillic",1272,"Ygrave",7922,"Yhook",435,"Yhookabove",7926,"Yiarmenian",1349,"Yicyrillic",1031,"Yiwnarmenian",1362,"Ymonospace",65337,"Ysmall",63353,"Ytilde",7928,"Yusbigcyrillic",1130,"Yusbigiotifiedcyrillic",1132,"Yuslittlecyrillic",1126,"Yuslittleiotifiedcyrillic",1128,"Z",90,"Zaarmenian",1334,"Zacute",377,"Zcaron",381,"Zcaronsmall",63231,"Zcircle",9423,"Zcircumflex",7824,"Zdot",379,"Zdotaccent",379,"Zdotbelow",7826,"Zecyrillic",1047,"Zedescendercyrillic",1176,"Zedieresiscyrillic",1246,"Zeta",918,"Zhearmenian",1338,"Zhebrevecyrillic",1217,"Zhecyrillic",1046,"Zhedescendercyrillic",1174,"Zhedieresiscyrillic",1244,"Zlinebelow",7828,"Zmonospace",65338,"Zsmall",63354,"Zstroke",437,"a",97,"aabengali",2438,"aacute",225,"aadeva",2310,"aagujarati",2694,"aagurmukhi",2566,"aamatragurmukhi",2622,"aarusquare",13059,"aavowelsignbengali",2494,"aavowelsigndeva",2366,"aavowelsigngujarati",2750,"abbreviationmarkarmenian",1375,"abbreviationsigndeva",2416,"abengali",2437,"abopomofo",12570,"abreve",259,"abreveacute",7855,"abrevecyrillic",1233,"abrevedotbelow",7863,"abrevegrave",7857,"abrevehookabove",7859,"abrevetilde",7861,"acaron",462,"acircle",9424,"acircumflex",226,"acircumflexacute",7845,"acircumflexdotbelow",7853,"acircumflexgrave",7847,"acircumflexhookabove",7849,"acircumflextilde",7851,"acute",180,"acutebelowcmb",791,"acutecmb",769,"acutecomb",769,"acutedeva",2388,"acutelowmod",719,"acutetonecmb",833,"acyrillic",1072,"adblgrave",513,"addakgurmukhi",2673,"adeva",2309,"adieresis",228,"adieresiscyrillic",1235,"adieresismacron",479,"adotbelow",7841,"adotmacron",481,"ae",230,"aeacute",509,"aekorean",12624,"aemacron",483,"afii00208",8213,"afii08941",8356,"afii10017",1040,"afii10018",1041,"afii10019",1042,"afii10020",1043,"afii10021",1044,"afii10022",1045,"afii10023",1025,"afii10024",1046,"afii10025",1047,"afii10026",1048,"afii10027",1049,"afii10028",1050,"afii10029",1051,"afii10030",1052,"afii10031",1053,"afii10032",1054,"afii10033",1055,"afii10034",1056,"afii10035",1057,"afii10036",1058,"afii10037",1059,"afii10038",1060,"afii10039",1061,"afii10040",1062,"afii10041",1063,"afii10042",1064,"afii10043",1065,"afii10044",1066,"afii10045",1067,"afii10046",1068,"afii10047",1069,"afii10048",1070,"afii10049",1071,"afii10050",1168,"afii10051",1026,"afii10052",1027,"afii10053",1028,"afii10054",1029,"afii10055",1030,"afii10056",1031,"afii10057",1032,"afii10058",1033,"afii10059",1034,"afii10060",1035,"afii10061",1036,"afii10062",1038,"afii10063",63172,"afii10064",63173,"afii10065",1072,"afii10066",1073,"afii10067",1074,"afii10068",1075,"afii10069",1076,"afii10070",1077,"afii10071",1105,"afii10072",1078,"afii10073",1079,"afii10074",1080,"afii10075",1081,"afii10076",1082,"afii10077",1083,"afii10078",1084,"afii10079",1085,"afii10080",1086,"afii10081",1087,"afii10082",1088,"afii10083",1089,"afii10084",1090,"afii10085",1091,"afii10086",1092,"afii10087",1093,"afii10088",1094,"afii10089",1095,"afii10090",1096,"afii10091",1097,"afii10092",1098,"afii10093",1099,"afii10094",1100,"afii10095",1101,"afii10096",1102,"afii10097",1103,"afii10098",1169,"afii10099",1106,"afii10100",1107,"afii10101",1108,"afii10102",1109,"afii10103",1110,"afii10104",1111,"afii10105",1112,"afii10106",1113,"afii10107",1114,"afii10108",1115,"afii10109",1116,"afii10110",1118,"afii10145",1039,"afii10146",1122,"afii10147",1138,"afii10148",1140,"afii10192",63174,"afii10193",1119,"afii10194",1123,"afii10195",1139,"afii10196",1141,"afii10831",63175,"afii10832",63176,"afii10846",1241,"afii299",8206,"afii300",8207,"afii301",8205,"afii57381",1642,"afii57388",1548,"afii57392",1632,"afii57393",1633,"afii57394",1634,"afii57395",1635,"afii57396",1636,"afii57397",1637,"afii57398",1638,"afii57399",1639,"afii57400",1640,"afii57401",1641,"afii57403",1563,"afii57407",1567,"afii57409",1569,"afii57410",1570,"afii57411",1571,"afii57412",1572,"afii57413",1573,"afii57414",1574,"afii57415",1575,"afii57416",1576,"afii57417",1577,"afii57418",1578,"afii57419",1579,"afii57420",1580,"afii57421",1581,"afii57422",1582,"afii57423",1583,"afii57424",1584,"afii57425",1585,"afii57426",1586,"afii57427",1587,"afii57428",1588,"afii57429",1589,"afii57430",1590,"afii57431",1591,"afii57432",1592,"afii57433",1593,"afii57434",1594,"afii57440",1600,"afii57441",1601,"afii57442",1602,"afii57443",1603,"afii57444",1604,"afii57445",1605,"afii57446",1606,"afii57448",1608,"afii57449",1609,"afii57450",1610,"afii57451",1611,"afii57452",1612,"afii57453",1613,"afii57454",1614,"afii57455",1615,"afii57456",1616,"afii57457",1617,"afii57458",1618,"afii57470",1607,"afii57505",1700,"afii57506",1662,"afii57507",1670,"afii57508",1688,"afii57509",1711,"afii57511",1657,"afii57512",1672,"afii57513",1681,"afii57514",1722,"afii57519",1746,"afii57534",1749,"afii57636",8362,"afii57645",1470,"afii57658",1475,"afii57664",1488,"afii57665",1489,"afii57666",1490,"afii57667",1491,"afii57668",1492,"afii57669",1493,"afii57670",1494,"afii57671",1495,"afii57672",1496,"afii57673",1497,"afii57674",1498,"afii57675",1499,"afii57676",1500,"afii57677",1501,"afii57678",1502,"afii57679",1503,"afii57680",1504,"afii57681",1505,"afii57682",1506,"afii57683",1507,"afii57684",1508,"afii57685",1509,"afii57686",1510,"afii57687",1511,"afii57688",1512,"afii57689",1513,"afii57690",1514,"afii57694",64298,"afii57695",64299,"afii57700",64331,"afii57705",64287,"afii57716",1520,"afii57717",1521,"afii57718",1522,"afii57723",64309,"afii57793",1460,"afii57794",1461,"afii57795",1462,"afii57796",1467,"afii57797",1464,"afii57798",1463,"afii57799",1456,"afii57800",1458,"afii57801",1457,"afii57802",1459,"afii57803",1474,"afii57804",1473,"afii57806",1465,"afii57807",1468,"afii57839",1469,"afii57841",1471,"afii57842",1472,"afii57929",700,"afii61248",8453,"afii61289",8467,"afii61352",8470,"afii61573",8236,"afii61574",8237,"afii61575",8238,"afii61664",8204,"afii63167",1645,"afii64937",701,"agrave",224,"agujarati",2693,"agurmukhi",2565,"ahiragana",12354,"ahookabove",7843,"aibengali",2448,"aibopomofo",12574,"aideva",2320,"aiecyrillic",1237,"aigujarati",2704,"aigurmukhi",2576,"aimatragurmukhi",2632,"ainarabic",1593,"ainfinalarabic",65226,"aininitialarabic",65227,"ainmedialarabic",65228,"ainvertedbreve",515,"aivowelsignbengali",2504,"aivowelsigndeva",2376,"aivowelsigngujarati",2760,"akatakana",12450,"akatakanahalfwidth",65393,"akorean",12623,"alef",1488,"alefarabic",1575,"alefdageshhebrew",64304,"aleffinalarabic",65166,"alefhamzaabovearabic",1571,"alefhamzaabovefinalarabic",65156,"alefhamzabelowarabic",1573,"alefhamzabelowfinalarabic",65160,"alefhebrew",1488,"aleflamedhebrew",64335,"alefmaddaabovearabic",1570,"alefmaddaabovefinalarabic",65154,"alefmaksuraarabic",1609,"alefmaksurafinalarabic",65264,"alefmaksurainitialarabic",65267,"alefmaksuramedialarabic",65268,"alefpatahhebrew",64302,"alefqamatshebrew",64303,"aleph",8501,"allequal",8780,"alpha",945,"alphatonos",940,"amacron",257,"amonospace",65345,"ampersand",38,"ampersandmonospace",65286,"ampersandsmall",63270,"amsquare",13250,"anbopomofo",12578,"angbopomofo",12580,"angbracketleft",12296,"angbracketright",12297,"angkhankhuthai",3674,"angle",8736,"anglebracketleft",12296,"anglebracketleftvertical",65087,"anglebracketright",12297,"anglebracketrightvertical",65088,"angleleft",9001,"angleright",9002,"angstrom",8491,"anoteleia",903,"anudattadeva",2386,"anusvarabengali",2434,"anusvaradeva",2306,"anusvaragujarati",2690,"aogonek",261,"apaatosquare",13056,"aparen",9372,"apostrophearmenian",1370,"apostrophemod",700,"apple",63743,"approaches",8784,"approxequal",8776,"approxequalorimage",8786,"approximatelyequal",8773,"araeaekorean",12686,"araeakorean",12685,"arc",8978,"arighthalfring",7834,"aring",229,"aringacute",507,"aringbelow",7681,"arrowboth",8596,"arrowdashdown",8675,"arrowdashleft",8672,"arrowdashright",8674,"arrowdashup",8673,"arrowdblboth",8660,"arrowdbldown",8659,"arrowdblleft",8656,"arrowdblright",8658,"arrowdblup",8657,"arrowdown",8595,"arrowdownleft",8601,"arrowdownright",8600,"arrowdownwhite",8681,"arrowheaddownmod",709,"arrowheadleftmod",706,"arrowheadrightmod",707,"arrowheadupmod",708,"arrowhorizex",63719,"arrowleft",8592,"arrowleftdbl",8656,"arrowleftdblstroke",8653,"arrowleftoverright",8646,"arrowleftwhite",8678,"arrowright",8594,"arrowrightdblstroke",8655,"arrowrightheavy",10142,"arrowrightoverleft",8644,"arrowrightwhite",8680,"arrowtableft",8676,"arrowtabright",8677,"arrowup",8593,"arrowupdn",8597,"arrowupdnbse",8616,"arrowupdownbase",8616,"arrowupleft",8598,"arrowupleftofdown",8645,"arrowupright",8599,"arrowupwhite",8679,"arrowvertex",63718,"asciicircum",94,"asciicircummonospace",65342,"asciitilde",126,"asciitildemonospace",65374,"ascript",593,"ascriptturned",594,"asmallhiragana",12353,"asmallkatakana",12449,"asmallkatakanahalfwidth",65383,"asterisk",42,"asteriskaltonearabic",1645,"asteriskarabic",1645,"asteriskmath",8727,"asteriskmonospace",65290,"asterisksmall",65121,"asterism",8258,"asuperior",63209,"asymptoticallyequal",8771,"at",64,"atilde",227,"atmonospace",65312,"atsmall",65131,"aturned",592,"aubengali",2452,"aubopomofo",12576,"audeva",2324,"augujarati",2708,"augurmukhi",2580,"aulengthmarkbengali",2519,"aumatragurmukhi",2636,"auvowelsignbengali",2508,"auvowelsigndeva",2380,"auvowelsigngujarati",2764,"avagrahadeva",2365,"aybarmenian",1377,"ayin",1506,"ayinaltonehebrew",64288,"ayinhebrew",1506,"b",98,"babengali",2476,"backslash",92,"backslashmonospace",65340,"badeva",2348,"bagujarati",2732,"bagurmukhi",2604,"bahiragana",12400,"bahtthai",3647,"bakatakana",12496,"bar",124,"barmonospace",65372,"bbopomofo",12549,"bcircle",9425,"bdotaccent",7683,"bdotbelow",7685,"beamedsixteenthnotes",9836,"because",8757,"becyrillic",1073,"beharabic",1576,"behfinalarabic",65168,"behinitialarabic",65169,"behiragana",12409,"behmedialarabic",65170,"behmeeminitialarabic",64671,"behmeemisolatedarabic",64520,"behnoonfinalarabic",64621,"bekatakana",12505,"benarmenian",1378,"bet",1489,"beta",946,"betasymbolgreek",976,"betdagesh",64305,"betdageshhebrew",64305,"bethebrew",1489,"betrafehebrew",64332,"bhabengali",2477,"bhadeva",2349,"bhagujarati",2733,"bhagurmukhi",2605,"bhook",595,"bihiragana",12403,"bikatakana",12499,"bilabialclick",664,"bindigurmukhi",2562,"birusquare",13105,"blackcircle",9679,"blackdiamond",9670,"blackdownpointingtriangle",9660,"blackleftpointingpointer",9668,"blackleftpointingtriangle",9664,"blacklenticularbracketleft",12304,"blacklenticularbracketleftvertical",65083,"blacklenticularbracketright",12305,"blacklenticularbracketrightvertical",65084,"blacklowerlefttriangle",9699,"blacklowerrighttriangle",9698,"blackrectangle",9644,"blackrightpointingpointer",9658,"blackrightpointingtriangle",9654,"blacksmallsquare",9642,"blacksmilingface",9787,"blacksquare",9632,"blackstar",9733,"blackupperlefttriangle",9700,"blackupperrighttriangle",9701,"blackuppointingsmalltriangle",9652,"blackuppointingtriangle",9650,"blank",9251,"blinebelow",7687,"block",9608,"bmonospace",65346,"bobaimaithai",3610,"bohiragana",12412,"bokatakana",12508,"bparen",9373,"bqsquare",13251,"braceex",63732,"braceleft",123,"braceleftbt",63731,"braceleftmid",63730,"braceleftmonospace",65371,"braceleftsmall",65115,"bracelefttp",63729,"braceleftvertical",65079,"braceright",125,"bracerightbt",63742,"bracerightmid",63741,"bracerightmonospace",65373,"bracerightsmall",65116,"bracerighttp",63740,"bracerightvertical",65080,"bracketleft",91,"bracketleftbt",63728,"bracketleftex",63727,"bracketleftmonospace",65339,"bracketlefttp",63726,"bracketright",93,"bracketrightbt",63739,"bracketrightex",63738,"bracketrightmonospace",65341,"bracketrighttp",63737,"breve",728,"brevebelowcmb",814,"brevecmb",774,"breveinvertedbelowcmb",815,"breveinvertedcmb",785,"breveinverteddoublecmb",865,"bridgebelowcmb",810,"bridgeinvertedbelowcmb",826,"brokenbar",166,"bstroke",384,"bsuperior",63210,"btopbar",387,"buhiragana",12406,"bukatakana",12502,"bullet",8226,"bulletinverse",9688,"bulletoperator",8729,"bullseye",9678,"c",99,"caarmenian",1390,"cabengali",2458,"cacute",263,"cadeva",2330,"cagujarati",2714,"cagurmukhi",2586,"calsquare",13192,"candrabindubengali",2433,"candrabinducmb",784,"candrabindudeva",2305,"candrabindugujarati",2689,"capslock",8682,"careof",8453,"caron",711,"caronbelowcmb",812,"caroncmb",780,"carriagereturn",8629,"cbopomofo",12568,"ccaron",269,"ccedilla",231,"ccedillaacute",7689,"ccircle",9426,"ccircumflex",265,"ccurl",597,"cdot",267,"cdotaccent",267,"cdsquare",13253,"cedilla",184,"cedillacmb",807,"cent",162,"centigrade",8451,"centinferior",63199,"centmonospace",65504,"centoldstyle",63394,"centsuperior",63200,"chaarmenian",1401,"chabengali",2459,"chadeva",2331,"chagujarati",2715,"chagurmukhi",2587,"chbopomofo",12564,"cheabkhasiancyrillic",1213,"checkmark",10003,"checyrillic",1095,"chedescenderabkhasiancyrillic",1215,"chedescendercyrillic",1207,"chedieresiscyrillic",1269,"cheharmenian",1395,"chekhakassiancyrillic",1228,"cheverticalstrokecyrillic",1209,"chi",967,"chieuchacirclekorean",12919,"chieuchaparenkorean",12823,"chieuchcirclekorean",12905,"chieuchkorean",12618,"chieuchparenkorean",12809,"chochangthai",3594,"chochanthai",3592,"chochingthai",3593,"chochoethai",3596,"chook",392,"cieucacirclekorean",12918,"cieucaparenkorean",12822,"cieuccirclekorean",12904,"cieuckorean",12616,"cieucparenkorean",12808,"cieucuparenkorean",12828,"circle",9675,"circlecopyrt",169,"circlemultiply",8855,"circleot",8857,"circleplus",8853,"circlepostalmark",12342,"circlewithlefthalfblack",9680,"circlewithrighthalfblack",9681,"circumflex",710,"circumflexbelowcmb",813,"circumflexcmb",770,"clear",8999,"clickalveolar",450,"clickdental",448,"clicklateral",449,"clickretroflex",451,"club",9827,"clubsuitblack",9827,"clubsuitwhite",9831,"cmcubedsquare",13220,"cmonospace",65347,"cmsquaredsquare",13216,"coarmenian",1409,"colon",58,"colonmonetary",8353,"colonmonospace",65306,"colonsign",8353,"colonsmall",65109,"colontriangularhalfmod",721,"colontriangularmod",720,"comma",44,"commaabovecmb",787,"commaaboverightcmb",789,"commaaccent",63171,"commaarabic",1548,"commaarmenian",1373,"commainferior",63201,"commamonospace",65292,"commareversedabovecmb",788,"commareversedmod",701,"commasmall",65104,"commasuperior",63202,"commaturnedabovecmb",786,"commaturnedmod",699,"compass",9788,"congruent",8773,"contourintegral",8750,"control",8963,"controlACK",6,"controlBEL",7,"controlBS",8,"controlCAN",24,"controlCR",13,"controlDC1",17,"controlDC2",18,"controlDC3",19,"controlDC4",20,"controlDEL",127,"controlDLE",16,"controlEM",25,"controlENQ",5,"controlEOT",4,"controlESC",27,"controlETB",23,"controlETX",3,"controlFF",12,"controlFS",28,"controlGS",29,"controlHT",9,"controlLF",10,"controlNAK",21,"controlNULL",0,"controlRS",30,"controlSI",15,"controlSO",14,"controlSOT",2,"controlSTX",1,"controlSUB",26,"controlSYN",22,"controlUS",31,"controlVT",11,"copyright",169,"copyrightsans",63721,"copyrightserif",63193,"cornerbracketleft",12300,"cornerbracketlefthalfwidth",65378,"cornerbracketleftvertical",65089,"cornerbracketright",12301,"cornerbracketrighthalfwidth",65379,"cornerbracketrightvertical",65090,"corporationsquare",13183,"cosquare",13255,"coverkgsquare",13254,"cparen",9374,"cruzeiro",8354,"cstretched",663,"curlyand",8911,"curlyor",8910,"currency",164,"cyrBreve",63185,"cyrFlex",63186,"cyrbreve",63188,"cyrflex",63189,"d",100,"daarmenian",1380,"dabengali",2470,"dadarabic",1590,"dadeva",2342,"dadfinalarabic",65214,"dadinitialarabic",65215,"dadmedialarabic",65216,"dagesh",1468,"dageshhebrew",1468,"dagger",8224,"daggerdbl",8225,"dagujarati",2726,"dagurmukhi",2598,"dahiragana",12384,"dakatakana",12480,"dalarabic",1583,"dalet",1491,"daletdagesh",64307,"daletdageshhebrew",64307,"dalethebrew",1491,"dalfinalarabic",65194,"dammaarabic",1615,"dammalowarabic",1615,"dammatanaltonearabic",1612,"dammatanarabic",1612,"danda",2404,"dargahebrew",1447,"dargalefthebrew",1447,"dasiapneumatacyrilliccmb",1157,"dblGrave",63187,"dblanglebracketleft",12298,"dblanglebracketleftvertical",65085,"dblanglebracketright",12299,"dblanglebracketrightvertical",65086,"dblarchinvertedbelowcmb",811,"dblarrowleft",8660,"dblarrowright",8658,"dbldanda",2405,"dblgrave",63190,"dblgravecmb",783,"dblintegral",8748,"dbllowline",8215,"dbllowlinecmb",819,"dbloverlinecmb",831,"dblprimemod",698,"dblverticalbar",8214,"dblverticallineabovecmb",782,"dbopomofo",12553,"dbsquare",13256,"dcaron",271,"dcedilla",7697,"dcircle",9427,"dcircumflexbelow",7699,"dcroat",273,"ddabengali",2465,"ddadeva",2337,"ddagujarati",2721,"ddagurmukhi",2593,"ddalarabic",1672,"ddalfinalarabic",64393,"dddhadeva",2396,"ddhabengali",2466,"ddhadeva",2338,"ddhagujarati",2722,"ddhagurmukhi",2594,"ddotaccent",7691,"ddotbelow",7693,"decimalseparatorarabic",1643,"decimalseparatorpersian",1643,"decyrillic",1076,"degree",176,"dehihebrew",1453,"dehiragana",12391,"deicoptic",1007,"dekatakana",12487,"deleteleft",9003,"deleteright",8998,"delta",948,"deltaturned",397,"denominatorminusonenumeratorbengali",2552,"dezh",676,"dhabengali",2471,"dhadeva",2343,"dhagujarati",2727,"dhagurmukhi",2599,"dhook",599,"dialytikatonos",901,"dialytikatonoscmb",836,"diamond",9830,"diamondsuitwhite",9826,"dieresis",168,"dieresisacute",63191,"dieresisbelowcmb",804,"dieresiscmb",776,"dieresisgrave",63192,"dieresistonos",901,"dihiragana",12386,"dikatakana",12482,"dittomark",12291,"divide",247,"divides",8739,"divisionslash",8725,"djecyrillic",1106,"dkshade",9619,"dlinebelow",7695,"dlsquare",13207,"dmacron",273,"dmonospace",65348,"dnblock",9604,"dochadathai",3598,"dodekthai",3604,"dohiragana",12393,"dokatakana",12489,"dollar",36,"dollarinferior",63203,"dollarmonospace",65284,"dollaroldstyle",63268,"dollarsmall",65129,"dollarsuperior",63204,"dong",8363,"dorusquare",13094,"dotaccent",729,"dotaccentcmb",775,"dotbelowcmb",803,"dotbelowcomb",803,"dotkatakana",12539,"dotlessi",305,"dotlessj",63166,"dotlessjstrokehook",644,"dotmath",8901,"dottedcircle",9676,"doubleyodpatah",64287,"doubleyodpatahhebrew",64287,"downtackbelowcmb",798,"downtackmod",725,"dparen",9375,"dsuperior",63211,"dtail",598,"dtopbar",396,"duhiragana",12389,"dukatakana",12485,"dz",499,"dzaltone",675,"dzcaron",454,"dzcurl",677,"dzeabkhasiancyrillic",1249,"dzecyrillic",1109,"dzhecyrillic",1119,"e",101,"eacute",233,"earth",9793,"ebengali",2447,"ebopomofo",12572,"ebreve",277,"ecandradeva",2317,"ecandragujarati",2701,"ecandravowelsigndeva",2373,"ecandravowelsigngujarati",2757,"ecaron",283,"ecedillabreve",7709,"echarmenian",1381,"echyiwnarmenian",1415,"ecircle",9428,"ecircumflex",234,"ecircumflexacute",7871,"ecircumflexbelow",7705,"ecircumflexdotbelow",7879,"ecircumflexgrave",7873,"ecircumflexhookabove",7875,"ecircumflextilde",7877,"ecyrillic",1108,"edblgrave",517,"edeva",2319,"edieresis",235,"edot",279,"edotaccent",279,"edotbelow",7865,"eegurmukhi",2575,"eematragurmukhi",2631,"efcyrillic",1092,"egrave",232,"egujarati",2703,"eharmenian",1383,"ehbopomofo",12573,"ehiragana",12360,"ehookabove",7867,"eibopomofo",12575,"eight",56,"eightarabic",1640,"eightbengali",2542,"eightcircle",9319,"eightcircleinversesansserif",10129,"eightdeva",2414,"eighteencircle",9329,"eighteenparen",9349,"eighteenperiod",9369,"eightgujarati",2798,"eightgurmukhi",2670,"eighthackarabic",1640,"eighthangzhou",12328,"eighthnotebeamed",9835,"eightideographicparen",12839,"eightinferior",8328,"eightmonospace",65304,"eightoldstyle",63288,"eightparen",9339,"eightperiod",9359,"eightpersian",1784,"eightroman",8567,"eightsuperior",8312,"eightthai",3672,"einvertedbreve",519,"eiotifiedcyrillic",1125,"ekatakana",12456,"ekatakanahalfwidth",65396,"ekonkargurmukhi",2676,"ekorean",12628,"elcyrillic",1083,"element",8712,"elevencircle",9322,"elevenparen",9342,"elevenperiod",9362,"elevenroman",8570,"ellipsis",8230,"ellipsisvertical",8942,"emacron",275,"emacronacute",7703,"emacrongrave",7701,"emcyrillic",1084,"emdash",8212,"emdashvertical",65073,"emonospace",65349,"emphasismarkarmenian",1371,"emptyset",8709,"enbopomofo",12579,"encyrillic",1085,"endash",8211,"endashvertical",65074,"endescendercyrillic",1187,"eng",331,"engbopomofo",12581,"enghecyrillic",1189,"enhookcyrillic",1224,"enspace",8194,"eogonek",281,"eokorean",12627,"eopen",603,"eopenclosed",666,"eopenreversed",604,"eopenreversedclosed",606,"eopenreversedhook",605,"eparen",9376,"epsilon",949,"epsilontonos",941,"equal",61,"equalmonospace",65309,"equalsmall",65126,"equalsuperior",8316,"equivalence",8801,"erbopomofo",12582,"ercyrillic",1088,"ereversed",600,"ereversedcyrillic",1101,"escyrillic",1089,"esdescendercyrillic",1195,"esh",643,"eshcurl",646,"eshortdeva",2318,"eshortvowelsigndeva",2374,"eshreversedloop",426,"eshsquatreversed",645,"esmallhiragana",12359,"esmallkatakana",12455,"esmallkatakanahalfwidth",65386,"estimated",8494,"esuperior",63212,"eta",951,"etarmenian",1384,"etatonos",942,"eth",240,"etilde",7869,"etildebelow",7707,"etnahtafoukhhebrew",1425,"etnahtafoukhlefthebrew",1425,"etnahtahebrew",1425,"etnahtalefthebrew",1425,"eturned",477,"eukorean",12641,"euro",8364,"evowelsignbengali",2503,"evowelsigndeva",2375,"evowelsigngujarati",2759,"exclam",33,"exclamarmenian",1372,"exclamdbl",8252,"exclamdown",161,"exclamdownsmall",63393,"exclammonospace",65281,"exclamsmall",63265,"existential",8707,"ezh",658,"ezhcaron",495,"ezhcurl",659,"ezhreversed",441,"ezhtail",442,"f",102,"fadeva",2398,"fagurmukhi",2654,"fahrenheit",8457,"fathaarabic",1614,"fathalowarabic",1614,"fathatanarabic",1611,"fbopomofo",12552,"fcircle",9429,"fdotaccent",7711,"feharabic",1601,"feharmenian",1414,"fehfinalarabic",65234,"fehinitialarabic",65235,"fehmedialarabic",65236,"feicoptic",997,"female",9792,"ff",64256,"f_f",64256,"ffi",64259,"ffl",64260,"fi",64257,"fifteencircle",9326,"fifteenparen",9346,"fifteenperiod",9366,"figuredash",8210,"filledbox",9632,"filledrect",9644,"finalkaf",1498,"finalkafdagesh",64314,"finalkafdageshhebrew",64314,"finalkafhebrew",1498,"finalmem",1501,"finalmemhebrew",1501,"finalnun",1503,"finalnunhebrew",1503,"finalpe",1507,"finalpehebrew",1507,"finaltsadi",1509,"finaltsadihebrew",1509,"firsttonechinese",713,"fisheye",9673,"fitacyrillic",1139,"five",53,"fivearabic",1637,"fivebengali",2539,"fivecircle",9316,"fivecircleinversesansserif",10126,"fivedeva",2411,"fiveeighths",8541,"fivegujarati",2795,"fivegurmukhi",2667,"fivehackarabic",1637,"fivehangzhou",12325,"fiveideographicparen",12836,"fiveinferior",8325,"fivemonospace",65301,"fiveoldstyle",63285,"fiveparen",9336,"fiveperiod",9356,"fivepersian",1781,"fiveroman",8564,"fivesuperior",8309,"fivethai",3669,"fl",64258,"florin",402,"fmonospace",65350,"fmsquare",13209,"fofanthai",3615,"fofathai",3613,"fongmanthai",3663,"forall",8704,"four",52,"fourarabic",1636,"fourbengali",2538,"fourcircle",9315,"fourcircleinversesansserif",10125,"fourdeva",2410,"fourgujarati",2794,"fourgurmukhi",2666,"fourhackarabic",1636,"fourhangzhou",12324,"fourideographicparen",12835,"fourinferior",8324,"fourmonospace",65300,"fournumeratorbengali",2551,"fouroldstyle",63284,"fourparen",9335,"fourperiod",9355,"fourpersian",1780,"fourroman",8563,"foursuperior",8308,"fourteencircle",9325,"fourteenparen",9345,"fourteenperiod",9365,"fourthai",3668,"fourthtonechinese",715,"fparen",9377,"fraction",8260,"franc",8355,"g",103,"gabengali",2455,"gacute",501,"gadeva",2327,"gafarabic",1711,"gaffinalarabic",64403,"gafinitialarabic",64404,"gafmedialarabic",64405,"gagujarati",2711,"gagurmukhi",2583,"gahiragana",12364,"gakatakana",12460,"gamma",947,"gammalatinsmall",611,"gammasuperior",736,"gangiacoptic",1003,"gbopomofo",12557,"gbreve",287,"gcaron",487,"gcedilla",291,"gcircle",9430,"gcircumflex",285,"gcommaaccent",291,"gdot",289,"gdotaccent",289,"gecyrillic",1075,"gehiragana",12370,"gekatakana",12466,"geometricallyequal",8785,"gereshaccenthebrew",1436,"gereshhebrew",1523,"gereshmuqdamhebrew",1437,"germandbls",223,"gershayimaccenthebrew",1438,"gershayimhebrew",1524,"getamark",12307,"ghabengali",2456,"ghadarmenian",1394,"ghadeva",2328,"ghagujarati",2712,"ghagurmukhi",2584,"ghainarabic",1594,"ghainfinalarabic",65230,"ghaininitialarabic",65231,"ghainmedialarabic",65232,"ghemiddlehookcyrillic",1173,"ghestrokecyrillic",1171,"gheupturncyrillic",1169,"ghhadeva",2394,"ghhagurmukhi",2650,"ghook",608,"ghzsquare",13203,"gihiragana",12366,"gikatakana",12462,"gimarmenian",1379,"gimel",1490,"gimeldagesh",64306,"gimeldageshhebrew",64306,"gimelhebrew",1490,"gjecyrillic",1107,"glottalinvertedstroke",446,"glottalstop",660,"glottalstopinverted",662,"glottalstopmod",704,"glottalstopreversed",661,"glottalstopreversedmod",705,"glottalstopreversedsuperior",740,"glottalstopstroke",673,"glottalstopstrokereversed",674,"gmacron",7713,"gmonospace",65351,"gohiragana",12372,"gokatakana",12468,"gparen",9378,"gpasquare",13228,"gradient",8711,"grave",96,"gravebelowcmb",790,"gravecmb",768,"gravecomb",768,"gravedeva",2387,"gravelowmod",718,"gravemonospace",65344,"gravetonecmb",832,"greater",62,"greaterequal",8805,"greaterequalorless",8923,"greatermonospace",65310,"greaterorequivalent",8819,"greaterorless",8823,"greateroverequal",8807,"greatersmall",65125,"gscript",609,"gstroke",485,"guhiragana",12368,"guillemotleft",171,"guillemotright",187,"guilsinglleft",8249,"guilsinglright",8250,"gukatakana",12464,"guramusquare",13080,"gysquare",13257,"h",104,"haabkhasiancyrillic",1193,"haaltonearabic",1729,"habengali",2489,"hadescendercyrillic",1203,"hadeva",2361,"hagujarati",2745,"hagurmukhi",2617,"haharabic",1581,"hahfinalarabic",65186,"hahinitialarabic",65187,"hahiragana",12399,"hahmedialarabic",65188,"haitusquare",13098,"hakatakana",12495,"hakatakanahalfwidth",65418,"halantgurmukhi",2637,"hamzaarabic",1569,"hamzalowarabic",1569,"hangulfiller",12644,"hardsigncyrillic",1098,"harpoonleftbarbup",8636,"harpoonrightbarbup",8640,"hasquare",13258,"hatafpatah",1458,"hatafpatah16",1458,"hatafpatah23",1458,"hatafpatah2f",1458,"hatafpatahhebrew",1458,"hatafpatahnarrowhebrew",1458,"hatafpatahquarterhebrew",1458,"hatafpatahwidehebrew",1458,"hatafqamats",1459,"hatafqamats1b",1459,"hatafqamats28",1459,"hatafqamats34",1459,"hatafqamatshebrew",1459,"hatafqamatsnarrowhebrew",1459,"hatafqamatsquarterhebrew",1459,"hatafqamatswidehebrew",1459,"hatafsegol",1457,"hatafsegol17",1457,"hatafsegol24",1457,"hatafsegol30",1457,"hatafsegolhebrew",1457,"hatafsegolnarrowhebrew",1457,"hatafsegolquarterhebrew",1457,"hatafsegolwidehebrew",1457,"hbar",295,"hbopomofo",12559,"hbrevebelow",7723,"hcedilla",7721,"hcircle",9431,"hcircumflex",293,"hdieresis",7719,"hdotaccent",7715,"hdotbelow",7717,"he",1492,"heart",9829,"heartsuitblack",9829,"heartsuitwhite",9825,"hedagesh",64308,"hedageshhebrew",64308,"hehaltonearabic",1729,"heharabic",1607,"hehebrew",1492,"hehfinalaltonearabic",64423,"hehfinalalttwoarabic",65258,"hehfinalarabic",65258,"hehhamzaabovefinalarabic",64421,"hehhamzaaboveisolatedarabic",64420,"hehinitialaltonearabic",64424,"hehinitialarabic",65259,"hehiragana",12408,"hehmedialaltonearabic",64425,"hehmedialarabic",65260,"heiseierasquare",13179,"hekatakana",12504,"hekatakanahalfwidth",65421,"hekutaarusquare",13110,"henghook",615,"herutusquare",13113,"het",1495,"hethebrew",1495,"hhook",614,"hhooksuperior",689,"hieuhacirclekorean",12923,"hieuhaparenkorean",12827,"hieuhcirclekorean",12909,"hieuhkorean",12622,"hieuhparenkorean",12813,"hihiragana",12402,"hikatakana",12498,"hikatakanahalfwidth",65419,"hiriq",1460,"hiriq14",1460,"hiriq21",1460,"hiriq2d",1460,"hiriqhebrew",1460,"hiriqnarrowhebrew",1460,"hiriqquarterhebrew",1460,"hiriqwidehebrew",1460,"hlinebelow",7830,"hmonospace",65352,"hoarmenian",1392,"hohipthai",3627,"hohiragana",12411,"hokatakana",12507,"hokatakanahalfwidth",65422,"holam",1465,"holam19",1465,"holam26",1465,"holam32",1465,"holamhebrew",1465,"holamnarrowhebrew",1465,"holamquarterhebrew",1465,"holamwidehebrew",1465,"honokhukthai",3630,"hookabovecomb",777,"hookcmb",777,"hookpalatalizedbelowcmb",801,"hookretroflexbelowcmb",802,"hoonsquare",13122,"horicoptic",1001,"horizontalbar",8213,"horncmb",795,"hotsprings",9832,"house",8962,"hparen",9379,"hsuperior",688,"hturned",613,"huhiragana",12405,"huiitosquare",13107,"hukatakana",12501,"hukatakanahalfwidth",65420,"hungarumlaut",733,"hungarumlautcmb",779,"hv",405,"hyphen",45,"hypheninferior",63205,"hyphenmonospace",65293,"hyphensmall",65123,"hyphensuperior",63206,"hyphentwo",8208,"i",105,"iacute",237,"iacyrillic",1103,"ibengali",2439,"ibopomofo",12583,"ibreve",301,"icaron",464,"icircle",9432,"icircumflex",238,"icyrillic",1110,"idblgrave",521,"ideographearthcircle",12943,"ideographfirecircle",12939,"ideographicallianceparen",12863,"ideographiccallparen",12858,"ideographiccentrecircle",12965,"ideographicclose",12294,"ideographiccomma",12289,"ideographiccommaleft",65380,"ideographiccongratulationparen",12855,"ideographiccorrectcircle",12963,"ideographicearthparen",12847,"ideographicenterpriseparen",12861,"ideographicexcellentcircle",12957,"ideographicfestivalparen",12864,"ideographicfinancialcircle",12950,"ideographicfinancialparen",12854,"ideographicfireparen",12843,"ideographichaveparen",12850,"ideographichighcircle",12964,"ideographiciterationmark",12293,"ideographiclaborcircle",12952,"ideographiclaborparen",12856,"ideographicleftcircle",12967,"ideographiclowcircle",12966,"ideographicmedicinecircle",12969,"ideographicmetalparen",12846,"ideographicmoonparen",12842,"ideographicnameparen",12852,"ideographicperiod",12290,"ideographicprintcircle",12958,"ideographicreachparen",12867,"ideographicrepresentparen",12857,"ideographicresourceparen",12862,"ideographicrightcircle",12968,"ideographicsecretcircle",12953,"ideographicselfparen",12866,"ideographicsocietyparen",12851,"ideographicspace",12288,"ideographicspecialparen",12853,"ideographicstockparen",12849,"ideographicstudyparen",12859,"ideographicsunparen",12848,"ideographicsuperviseparen",12860,"ideographicwaterparen",12844,"ideographicwoodparen",12845,"ideographiczero",12295,"ideographmetalcircle",12942,"ideographmooncircle",12938,"ideographnamecircle",12948,"ideographsuncircle",12944,"ideographwatercircle",12940,"ideographwoodcircle",12941,"ideva",2311,"idieresis",239,"idieresisacute",7727,"idieresiscyrillic",1253,"idotbelow",7883,"iebrevecyrillic",1239,"iecyrillic",1077,"ieungacirclekorean",12917,"ieungaparenkorean",12821,"ieungcirclekorean",12903,"ieungkorean",12615,"ieungparenkorean",12807,"igrave",236,"igujarati",2695,"igurmukhi",2567,"ihiragana",12356,"ihookabove",7881,"iibengali",2440,"iicyrillic",1080,"iideva",2312,"iigujarati",2696,"iigurmukhi",2568,"iimatragurmukhi",2624,"iinvertedbreve",523,"iishortcyrillic",1081,"iivowelsignbengali",2496,"iivowelsigndeva",2368,"iivowelsigngujarati",2752,"ij",307,"ikatakana",12452,"ikatakanahalfwidth",65394,"ikorean",12643,"ilde",732,"iluyhebrew",1452,"imacron",299,"imacroncyrillic",1251,"imageorapproximatelyequal",8787,"imatragurmukhi",2623,"imonospace",65353,"increment",8710,"infinity",8734,"iniarmenian",1387,"integral",8747,"integralbottom",8993,"integralbt",8993,"integralex",63733,"integraltop",8992,"integraltp",8992,"intersection",8745,"intisquare",13061,"invbullet",9688,"invcircle",9689,"invsmileface",9787,"iocyrillic",1105,"iogonek",303,"iota",953,"iotadieresis",970,"iotadieresistonos",912,"iotalatin",617,"iotatonos",943,"iparen",9380,"irigurmukhi",2674,"ismallhiragana",12355,"ismallkatakana",12451,"ismallkatakanahalfwidth",65384,"issharbengali",2554,"istroke",616,"isuperior",63213,"iterationhiragana",12445,"iterationkatakana",12541,"itilde",297,"itildebelow",7725,"iubopomofo",12585,"iucyrillic",1102,"ivowelsignbengali",2495,"ivowelsigndeva",2367,"ivowelsigngujarati",2751,"izhitsacyrillic",1141,"izhitsadblgravecyrillic",1143,"j",106,"jaarmenian",1393,"jabengali",2460,"jadeva",2332,"jagujarati",2716,"jagurmukhi",2588,"jbopomofo",12560,"jcaron",496,"jcircle",9433,"jcircumflex",309,"jcrossedtail",669,"jdotlessstroke",607,"jecyrillic",1112,"jeemarabic",1580,"jeemfinalarabic",65182,"jeeminitialarabic",65183,"jeemmedialarabic",65184,"jeharabic",1688,"jehfinalarabic",64395,"jhabengali",2461,"jhadeva",2333,"jhagujarati",2717,"jhagurmukhi",2589,"jheharmenian",1403,"jis",12292,"jmonospace",65354,"jparen",9381,"jsuperior",690,"k",107,"kabashkircyrillic",1185,"kabengali",2453,"kacute",7729,"kacyrillic",1082,"kadescendercyrillic",1179,"kadeva",2325,"kaf",1499,"kafarabic",1603,"kafdagesh",64315,"kafdageshhebrew",64315,"kaffinalarabic",65242,"kafhebrew",1499,"kafinitialarabic",65243,"kafmedialarabic",65244,"kafrafehebrew",64333,"kagujarati",2709,"kagurmukhi",2581,"kahiragana",12363,"kahookcyrillic",1220,"kakatakana",12459,"kakatakanahalfwidth",65398,"kappa",954,"kappasymbolgreek",1008,"kapyeounmieumkorean",12657,"kapyeounphieuphkorean",12676,"kapyeounpieupkorean",12664,"kapyeounssangpieupkorean",12665,"karoriisquare",13069,"kashidaautoarabic",1600,"kashidaautonosidebearingarabic",1600,"kasmallkatakana",12533,"kasquare",13188,"kasraarabic",1616,"kasratanarabic",1613,"kastrokecyrillic",1183,"katahiraprolongmarkhalfwidth",65392,"kaverticalstrokecyrillic",1181,"kbopomofo",12558,"kcalsquare",13193,"kcaron",489,"kcedilla",311,"kcircle",9434,"kcommaaccent",311,"kdotbelow",7731,"keharmenian",1412,"kehiragana",12369,"kekatakana",12465,"kekatakanahalfwidth",65401,"kenarmenian",1391,"kesmallkatakana",12534,"kgreenlandic",312,"khabengali",2454,"khacyrillic",1093,"khadeva",2326,"khagujarati",2710,"khagurmukhi",2582,"khaharabic",1582,"khahfinalarabic",65190,"khahinitialarabic",65191,"khahmedialarabic",65192,"kheicoptic",999,"khhadeva",2393,"khhagurmukhi",2649,"khieukhacirclekorean",12920,"khieukhaparenkorean",12824,"khieukhcirclekorean",12906,"khieukhkorean",12619,"khieukhparenkorean",12810,"khokhaithai",3586,"khokhonthai",3589,"khokhuatthai",3587,"khokhwaithai",3588,"khomutthai",3675,"khook",409,"khorakhangthai",3590,"khzsquare",13201,"kihiragana",12365,"kikatakana",12461,"kikatakanahalfwidth",65399,"kiroguramusquare",13077,"kiromeetorusquare",13078,"kirosquare",13076,"kiyeokacirclekorean",12910,"kiyeokaparenkorean",12814,"kiyeokcirclekorean",12896,"kiyeokkorean",12593,"kiyeokparenkorean",12800,"kiyeoksioskorean",12595,"kjecyrillic",1116,"klinebelow",7733,"klsquare",13208,"kmcubedsquare",13222,"kmonospace",65355,"kmsquaredsquare",13218,"kohiragana",12371,"kohmsquare",13248,"kokaithai",3585,"kokatakana",12467,"kokatakanahalfwidth",65402,"kooposquare",13086,"koppacyrillic",1153,"koreanstandardsymbol",12927,"koroniscmb",835,"kparen",9382,"kpasquare",13226,"ksicyrillic",1135,"ktsquare",13263,"kturned",670,"kuhiragana",12367,"kukatakana",12463,"kukatakanahalfwidth",65400,"kvsquare",13240,"kwsquare",13246,"l",108,"labengali",2482,"lacute",314,"ladeva",2354,"lagujarati",2738,"lagurmukhi",2610,"lakkhangyaothai",3653,"lamaleffinalarabic",65276,"lamalefhamzaabovefinalarabic",65272,"lamalefhamzaaboveisolatedarabic",65271,"lamalefhamzabelowfinalarabic",65274,"lamalefhamzabelowisolatedarabic",65273,"lamalefisolatedarabic",65275,"lamalefmaddaabovefinalarabic",65270,"lamalefmaddaaboveisolatedarabic",65269,"lamarabic",1604,"lambda",955,"lambdastroke",411,"lamed",1500,"lameddagesh",64316,"lameddageshhebrew",64316,"lamedhebrew",1500,"lamfinalarabic",65246,"lamhahinitialarabic",64714,"laminitialarabic",65247,"lamjeeminitialarabic",64713,"lamkhahinitialarabic",64715,"lamlamhehisolatedarabic",65010,"lammedialarabic",65248,"lammeemhahinitialarabic",64904,"lammeeminitialarabic",64716,"largecircle",9711,"lbar",410,"lbelt",620,"lbopomofo",12556,"lcaron",318,"lcedilla",316,"lcircle",9435,"lcircumflexbelow",7741,"lcommaaccent",316,"ldot",320,"ldotaccent",320,"ldotbelow",7735,"ldotbelowmacron",7737,"leftangleabovecmb",794,"lefttackbelowcmb",792,"less",60,"lessequal",8804,"lessequalorgreater",8922,"lessmonospace",65308,"lessorequivalent",8818,"lessorgreater",8822,"lessoverequal",8806,"lesssmall",65124,"lezh",622,"lfblock",9612,"lhookretroflex",621,"lira",8356,"liwnarmenian",1388,"lj",457,"ljecyrillic",1113,"ll",63168,"lladeva",2355,"llagujarati",2739,"llinebelow",7739,"llladeva",2356,"llvocalicbengali",2529,"llvocalicdeva",2401,"llvocalicvowelsignbengali",2531,"llvocalicvowelsigndeva",2403,"lmiddletilde",619,"lmonospace",65356,"lmsquare",13264,"lochulathai",3628,"logicaland",8743,"logicalnot",172,"logicalnotreversed",8976,"logicalor",8744,"lolingthai",3621,"longs",383,"lowlinecenterline",65102,"lowlinecmb",818,"lowlinedashed",65101,"lozenge",9674,"lparen",9383,"lslash",322,"lsquare",8467,"lsuperior",63214,"ltshade",9617,"luthai",3622,"lvocalicbengali",2444,"lvocalicdeva",2316,"lvocalicvowelsignbengali",2530,"lvocalicvowelsigndeva",2402,"lxsquare",13267,"m",109,"mabengali",2478,"macron",175,"macronbelowcmb",817,"macroncmb",772,"macronlowmod",717,"macronmonospace",65507,"macute",7743,"madeva",2350,"magujarati",2734,"magurmukhi",2606,"mahapakhhebrew",1444,"mahapakhlefthebrew",1444,"mahiragana",12414,"maichattawalowleftthai",63637,"maichattawalowrightthai",63636,"maichattawathai",3659,"maichattawaupperleftthai",63635,"maieklowleftthai",63628,"maieklowrightthai",63627,"maiekthai",3656,"maiekupperleftthai",63626,"maihanakatleftthai",63620,"maihanakatthai",3633,"maitaikhuleftthai",63625,"maitaikhuthai",3655,"maitholowleftthai",63631,"maitholowrightthai",63630,"maithothai",3657,"maithoupperleftthai",63629,"maitrilowleftthai",63634,"maitrilowrightthai",63633,"maitrithai",3658,"maitriupperleftthai",63632,"maiyamokthai",3654,"makatakana",12510,"makatakanahalfwidth",65423,"male",9794,"mansyonsquare",13127,"maqafhebrew",1470,"mars",9794,"masoracirclehebrew",1455,"masquare",13187,"mbopomofo",12551,"mbsquare",13268,"mcircle",9436,"mcubedsquare",13221,"mdotaccent",7745,"mdotbelow",7747,"meemarabic",1605,"meemfinalarabic",65250,"meeminitialarabic",65251,"meemmedialarabic",65252,"meemmeeminitialarabic",64721,"meemmeemisolatedarabic",64584,"meetorusquare",13133,"mehiragana",12417,"meizierasquare",13182,"mekatakana",12513,"mekatakanahalfwidth",65426,"mem",1502,"memdagesh",64318,"memdageshhebrew",64318,"memhebrew",1502,"menarmenian",1396,"merkhahebrew",1445,"merkhakefulahebrew",1446,"merkhakefulalefthebrew",1446,"merkhalefthebrew",1445,"mhook",625,"mhzsquare",13202,"middledotkatakanahalfwidth",65381,"middot",183,"mieumacirclekorean",12914,"mieumaparenkorean",12818,"mieumcirclekorean",12900,"mieumkorean",12609,"mieumpansioskorean",12656,"mieumparenkorean",12804,"mieumpieupkorean",12654,"mieumsioskorean",12655,"mihiragana",12415,"mikatakana",12511,"mikatakanahalfwidth",65424,"minus",8722,"minusbelowcmb",800,"minuscircle",8854,"minusmod",727,"minusplus",8723,"minute",8242,"miribaarusquare",13130,"mirisquare",13129,"mlonglegturned",624,"mlsquare",13206,"mmcubedsquare",13219,"mmonospace",65357,"mmsquaredsquare",13215,"mohiragana",12418,"mohmsquare",13249,"mokatakana",12514,"mokatakanahalfwidth",65427,"molsquare",13270,"momathai",3617,"moverssquare",13223,"moverssquaredsquare",13224,"mparen",9384,"mpasquare",13227,"mssquare",13235,"msuperior",63215,"mturned",623,"mu",181,"mu1",181,"muasquare",13186,"muchgreater",8811,"muchless",8810,"mufsquare",13196,"mugreek",956,"mugsquare",13197,"muhiragana",12416,"mukatakana",12512,"mukatakanahalfwidth",65425,"mulsquare",13205,"multiply",215,"mumsquare",13211,"munahhebrew",1443,"munahlefthebrew",1443,"musicalnote",9834,"musicalnotedbl",9835,"musicflatsign",9837,"musicsharpsign",9839,"mussquare",13234,"muvsquare",13238,"muwsquare",13244,"mvmegasquare",13241,"mvsquare",13239,"mwmegasquare",13247,"mwsquare",13245,"n",110,"nabengali",2472,"nabla",8711,"nacute",324,"nadeva",2344,"nagujarati",2728,"nagurmukhi",2600,"nahiragana",12394,"nakatakana",12490,"nakatakanahalfwidth",65413,"napostrophe",329,"nasquare",13185,"nbopomofo",12555,"nbspace",160,"ncaron",328,"ncedilla",326,"ncircle",9437,"ncircumflexbelow",7755,"ncommaaccent",326,"ndotaccent",7749,"ndotbelow",7751,"nehiragana",12397,"nekatakana",12493,"nekatakanahalfwidth",65416,"newsheqelsign",8362,"nfsquare",13195,"ngabengali",2457,"ngadeva",2329,"ngagujarati",2713,"ngagurmukhi",2585,"ngonguthai",3591,"nhiragana",12435,"nhookleft",626,"nhookretroflex",627,"nieunacirclekorean",12911,"nieunaparenkorean",12815,"nieuncieuckorean",12597,"nieuncirclekorean",12897,"nieunhieuhkorean",12598,"nieunkorean",12596,"nieunpansioskorean",12648,"nieunparenkorean",12801,"nieunsioskorean",12647,"nieuntikeutkorean",12646,"nihiragana",12395,"nikatakana",12491,"nikatakanahalfwidth",65414,"nikhahitleftthai",63641,"nikhahitthai",3661,"nine",57,"ninearabic",1641,"ninebengali",2543,"ninecircle",9320,"ninecircleinversesansserif",10130,"ninedeva",2415,"ninegujarati",2799,"ninegurmukhi",2671,"ninehackarabic",1641,"ninehangzhou",12329,"nineideographicparen",12840,"nineinferior",8329,"ninemonospace",65305,"nineoldstyle",63289,"nineparen",9340,"nineperiod",9360,"ninepersian",1785,"nineroman",8568,"ninesuperior",8313,"nineteencircle",9330,"nineteenparen",9350,"nineteenperiod",9370,"ninethai",3673,"nj",460,"njecyrillic",1114,"nkatakana",12531,"nkatakanahalfwidth",65437,"nlegrightlong",414,"nlinebelow",7753,"nmonospace",65358,"nmsquare",13210,"nnabengali",2467,"nnadeva",2339,"nnagujarati",2723,"nnagurmukhi",2595,"nnnadeva",2345,"nohiragana",12398,"nokatakana",12494,"nokatakanahalfwidth",65417,"nonbreakingspace",160,"nonenthai",3603,"nonuthai",3609,"noonarabic",1606,"noonfinalarabic",65254,"noonghunnaarabic",1722,"noonghunnafinalarabic",64415,"nooninitialarabic",65255,"noonjeeminitialarabic",64722,"noonjeemisolatedarabic",64587,"noonmedialarabic",65256,"noonmeeminitialarabic",64725,"noonmeemisolatedarabic",64590,"noonnoonfinalarabic",64653,"notcontains",8716,"notelement",8713,"notelementof",8713,"notequal",8800,"notgreater",8815,"notgreaternorequal",8817,"notgreaternorless",8825,"notidentical",8802,"notless",8814,"notlessnorequal",8816,"notparallel",8742,"notprecedes",8832,"notsubset",8836,"notsucceeds",8833,"notsuperset",8837,"nowarmenian",1398,"nparen",9385,"nssquare",13233,"nsuperior",8319,"ntilde",241,"nu",957,"nuhiragana",12396,"nukatakana",12492,"nukatakanahalfwidth",65415,"nuktabengali",2492,"nuktadeva",2364,"nuktagujarati",2748,"nuktagurmukhi",2620,"numbersign",35,"numbersignmonospace",65283,"numbersignsmall",65119,"numeralsigngreek",884,"numeralsignlowergreek",885,"numero",8470,"nun",1504,"nundagesh",64320,"nundageshhebrew",64320,"nunhebrew",1504,"nvsquare",13237,"nwsquare",13243,"nyabengali",2462,"nyadeva",2334,"nyagujarati",2718,"nyagurmukhi",2590,"o",111,"oacute",243,"oangthai",3629,"obarred",629,"obarredcyrillic",1257,"obarreddieresiscyrillic",1259,"obengali",2451,"obopomofo",12571,"obreve",335,"ocandradeva",2321,"ocandragujarati",2705,"ocandravowelsigndeva",2377,"ocandravowelsigngujarati",2761,"ocaron",466,"ocircle",9438,"ocircumflex",244,"ocircumflexacute",7889,"ocircumflexdotbelow",7897,"ocircumflexgrave",7891,"ocircumflexhookabove",7893,"ocircumflextilde",7895,"ocyrillic",1086,"odblacute",337,"odblgrave",525,"odeva",2323,"odieresis",246,"odieresiscyrillic",1255,"odotbelow",7885,"oe",339,"oekorean",12634,"ogonek",731,"ogonekcmb",808,"ograve",242,"ogujarati",2707,"oharmenian",1413,"ohiragana",12362,"ohookabove",7887,"ohorn",417,"ohornacute",7899,"ohorndotbelow",7907,"ohorngrave",7901,"ohornhookabove",7903,"ohorntilde",7905,"ohungarumlaut",337,"oi",419,"oinvertedbreve",527,"okatakana",12458,"okatakanahalfwidth",65397,"okorean",12631,"olehebrew",1451,"omacron",333,"omacronacute",7763,"omacrongrave",7761,"omdeva",2384,"omega",969,"omega1",982,"omegacyrillic",1121,"omegalatinclosed",631,"omegaroundcyrillic",1147,"omegatitlocyrillic",1149,"omegatonos",974,"omgujarati",2768,"omicron",959,"omicrontonos",972,"omonospace",65359,"one",49,"onearabic",1633,"onebengali",2535,"onecircle",9312,"onecircleinversesansserif",10122,"onedeva",2407,"onedotenleader",8228,"oneeighth",8539,"onefitted",63196,"onegujarati",2791,"onegurmukhi",2663,"onehackarabic",1633,"onehalf",189,"onehangzhou",12321,"oneideographicparen",12832,"oneinferior",8321,"onemonospace",65297,"onenumeratorbengali",2548,"oneoldstyle",63281,"oneparen",9332,"oneperiod",9352,"onepersian",1777,"onequarter",188,"oneroman",8560,"onesuperior",185,"onethai",3665,"onethird",8531,"oogonek",491,"oogonekmacron",493,"oogurmukhi",2579,"oomatragurmukhi",2635,"oopen",596,"oparen",9386,"openbullet",9702,"option",8997,"ordfeminine",170,"ordmasculine",186,"orthogonal",8735,"oshortdeva",2322,"oshortvowelsigndeva",2378,"oslash",248,"oslashacute",511,"osmallhiragana",12361,"osmallkatakana",12457,"osmallkatakanahalfwidth",65387,"ostrokeacute",511,"osuperior",63216,"otcyrillic",1151,"otilde",245,"otildeacute",7757,"otildedieresis",7759,"oubopomofo",12577,"overline",8254,"overlinecenterline",65098,"overlinecmb",773,"overlinedashed",65097,"overlinedblwavy",65100,"overlinewavy",65099,"overscore",175,"ovowelsignbengali",2507,"ovowelsigndeva",2379,"ovowelsigngujarati",2763,"p",112,"paampssquare",13184,"paasentosquare",13099,"pabengali",2474,"pacute",7765,"padeva",2346,"pagedown",8671,"pageup",8670,"pagujarati",2730,"pagurmukhi",2602,"pahiragana",12401,"paiyannoithai",3631,"pakatakana",12497,"palatalizationcyrilliccmb",1156,"palochkacyrillic",1216,"pansioskorean",12671,"paragraph",182,"parallel",8741,"parenleft",40,"parenleftaltonearabic",64830,"parenleftbt",63725,"parenleftex",63724,"parenleftinferior",8333,"parenleftmonospace",65288,"parenleftsmall",65113,"parenleftsuperior",8317,"parenlefttp",63723,"parenleftvertical",65077,"parenright",41,"parenrightaltonearabic",64831,"parenrightbt",63736,"parenrightex",63735,"parenrightinferior",8334,"parenrightmonospace",65289,"parenrightsmall",65114,"parenrightsuperior",8318,"parenrighttp",63734,"parenrightvertical",65078,"partialdiff",8706,"paseqhebrew",1472,"pashtahebrew",1433,"pasquare",13225,"patah",1463,"patah11",1463,"patah1d",1463,"patah2a",1463,"patahhebrew",1463,"patahnarrowhebrew",1463,"patahquarterhebrew",1463,"patahwidehebrew",1463,"pazerhebrew",1441,"pbopomofo",12550,"pcircle",9439,"pdotaccent",7767,"pe",1508,"pecyrillic",1087,"pedagesh",64324,"pedageshhebrew",64324,"peezisquare",13115,"pefinaldageshhebrew",64323,"peharabic",1662,"peharmenian",1402,"pehebrew",1508,"pehfinalarabic",64343,"pehinitialarabic",64344,"pehiragana",12410,"pehmedialarabic",64345,"pekatakana",12506,"pemiddlehookcyrillic",1191,"perafehebrew",64334,"percent",37,"percentarabic",1642,"percentmonospace",65285,"percentsmall",65130,"period",46,"periodarmenian",1417,"periodcentered",183,"periodhalfwidth",65377,"periodinferior",63207,"periodmonospace",65294,"periodsmall",65106,"periodsuperior",63208,"perispomenigreekcmb",834,"perpendicular",8869,"perthousand",8240,"peseta",8359,"pfsquare",13194,"phabengali",2475,"phadeva",2347,"phagujarati",2731,"phagurmukhi",2603,"phi",966,"phi1",981,"phieuphacirclekorean",12922,"phieuphaparenkorean",12826,"phieuphcirclekorean",12908,"phieuphkorean",12621,"phieuphparenkorean",12812,"philatin",632,"phinthuthai",3642,"phisymbolgreek",981,"phook",421,"phophanthai",3614,"phophungthai",3612,"phosamphaothai",3616,"pi",960,"pieupacirclekorean",12915,"pieupaparenkorean",12819,"pieupcieuckorean",12662,"pieupcirclekorean",12901,"pieupkiyeokkorean",12658,"pieupkorean",12610,"pieupparenkorean",12805,"pieupsioskiyeokkorean",12660,"pieupsioskorean",12612,"pieupsiostikeutkorean",12661,"pieupthieuthkorean",12663,"pieuptikeutkorean",12659,"pihiragana",12404,"pikatakana",12500,"pisymbolgreek",982,"piwrarmenian",1411,"plus",43,"plusbelowcmb",799,"pluscircle",8853,"plusminus",177,"plusmod",726,"plusmonospace",65291,"plussmall",65122,"plussuperior",8314,"pmonospace",65360,"pmsquare",13272,"pohiragana",12413,"pointingindexdownwhite",9759,"pointingindexleftwhite",9756,"pointingindexrightwhite",9758,"pointingindexupwhite",9757,"pokatakana",12509,"poplathai",3611,"postalmark",12306,"postalmarkface",12320,"pparen",9387,"precedes",8826,"prescription",8478,"primemod",697,"primereversed",8245,"product",8719,"projective",8965,"prolongedkana",12540,"propellor",8984,"propersubset",8834,"propersuperset",8835,"proportion",8759,"proportional",8733,"psi",968,"psicyrillic",1137,"psilipneumatacyrilliccmb",1158,"pssquare",13232,"puhiragana",12407,"pukatakana",12503,"pvsquare",13236,"pwsquare",13242,"q",113,"qadeva",2392,"qadmahebrew",1448,"qafarabic",1602,"qaffinalarabic",65238,"qafinitialarabic",65239,"qafmedialarabic",65240,"qamats",1464,"qamats10",1464,"qamats1a",1464,"qamats1c",1464,"qamats27",1464,"qamats29",1464,"qamats33",1464,"qamatsde",1464,"qamatshebrew",1464,"qamatsnarrowhebrew",1464,"qamatsqatanhebrew",1464,"qamatsqatannarrowhebrew",1464,"qamatsqatanquarterhebrew",1464,"qamatsqatanwidehebrew",1464,"qamatsquarterhebrew",1464,"qamatswidehebrew",1464,"qarneyparahebrew",1439,"qbopomofo",12561,"qcircle",9440,"qhook",672,"qmonospace",65361,"qof",1511,"qofdagesh",64327,"qofdageshhebrew",64327,"qofhebrew",1511,"qparen",9388,"quarternote",9833,"qubuts",1467,"qubuts18",1467,"qubuts25",1467,"qubuts31",1467,"qubutshebrew",1467,"qubutsnarrowhebrew",1467,"qubutsquarterhebrew",1467,"qubutswidehebrew",1467,"question",63,"questionarabic",1567,"questionarmenian",1374,"questiondown",191,"questiondownsmall",63423,"questiongreek",894,"questionmonospace",65311,"questionsmall",63295,"quotedbl",34,"quotedblbase",8222,"quotedblleft",8220,"quotedblmonospace",65282,"quotedblprime",12318,"quotedblprimereversed",12317,"quotedblright",8221,"quoteleft",8216,"quoteleftreversed",8219,"quotereversed",8219,"quoteright",8217,"quoterightn",329,"quotesinglbase",8218,"quotesingle",39,"quotesinglemonospace",65287,"r",114,"raarmenian",1404,"rabengali",2480,"racute",341,"radeva",2352,"radical",8730,"radicalex",63717,"radoverssquare",13230,"radoverssquaredsquare",13231,"radsquare",13229,"rafe",1471,"rafehebrew",1471,"ragujarati",2736,"ragurmukhi",2608,"rahiragana",12425,"rakatakana",12521,"rakatakanahalfwidth",65431,"ralowerdiagonalbengali",2545,"ramiddlediagonalbengali",2544,"ramshorn",612,"ratio",8758,"rbopomofo",12566,"rcaron",345,"rcedilla",343,"rcircle",9441,"rcommaaccent",343,"rdblgrave",529,"rdotaccent",7769,"rdotbelow",7771,"rdotbelowmacron",7773,"referencemark",8251,"reflexsubset",8838,"reflexsuperset",8839,"registered",174,"registersans",63720,"registerserif",63194,"reharabic",1585,"reharmenian",1408,"rehfinalarabic",65198,"rehiragana",12428,"rekatakana",12524,"rekatakanahalfwidth",65434,"resh",1512,"reshdageshhebrew",64328,"reshhebrew",1512,"reversedtilde",8765,"reviahebrew",1431,"reviamugrashhebrew",1431,"revlogicalnot",8976,"rfishhook",638,"rfishhookreversed",639,"rhabengali",2525,"rhadeva",2397,"rho",961,"rhook",637,"rhookturned",635,"rhookturnedsuperior",693,"rhosymbolgreek",1009,"rhotichookmod",734,"rieulacirclekorean",12913,"rieulaparenkorean",12817,"rieulcirclekorean",12899,"rieulhieuhkorean",12608,"rieulkiyeokkorean",12602,"rieulkiyeoksioskorean",12649,"rieulkorean",12601,"rieulmieumkorean",12603,"rieulpansioskorean",12652,"rieulparenkorean",12803,"rieulphieuphkorean",12607,"rieulpieupkorean",12604,"rieulpieupsioskorean",12651,"rieulsioskorean",12605,"rieulthieuthkorean",12606,"rieultikeutkorean",12650,"rieulyeorinhieuhkorean",12653,"rightangle",8735,"righttackbelowcmb",793,"righttriangle",8895,"rihiragana",12426,"rikatakana",12522,"rikatakanahalfwidth",65432,"ring",730,"ringbelowcmb",805,"ringcmb",778,"ringhalfleft",703,"ringhalfleftarmenian",1369,"ringhalfleftbelowcmb",796,"ringhalfleftcentered",723,"ringhalfright",702,"ringhalfrightbelowcmb",825,"ringhalfrightcentered",722,"rinvertedbreve",531,"rittorusquare",13137,"rlinebelow",7775,"rlongleg",636,"rlonglegturned",634,"rmonospace",65362,"rohiragana",12429,"rokatakana",12525,"rokatakanahalfwidth",65435,"roruathai",3619,"rparen",9389,"rrabengali",2524,"rradeva",2353,"rragurmukhi",2652,"rreharabic",1681,"rrehfinalarabic",64397,"rrvocalicbengali",2528,"rrvocalicdeva",2400,"rrvocalicgujarati",2784,"rrvocalicvowelsignbengali",2500,"rrvocalicvowelsigndeva",2372,"rrvocalicvowelsigngujarati",2756,"rsuperior",63217,"rtblock",9616,"rturned",633,"rturnedsuperior",692,"ruhiragana",12427,"rukatakana",12523,"rukatakanahalfwidth",65433,"rupeemarkbengali",2546,"rupeesignbengali",2547,"rupiah",63197,"ruthai",3620,"rvocalicbengali",2443,"rvocalicdeva",2315,"rvocalicgujarati",2699,"rvocalicvowelsignbengali",2499,"rvocalicvowelsigndeva",2371,"rvocalicvowelsigngujarati",2755,"s",115,"sabengali",2488,"sacute",347,"sacutedotaccent",7781,"sadarabic",1589,"sadeva",2360,"sadfinalarabic",65210,"sadinitialarabic",65211,"sadmedialarabic",65212,"sagujarati",2744,"sagurmukhi",2616,"sahiragana",12373,"sakatakana",12469,"sakatakanahalfwidth",65403,"sallallahoualayhewasallamarabic",65018,"samekh",1505,"samekhdagesh",64321,"samekhdageshhebrew",64321,"samekhhebrew",1505,"saraaathai",3634,"saraaethai",3649,"saraaimaimalaithai",3652,"saraaimaimuanthai",3651,"saraamthai",3635,"saraathai",3632,"saraethai",3648,"saraiileftthai",63622,"saraiithai",3637,"saraileftthai",63621,"saraithai",3636,"saraothai",3650,"saraueeleftthai",63624,"saraueethai",3639,"saraueleftthai",63623,"sarauethai",3638,"sarauthai",3640,"sarauuthai",3641,"sbopomofo",12569,"scaron",353,"scarondotaccent",7783,"scedilla",351,"schwa",601,"schwacyrillic",1241,"schwadieresiscyrillic",1243,"schwahook",602,"scircle",9442,"scircumflex",349,"scommaaccent",537,"sdotaccent",7777,"sdotbelow",7779,"sdotbelowdotaccent",7785,"seagullbelowcmb",828,"second",8243,"secondtonechinese",714,"section",167,"seenarabic",1587,"seenfinalarabic",65202,"seeninitialarabic",65203,"seenmedialarabic",65204,"segol",1462,"segol13",1462,"segol1f",1462,"segol2c",1462,"segolhebrew",1462,"segolnarrowhebrew",1462,"segolquarterhebrew",1462,"segoltahebrew",1426,"segolwidehebrew",1462,"seharmenian",1405,"sehiragana",12379,"sekatakana",12475,"sekatakanahalfwidth",65406,"semicolon",59,"semicolonarabic",1563,"semicolonmonospace",65307,"semicolonsmall",65108,"semivoicedmarkkana",12444,"semivoicedmarkkanahalfwidth",65439,"sentisquare",13090,"sentosquare",13091,"seven",55,"sevenarabic",1639,"sevenbengali",2541,"sevencircle",9318,"sevencircleinversesansserif",10128,"sevendeva",2413,"seveneighths",8542,"sevengujarati",2797,"sevengurmukhi",2669,"sevenhackarabic",1639,"sevenhangzhou",12327,"sevenideographicparen",12838,"seveninferior",8327,"sevenmonospace",65303,"sevenoldstyle",63287,"sevenparen",9338,"sevenperiod",9358,"sevenpersian",1783,"sevenroman",8566,"sevensuperior",8311,"seventeencircle",9328,"seventeenparen",9348,"seventeenperiod",9368,"seventhai",3671,"sfthyphen",173,"shaarmenian",1399,"shabengali",2486,"shacyrillic",1096,"shaddaarabic",1617,"shaddadammaarabic",64609,"shaddadammatanarabic",64606,"shaddafathaarabic",64608,"shaddakasraarabic",64610,"shaddakasratanarabic",64607,"shade",9618,"shadedark",9619,"shadelight",9617,"shademedium",9618,"shadeva",2358,"shagujarati",2742,"shagurmukhi",2614,"shalshelethebrew",1427,"shbopomofo",12565,"shchacyrillic",1097,"sheenarabic",1588,"sheenfinalarabic",65206,"sheeninitialarabic",65207,"sheenmedialarabic",65208,"sheicoptic",995,"sheqel",8362,"sheqelhebrew",8362,"sheva",1456,"sheva115",1456,"sheva15",1456,"sheva22",1456,"sheva2e",1456,"shevahebrew",1456,"shevanarrowhebrew",1456,"shevaquarterhebrew",1456,"shevawidehebrew",1456,"shhacyrillic",1211,"shimacoptic",1005,"shin",1513,"shindagesh",64329,"shindageshhebrew",64329,"shindageshshindot",64300,"shindageshshindothebrew",64300,"shindageshsindot",64301,"shindageshsindothebrew",64301,"shindothebrew",1473,"shinhebrew",1513,"shinshindot",64298,"shinshindothebrew",64298,"shinsindot",64299,"shinsindothebrew",64299,"shook",642,"sigma",963,"sigma1",962,"sigmafinal",962,"sigmalunatesymbolgreek",1010,"sihiragana",12375,"sikatakana",12471,"sikatakanahalfwidth",65404,"siluqhebrew",1469,"siluqlefthebrew",1469,"similar",8764,"sindothebrew",1474,"siosacirclekorean",12916,"siosaparenkorean",12820,"sioscieuckorean",12670,"sioscirclekorean",12902,"sioskiyeokkorean",12666,"sioskorean",12613,"siosnieunkorean",12667,"siosparenkorean",12806,"siospieupkorean",12669,"siostikeutkorean",12668,"six",54,"sixarabic",1638,"sixbengali",2540,"sixcircle",9317,"sixcircleinversesansserif",10127,"sixdeva",2412,"sixgujarati",2796,"sixgurmukhi",2668,"sixhackarabic",1638,"sixhangzhou",12326,"sixideographicparen",12837,"sixinferior",8326,"sixmonospace",65302,"sixoldstyle",63286,"sixparen",9337,"sixperiod",9357,"sixpersian",1782,"sixroman",8565,"sixsuperior",8310,"sixteencircle",9327,"sixteencurrencydenominatorbengali",2553,"sixteenparen",9347,"sixteenperiod",9367,"sixthai",3670,"slash",47,"slashmonospace",65295,"slong",383,"slongdotaccent",7835,"smileface",9786,"smonospace",65363,"sofpasuqhebrew",1475,"softhyphen",173,"softsigncyrillic",1100,"sohiragana",12381,"sokatakana",12477,"sokatakanahalfwidth",65407,"soliduslongoverlaycmb",824,"solidusshortoverlaycmb",823,"sorusithai",3625,"sosalathai",3624,"sosothai",3595,"sosuathai",3626,"space",32,"spacehackarabic",32,"spade",9824,"spadesuitblack",9824,"spadesuitwhite",9828,"sparen",9390,"squarebelowcmb",827,"squarecc",13252,"squarecm",13213,"squarediagonalcrosshatchfill",9641,"squarehorizontalfill",9636,"squarekg",13199,"squarekm",13214,"squarekmcapital",13262,"squareln",13265,"squarelog",13266,"squaremg",13198,"squaremil",13269,"squaremm",13212,"squaremsquared",13217,"squareorthogonalcrosshatchfill",9638,"squareupperlefttolowerrightfill",9639,"squareupperrighttolowerleftfill",9640,"squareverticalfill",9637,"squarewhitewithsmallblack",9635,"srsquare",13275,"ssabengali",2487,"ssadeva",2359,"ssagujarati",2743,"ssangcieuckorean",12617,"ssanghieuhkorean",12677,"ssangieungkorean",12672,"ssangkiyeokkorean",12594,"ssangnieunkorean",12645,"ssangpieupkorean",12611,"ssangsioskorean",12614,"ssangtikeutkorean",12600,"ssuperior",63218,"sterling",163,"sterlingmonospace",65505,"strokelongoverlaycmb",822,"strokeshortoverlaycmb",821,"subset",8834,"subsetnotequal",8842,"subsetorequal",8838,"succeeds",8827,"suchthat",8715,"suhiragana",12377,"sukatakana",12473,"sukatakanahalfwidth",65405,"sukunarabic",1618,"summation",8721,"sun",9788,"superset",8835,"supersetnotequal",8843,"supersetorequal",8839,"svsquare",13276,"syouwaerasquare",13180,"t",116,"tabengali",2468,"tackdown",8868,"tackleft",8867,"tadeva",2340,"tagujarati",2724,"tagurmukhi",2596,"taharabic",1591,"tahfinalarabic",65218,"tahinitialarabic",65219,"tahiragana",12383,"tahmedialarabic",65220,"taisyouerasquare",13181,"takatakana",12479,"takatakanahalfwidth",65408,"tatweelarabic",1600,"tau",964,"tav",1514,"tavdages",64330,"tavdagesh",64330,"tavdageshhebrew",64330,"tavhebrew",1514,"tbar",359,"tbopomofo",12554,"tcaron",357,"tccurl",680,"tcedilla",355,"tcheharabic",1670,"tchehfinalarabic",64379,"tchehinitialarabic",64380,"tchehmedialarabic",64381,"tcircle",9443,"tcircumflexbelow",7793,"tcommaaccent",355,"tdieresis",7831,"tdotaccent",7787,"tdotbelow",7789,"tecyrillic",1090,"tedescendercyrillic",1197,"teharabic",1578,"tehfinalarabic",65174,"tehhahinitialarabic",64674,"tehhahisolatedarabic",64524,"tehinitialarabic",65175,"tehiragana",12390,"tehjeeminitialarabic",64673,"tehjeemisolatedarabic",64523,"tehmarbutaarabic",1577,"tehmarbutafinalarabic",65172,"tehmedialarabic",65176,"tehmeeminitialarabic",64676,"tehmeemisolatedarabic",64526,"tehnoonfinalarabic",64627,"tekatakana",12486,"tekatakanahalfwidth",65411,"telephone",8481,"telephoneblack",9742,"telishagedolahebrew",1440,"telishaqetanahebrew",1449,"tencircle",9321,"tenideographicparen",12841,"tenparen",9341,"tenperiod",9361,"tenroman",8569,"tesh",679,"tet",1496,"tetdagesh",64312,"tetdageshhebrew",64312,"tethebrew",1496,"tetsecyrillic",1205,"tevirhebrew",1435,"tevirlefthebrew",1435,"thabengali",2469,"thadeva",2341,"thagujarati",2725,"thagurmukhi",2597,"thalarabic",1584,"thalfinalarabic",65196,"thanthakhatlowleftthai",63640,"thanthakhatlowrightthai",63639,"thanthakhatthai",3660,"thanthakhatupperleftthai",63638,"theharabic",1579,"thehfinalarabic",65178,"thehinitialarabic",65179,"thehmedialarabic",65180,"thereexists",8707,"therefore",8756,"theta",952,"theta1",977,"thetasymbolgreek",977,"thieuthacirclekorean",12921,"thieuthaparenkorean",12825,"thieuthcirclekorean",12907,"thieuthkorean",12620,"thieuthparenkorean",12811,"thirteencircle",9324,"thirteenparen",9344,"thirteenperiod",9364,"thonangmonthothai",3601,"thook",429,"thophuthaothai",3602,"thorn",254,"thothahanthai",3607,"thothanthai",3600,"thothongthai",3608,"thothungthai",3606,"thousandcyrillic",1154,"thousandsseparatorarabic",1644,"thousandsseparatorpersian",1644,"three",51,"threearabic",1635,"threebengali",2537,"threecircle",9314,"threecircleinversesansserif",10124,"threedeva",2409,"threeeighths",8540,"threegujarati",2793,"threegurmukhi",2665,"threehackarabic",1635,"threehangzhou",12323,"threeideographicparen",12834,"threeinferior",8323,"threemonospace",65299,"threenumeratorbengali",2550,"threeoldstyle",63283,"threeparen",9334,"threeperiod",9354,"threepersian",1779,"threequarters",190,"threequartersemdash",63198,"threeroman",8562,"threesuperior",179,"threethai",3667,"thzsquare",13204,"tihiragana",12385,"tikatakana",12481,"tikatakanahalfwidth",65409,"tikeutacirclekorean",12912,"tikeutaparenkorean",12816,"tikeutcirclekorean",12898,"tikeutkorean",12599,"tikeutparenkorean",12802,"tilde",732,"tildebelowcmb",816,"tildecmb",771,"tildecomb",771,"tildedoublecmb",864,"tildeoperator",8764,"tildeoverlaycmb",820,"tildeverticalcmb",830,"timescircle",8855,"tipehahebrew",1430,"tipehalefthebrew",1430,"tippigurmukhi",2672,"titlocyrilliccmb",1155,"tiwnarmenian",1407,"tlinebelow",7791,"tmonospace",65364,"toarmenian",1385,"tohiragana",12392,"tokatakana",12488,"tokatakanahalfwidth",65412,"tonebarextrahighmod",741,"tonebarextralowmod",745,"tonebarhighmod",742,"tonebarlowmod",744,"tonebarmidmod",743,"tonefive",445,"tonesix",389,"tonetwo",424,"tonos",900,"tonsquare",13095,"topatakthai",3599,"tortoiseshellbracketleft",12308,"tortoiseshellbracketleftsmall",65117,"tortoiseshellbracketleftvertical",65081,"tortoiseshellbracketright",12309,"tortoiseshellbracketrightsmall",65118,"tortoiseshellbracketrightvertical",65082,"totaothai",3605,"tpalatalhook",427,"tparen",9391,"trademark",8482,"trademarksans",63722,"trademarkserif",63195,"tretroflexhook",648,"triagdn",9660,"triaglf",9668,"triagrt",9658,"triagup",9650,"ts",678,"tsadi",1510,"tsadidagesh",64326,"tsadidageshhebrew",64326,"tsadihebrew",1510,"tsecyrillic",1094,"tsere",1461,"tsere12",1461,"tsere1e",1461,"tsere2b",1461,"tserehebrew",1461,"tserenarrowhebrew",1461,"tserequarterhebrew",1461,"tserewidehebrew",1461,"tshecyrillic",1115,"tsuperior",63219,"ttabengali",2463,"ttadeva",2335,"ttagujarati",2719,"ttagurmukhi",2591,"tteharabic",1657,"ttehfinalarabic",64359,"ttehinitialarabic",64360,"ttehmedialarabic",64361,"tthabengali",2464,"tthadeva",2336,"tthagujarati",2720,"tthagurmukhi",2592,"tturned",647,"tuhiragana",12388,"tukatakana",12484,"tukatakanahalfwidth",65410,"tusmallhiragana",12387,"tusmallkatakana",12483,"tusmallkatakanahalfwidth",65391,"twelvecircle",9323,"twelveparen",9343,"twelveperiod",9363,"twelveroman",8571,"twentycircle",9331,"twentyhangzhou",21316,"twentyparen",9351,"twentyperiod",9371,"two",50,"twoarabic",1634,"twobengali",2536,"twocircle",9313,"twocircleinversesansserif",10123,"twodeva",2408,"twodotenleader",8229,"twodotleader",8229,"twodotleadervertical",65072,"twogujarati",2792,"twogurmukhi",2664,"twohackarabic",1634,"twohangzhou",12322,"twoideographicparen",12833,"twoinferior",8322,"twomonospace",65298,"twonumeratorbengali",2549,"twooldstyle",63282,"twoparen",9333,"twoperiod",9353,"twopersian",1778,"tworoman",8561,"twostroke",443,"twosuperior",178,"twothai",3666,"twothirds",8532,"u",117,"uacute",250,"ubar",649,"ubengali",2441,"ubopomofo",12584,"ubreve",365,"ucaron",468,"ucircle",9444,"ucircumflex",251,"ucircumflexbelow",7799,"ucyrillic",1091,"udattadeva",2385,"udblacute",369,"udblgrave",533,"udeva",2313,"udieresis",252,"udieresisacute",472,"udieresisbelow",7795,"udieresiscaron",474,"udieresiscyrillic",1265,"udieresisgrave",476,"udieresismacron",470,"udotbelow",7909,"ugrave",249,"ugujarati",2697,"ugurmukhi",2569,"uhiragana",12358,"uhookabove",7911,"uhorn",432,"uhornacute",7913,"uhorndotbelow",7921,"uhorngrave",7915,"uhornhookabove",7917,"uhorntilde",7919,"uhungarumlaut",369,"uhungarumlautcyrillic",1267,"uinvertedbreve",535,"ukatakana",12454,"ukatakanahalfwidth",65395,"ukcyrillic",1145,"ukorean",12636,"umacron",363,"umacroncyrillic",1263,"umacrondieresis",7803,"umatragurmukhi",2625,"umonospace",65365,"underscore",95,"underscoredbl",8215,"underscoremonospace",65343,"underscorevertical",65075,"underscorewavy",65103,"union",8746,"universal",8704,"uogonek",371,"uparen",9392,"upblock",9600,"upperdothebrew",1476,"upsilon",965,"upsilondieresis",971,"upsilondieresistonos",944,"upsilonlatin",650,"upsilontonos",973,"uptackbelowcmb",797,"uptackmod",724,"uragurmukhi",2675,"uring",367,"ushortcyrillic",1118,"usmallhiragana",12357,"usmallkatakana",12453,"usmallkatakanahalfwidth",65385,"ustraightcyrillic",1199,"ustraightstrokecyrillic",1201,"utilde",361,"utildeacute",7801,"utildebelow",7797,"uubengali",2442,"uudeva",2314,"uugujarati",2698,"uugurmukhi",2570,"uumatragurmukhi",2626,"uuvowelsignbengali",2498,"uuvowelsigndeva",2370,"uuvowelsigngujarati",2754,"uvowelsignbengali",2497,"uvowelsigndeva",2369,"uvowelsigngujarati",2753,"v",118,"vadeva",2357,"vagujarati",2741,"vagurmukhi",2613,"vakatakana",12535,"vav",1493,"vavdagesh",64309,"vavdagesh65",64309,"vavdageshhebrew",64309,"vavhebrew",1493,"vavholam",64331,"vavholamhebrew",64331,"vavvavhebrew",1520,"vavyodhebrew",1521,"vcircle",9445,"vdotbelow",7807,"vecyrillic",1074,"veharabic",1700,"vehfinalarabic",64363,"vehinitialarabic",64364,"vehmedialarabic",64365,"vekatakana",12537,"venus",9792,"verticalbar",124,"verticallineabovecmb",781,"verticallinebelowcmb",809,"verticallinelowmod",716,"verticallinemod",712,"vewarmenian",1406,"vhook",651,"vikatakana",12536,"viramabengali",2509,"viramadeva",2381,"viramagujarati",2765,"visargabengali",2435,"visargadeva",2307,"visargagujarati",2691,"vmonospace",65366,"voarmenian",1400,"voicediterationhiragana",12446,"voicediterationkatakana",12542,"voicedmarkkana",12443,"voicedmarkkanahalfwidth",65438,"vokatakana",12538,"vparen",9393,"vtilde",7805,"vturned",652,"vuhiragana",12436,"vukatakana",12532,"w",119,"wacute",7811,"waekorean",12633,"wahiragana",12431,"wakatakana",12527,"wakatakanahalfwidth",65436,"wakorean",12632,"wasmallhiragana",12430,"wasmallkatakana",12526,"wattosquare",13143,"wavedash",12316,"wavyunderscorevertical",65076,"wawarabic",1608,"wawfinalarabic",65262,"wawhamzaabovearabic",1572,"wawhamzaabovefinalarabic",65158,"wbsquare",13277,"wcircle",9446,"wcircumflex",373,"wdieresis",7813,"wdotaccent",7815,"wdotbelow",7817,"wehiragana",12433,"weierstrass",8472,"wekatakana",12529,"wekorean",12638,"weokorean",12637,"wgrave",7809,"whitebullet",9702,"whitecircle",9675,"whitecircleinverse",9689,"whitecornerbracketleft",12302,"whitecornerbracketleftvertical",65091,"whitecornerbracketright",12303,"whitecornerbracketrightvertical",65092,"whitediamond",9671,"whitediamondcontainingblacksmalldiamond",9672,"whitedownpointingsmalltriangle",9663,"whitedownpointingtriangle",9661,"whiteleftpointingsmalltriangle",9667,"whiteleftpointingtriangle",9665,"whitelenticularbracketleft",12310,"whitelenticularbracketright",12311,"whiterightpointingsmalltriangle",9657,"whiterightpointingtriangle",9655,"whitesmallsquare",9643,"whitesmilingface",9786,"whitesquare",9633,"whitestar",9734,"whitetelephone",9743,"whitetortoiseshellbracketleft",12312,"whitetortoiseshellbracketright",12313,"whiteuppointingsmalltriangle",9653,"whiteuppointingtriangle",9651,"wihiragana",12432,"wikatakana",12528,"wikorean",12639,"wmonospace",65367,"wohiragana",12434,"wokatakana",12530,"wokatakanahalfwidth",65382,"won",8361,"wonmonospace",65510,"wowaenthai",3623,"wparen",9394,"wring",7832,"wsuperior",695,"wturned",653,"wynn",447,"x",120,"xabovecmb",829,"xbopomofo",12562,"xcircle",9447,"xdieresis",7821,"xdotaccent",7819,"xeharmenian",1389,"xi",958,"xmonospace",65368,"xparen",9395,"xsuperior",739,"y",121,"yaadosquare",13134,"yabengali",2479,"yacute",253,"yadeva",2351,"yaekorean",12626,"yagujarati",2735,"yagurmukhi",2607,"yahiragana",12420,"yakatakana",12516,"yakatakanahalfwidth",65428,"yakorean",12625,"yamakkanthai",3662,"yasmallhiragana",12419,"yasmallkatakana",12515,"yasmallkatakanahalfwidth",65388,"yatcyrillic",1123,"ycircle",9448,"ycircumflex",375,"ydieresis",255,"ydotaccent",7823,"ydotbelow",7925,"yeharabic",1610,"yehbarreearabic",1746,"yehbarreefinalarabic",64431,"yehfinalarabic",65266,"yehhamzaabovearabic",1574,"yehhamzaabovefinalarabic",65162,"yehhamzaaboveinitialarabic",65163,"yehhamzaabovemedialarabic",65164,"yehinitialarabic",65267,"yehmedialarabic",65268,"yehmeeminitialarabic",64733,"yehmeemisolatedarabic",64600,"yehnoonfinalarabic",64660,"yehthreedotsbelowarabic",1745,"yekorean",12630,"yen",165,"yenmonospace",65509,"yeokorean",12629,"yeorinhieuhkorean",12678,"yerahbenyomohebrew",1450,"yerahbenyomolefthebrew",1450,"yericyrillic",1099,"yerudieresiscyrillic",1273,"yesieungkorean",12673,"yesieungpansioskorean",12675,"yesieungsioskorean",12674,"yetivhebrew",1434,"ygrave",7923,"yhook",436,"yhookabove",7927,"yiarmenian",1397,"yicyrillic",1111,"yikorean",12642,"yinyang",9775,"yiwnarmenian",1410,"ymonospace",65369,"yod",1497,"yoddagesh",64313,"yoddageshhebrew",64313,"yodhebrew",1497,"yodyodhebrew",1522,"yodyodpatahhebrew",64287,"yohiragana",12424,"yoikorean",12681,"yokatakana",12520,"yokatakanahalfwidth",65430,"yokorean",12635,"yosmallhiragana",12423,"yosmallkatakana",12519,"yosmallkatakanahalfwidth",65390,"yotgreek",1011,"yoyaekorean",12680,"yoyakorean",12679,"yoyakthai",3618,"yoyingthai",3597,"yparen",9396,"ypogegrammeni",890,"ypogegrammenigreekcmb",837,"yr",422,"yring",7833,"ysuperior",696,"ytilde",7929,"yturned",654,"yuhiragana",12422,"yuikorean",12684,"yukatakana",12518,"yukatakanahalfwidth",65429,"yukorean",12640,"yusbigcyrillic",1131,"yusbigiotifiedcyrillic",1133,"yuslittlecyrillic",1127,"yuslittleiotifiedcyrillic",1129,"yusmallhiragana",12421,"yusmallkatakana",12517,"yusmallkatakanahalfwidth",65389,"yuyekorean",12683,"yuyeokorean",12682,"yyabengali",2527,"yyadeva",2399,"z",122,"zaarmenian",1382,"zacute",378,"zadeva",2395,"zagurmukhi",2651,"zaharabic",1592,"zahfinalarabic",65222,"zahinitialarabic",65223,"zahiragana",12374,"zahmedialarabic",65224,"zainarabic",1586,"zainfinalarabic",65200,"zakatakana",12470,"zaqefgadolhebrew",1429,"zaqefqatanhebrew",1428,"zarqahebrew",1432,"zayin",1494,"zayindagesh",64310,"zayindageshhebrew",64310,"zayinhebrew",1494,"zbopomofo",12567,"zcaron",382,"zcircle",9449,"zcircumflex",7825,"zcurl",657,"zdot",380,"zdotaccent",380,"zdotbelow",7827,"zecyrillic",1079,"zedescendercyrillic",1177,"zedieresiscyrillic",1247,"zehiragana",12380,"zekatakana",12476,"zero",48,"zeroarabic",1632,"zerobengali",2534,"zerodeva",2406,"zerogujarati",2790,"zerogurmukhi",2662,"zerohackarabic",1632,"zeroinferior",8320,"zeromonospace",65296,"zerooldstyle",63280,"zeropersian",1776,"zerosuperior",8304,"zerothai",3664,"zerowidthjoiner",65279,"zerowidthnonjoiner",8204,"zerowidthspace",8203,"zeta",950,"zhbopomofo",12563,"zhearmenian",1386,"zhebrevecyrillic",1218,"zhecyrillic",1078,"zhedescendercyrillic",1175,"zhedieresiscyrillic",1245,"zihiragana",12376,"zikatakana",12472,"zinorhebrew",1454,"zlinebelow",7829,"zmonospace",65370,"zohiragana",12382,"zokatakana",12478,"zparen",9397,"zretroflexhook",656,"zstroke",438,"zuhiragana",12378,"zukatakana",12474,".notdef",0,"angbracketleftbig",9001,"angbracketleftBig",9001,"angbracketleftbigg",9001,"angbracketleftBigg",9001,"angbracketrightBig",9002,"angbracketrightbig",9002,"angbracketrightBigg",9002,"angbracketrightbigg",9002,"arrowhookleft",8618,"arrowhookright",8617,"arrowlefttophalf",8636,"arrowleftbothalf",8637,"arrownortheast",8599,"arrownorthwest",8598,"arrowrighttophalf",8640,"arrowrightbothalf",8641,"arrowsoutheast",8600,"arrowsouthwest",8601,"backslashbig",8726,"backslashBig",8726,"backslashBigg",8726,"backslashbigg",8726,"bardbl",8214,"bracehtipdownleft",65079,"bracehtipdownright",65079,"bracehtipupleft",65080,"bracehtipupright",65080,"braceleftBig",123,"braceleftbig",123,"braceleftbigg",123,"braceleftBigg",123,"bracerightBig",125,"bracerightbig",125,"bracerightbigg",125,"bracerightBigg",125,"bracketleftbig",91,"bracketleftBig",91,"bracketleftbigg",91,"bracketleftBigg",91,"bracketrightBig",93,"bracketrightbig",93,"bracketrightbigg",93,"bracketrightBigg",93,"ceilingleftbig",8968,"ceilingleftBig",8968,"ceilingleftBigg",8968,"ceilingleftbigg",8968,"ceilingrightbig",8969,"ceilingrightBig",8969,"ceilingrightbigg",8969,"ceilingrightBigg",8969,"circledotdisplay",8857,"circledottext",8857,"circlemultiplydisplay",8855,"circlemultiplytext",8855,"circleplusdisplay",8853,"circleplustext",8853,"contintegraldisplay",8750,"contintegraltext",8750,"coproductdisplay",8720,"coproducttext",8720,"floorleftBig",8970,"floorleftbig",8970,"floorleftbigg",8970,"floorleftBigg",8970,"floorrightbig",8971,"floorrightBig",8971,"floorrightBigg",8971,"floorrightbigg",8971,"hatwide",770,"hatwider",770,"hatwidest",770,"intercal",7488,"integraldisplay",8747,"integraltext",8747,"intersectiondisplay",8898,"intersectiontext",8898,"logicalanddisplay",8743,"logicalandtext",8743,"logicalordisplay",8744,"logicalortext",8744,"parenleftBig",40,"parenleftbig",40,"parenleftBigg",40,"parenleftbigg",40,"parenrightBig",41,"parenrightbig",41,"parenrightBigg",41,"parenrightbigg",41,"prime",8242,"productdisplay",8719,"producttext",8719,"radicalbig",8730,"radicalBig",8730,"radicalBigg",8730,"radicalbigg",8730,"radicalbt",8730,"radicaltp",8730,"radicalvertex",8730,"slashbig",47,"slashBig",47,"slashBigg",47,"slashbigg",47,"summationdisplay",8721,"summationtext",8721,"tildewide",732,"tildewider",732,"tildewidest",732,"uniondisplay",8899,"unionmultidisplay",8846,"unionmultitext",8846,"unionsqdisplay",8852,"unionsqtext",8852,"uniontext",8899,"vextenddouble",8741,"vextendsingle",8739]}),C=(0,n.getArrayLookupTableFactory)(function(){return["space",32,"a1",9985,"a2",9986,"a202",9987,"a3",9988,"a4",9742,"a5",9990,"a119",9991,"a118",9992,"a117",9993,"a11",9755,"a12",9758,"a13",9996,"a14",9997,"a15",9998,"a16",9999,"a105",1e4,"a17",10001,"a18",10002,"a19",10003,"a20",10004,"a21",10005,"a22",10006,"a23",10007,"a24",10008,"a25",10009,"a26",10010,"a27",10011,"a28",10012,"a6",10013,"a7",10014,"a8",10015,"a9",10016,"a10",10017,"a29",10018,"a30",10019,"a31",10020,"a32",10021,"a33",10022,"a34",10023,"a35",9733,"a36",10025,"a37",10026,"a38",10027,"a39",10028,"a40",10029,"a41",10030,"a42",10031,"a43",10032,"a44",10033,"a45",10034,"a46",10035,"a47",10036,"a48",10037,"a49",10038,"a50",10039,"a51",10040,"a52",10041,"a53",10042,"a54",10043,"a55",10044,"a56",10045,"a57",10046,"a58",10047,"a59",10048,"a60",10049,"a61",10050,"a62",10051,"a63",10052,"a64",10053,"a65",10054,"a66",10055,"a67",10056,"a68",10057,"a69",10058,"a70",10059,"a71",9679,"a72",10061,"a73",9632,"a74",10063,"a203",10064,"a75",10065,"a204",10066,"a76",9650,"a77",9660,"a78",9670,"a79",10070,"a81",9687,"a82",10072,"a83",10073,"a84",10074,"a97",10075,"a98",10076,"a99",10077,"a100",10078,"a101",10081,"a102",10082,"a103",10083,"a104",10084,"a106",10085,"a107",10086,"a108",10087,"a112",9827,"a111",9830,"a110",9829,"a109",9824,"a120",9312,"a121",9313,"a122",9314,"a123",9315,"a124",9316,"a125",9317,"a126",9318,"a127",9319,"a128",9320,"a129",9321,"a130",10102,"a131",10103,"a132",10104,"a133",10105,"a134",10106,"a135",10107,"a136",10108,"a137",10109,"a138",10110,"a139",10111,"a140",10112,"a141",10113,"a142",10114,"a143",10115,"a144",10116,"a145",10117,"a146",10118,"a147",10119,"a148",10120,"a149",10121,"a150",10122,"a151",10123,"a152",10124,"a153",10125,"a154",10126,"a155",10127,"a156",10128,"a157",10129,"a158",10130,"a159",10131,"a160",10132,"a161",8594,"a163",8596,"a164",8597,"a196",10136,"a165",10137,"a192",10138,"a166",10139,"a167",10140,"a168",10141,"a169",10142,"a170",10143,"a171",10144,"a172",10145,"a173",10146,"a162",10147,"a174",10148,"a175",10149,"a176",10150,"a177",10151,"a178",10152,"a179",10153,"a193",10154,"a180",10155,"a199",10156,"a181",10157,"a200",10158,"a182",10159,"a201",10161,"a183",10162,"a184",10163,"a197",10164,"a185",10165,"a194",10166,"a198",10167,"a186",10168,"a195",10169,"a187",10170,"a188",10171,"a189",10172,"a190",10173,"a191",10174,"a89",10088,"a90",10089,"a93",10090,"a94",10091,"a91",10092,"a92",10093,"a205",10094,"a85",10095,"a206",10096,"a86",10097,"a87",10098,"a88",10099,"a95",10100,"a96",10101,".notdef",0]})},(d,s,u)=>{u.r(s),u.d(s,{clearUnicodeCaches:()=>T,getCharUnicodeCategory:()=>o,getNormalizedUnicodes:()=>B,getUnicodeForGlyph:()=>m,getUnicodeRangeFor:()=>E,mapSpecialUnicodeValues:()=>C,reverseIfRtl:()=>O});var n=u(131);const c=(0,n.getLookupTableFactory)(function(D){D[63721]=169,D[63193]=169,D[63720]=174,D[63194]=174,D[63722]=8482,D[63195]=8482,D[63729]=9127,D[63730]=9128,D[63731]=9129,D[63740]=9131,D[63741]=9132,D[63742]=9133,D[63726]=9121,D[63727]=9122,D[63728]=9123,D[63737]=9124,D[63738]=9125,D[63739]=9126,D[63723]=9115,D[63724]=9116,D[63725]=9117,D[63734]=9118,D[63735]=9119,D[63736]=9120});function C(D){return D>=65520&&D<=65535?0:D>=62976&&D<=63743?c()[D]||D:D===173?45:D}function m(D,_){let y=_[D];if(y!==void 0)return y;if(!D)return-1;if(D[0]==="u"){const P=D.length;let w;if(P===7&&D[1]==="n"&&D[2]==="i")w=D.substring(3);else if(P>=5&&P<=7)w=D.substring(1);else return-1;if(w===w.toUpperCase()&&(y=parseInt(w,16),y>=0))return y}return-1}const e=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function E(D){for(let _=0,y=e.length;_<y;_++){const P=e[_];if(D>=P.begin&&D<P.end)return _}return-1}function A(D){let _=e[13];return D>=_.begin&&D<_.end||(_=e[11],D>=_.begin&&D<_.end)}const B=(0,n.getArrayLookupTableFactory)(function(){return["\xA8"," \u0308","\xAF"," \u0304","\xB4"," \u0301","\xB5","\u03BC","\xB8"," \u0327","\u0132","IJ","\u0133","ij","\u013F","L\xB7","\u0140","l\xB7","\u0149","\u02BCn","\u017F","s","\u01C4","D\u017D","\u01C5","D\u017E","\u01C6","d\u017E","\u01C7","LJ","\u01C8","Lj","\u01C9","lj","\u01CA","NJ","\u01CB","Nj","\u01CC","nj","\u01F1","DZ","\u01F2","Dz","\u01F3","dz","\u02D8"," \u0306","\u02D9"," \u0307","\u02DA"," \u030A","\u02DB"," \u0328","\u02DC"," \u0303","\u02DD"," \u030B","\u037A"," \u0345","\u0384"," \u0301","\u03D0","\u03B2","\u03D1","\u03B8","\u03D2","\u03A5","\u03D5","\u03C6","\u03D6","\u03C0","\u03F0","\u03BA","\u03F1","\u03C1","\u03F2","\u03C2","\u03F4","\u0398","\u03F5","\u03B5","\u03F9","\u03A3","\u0587","\u0565\u0582","\u0675","\u0627\u0674","\u0676","\u0648\u0674","\u0677","\u06C7\u0674","\u0678","\u064A\u0674","\u0E33","\u0E4D\u0E32","\u0EB3","\u0ECD\u0EB2","\u0EDC","\u0EAB\u0E99","\u0EDD","\u0EAB\u0EA1","\u0F77","\u0FB2\u0F81","\u0F79","\u0FB3\u0F81","\u1E9A","a\u02BE","\u1FBD"," \u0313","\u1FBF"," \u0313","\u1FC0"," \u0342","\u1FFE"," \u0314","\u2002"," ","\u2003"," ","\u2004"," ","\u2005"," ","\u2006"," ","\u2008"," ","\u2009"," ","\u200A"," ","\u2017"," \u0333","\u2024",".","\u2025","..","\u2026","...","\u2033","\u2032\u2032","\u2034","\u2032\u2032\u2032","\u2036","\u2035\u2035","\u2037","\u2035\u2035\u2035","\u203C","!!","\u203E"," \u0305","\u2047","??","\u2048","?!","\u2049","!?","\u2057","\u2032\u2032\u2032\u2032","\u205F"," ","\u20A8","Rs","\u2100","a/c","\u2101","a/s","\u2103","\xB0C","\u2105","c/o","\u2106","c/u","\u2107","\u0190","\u2109","\xB0F","\u2116","No","\u2121","TEL","\u2135","\u05D0","\u2136","\u05D1","\u2137","\u05D2","\u2138","\u05D3","\u213B","FAX","\u2160","I","\u2161","II","\u2162","III","\u2163","IV","\u2164","V","\u2165","VI","\u2166","VII","\u2167","VIII","\u2168","IX","\u2169","X","\u216A","XI","\u216B","XII","\u216C","L","\u216D","C","\u216E","D","\u216F","M","\u2170","i","\u2171","ii","\u2172","iii","\u2173","iv","\u2174","v","\u2175","vi","\u2176","vii","\u2177","viii","\u2178","ix","\u2179","x","\u217A","xi","\u217B","xii","\u217C","l","\u217D","c","\u217E","d","\u217F","m","\u222C","\u222B\u222B","\u222D","\u222B\u222B\u222B","\u222F","\u222E\u222E","\u2230","\u222E\u222E\u222E","\u2474","(1)","\u2475","(2)","\u2476","(3)","\u2477","(4)","\u2478","(5)","\u2479","(6)","\u247A","(7)","\u247B","(8)","\u247C","(9)","\u247D","(10)","\u247E","(11)","\u247F","(12)","\u2480","(13)","\u2481","(14)","\u2482","(15)","\u2483","(16)","\u2484","(17)","\u2485","(18)","\u2486","(19)","\u2487","(20)","\u2488","1.","\u2489","2.","\u248A","3.","\u248B","4.","\u248C","5.","\u248D","6.","\u248E","7.","\u248F","8.","\u2490","9.","\u2491","10.","\u2492","11.","\u2493","12.","\u2494","13.","\u2495","14.","\u2496","15.","\u2497","16.","\u2498","17.","\u2499","18.","\u249A","19.","\u249B","20.","\u249C","(a)","\u249D","(b)","\u249E","(c)","\u249F","(d)","\u24A0","(e)","\u24A1","(f)","\u24A2","(g)","\u24A3","(h)","\u24A4","(i)","\u24A5","(j)","\u24A6","(k)","\u24A7","(l)","\u24A8","(m)","\u24A9","(n)","\u24AA","(o)","\u24AB","(p)","\u24AC","(q)","\u24AD","(r)","\u24AE","(s)","\u24AF","(t)","\u24B0","(u)","\u24B1","(v)","\u24B2","(w)","\u24B3","(x)","\u24B4","(y)","\u24B5","(z)","\u2A0C","\u222B\u222B\u222B\u222B","\u2A74","::=","\u2A75","==","\u2A76","===","\u2E9F","\u6BCD","\u2EF3","\u9F9F","\u2F00","\u4E00","\u2F01","\u4E28","\u2F02","\u4E36","\u2F03","\u4E3F","\u2F04","\u4E59","\u2F05","\u4E85","\u2F06","\u4E8C","\u2F07","\u4EA0","\u2F08","\u4EBA","\u2F09","\u513F","\u2F0A","\u5165","\u2F0B","\u516B","\u2F0C","\u5182","\u2F0D","\u5196","\u2F0E","\u51AB","\u2F0F","\u51E0","\u2F10","\u51F5","\u2F11","\u5200","\u2F12","\u529B","\u2F13","\u52F9","\u2F14","\u5315","\u2F15","\u531A","\u2F16","\u5338","\u2F17","\u5341","\u2F18","\u535C","\u2F19","\u5369","\u2F1A","\u5382","\u2F1B","\u53B6","\u2F1C","\u53C8","\u2F1D","\u53E3","\u2F1E","\u56D7","\u2F1F","\u571F","\u2F20","\u58EB","\u2F21","\u5902","\u2F22","\u590A","\u2F23","\u5915","\u2F24","\u5927","\u2F25","\u5973","\u2F26","\u5B50","\u2F27","\u5B80","\u2F28","\u5BF8","\u2F29","\u5C0F","\u2F2A","\u5C22","\u2F2B","\u5C38","\u2F2C","\u5C6E","\u2F2D","\u5C71","\u2F2E","\u5DDB","\u2F2F","\u5DE5","\u2F30","\u5DF1","\u2F31","\u5DFE","\u2F32","\u5E72","\u2F33","\u5E7A","\u2F34","\u5E7F","\u2F35","\u5EF4","\u2F36","\u5EFE","\u2F37","\u5F0B","\u2F38","\u5F13","\u2F39","\u5F50","\u2F3A","\u5F61","\u2F3B","\u5F73","\u2F3C","\u5FC3","\u2F3D","\u6208","\u2F3E","\u6236","\u2F3F","\u624B","\u2F40","\u652F","\u2F41","\u6534","\u2F42","\u6587","\u2F43","\u6597","\u2F44","\u65A4","\u2F45","\u65B9","\u2F46","\u65E0","\u2F47","\u65E5","\u2F48","\u66F0","\u2F49","\u6708","\u2F4A","\u6728","\u2F4B","\u6B20","\u2F4C","\u6B62","\u2F4D","\u6B79","\u2F4E","\u6BB3","\u2F4F","\u6BCB","\u2F50","\u6BD4","\u2F51","\u6BDB","\u2F52","\u6C0F","\u2F53","\u6C14","\u2F54","\u6C34","\u2F55","\u706B","\u2F56","\u722A","\u2F57","\u7236","\u2F58","\u723B","\u2F59","\u723F","\u2F5A","\u7247","\u2F5B","\u7259","\u2F5C","\u725B","\u2F5D","\u72AC","\u2F5E","\u7384","\u2F5F","\u7389","\u2F60","\u74DC","\u2F61","\u74E6","\u2F62","\u7518","\u2F63","\u751F","\u2F64","\u7528","\u2F65","\u7530","\u2F66","\u758B","\u2F67","\u7592","\u2F68","\u7676","\u2F69","\u767D","\u2F6A","\u76AE","\u2F6B","\u76BF","\u2F6C","\u76EE","\u2F6D","\u77DB","\u2F6E","\u77E2","\u2F6F","\u77F3","\u2F70","\u793A","\u2F71","\u79B8","\u2F72","\u79BE","\u2F73","\u7A74","\u2F74","\u7ACB","\u2F75","\u7AF9","\u2F76","\u7C73","\u2F77","\u7CF8","\u2F78","\u7F36","\u2F79","\u7F51","\u2F7A","\u7F8A","\u2F7B","\u7FBD","\u2F7C","\u8001","\u2F7D","\u800C","\u2F7E","\u8012","\u2F7F","\u8033","\u2F80","\u807F","\u2F81","\u8089","\u2F82","\u81E3","\u2F83","\u81EA","\u2F84","\u81F3","\u2F85","\u81FC","\u2F86","\u820C","\u2F87","\u821B","\u2F88","\u821F","\u2F89","\u826E","\u2F8A","\u8272","\u2F8B","\u8278","\u2F8C","\u864D","\u2F8D","\u866B","\u2F8E","\u8840","\u2F8F","\u884C","\u2F90","\u8863","\u2F91","\u897E","\u2F92","\u898B","\u2F93","\u89D2","\u2F94","\u8A00","\u2F95","\u8C37","\u2F96","\u8C46","\u2F97","\u8C55","\u2F98","\u8C78","\u2F99","\u8C9D","\u2F9A","\u8D64","\u2F9B","\u8D70","\u2F9C","\u8DB3","\u2F9D","\u8EAB","\u2F9E","\u8ECA","\u2F9F","\u8F9B","\u2FA0","\u8FB0","\u2FA1","\u8FB5","\u2FA2","\u9091","\u2FA3","\u9149","\u2FA4","\u91C6","\u2FA5","\u91CC","\u2FA6","\u91D1","\u2FA7","\u9577","\u2FA8","\u9580","\u2FA9","\u961C","\u2FAA","\u96B6","\u2FAB","\u96B9","\u2FAC","\u96E8","\u2FAD","\u9751","\u2FAE","\u975E","\u2FAF","\u9762","\u2FB0","\u9769","\u2FB1","\u97CB","\u2FB2","\u97ED","\u2FB3","\u97F3","\u2FB4","\u9801","\u2FB5","\u98A8","\u2FB6","\u98DB","\u2FB7","\u98DF","\u2FB8","\u9996","\u2FB9","\u9999","\u2FBA","\u99AC","\u2FBB","\u9AA8","\u2FBC","\u9AD8","\u2FBD","\u9ADF","\u2FBE","\u9B25","\u2FBF","\u9B2F","\u2FC0","\u9B32","\u2FC1","\u9B3C","\u2FC2","\u9B5A","\u2FC3","\u9CE5","\u2FC4","\u9E75","\u2FC5","\u9E7F","\u2FC6","\u9EA5","\u2FC7","\u9EBB","\u2FC8","\u9EC3","\u2FC9","\u9ECD","\u2FCA","\u9ED1","\u2FCB","\u9EF9","\u2FCC","\u9EFD","\u2FCD","\u9F0E","\u2FCE","\u9F13","\u2FCF","\u9F20","\u2FD0","\u9F3B","\u2FD1","\u9F4A","\u2FD2","\u9F52","\u2FD3","\u9F8D","\u2FD4","\u9F9C","\u2FD5","\u9FA0","\u3036","\u3012","\u3038","\u5341","\u3039","\u5344","\u303A","\u5345","\u309B"," \u3099","\u309C"," \u309A","\u3131","\u1100","\u3132","\u1101","\u3133","\u11AA","\u3134","\u1102","\u3135","\u11AC","\u3136","\u11AD","\u3137","\u1103","\u3138","\u1104","\u3139","\u1105","\u313A","\u11B0","\u313B","\u11B1","\u313C","\u11B2","\u313D","\u11B3","\u313E","\u11B4","\u313F","\u11B5","\u3140","\u111A","\u3141","\u1106","\u3142","\u1107","\u3143","\u1108","\u3144","\u1121","\u3145","\u1109","\u3146","\u110A","\u3147","\u110B","\u3148","\u110C","\u3149","\u110D","\u314A","\u110E","\u314B","\u110F","\u314C","\u1110","\u314D","\u1111","\u314E","\u1112","\u314F","\u1161","\u3150","\u1162","\u3151","\u1163","\u3152","\u1164","\u3153","\u1165","\u3154","\u1166","\u3155","\u1167","\u3156","\u1168","\u3157","\u1169","\u3158","\u116A","\u3159","\u116B","\u315A","\u116C","\u315B","\u116D","\u315C","\u116E","\u315D","\u116F","\u315E","\u1170","\u315F","\u1171","\u3160","\u1172","\u3161","\u1173","\u3162","\u1174","\u3163","\u1175","\u3164","\u1160","\u3165","\u1114","\u3166","\u1115","\u3167","\u11C7","\u3168","\u11C8","\u3169","\u11CC","\u316A","\u11CE","\u316B","\u11D3","\u316C","\u11D7","\u316D","\u11D9","\u316E","\u111C","\u316F","\u11DD","\u3170","\u11DF","\u3171","\u111D","\u3172","\u111E","\u3173","\u1120","\u3174","\u1122","\u3175","\u1123","\u3176","\u1127","\u3177","\u1129","\u3178","\u112B","\u3179","\u112C","\u317A","\u112D","\u317B","\u112E","\u317C","\u112F","\u317D","\u1132","\u317E","\u1136","\u317F","\u1140","\u3180","\u1147","\u3181","\u114C","\u3182","\u11F1","\u3183","\u11F2","\u3184","\u1157","\u3185","\u1158","\u3186","\u1159","\u3187","\u1184","\u3188","\u1185","\u3189","\u1188","\u318A","\u1191","\u318B","\u1192","\u318C","\u1194","\u318D","\u119E","\u318E","\u11A1","\u3200","(\u1100)","\u3201","(\u1102)","\u3202","(\u1103)","\u3203","(\u1105)","\u3204","(\u1106)","\u3205","(\u1107)","\u3206","(\u1109)","\u3207","(\u110B)","\u3208","(\u110C)","\u3209","(\u110E)","\u320A","(\u110F)","\u320B","(\u1110)","\u320C","(\u1111)","\u320D","(\u1112)","\u320E","(\u1100\u1161)","\u320F","(\u1102\u1161)","\u3210","(\u1103\u1161)","\u3211","(\u1105\u1161)","\u3212","(\u1106\u1161)","\u3213","(\u1107\u1161)","\u3214","(\u1109\u1161)","\u3215","(\u110B\u1161)","\u3216","(\u110C\u1161)","\u3217","(\u110E\u1161)","\u3218","(\u110F\u1161)","\u3219","(\u1110\u1161)","\u321A","(\u1111\u1161)","\u321B","(\u1112\u1161)","\u321C","(\u110C\u116E)","\u321D","(\u110B\u1169\u110C\u1165\u11AB)","\u321E","(\u110B\u1169\u1112\u116E)","\u3220","(\u4E00)","\u3221","(\u4E8C)","\u3222","(\u4E09)","\u3223","(\u56DB)","\u3224","(\u4E94)","\u3225","(\u516D)","\u3226","(\u4E03)","\u3227","(\u516B)","\u3228","(\u4E5D)","\u3229","(\u5341)","\u322A","(\u6708)","\u322B","(\u706B)","\u322C","(\u6C34)","\u322D","(\u6728)","\u322E","(\u91D1)","\u322F","(\u571F)","\u3230","(\u65E5)","\u3231","(\u682A)","\u3232","(\u6709)","\u3233","(\u793E)","\u3234","(\u540D)","\u3235","(\u7279)","\u3236","(\u8CA1)","\u3237","(\u795D)","\u3238","(\u52B4)","\u3239","(\u4EE3)","\u323A","(\u547C)","\u323B","(\u5B66)","\u323C","(\u76E3)","\u323D","(\u4F01)","\u323E","(\u8CC7)","\u323F","(\u5354)","\u3240","(\u796D)","\u3241","(\u4F11)","\u3242","(\u81EA)","\u3243","(\u81F3)","\u32C0","1\u6708","\u32C1","2\u6708","\u32C2","3\u6708","\u32C3","4\u6708","\u32C4","5\u6708","\u32C5","6\u6708","\u32C6","7\u6708","\u32C7","8\u6708","\u32C8","9\u6708","\u32C9","10\u6708","\u32CA","11\u6708","\u32CB","12\u6708","\u3358","0\u70B9","\u3359","1\u70B9","\u335A","2\u70B9","\u335B","3\u70B9","\u335C","4\u70B9","\u335D","5\u70B9","\u335E","6\u70B9","\u335F","7\u70B9","\u3360","8\u70B9","\u3361","9\u70B9","\u3362","10\u70B9","\u3363","11\u70B9","\u3364","12\u70B9","\u3365","13\u70B9","\u3366","14\u70B9","\u3367","15\u70B9","\u3368","16\u70B9","\u3369","17\u70B9","\u336A","18\u70B9","\u336B","19\u70B9","\u336C","20\u70B9","\u336D","21\u70B9","\u336E","22\u70B9","\u336F","23\u70B9","\u3370","24\u70B9","\u33E0","1\u65E5","\u33E1","2\u65E5","\u33E2","3\u65E5","\u33E3","4\u65E5","\u33E4","5\u65E5","\u33E5","6\u65E5","\u33E6","7\u65E5","\u33E7","8\u65E5","\u33E8","9\u65E5","\u33E9","10\u65E5","\u33EA","11\u65E5","\u33EB","12\u65E5","\u33EC","13\u65E5","\u33ED","14\u65E5","\u33EE","15\u65E5","\u33EF","16\u65E5","\u33F0","17\u65E5","\u33F1","18\u65E5","\u33F2","19\u65E5","\u33F3","20\u65E5","\u33F4","21\u65E5","\u33F5","22\u65E5","\u33F6","23\u65E5","\u33F7","24\u65E5","\u33F8","25\u65E5","\u33F9","26\u65E5","\u33FA","27\u65E5","\u33FB","28\u65E5","\u33FC","29\u65E5","\u33FD","30\u65E5","\u33FE","31\u65E5","\uFB00","ff","\uFB01","fi","\uFB02","fl","\uFB03","ffi","\uFB04","ffl","\uFB05","\u017Ft","\uFB06","st","\uFB13","\u0574\u0576","\uFB14","\u0574\u0565","\uFB15","\u0574\u056B","\uFB16","\u057E\u0576","\uFB17","\u0574\u056D","\uFB4F","\u05D0\u05DC","\uFB50","\u0671","\uFB51","\u0671","\uFB52","\u067B","\uFB53","\u067B","\uFB54","\u067B","\uFB55","\u067B","\uFB56","\u067E","\uFB57","\u067E","\uFB58","\u067E","\uFB59","\u067E","\uFB5A","\u0680","\uFB5B","\u0680","\uFB5C","\u0680","\uFB5D","\u0680","\uFB5E","\u067A","\uFB5F","\u067A","\uFB60","\u067A","\uFB61","\u067A","\uFB62","\u067F","\uFB63","\u067F","\uFB64","\u067F","\uFB65","\u067F","\uFB66","\u0679","\uFB67","\u0679","\uFB68","\u0679","\uFB69","\u0679","\uFB6A","\u06A4","\uFB6B","\u06A4","\uFB6C","\u06A4","\uFB6D","\u06A4","\uFB6E","\u06A6","\uFB6F","\u06A6","\uFB70","\u06A6","\uFB71","\u06A6","\uFB72","\u0684","\uFB73","\u0684","\uFB74","\u0684","\uFB75","\u0684","\uFB76","\u0683","\uFB77","\u0683","\uFB78","\u0683","\uFB79","\u0683","\uFB7A","\u0686","\uFB7B","\u0686","\uFB7C","\u0686","\uFB7D","\u0686","\uFB7E","\u0687","\uFB7F","\u0687","\uFB80","\u0687","\uFB81","\u0687","\uFB82","\u068D","\uFB83","\u068D","\uFB84","\u068C","\uFB85","\u068C","\uFB86","\u068E","\uFB87","\u068E","\uFB88","\u0688","\uFB89","\u0688","\uFB8A","\u0698","\uFB8B","\u0698","\uFB8C","\u0691","\uFB8D","\u0691","\uFB8E","\u06A9","\uFB8F","\u06A9","\uFB90","\u06A9","\uFB91","\u06A9","\uFB92","\u06AF","\uFB93","\u06AF","\uFB94","\u06AF","\uFB95","\u06AF","\uFB96","\u06B3","\uFB97","\u06B3","\uFB98","\u06B3","\uFB99","\u06B3","\uFB9A","\u06B1","\uFB9B","\u06B1","\uFB9C","\u06B1","\uFB9D","\u06B1","\uFB9E","\u06BA","\uFB9F","\u06BA","\uFBA0","\u06BB","\uFBA1","\u06BB","\uFBA2","\u06BB","\uFBA3","\u06BB","\uFBA4","\u06C0","\uFBA5","\u06C0","\uFBA6","\u06C1","\uFBA7","\u06C1","\uFBA8","\u06C1","\uFBA9","\u06C1","\uFBAA","\u06BE","\uFBAB","\u06BE","\uFBAC","\u06BE","\uFBAD","\u06BE","\uFBAE","\u06D2","\uFBAF","\u06D2","\uFBB0","\u06D3","\uFBB1","\u06D3","\uFBD3","\u06AD","\uFBD4","\u06AD","\uFBD5","\u06AD","\uFBD6","\u06AD","\uFBD7","\u06C7","\uFBD8","\u06C7","\uFBD9","\u06C6","\uFBDA","\u06C6","\uFBDB","\u06C8","\uFBDC","\u06C8","\uFBDD","\u0677","\uFBDE","\u06CB","\uFBDF","\u06CB","\uFBE0","\u06C5","\uFBE1","\u06C5","\uFBE2","\u06C9","\uFBE3","\u06C9","\uFBE4","\u06D0","\uFBE5","\u06D0","\uFBE6","\u06D0","\uFBE7","\u06D0","\uFBE8","\u0649","\uFBE9","\u0649","\uFBEA","\u0626\u0627","\uFBEB","\u0626\u0627","\uFBEC","\u0626\u06D5","\uFBED","\u0626\u06D5","\uFBEE","\u0626\u0648","\uFBEF","\u0626\u0648","\uFBF0","\u0626\u06C7","\uFBF1","\u0626\u06C7","\uFBF2","\u0626\u06C6","\uFBF3","\u0626\u06C6","\uFBF4","\u0626\u06C8","\uFBF5","\u0626\u06C8","\uFBF6","\u0626\u06D0","\uFBF7","\u0626\u06D0","\uFBF8","\u0626\u06D0","\uFBF9","\u0626\u0649","\uFBFA","\u0626\u0649","\uFBFB","\u0626\u0649","\uFBFC","\u06CC","\uFBFD","\u06CC","\uFBFE","\u06CC","\uFBFF","\u06CC","\uFC00","\u0626\u062C","\uFC01","\u0626\u062D","\uFC02","\u0626\u0645","\uFC03","\u0626\u0649","\uFC04","\u0626\u064A","\uFC05","\u0628\u062C","\uFC06","\u0628\u062D","\uFC07","\u0628\u062E","\uFC08","\u0628\u0645","\uFC09","\u0628\u0649","\uFC0A","\u0628\u064A","\uFC0B","\u062A\u062C","\uFC0C","\u062A\u062D","\uFC0D","\u062A\u062E","\uFC0E","\u062A\u0645","\uFC0F","\u062A\u0649","\uFC10","\u062A\u064A","\uFC11","\u062B\u062C","\uFC12","\u062B\u0645","\uFC13","\u062B\u0649","\uFC14","\u062B\u064A","\uFC15","\u062C\u062D","\uFC16","\u062C\u0645","\uFC17","\u062D\u062C","\uFC18","\u062D\u0645","\uFC19","\u062E\u062C","\uFC1A","\u062E\u062D","\uFC1B","\u062E\u0645","\uFC1C","\u0633\u062C","\uFC1D","\u0633\u062D","\uFC1E","\u0633\u062E","\uFC1F","\u0633\u0645","\uFC20","\u0635\u062D","\uFC21","\u0635\u0645","\uFC22","\u0636\u062C","\uFC23","\u0636\u062D","\uFC24","\u0636\u062E","\uFC25","\u0636\u0645","\uFC26","\u0637\u062D","\uFC27","\u0637\u0645","\uFC28","\u0638\u0645","\uFC29","\u0639\u062C","\uFC2A","\u0639\u0645","\uFC2B","\u063A\u062C","\uFC2C","\u063A\u0645","\uFC2D","\u0641\u062C","\uFC2E","\u0641\u062D","\uFC2F","\u0641\u062E","\uFC30","\u0641\u0645","\uFC31","\u0641\u0649","\uFC32","\u0641\u064A","\uFC33","\u0642\u062D","\uFC34","\u0642\u0645","\uFC35","\u0642\u0649","\uFC36","\u0642\u064A","\uFC37","\u0643\u0627","\uFC38","\u0643\u062C","\uFC39","\u0643\u062D","\uFC3A","\u0643\u062E","\uFC3B","\u0643\u0644","\uFC3C","\u0643\u0645","\uFC3D","\u0643\u0649","\uFC3E","\u0643\u064A","\uFC3F","\u0644\u062C","\uFC40","\u0644\u062D","\uFC41","\u0644\u062E","\uFC42","\u0644\u0645","\uFC43","\u0644\u0649","\uFC44","\u0644\u064A","\uFC45","\u0645\u062C","\uFC46","\u0645\u062D","\uFC47","\u0645\u062E","\uFC48","\u0645\u0645","\uFC49","\u0645\u0649","\uFC4A","\u0645\u064A","\uFC4B","\u0646\u062C","\uFC4C","\u0646\u062D","\uFC4D","\u0646\u062E","\uFC4E","\u0646\u0645","\uFC4F","\u0646\u0649","\uFC50","\u0646\u064A","\uFC51","\u0647\u062C","\uFC52","\u0647\u0645","\uFC53","\u0647\u0649","\uFC54","\u0647\u064A","\uFC55","\u064A\u062C","\uFC56","\u064A\u062D","\uFC57","\u064A\u062E","\uFC58","\u064A\u0645","\uFC59","\u064A\u0649","\uFC5A","\u064A\u064A","\uFC5B","\u0630\u0670","\uFC5C","\u0631\u0670","\uFC5D","\u0649\u0670","\uFC5E"," \u064C\u0651","\uFC5F"," \u064D\u0651","\uFC60"," \u064E\u0651","\uFC61"," \u064F\u0651","\uFC62"," \u0650\u0651","\uFC63"," \u0651\u0670","\uFC64","\u0626\u0631","\uFC65","\u0626\u0632","\uFC66","\u0626\u0645","\uFC67","\u0626\u0646","\uFC68","\u0626\u0649","\uFC69","\u0626\u064A","\uFC6A","\u0628\u0631","\uFC6B","\u0628\u0632","\uFC6C","\u0628\u0645","\uFC6D","\u0628\u0646","\uFC6E","\u0628\u0649","\uFC6F","\u0628\u064A","\uFC70","\u062A\u0631","\uFC71","\u062A\u0632","\uFC72","\u062A\u0645","\uFC73","\u062A\u0646","\uFC74","\u062A\u0649","\uFC75","\u062A\u064A","\uFC76","\u062B\u0631","\uFC77","\u062B\u0632","\uFC78","\u062B\u0645","\uFC79","\u062B\u0646","\uFC7A","\u062B\u0649","\uFC7B","\u062B\u064A","\uFC7C","\u0641\u0649","\uFC7D","\u0641\u064A","\uFC7E","\u0642\u0649","\uFC7F","\u0642\u064A","\uFC80","\u0643\u0627","\uFC81","\u0643\u0644","\uFC82","\u0643\u0645","\uFC83","\u0643\u0649","\uFC84","\u0643\u064A","\uFC85","\u0644\u0645","\uFC86","\u0644\u0649","\uFC87","\u0644\u064A","\uFC88","\u0645\u0627","\uFC89","\u0645\u0645","\uFC8A","\u0646\u0631","\uFC8B","\u0646\u0632","\uFC8C","\u0646\u0645","\uFC8D","\u0646\u0646","\uFC8E","\u0646\u0649","\uFC8F","\u0646\u064A","\uFC90","\u0649\u0670","\uFC91","\u064A\u0631","\uFC92","\u064A\u0632","\uFC93","\u064A\u0645","\uFC94","\u064A\u0646","\uFC95","\u064A\u0649","\uFC96","\u064A\u064A","\uFC97","\u0626\u062C","\uFC98","\u0626\u062D","\uFC99","\u0626\u062E","\uFC9A","\u0626\u0645","\uFC9B","\u0626\u0647","\uFC9C","\u0628\u062C","\uFC9D","\u0628\u062D","\uFC9E","\u0628\u062E","\uFC9F","\u0628\u0645","\uFCA0","\u0628\u0647","\uFCA1","\u062A\u062C","\uFCA2","\u062A\u062D","\uFCA3","\u062A\u062E","\uFCA4","\u062A\u0645","\uFCA5","\u062A\u0647","\uFCA6","\u062B\u0645","\uFCA7","\u062C\u062D","\uFCA8","\u062C\u0645","\uFCA9","\u062D\u062C","\uFCAA","\u062D\u0645","\uFCAB","\u062E\u062C","\uFCAC","\u062E\u0645","\uFCAD","\u0633\u062C","\uFCAE","\u0633\u062D","\uFCAF","\u0633\u062E","\uFCB0","\u0633\u0645","\uFCB1","\u0635\u062D","\uFCB2","\u0635\u062E","\uFCB3","\u0635\u0645","\uFCB4","\u0636\u062C","\uFCB5","\u0636\u062D","\uFCB6","\u0636\u062E","\uFCB7","\u0636\u0645","\uFCB8","\u0637\u062D","\uFCB9","\u0638\u0645","\uFCBA","\u0639\u062C","\uFCBB","\u0639\u0645","\uFCBC","\u063A\u062C","\uFCBD","\u063A\u0645","\uFCBE","\u0641\u062C","\uFCBF","\u0641\u062D","\uFCC0","\u0641\u062E","\uFCC1","\u0641\u0645","\uFCC2","\u0642\u062D","\uFCC3","\u0642\u0645","\uFCC4","\u0643\u062C","\uFCC5","\u0643\u062D","\uFCC6","\u0643\u062E","\uFCC7","\u0643\u0644","\uFCC8","\u0643\u0645","\uFCC9","\u0644\u062C","\uFCCA","\u0644\u062D","\uFCCB","\u0644\u062E","\uFCCC","\u0644\u0645","\uFCCD","\u0644\u0647","\uFCCE","\u0645\u062C","\uFCCF","\u0645\u062D","\uFCD0","\u0645\u062E","\uFCD1","\u0645\u0645","\uFCD2","\u0646\u062C","\uFCD3","\u0646\u062D","\uFCD4","\u0646\u062E","\uFCD5","\u0646\u0645","\uFCD6","\u0646\u0647","\uFCD7","\u0647\u062C","\uFCD8","\u0647\u0645","\uFCD9","\u0647\u0670","\uFCDA","\u064A\u062C","\uFCDB","\u064A\u062D","\uFCDC","\u064A\u062E","\uFCDD","\u064A\u0645","\uFCDE","\u064A\u0647","\uFCDF","\u0626\u0645","\uFCE0","\u0626\u0647","\uFCE1","\u0628\u0645","\uFCE2","\u0628\u0647","\uFCE3","\u062A\u0645","\uFCE4","\u062A\u0647","\uFCE5","\u062B\u0645","\uFCE6","\u062B\u0647","\uFCE7","\u0633\u0645","\uFCE8","\u0633\u0647","\uFCE9","\u0634\u0645","\uFCEA","\u0634\u0647","\uFCEB","\u0643\u0644","\uFCEC","\u0643\u0645","\uFCED","\u0644\u0645","\uFCEE","\u0646\u0645","\uFCEF","\u0646\u0647","\uFCF0","\u064A\u0645","\uFCF1","\u064A\u0647","\uFCF2","\u0640\u064E\u0651","\uFCF3","\u0640\u064F\u0651","\uFCF4","\u0640\u0650\u0651","\uFCF5","\u0637\u0649","\uFCF6","\u0637\u064A","\uFCF7","\u0639\u0649","\uFCF8","\u0639\u064A","\uFCF9","\u063A\u0649","\uFCFA","\u063A\u064A","\uFCFB","\u0633\u0649","\uFCFC","\u0633\u064A","\uFCFD","\u0634\u0649","\uFCFE","\u0634\u064A","\uFCFF","\u062D\u0649","\uFD00","\u062D\u064A","\uFD01","\u062C\u0649","\uFD02","\u062C\u064A","\uFD03","\u062E\u0649","\uFD04","\u062E\u064A","\uFD05","\u0635\u0649","\uFD06","\u0635\u064A","\uFD07","\u0636\u0649","\uFD08","\u0636\u064A","\uFD09","\u0634\u062C","\uFD0A","\u0634\u062D","\uFD0B","\u0634\u062E","\uFD0C","\u0634\u0645","\uFD0D","\u0634\u0631","\uFD0E","\u0633\u0631","\uFD0F","\u0635\u0631","\uFD10","\u0636\u0631","\uFD11","\u0637\u0649","\uFD12","\u0637\u064A","\uFD13","\u0639\u0649","\uFD14","\u0639\u064A","\uFD15","\u063A\u0649","\uFD16","\u063A\u064A","\uFD17","\u0633\u0649","\uFD18","\u0633\u064A","\uFD19","\u0634\u0649","\uFD1A","\u0634\u064A","\uFD1B","\u062D\u0649","\uFD1C","\u062D\u064A","\uFD1D","\u062C\u0649","\uFD1E","\u062C\u064A","\uFD1F","\u062E\u0649","\uFD20","\u062E\u064A","\uFD21","\u0635\u0649","\uFD22","\u0635\u064A","\uFD23","\u0636\u0649","\uFD24","\u0636\u064A","\uFD25","\u0634\u062C","\uFD26","\u0634\u062D","\uFD27","\u0634\u062E","\uFD28","\u0634\u0645","\uFD29","\u0634\u0631","\uFD2A","\u0633\u0631","\uFD2B","\u0635\u0631","\uFD2C","\u0636\u0631","\uFD2D","\u0634\u062C","\uFD2E","\u0634\u062D","\uFD2F","\u0634\u062E","\uFD30","\u0634\u0645","\uFD31","\u0633\u0647","\uFD32","\u0634\u0647","\uFD33","\u0637\u0645","\uFD34","\u0633\u062C","\uFD35","\u0633\u062D","\uFD36","\u0633\u062E","\uFD37","\u0634\u062C","\uFD38","\u0634\u062D","\uFD39","\u0634\u062E","\uFD3A","\u0637\u0645","\uFD3B","\u0638\u0645","\uFD3C","\u0627\u064B","\uFD3D","\u0627\u064B","\uFD50","\u062A\u062C\u0645","\uFD51","\u062A\u062D\u062C","\uFD52","\u062A\u062D\u062C","\uFD53","\u062A\u062D\u0645","\uFD54","\u062A\u062E\u0645","\uFD55","\u062A\u0645\u062C","\uFD56","\u062A\u0645\u062D","\uFD57","\u062A\u0645\u062E","\uFD58","\u062C\u0645\u062D","\uFD59","\u062C\u0645\u062D","\uFD5A","\u062D\u0645\u064A","\uFD5B","\u062D\u0645\u0649","\uFD5C","\u0633\u062D\u062C","\uFD5D","\u0633\u062C\u062D","\uFD5E","\u0633\u062C\u0649","\uFD5F","\u0633\u0645\u062D","\uFD60","\u0633\u0645\u062D","\uFD61","\u0633\u0645\u062C","\uFD62","\u0633\u0645\u0645","\uFD63","\u0633\u0645\u0645","\uFD64","\u0635\u062D\u062D","\uFD65","\u0635\u062D\u062D","\uFD66","\u0635\u0645\u0645","\uFD67","\u0634\u062D\u0645","\uFD68","\u0634\u062D\u0645","\uFD69","\u0634\u062C\u064A","\uFD6A","\u0634\u0645\u062E","\uFD6B","\u0634\u0645\u062E","\uFD6C","\u0634\u0645\u0645","\uFD6D","\u0634\u0645\u0645","\uFD6E","\u0636\u062D\u0649","\uFD6F","\u0636\u062E\u0645","\uFD70","\u0636\u062E\u0645","\uFD71","\u0637\u0645\u062D","\uFD72","\u0637\u0645\u062D","\uFD73","\u0637\u0645\u0645","\uFD74","\u0637\u0645\u064A","\uFD75","\u0639\u062C\u0645","\uFD76","\u0639\u0645\u0645","\uFD77","\u0639\u0645\u0645","\uFD78","\u0639\u0645\u0649","\uFD79","\u063A\u0645\u0645","\uFD7A","\u063A\u0645\u064A","\uFD7B","\u063A\u0645\u0649","\uFD7C","\u0641\u062E\u0645","\uFD7D","\u0641\u062E\u0645","\uFD7E","\u0642\u0645\u062D","\uFD7F","\u0642\u0645\u0645","\uFD80","\u0644\u062D\u0645","\uFD81","\u0644\u062D\u064A","\uFD82","\u0644\u062D\u0649","\uFD83","\u0644\u062C\u062C","\uFD84","\u0644\u062C\u062C","\uFD85","\u0644\u062E\u0645","\uFD86","\u0644\u062E\u0645","\uFD87","\u0644\u0645\u062D","\uFD88","\u0644\u0645\u062D","\uFD89","\u0645\u062D\u062C","\uFD8A","\u0645\u062D\u0645","\uFD8B","\u0645\u062D\u064A","\uFD8C","\u0645\u062C\u062D","\uFD8D","\u0645\u062C\u0645","\uFD8E","\u0645\u062E\u062C","\uFD8F","\u0645\u062E\u0645","\uFD92","\u0645\u062C\u062E","\uFD93","\u0647\u0645\u062C","\uFD94","\u0647\u0645\u0645","\uFD95","\u0646\u062D\u0645","\uFD96","\u0646\u062D\u0649","\uFD97","\u0646\u062C\u0645","\uFD98","\u0646\u062C\u0645","\uFD99","\u0646\u062C\u0649","\uFD9A","\u0646\u0645\u064A","\uFD9B","\u0646\u0645\u0649","\uFD9C","\u064A\u0645\u0645","\uFD9D","\u064A\u0645\u0645","\uFD9E","\u0628\u062E\u064A","\uFD9F","\u062A\u062C\u064A","\uFDA0","\u062A\u062C\u0649","\uFDA1","\u062A\u062E\u064A","\uFDA2","\u062A\u062E\u0649","\uFDA3","\u062A\u0645\u064A","\uFDA4","\u062A\u0645\u0649","\uFDA5","\u062C\u0645\u064A","\uFDA6","\u062C\u062D\u0649","\uFDA7","\u062C\u0645\u0649","\uFDA8","\u0633\u062E\u0649","\uFDA9","\u0635\u062D\u064A","\uFDAA","\u0634\u062D\u064A","\uFDAB","\u0636\u062D\u064A","\uFDAC","\u0644\u062C\u064A","\uFDAD","\u0644\u0645\u064A","\uFDAE","\u064A\u062D\u064A","\uFDAF","\u064A\u062C\u064A","\uFDB0","\u064A\u0645\u064A","\uFDB1","\u0645\u0645\u064A","\uFDB2","\u0642\u0645\u064A","\uFDB3","\u0646\u062D\u064A","\uFDB4","\u0642\u0645\u062D","\uFDB5","\u0644\u062D\u0645","\uFDB6","\u0639\u0645\u064A","\uFDB7","\u0643\u0645\u064A","\uFDB8","\u0646\u062C\u062D","\uFDB9","\u0645\u062E\u064A","\uFDBA","\u0644\u062C\u0645","\uFDBB","\u0643\u0645\u0645","\uFDBC","\u0644\u062C\u0645","\uFDBD","\u0646\u062C\u062D","\uFDBE","\u062C\u062D\u064A","\uFDBF","\u062D\u062C\u064A","\uFDC0","\u0645\u062C\u064A","\uFDC1","\u0641\u0645\u064A","\uFDC2","\u0628\u062D\u064A","\uFDC3","\u0643\u0645\u0645","\uFDC4","\u0639\u062C\u0645","\uFDC5","\u0635\u0645\u0645","\uFDC6","\u0633\u062E\u064A","\uFDC7","\u0646\u062C\u064A","\uFE49","\u203E","\uFE4A","\u203E","\uFE4B","\u203E","\uFE4C","\u203E","\uFE4D","_","\uFE4E","_","\uFE4F","_","\uFE80","\u0621","\uFE81","\u0622","\uFE82","\u0622","\uFE83","\u0623","\uFE84","\u0623","\uFE85","\u0624","\uFE86","\u0624","\uFE87","\u0625","\uFE88","\u0625","\uFE89","\u0626","\uFE8A","\u0626","\uFE8B","\u0626","\uFE8C","\u0626","\uFE8D","\u0627","\uFE8E","\u0627","\uFE8F","\u0628","\uFE90","\u0628","\uFE91","\u0628","\uFE92","\u0628","\uFE93","\u0629","\uFE94","\u0629","\uFE95","\u062A","\uFE96","\u062A","\uFE97","\u062A","\uFE98","\u062A","\uFE99","\u062B","\uFE9A","\u062B","\uFE9B","\u062B","\uFE9C","\u062B","\uFE9D","\u062C","\uFE9E","\u062C","\uFE9F","\u062C","\uFEA0","\u062C","\uFEA1","\u062D","\uFEA2","\u062D","\uFEA3","\u062D","\uFEA4","\u062D","\uFEA5","\u062E","\uFEA6","\u062E","\uFEA7","\u062E","\uFEA8","\u062E","\uFEA9","\u062F","\uFEAA","\u062F","\uFEAB","\u0630","\uFEAC","\u0630","\uFEAD","\u0631","\uFEAE","\u0631","\uFEAF","\u0632","\uFEB0","\u0632","\uFEB1","\u0633","\uFEB2","\u0633","\uFEB3","\u0633","\uFEB4","\u0633","\uFEB5","\u0634","\uFEB6","\u0634","\uFEB7","\u0634","\uFEB8","\u0634","\uFEB9","\u0635","\uFEBA","\u0635","\uFEBB","\u0635","\uFEBC","\u0635","\uFEBD","\u0636","\uFEBE","\u0636","\uFEBF","\u0636","\uFEC0","\u0636","\uFEC1","\u0637","\uFEC2","\u0637","\uFEC3","\u0637","\uFEC4","\u0637","\uFEC5","\u0638","\uFEC6","\u0638","\uFEC7","\u0638","\uFEC8","\u0638","\uFEC9","\u0639","\uFECA","\u0639","\uFECB","\u0639","\uFECC","\u0639","\uFECD","\u063A","\uFECE","\u063A","\uFECF","\u063A","\uFED0","\u063A","\uFED1","\u0641","\uFED2","\u0641","\uFED3","\u0641","\uFED4","\u0641","\uFED5","\u0642","\uFED6","\u0642","\uFED7","\u0642","\uFED8","\u0642","\uFED9","\u0643","\uFEDA","\u0643","\uFEDB","\u0643","\uFEDC","\u0643","\uFEDD","\u0644","\uFEDE","\u0644","\uFEDF","\u0644","\uFEE0","\u0644","\uFEE1","\u0645","\uFEE2","\u0645","\uFEE3","\u0645","\uFEE4","\u0645","\uFEE5","\u0646","\uFEE6","\u0646","\uFEE7","\u0646","\uFEE8","\u0646","\uFEE9","\u0647","\uFEEA","\u0647","\uFEEB","\u0647","\uFEEC","\u0647","\uFEED","\u0648","\uFEEE","\u0648","\uFEEF","\u0649","\uFEF0","\u0649","\uFEF1","\u064A","\uFEF2","\u064A","\uFEF3","\u064A","\uFEF4","\u064A","\uFEF5","\u0644\u0622","\uFEF6","\u0644\u0622","\uFEF7","\u0644\u0623","\uFEF8","\u0644\u0623","\uFEF9","\u0644\u0625","\uFEFA","\u0644\u0625","\uFEFB","\u0644\u0627","\uFEFC","\u0644\u0627"]});function O(D){const _=D.length;if(_<=1||!A(D.charCodeAt(0)))return D;const y=[];for(let P=_-1;P>=0;P--)y.push(D[P]);return y.join("")}const v=new RegExp("^(\\s)|(\\p{Mn})|(\\p{Cf})$","u"),b=new Map;function o(D){const _=b.get(D);if(_)return _;const y=D.match(v),P={isWhitespace:!!(y&&y[1]),isZeroWidthDiacritic:!!(y&&y[2]),isInvisibleFormatMark:!!(y&&y[3])};return b.set(D,P),P}function T(){b.clear()}},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getSerifFonts=s.getNonStdFontMap=s.getGlyphMapForStandardFonts=s.getFontNameToFileMap=void 0,s.getStandardFontName=b,s.getSymbolsFonts=s.getSupplementalGlyphMapForCalibri=s.getSupplementalGlyphMapForArialBlack=s.getStdFontMap=void 0;var n=u(131),c=u(163);const C=(0,n.getLookupTableFactory)(function(o){o["Times-Roman"]="Times-Roman",o.Helvetica="Helvetica",o.Courier="Courier",o.Symbol="Symbol",o["Times-Bold"]="Times-Bold",o["Helvetica-Bold"]="Helvetica-Bold",o["Courier-Bold"]="Courier-Bold",o.ZapfDingbats="ZapfDingbats",o["Times-Italic"]="Times-Italic",o["Helvetica-Oblique"]="Helvetica-Oblique",o["Courier-Oblique"]="Courier-Oblique",o["Times-BoldItalic"]="Times-BoldItalic",o["Helvetica-BoldOblique"]="Helvetica-BoldOblique",o["Courier-BoldOblique"]="Courier-BoldOblique",o.ArialNarrow="Helvetica",o["ArialNarrow-Bold"]="Helvetica-Bold",o["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique",o["ArialNarrow-Italic"]="Helvetica-Oblique",o.ArialBlack="Helvetica",o["ArialBlack-Bold"]="Helvetica-Bold",o["ArialBlack-BoldItalic"]="Helvetica-BoldOblique",o["ArialBlack-Italic"]="Helvetica-Oblique",o["Arial-Black"]="Helvetica",o["Arial-Black-Bold"]="Helvetica-Bold",o["Arial-Black-BoldItalic"]="Helvetica-BoldOblique",o["Arial-Black-Italic"]="Helvetica-Oblique",o.Arial="Helvetica",o["Arial-Bold"]="Helvetica-Bold",o["Arial-BoldItalic"]="Helvetica-BoldOblique",o["Arial-Italic"]="Helvetica-Oblique",o.ArialMT="Helvetica",o["Arial-BoldItalicMT"]="Helvetica-BoldOblique",o["Arial-BoldMT"]="Helvetica-Bold",o["Arial-ItalicMT"]="Helvetica-Oblique",o.ArialUnicodeMS="Helvetica",o["ArialUnicodeMS-Bold"]="Helvetica-Bold",o["ArialUnicodeMS-BoldItalic"]="Helvetica-BoldOblique",o["ArialUnicodeMS-Italic"]="Helvetica-Oblique",o["Courier-BoldItalic"]="Courier-BoldOblique",o["Courier-Italic"]="Courier-Oblique",o.CourierNew="Courier",o["CourierNew-Bold"]="Courier-Bold",o["CourierNew-BoldItalic"]="Courier-BoldOblique",o["CourierNew-Italic"]="Courier-Oblique",o["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique",o["CourierNewPS-BoldMT"]="Courier-Bold",o["CourierNewPS-ItalicMT"]="Courier-Oblique",o.CourierNewPSMT="Courier",o["Helvetica-BoldItalic"]="Helvetica-BoldOblique",o["Helvetica-Italic"]="Helvetica-Oblique",o["Symbol-Bold"]="Symbol",o["Symbol-BoldItalic"]="Symbol",o["Symbol-Italic"]="Symbol",o.TimesNewRoman="Times-Roman",o["TimesNewRoman-Bold"]="Times-Bold",o["TimesNewRoman-BoldItalic"]="Times-BoldItalic",o["TimesNewRoman-Italic"]="Times-Italic",o.TimesNewRomanPS="Times-Roman",o["TimesNewRomanPS-Bold"]="Times-Bold",o["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic",o["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic",o["TimesNewRomanPS-BoldMT"]="Times-Bold",o["TimesNewRomanPS-Italic"]="Times-Italic",o["TimesNewRomanPS-ItalicMT"]="Times-Italic",o.TimesNewRomanPSMT="Times-Roman",o["TimesNewRomanPSMT-Bold"]="Times-Bold",o["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic",o["TimesNewRomanPSMT-Italic"]="Times-Italic"});s.getStdFontMap=C;const m=(0,n.getLookupTableFactory)(function(o){o.Courier="FoxitFixed.pfb",o["Courier-Bold"]="FoxitFixedBold.pfb",o["Courier-BoldOblique"]="FoxitFixedBoldItalic.pfb",o["Courier-Oblique"]="FoxitFixedItalic.pfb",o.Helvetica="FoxitSans.pfb",o["Helvetica-Bold"]="FoxitSansBold.pfb",o["Helvetica-BoldOblique"]="FoxitSansBoldItalic.pfb",o["Helvetica-Oblique"]="FoxitSansItalic.pfb",o["Times-Roman"]="FoxitSerif.pfb",o["Times-Bold"]="FoxitSerifBold.pfb",o["Times-BoldItalic"]="FoxitSerifBoldItalic.pfb",o["Times-Italic"]="FoxitSerifItalic.pfb",o.Symbol="FoxitSymbol.pfb",o.ZapfDingbats="FoxitDingbats.pfb",o["LiberationSans-Regular"]="LiberationSans-Regular.ttf",o["LiberationSans-Bold"]="LiberationSans-Bold.ttf",o["LiberationSans-Italic"]="LiberationSans-Italic.ttf",o["LiberationSans-BoldItalic"]="LiberationSans-BoldItalic.ttf"});s.getFontNameToFileMap=m;const e=(0,n.getLookupTableFactory)(function(o){o.Calibri="Helvetica",o["Calibri-Bold"]="Helvetica-Bold",o["Calibri-BoldItalic"]="Helvetica-BoldOblique",o["Calibri-Italic"]="Helvetica-Oblique",o.CenturyGothic="Helvetica",o["CenturyGothic-Bold"]="Helvetica-Bold",o["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique",o["CenturyGothic-Italic"]="Helvetica-Oblique",o.ComicSansMS="Comic Sans MS",o["ComicSansMS-Bold"]="Comic Sans MS-Bold",o["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic",o["ComicSansMS-Italic"]="Comic Sans MS-Italic",o["ItcSymbol-Bold"]="Helvetica-Bold",o["ItcSymbol-BoldItalic"]="Helvetica-BoldOblique",o["ItcSymbol-Book"]="Helvetica",o["ItcSymbol-BookItalic"]="Helvetica-Oblique",o["ItcSymbol-Medium"]="Helvetica",o["ItcSymbol-MediumItalic"]="Helvetica-Oblique",o.LucidaConsole="Courier",o["LucidaConsole-Bold"]="Courier-Bold",o["LucidaConsole-BoldItalic"]="Courier-BoldOblique",o["LucidaConsole-Italic"]="Courier-Oblique",o["LucidaSans-Demi"]="Helvetica-Bold",o["MS-Gothic"]="MS Gothic",o["MS-Gothic-Bold"]="MS Gothic-Bold",o["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic",o["MS-Gothic-Italic"]="MS Gothic-Italic",o["MS-Mincho"]="MS Mincho",o["MS-Mincho-Bold"]="MS Mincho-Bold",o["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic",o["MS-Mincho-Italic"]="MS Mincho-Italic",o["MS-PGothic"]="MS PGothic",o["MS-PGothic-Bold"]="MS PGothic-Bold",o["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic",o["MS-PGothic-Italic"]="MS PGothic-Italic",o["MS-PMincho"]="MS PMincho",o["MS-PMincho-Bold"]="MS PMincho-Bold",o["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic",o["MS-PMincho-Italic"]="MS PMincho-Italic",o.NuptialScript="Times-Italic",o.SegoeUISymbol="Helvetica",o.Wingdings="ZapfDingbats",o["Wingdings-Regular"]="ZapfDingbats"});s.getNonStdFontMap=e;const E=(0,n.getLookupTableFactory)(function(o){o["Adobe Jenson"]=!0,o["Adobe Text"]=!0,o.Albertus=!0,o.Aldus=!0,o.Alexandria=!0,o.Algerian=!0,o["American Typewriter"]=!0,o.Antiqua=!0,o.Apex=!0,o.Arno=!0,o.Aster=!0,o.Aurora=!0,o.Baskerville=!0,o.Bell=!0,o.Bembo=!0,o["Bembo Schoolbook"]=!0,o.Benguiat=!0,o["Berkeley Old Style"]=!0,o["Bernhard Modern"]=!0,o["Berthold City"]=!0,o.Bodoni=!0,o["Bauer Bodoni"]=!0,o["Book Antiqua"]=!0,o.Bookman=!0,o["Bordeaux Roman"]=!0,o["Californian FB"]=!0,o.Calisto=!0,o.Calvert=!0,o.Capitals=!0,o.Cambria=!0,o.Cartier=!0,o.Caslon=!0,o.Catull=!0,o.Centaur=!0,o["Century Old Style"]=!0,o["Century Schoolbook"]=!0,o.Chaparral=!0,o["Charis SIL"]=!0,o.Cheltenham=!0,o["Cholla Slab"]=!0,o.Clarendon=!0,o.Clearface=!0,o.Cochin=!0,o.Colonna=!0,o["Computer Modern"]=!0,o["Concrete Roman"]=!0,o.Constantia=!0,o["Cooper Black"]=!0,o.Corona=!0,o.Ecotype=!0,o.Egyptienne=!0,o.Elephant=!0,o.Excelsior=!0,o.Fairfield=!0,o["FF Scala"]=!0,o.Folkard=!0,o.Footlight=!0,o.FreeSerif=!0,o["Friz Quadrata"]=!0,o.Garamond=!0,o.Gentium=!0,o.Georgia=!0,o.Gloucester=!0,o["Goudy Old Style"]=!0,o["Goudy Schoolbook"]=!0,o["Goudy Pro Font"]=!0,o.Granjon=!0,o["Guardian Egyptian"]=!0,o.Heather=!0,o.Hercules=!0,o["High Tower Text"]=!0,o.Hiroshige=!0,o["Hoefler Text"]=!0,o["Humana Serif"]=!0,o.Imprint=!0,o["Ionic No. 5"]=!0,o.Janson=!0,o.Joanna=!0,o.Korinna=!0,o.Lexicon=!0,o.LiberationSerif=!0,o["Liberation Serif"]=!0,o["Linux Libertine"]=!0,o.Literaturnaya=!0,o.Lucida=!0,o["Lucida Bright"]=!0,o.Melior=!0,o.Memphis=!0,o.Miller=!0,o.Minion=!0,o.Modern=!0,o["Mona Lisa"]=!0,o["Mrs Eaves"]=!0,o["MS Serif"]=!0,o["Museo Slab"]=!0,o["New York"]=!0,o["Nimbus Roman"]=!0,o["NPS Rawlinson Roadway"]=!0,o.NuptialScript=!0,o.Palatino=!0,o.Perpetua=!0,o.Plantin=!0,o["Plantin Schoolbook"]=!0,o.Playbill=!0,o["Poor Richard"]=!0,o["Rawlinson Roadway"]=!0,o.Renault=!0,o.Requiem=!0,o.Rockwell=!0,o.Roman=!0,o["Rotis Serif"]=!0,o.Sabon=!0,o.Scala=!0,o.Seagull=!0,o.Sistina=!0,o.Souvenir=!0,o.STIX=!0,o["Stone Informal"]=!0,o["Stone Serif"]=!0,o.Sylfaen=!0,o.Times=!0,o.Trajan=!0,o.Trinit\u00E9=!0,o["Trump Mediaeval"]=!0,o.Utopia=!0,o["Vale Type"]=!0,o["Bitstream Vera"]=!0,o["Vera Serif"]=!0,o.Versailles=!0,o.Wanted=!0,o.Weiss=!0,o["Wide Latin"]=!0,o.Windsor=!0,o.XITS=!0});s.getSerifFonts=E;const A=(0,n.getLookupTableFactory)(function(o){o.Dingbats=!0,o.Symbol=!0,o.ZapfDingbats=!0});s.getSymbolsFonts=A;const B=(0,n.getLookupTableFactory)(function(o){o[2]=10,o[3]=32,o[4]=33,o[5]=34,o[6]=35,o[7]=36,o[8]=37,o[9]=38,o[10]=39,o[11]=40,o[12]=41,o[13]=42,o[14]=43,o[15]=44,o[16]=45,o[17]=46,o[18]=47,o[19]=48,o[20]=49,o[21]=50,o[22]=51,o[23]=52,o[24]=53,o[25]=54,o[26]=55,o[27]=56,o[28]=57,o[29]=58,o[30]=894,o[31]=60,o[32]=61,o[33]=62,o[34]=63,o[35]=64,o[36]=65,o[37]=66,o[38]=67,o[39]=68,o[40]=69,o[41]=70,o[42]=71,o[43]=72,o[44]=73,o[45]=74,o[46]=75,o[47]=76,o[48]=77,o[49]=78,o[50]=79,o[51]=80,o[52]=81,o[53]=82,o[54]=83,o[55]=84,o[56]=85,o[57]=86,o[58]=87,o[59]=88,o[60]=89,o[61]=90,o[62]=91,o[63]=92,o[64]=93,o[65]=94,o[66]=95,o[67]=96,o[68]=97,o[69]=98,o[70]=99,o[71]=100,o[72]=101,o[73]=102,o[74]=103,o[75]=104,o[76]=105,o[77]=106,o[78]=107,o[79]=108,o[80]=109,o[81]=110,o[82]=111,o[83]=112,o[84]=113,o[85]=114,o[86]=115,o[87]=116,o[88]=117,o[89]=118,o[90]=119,o[91]=120,o[92]=121,o[93]=122,o[94]=123,o[95]=124,o[96]=125,o[97]=126,o[98]=196,o[99]=197,o[100]=199,o[101]=201,o[102]=209,o[103]=214,o[104]=220,o[105]=225,o[106]=224,o[107]=226,o[108]=228,o[109]=227,o[110]=229,o[111]=231,o[112]=233,o[113]=232,o[114]=234,o[115]=235,o[116]=237,o[117]=236,o[118]=238,o[119]=239,o[120]=241,o[121]=243,o[122]=242,o[123]=244,o[124]=246,o[125]=245,o[126]=250,o[127]=249,o[128]=251,o[129]=252,o[130]=8224,o[131]=176,o[132]=162,o[133]=163,o[134]=167,o[135]=8226,o[136]=182,o[137]=223,o[138]=174,o[139]=169,o[140]=8482,o[141]=180,o[142]=168,o[143]=8800,o[144]=198,o[145]=216,o[146]=8734,o[147]=177,o[148]=8804,o[149]=8805,o[150]=165,o[151]=181,o[152]=8706,o[153]=8721,o[154]=8719,o[156]=8747,o[157]=170,o[158]=186,o[159]=8486,o[160]=230,o[161]=248,o[162]=191,o[163]=161,o[164]=172,o[165]=8730,o[166]=402,o[167]=8776,o[168]=8710,o[169]=171,o[170]=187,o[171]=8230,o[200]=193,o[203]=205,o[210]=218,o[223]=711,o[224]=321,o[225]=322,o[226]=352,o[227]=353,o[228]=381,o[229]=382,o[233]=221,o[234]=253,o[252]=263,o[253]=268,o[254]=269,o[258]=258,o[260]=260,o[261]=261,o[265]=280,o[266]=281,o[267]=282,o[268]=283,o[269]=313,o[275]=323,o[276]=324,o[278]=328,o[283]=344,o[284]=345,o[285]=346,o[286]=347,o[292]=367,o[295]=377,o[296]=378,o[298]=380,o[305]=963,o[306]=964,o[307]=966,o[308]=8215,o[309]=8252,o[310]=8319,o[311]=8359,o[312]=8592,o[313]=8593,o[337]=9552,o[493]=1039,o[494]=1040,o[672]=1488,o[673]=1489,o[674]=1490,o[675]=1491,o[676]=1492,o[677]=1493,o[678]=1494,o[679]=1495,o[680]=1496,o[681]=1497,o[682]=1498,o[683]=1499,o[684]=1500,o[685]=1501,o[686]=1502,o[687]=1503,o[688]=1504,o[689]=1505,o[690]=1506,o[691]=1507,o[692]=1508,o[693]=1509,o[694]=1510,o[695]=1511,o[696]=1512,o[697]=1513,o[698]=1514,o[705]=1524,o[706]=8362,o[710]=64288,o[711]=64298,o[759]=1617,o[761]=1776,o[763]=1778,o[775]=1652,o[777]=1764,o[778]=1780,o[779]=1781,o[780]=1782,o[782]=771,o[783]=64726,o[786]=8363,o[788]=8532,o[790]=768,o[791]=769,o[792]=768,o[795]=803,o[797]=64336,o[798]=64337,o[799]=64342,o[800]=64343,o[801]=64344,o[802]=64345,o[803]=64362,o[804]=64363,o[805]=64364,o[2424]=7821,o[2425]=7822,o[2426]=7823,o[2427]=7824,o[2428]=7825,o[2429]=7826,o[2430]=7827,o[2433]=7682,o[2678]=8045,o[2679]=8046,o[2830]=1552,o[2838]=686,o[2840]=751,o[2842]=753,o[2843]=754,o[2844]=755,o[2846]=757,o[2856]=767,o[2857]=848,o[2858]=849,o[2862]=853,o[2863]=854,o[2864]=855,o[2865]=861,o[2866]=862,o[2906]=7460,o[2908]=7462,o[2909]=7463,o[2910]=7464,o[2912]=7466,o[2913]=7467,o[2914]=7468,o[2916]=7470,o[2917]=7471,o[2918]=7472,o[2920]=7474,o[2921]=7475,o[2922]=7476,o[2924]=7478,o[2925]=7479,o[2926]=7480,o[2928]=7482,o[2929]=7483,o[2930]=7484,o[2932]=7486,o[2933]=7487,o[2934]=7488,o[2936]=7490,o[2937]=7491,o[2938]=7492,o[2940]=7494,o[2941]=7495,o[2942]=7496,o[2944]=7498,o[2946]=7500,o[2948]=7502,o[2950]=7504,o[2951]=7505,o[2952]=7506,o[2954]=7508,o[2955]=7509,o[2956]=7510,o[2958]=7512,o[2959]=7513,o[2960]=7514,o[2962]=7516,o[2963]=7517,o[2964]=7518,o[2966]=7520,o[2967]=7521,o[2968]=7522,o[2970]=7524,o[2971]=7525,o[2972]=7526,o[2974]=7528,o[2975]=7529,o[2976]=7530,o[2978]=1537,o[2979]=1538,o[2980]=1539,o[2982]=1549,o[2983]=1551,o[2984]=1552,o[2986]=1554,o[2987]=1555,o[2988]=1556,o[2990]=1623,o[2991]=1624,o[2995]=1775,o[2999]=1791,o[3002]=64290,o[3003]=64291,o[3004]=64292,o[3006]=64294,o[3007]=64295,o[3008]=64296,o[3011]=1900,o[3014]=8223,o[3015]=8244,o[3017]=7532,o[3018]=7533,o[3019]=7534,o[3075]=7590,o[3076]=7591,o[3079]=7594,o[3080]=7595,o[3083]=7598,o[3084]=7599,o[3087]=7602,o[3088]=7603,o[3091]=7606,o[3092]=7607,o[3095]=7610,o[3096]=7611,o[3099]=7614,o[3100]=7615,o[3103]=7618,o[3104]=7619,o[3107]=8337,o[3108]=8338,o[3116]=1884,o[3119]=1885,o[3120]=1885,o[3123]=1886,o[3124]=1886,o[3127]=1887,o[3128]=1887,o[3131]=1888,o[3132]=1888,o[3135]=1889,o[3136]=1889,o[3139]=1890,o[3140]=1890,o[3143]=1891,o[3144]=1891,o[3147]=1892,o[3148]=1892,o[3153]=580,o[3154]=581,o[3157]=584,o[3158]=585,o[3161]=588,o[3162]=589,o[3165]=891,o[3166]=892,o[3169]=1274,o[3170]=1275,o[3173]=1278,o[3174]=1279,o[3181]=7622,o[3182]=7623,o[3282]=11799,o[3316]=578,o[3379]=42785,o[3393]=1159,o[3416]=8377});s.getGlyphMapForStandardFonts=B;const O=(0,n.getLookupTableFactory)(function(o){o[227]=322,o[264]=261,o[291]=346});s.getSupplementalGlyphMapForArialBlack=O;const v=(0,n.getLookupTableFactory)(function(o){o[1]=32,o[4]=65,o[6]=193,o[17]=66,o[18]=67,o[21]=268,o[24]=68,o[28]=69,o[30]=201,o[32]=282,o[38]=70,o[39]=71,o[44]=72,o[47]=73,o[49]=205,o[58]=74,o[60]=75,o[62]=76,o[68]=77,o[69]=78,o[75]=79,o[87]=80,o[89]=81,o[90]=82,o[92]=344,o[94]=83,o[97]=352,o[100]=84,o[104]=85,o[115]=86,o[116]=87,o[121]=88,o[122]=89,o[124]=221,o[127]=90,o[129]=381,o[258]=97,o[260]=225,o[268]=261,o[271]=98,o[272]=99,o[273]=263,o[275]=269,o[282]=100,o[286]=101,o[288]=233,o[290]=283,o[295]=281,o[296]=102,o[336]=103,o[346]=104,o[349]=105,o[351]=237,o[361]=106,o[364]=107,o[367]=108,o[371]=322,o[373]=109,o[374]=110,o[381]=111,o[383]=243,o[393]=112,o[395]=113,o[396]=114,o[398]=345,o[400]=115,o[401]=347,o[403]=353,o[410]=116,o[437]=117,o[448]=118,o[449]=119,o[454]=120,o[455]=121,o[457]=253,o[460]=122,o[462]=382,o[463]=380,o[853]=44,o[855]=58,o[856]=46,o[876]=47,o[878]=45,o[882]=45,o[894]=40,o[895]=41,o[896]=91,o[897]=93,o[923]=64,o[1004]=48,o[1005]=49,o[1006]=50,o[1007]=51,o[1008]=52,o[1009]=53,o[1010]=54,o[1011]=55,o[1012]=56,o[1013]=57,o[1081]=37,o[1085]=43,o[1086]=45});s.getSupplementalGlyphMapForCalibri=v;function b(o){const T=(0,c.normalizeFontName)(o);return C()[T]}},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ToUnicodeMap=s.IdentityToUnicodeMap=void 0;var n=u(2);class c{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this._map=e}get length(){return this._map.length}forEach(e){for(const E in this._map)e(E,this._map[E].charCodeAt(0))}has(e){return this._map[e]!==void 0}get(e){return this._map[e]}charCodeOf(e){const E=this._map;if(E.length<=65536)return E.indexOf(e);for(const A in E)if(E[A]===e)return A|0;return-1}amend(e){for(const E in e)this._map[E]=e[E]}}s.ToUnicodeMap=c;class C{constructor(e,E){this.firstChar=e,this.lastChar=E}get length(){return this.lastChar+1-this.firstChar}forEach(e){for(let E=this.firstChar,A=this.lastChar;E<=A;E++)e(E,E)}has(e){return this.firstChar<=e&&e<=this.lastChar}get(e){if(this.firstChar<=e&&e<=this.lastChar)return String.fromCharCode(e)}charCodeOf(e){return Number.isInteger(e)&&e>=this.firstChar&&e<=this.lastChar?e:-1}amend(e){(0,n.unreachable)("Should not call amend()")}}s.IdentityToUnicodeMap=C},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CFFFont=void 0;var n=u(160),c=u(163),C=u(2);class m{constructor(E,A){this.properties=A;const B=new n.CFFParser(E,A,c.SEAC_ANALYSIS_ENABLED);this.cff=B.parse(),this.cff.duplicateFirstGlyph();const O=new n.CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=O.compile()}catch{(0,C.warn)("Failed to compile font "+A.loadedName),this.data=E}this._createBuiltInEncoding()}get numGlyphs(){return this.cff.charStrings.count}getCharset(){return this.cff.charset.charset}getGlyphMapping(){const E=this.cff,A=this.properties,B=E.charset.charset;let O,v;if(A.composite){O=Object.create(null);let o;if(E.isCIDFont)for(v=0;v<B.length;v++){const T=B[v];o=A.cMap.charCodeOf(T),O[o]=v}else for(v=0;v<E.charStrings.count;v++)o=A.cMap.charCodeOf(v),O[o]=v;return O}let b=E.encoding?E.encoding.encoding:null;return A.isInternalFont&&(b=A.defaultEncoding),O=(0,c.type1FontGlyphMapping)(A,b,B),O}hasGlyphId(E){return this.cff.hasGlyphId(E)}_createBuiltInEncoding(){const{charset:E,encoding:A}=this.cff;if(!E||!A)return;const B=E.charset,O=A.encoding,v=[];for(const b in O){const o=O[b];if(o>=0){const T=B[o];T&&(v[b]=T)}}v.length>0&&(this.properties.builtInEncoding=v)}}s.CFFFont=m},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.FontRendererFactory=void 0;var n=u(2),c=u(160),C=u(164),m=u(162),e=u(135);function E(R,I){return(R[I]<<24|R[I+1]<<16|R[I+2]<<8|R[I+3])>>>0}function A(R,I){return R[I]<<8|R[I+1]}function B(R,I){return(R[I]<<24|R[I+1]<<16)>>16}function O(R,I){return R[I]<<24>>24}function v(R,I){return B(R,I)/16384}function b(R){const I=R.length;let L=32768;return I<1240?L=107:I<33900&&(L=1131),L}function o(R,I,L){const x=A(R,I+2)===1?E(R,I+8):E(R,I+16),S=A(R,I+x);let W,U,z;if(S===4){A(R,I+x+2);const re=A(R,I+x+6)>>1;for(U=I+x+14,W=[],z=0;z<re;z++,U+=2)W[z]={end:A(R,U)};for(U+=2,z=0;z<re;z++,U+=2)W[z].start=A(R,U);for(z=0;z<re;z++,U+=2)W[z].idDelta=A(R,U);for(z=0;z<re;z++,U+=2){let J=A(R,U);if(J!==0){W[z].ids=[];for(let k=0,H=W[z].end-W[z].start+1;k<H;k++)W[z].ids[k]=A(R,U+J),J+=2}}return W}else if(S===12){const re=E(R,I+x+12);for(U=I+x+16,W=[],z=0;z<re;z++)I=E(R,U),W.push({start:I,end:E(R,U+4),idDelta:E(R,U+8)-I}),U+=12;return W}throw new n.FormatError(`unsupported cmap: ${S}`)}function T(R,I,L,x){const S={},U=new c.CFFParser(new e.Stream(R,I,L-I),S,x).parse();return{glyphs:U.charStrings.objects,subrs:U.topDict.privateDict&&U.topDict.privateDict.subrsIndex&&U.topDict.privateDict.subrsIndex.objects,gsubrs:U.globalSubrIndex&&U.globalSubrIndex.objects,isCFFCIDFont:U.isCIDFont,fdSelect:U.fdSelect,fdArray:U.fdArray}}function D(R,I,L){let x,S;L?(x=4,S=E):(x=2,S=(z,re)=>2*A(z,re));const W=[];let U=S(I,0);for(let z=x;z<I.length;z+=x){const re=S(I,z);W.push(R.subarray(U,re)),U=re}return W}function _(R,I){const L=I.codePointAt(0);let x=0,S=0,W=R.length-1;for(;S<W;){const U=S+W+1>>1;L<R[U].start?W=U-1:S=U}return R[S].start<=L&&L<=R[S].end&&(x=R[S].idDelta+(R[S].ids?R[S].ids[L-R[S].start]:L)&65535),{charCode:L,glyphId:x}}function y(R,I,L){function x(H,Z){I.push({cmd:"moveTo",args:[H,Z]})}function S(H,Z){I.push({cmd:"lineTo",args:[H,Z]})}function W(H,Z,Q,V){I.push({cmd:"quadraticCurveTo",args:[H,Z,Q,V]})}let U=0;const z=B(R,U);let re,J=0,k=0;if(U+=10,z<0)do{re=A(R,U);const H=A(R,U+2);U+=4;let Z,Q;re&1?(re&2?(Z=B(R,U),Q=B(R,U+2)):(Z=A(R,U),Q=A(R,U+2)),U+=4):re&2?(Z=O(R,U++),Q=O(R,U++)):(Z=R[U++],Q=R[U++]),re&2?(J=Z,k=Q):(J=0,k=0);let V=1,Y=1,te=0,$=0;re&8?(V=Y=v(R,U),U+=2):re&64?(V=v(R,U),Y=v(R,U+2),U+=4):re&128&&(V=v(R,U),te=v(R,U+2),$=v(R,U+4),Y=v(R,U+6),U+=8);const X=L.glyphs[H];X&&(I.push({cmd:"save"},{cmd:"transform",args:[V,te,$,Y,J,k]}),y(X,I,L),I.push({cmd:"restore"}))}while(re&32);else{const H=[];let Z,Q;for(Z=0;Z<z;Z++)H.push(A(R,U)),U+=2;const V=A(R,U);U+=2+V;const Y=H.at(-1)+1,te=[];for(;te.length<Y;){re=R[U++];let X=1;for(re&8&&(X+=R[U++]);X-- >0;)te.push({flags:re})}for(Z=0;Z<Y;Z++){switch(te[Z].flags&18){case 0:J+=B(R,U),U+=2;break;case 2:J-=R[U++];break;case 18:J+=R[U++];break}te[Z].x=J}for(Z=0;Z<Y;Z++){switch(te[Z].flags&36){case 0:k+=B(R,U),U+=2;break;case 4:k-=R[U++];break;case 36:k+=R[U++];break}te[Z].y=k}let $=0;for(U=0;U<z;U++){const X=H[U],ne=te.slice($,X+1);if(ne[0].flags&1)ne.push(ne[0]);else if(ne.at(-1).flags&1)ne.unshift(ne.at(-1));else{const ce={flags:1,x:(ne[0].x+ne.at(-1).x)/2,y:(ne[0].y+ne.at(-1).y)/2};ne.unshift(ce),ne.push(ce)}for(x(ne[0].x,ne[0].y),Z=1,Q=ne.length;Z<Q;Z++)ne[Z].flags&1?S(ne[Z].x,ne[Z].y):ne[Z+1].flags&1?(W(ne[Z].x,ne[Z].y,ne[Z+1].x,ne[Z+1].y),Z++):W(ne[Z].x,ne[Z].y,(ne[Z].x+ne[Z+1].x)/2,(ne[Z].y+ne[Z+1].y)/2);$=X+1}}}function P(R,I,L,x){function S(Z,Q){I.push({cmd:"moveTo",args:[Z,Q]})}function W(Z,Q){I.push({cmd:"lineTo",args:[Z,Q]})}function U(Z,Q,V,Y,te,$){I.push({cmd:"bezierCurveTo",args:[Z,Q,V,Y,te,$]})}const z=[];let re=0,J=0,k=0;function H(Z){let Q=0;for(;Q<Z.length;){let V=!1,Y=Z[Q++],te,$,X,ne,ce,se,K,ee,ie;switch(Y){case 1:k+=z.length>>1,V=!0;break;case 3:k+=z.length>>1,V=!0;break;case 4:J+=z.pop(),S(re,J),V=!0;break;case 5:for(;z.length>0;)re+=z.shift(),J+=z.shift(),W(re,J);break;case 6:for(;z.length>0&&(re+=z.shift(),W(re,J),z.length!==0);)J+=z.shift(),W(re,J);break;case 7:for(;z.length>0&&(J+=z.shift(),W(re,J),z.length!==0);)re+=z.shift(),W(re,J);break;case 8:for(;z.length>0;)te=re+z.shift(),X=J+z.shift(),$=te+z.shift(),ne=X+z.shift(),re=$+z.shift(),J=ne+z.shift(),U(te,X,$,ne,re,J);break;case 10:if(ee=z.pop(),ie=null,L.isCFFCIDFont){const oe=L.fdSelect.getFDIndex(x);if(oe>=0&&oe<L.fdArray.length){const le=L.fdArray[oe];let pe;le.privateDict&&le.privateDict.subrsIndex&&(pe=le.privateDict.subrsIndex.objects),pe&&(ee+=b(pe),ie=pe[ee])}else(0,n.warn)("Invalid fd index for glyph index.")}else ie=L.subrs[ee+L.subrsBias];ie&&H(ie);break;case 11:return;case 12:switch(Y=Z[Q++],Y){case 34:te=re+z.shift(),$=te+z.shift(),ce=J+z.shift(),re=$+z.shift(),U(te,J,$,ce,re,ce),te=re+z.shift(),$=te+z.shift(),re=$+z.shift(),U(te,ce,$,J,re,J);break;case 35:te=re+z.shift(),X=J+z.shift(),$=te+z.shift(),ne=X+z.shift(),re=$+z.shift(),J=ne+z.shift(),U(te,X,$,ne,re,J),te=re+z.shift(),X=J+z.shift(),$=te+z.shift(),ne=X+z.shift(),re=$+z.shift(),J=ne+z.shift(),U(te,X,$,ne,re,J),z.pop();break;case 36:te=re+z.shift(),ce=J+z.shift(),$=te+z.shift(),se=ce+z.shift(),re=$+z.shift(),U(te,ce,$,se,re,se),te=re+z.shift(),$=te+z.shift(),K=se+z.shift(),re=$+z.shift(),U(te,se,$,K,re,J);break;case 37:const oe=re,le=J;te=re+z.shift(),X=J+z.shift(),$=te+z.shift(),ne=X+z.shift(),re=$+z.shift(),J=ne+z.shift(),U(te,X,$,ne,re,J),te=re+z.shift(),X=J+z.shift(),$=te+z.shift(),ne=X+z.shift(),re=$,J=ne,Math.abs(re-oe)>Math.abs(J-le)?re+=z.shift():J+=z.shift(),U(te,X,$,ne,re,J);break;default:throw new n.FormatError(`unknown operator: 12 ${Y}`)}break;case 14:if(z.length>=4){const oe=z.pop(),le=z.pop();J=z.pop(),re=z.pop(),I.push({cmd:"save"},{cmd:"translate",args:[re,J]});let pe=_(L.cmap,String.fromCharCode(L.glyphNameMap[m.StandardEncoding[oe]]));P(L.glyphs[pe.glyphId],I,L,pe.glyphId),I.push({cmd:"restore"}),pe=_(L.cmap,String.fromCharCode(L.glyphNameMap[m.StandardEncoding[le]])),P(L.glyphs[pe.glyphId],I,L,pe.glyphId)}return;case 18:k+=z.length>>1,V=!0;break;case 19:k+=z.length>>1,Q+=k+7>>3,V=!0;break;case 20:k+=z.length>>1,Q+=k+7>>3,V=!0;break;case 21:J+=z.pop(),re+=z.pop(),S(re,J),V=!0;break;case 22:re+=z.pop(),S(re,J),V=!0;break;case 23:k+=z.length>>1,V=!0;break;case 24:for(;z.length>2;)te=re+z.shift(),X=J+z.shift(),$=te+z.shift(),ne=X+z.shift(),re=$+z.shift(),J=ne+z.shift(),U(te,X,$,ne,re,J);re+=z.shift(),J+=z.shift(),W(re,J);break;case 25:for(;z.length>6;)re+=z.shift(),J+=z.shift(),W(re,J);te=re+z.shift(),X=J+z.shift(),$=te+z.shift(),ne=X+z.shift(),re=$+z.shift(),J=ne+z.shift(),U(te,X,$,ne,re,J);break;case 26:for(z.length%2&&(re+=z.shift());z.length>0;)te=re,X=J+z.shift(),$=te+z.shift(),ne=X+z.shift(),re=$,J=ne+z.shift(),U(te,X,$,ne,re,J);break;case 27:for(z.length%2&&(J+=z.shift());z.length>0;)te=re+z.shift(),X=J,$=te+z.shift(),ne=X+z.shift(),re=$+z.shift(),J=ne,U(te,X,$,ne,re,J);break;case 28:z.push((Z[Q]<<24|Z[Q+1]<<16)>>16),Q+=2;break;case 29:ee=z.pop()+L.gsubrsBias,ie=L.gsubrs[ee],ie&&H(ie);break;case 30:for(;z.length>0&&(te=re,X=J+z.shift(),$=te+z.shift(),ne=X+z.shift(),re=$+z.shift(),J=ne+(z.length===1?z.shift():0),U(te,X,$,ne,re,J),z.length!==0);)te=re+z.shift(),X=J,$=te+z.shift(),ne=X+z.shift(),J=ne+z.shift(),re=$+(z.length===1?z.shift():0),U(te,X,$,ne,re,J);break;case 31:for(;z.length>0&&(te=re+z.shift(),X=J,$=te+z.shift(),ne=X+z.shift(),J=ne+z.shift(),re=$+(z.length===1?z.shift():0),U(te,X,$,ne,re,J),z.length!==0);)te=re,X=J+z.shift(),$=te+z.shift(),ne=X+z.shift(),re=$+z.shift(),J=ne+(z.length===1?z.shift():0),U(te,X,$,ne,re,J);break;default:if(Y<32)throw new n.FormatError(`unknown operator: ${Y}`);Y<247?z.push(Y-139):Y<251?z.push((Y-247)*256+Z[Q++]+108):Y<255?z.push(-(Y-251)*256-Z[Q++]-108):(z.push((Z[Q]<<24|Z[Q+1]<<16|Z[Q+2]<<8|Z[Q+3])/65536),Q+=4);break}V&&(z.length=0)}}H(R)}const w=[];class M{constructor(I){this.constructor===M&&(0,n.unreachable)("Cannot initialize CompiledFont."),this.fontMatrix=I,this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null)}getPathJs(I){const{charCode:L,glyphId:x}=_(this.cmap,I);let S=this.compiledGlyphs[x];if(!S)try{S=this.compileGlyph(this.glyphs[x],x),this.compiledGlyphs[x]=S}catch(W){throw this.compiledGlyphs[x]=w,this.compiledCharCodeToGlyphId[L]===void 0&&(this.compiledCharCodeToGlyphId[L]=x),W}return this.compiledCharCodeToGlyphId[L]===void 0&&(this.compiledCharCodeToGlyphId[L]=x),S}compileGlyph(I,L){if(!I||I.length===0||I[0]===14)return w;let x=this.fontMatrix;if(this.isCFFCIDFont){const W=this.fdSelect.getFDIndex(L);W>=0&&W<this.fdArray.length?x=this.fdArray[W].getByName("FontMatrix")||n.FONT_IDENTITY_MATRIX:(0,n.warn)("Invalid fd index for glyph index.")}const S=[{cmd:"save"},{cmd:"transform",args:x.slice()},{cmd:"scale",args:["size","-size"]}];return this.compileGlyphImpl(I,S,L),S.push({cmd:"restore"}),S}compileGlyphImpl(){(0,n.unreachable)("Children classes should implement this.")}hasBuiltPath(I){const{charCode:L,glyphId:x}=_(this.cmap,I);return this.compiledGlyphs[x]!==void 0&&this.compiledCharCodeToGlyphId[L]!==void 0}}class q extends M{constructor(I,L,x){super(x||[488e-6,0,0,488e-6,0,0]),this.glyphs=I,this.cmap=L}compileGlyphImpl(I,L){y(I,L,this)}}class F extends M{constructor(I,L,x,S){super(x||[.001,0,0,.001,0,0]),this.glyphs=I.glyphs,this.gsubrs=I.gsubrs||[],this.subrs=I.subrs||[],this.cmap=L,this.glyphNameMap=S||(0,C.getGlyphsUnicode)(),this.gsubrsBias=b(this.gsubrs),this.subrsBias=b(this.subrs),this.isCFFCIDFont=I.isCFFCIDFont,this.fdSelect=I.fdSelect,this.fdArray=I.fdArray}compileGlyphImpl(I,L,x){P(I,L,this,x)}}class G{static create(I,L){const x=new Uint8Array(I.data);let S,W,U,z,re,J;const k=A(x,4);for(let H=0,Z=12;H<k;H++,Z+=16){const Q=(0,n.bytesToString)(x.subarray(Z,Z+4)),V=E(x,Z+8),Y=E(x,Z+12);switch(Q){case"cmap":S=o(x,V);break;case"glyf":W=x.subarray(V,V+Y);break;case"loca":U=x.subarray(V,V+Y);break;case"head":J=A(x,V+18),re=A(x,V+50);break;case"CFF ":z=T(x,V,V+Y,L);break}}if(W){const H=J?[1/J,0,0,1/J,0,0]:I.fontMatrix;return new q(D(W,U,re),S,H)}return new F(z,S,I.fontMatrix,I.glyphNameMap)}}s.FontRendererFactory=G},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getMetrics=s.getFontBasicMetrics=void 0;var n=u(131);const c=(0,n.getLookupTableFactory)(function(m){m.Courier=600,m["Courier-Bold"]=600,m["Courier-BoldOblique"]=600,m["Courier-Oblique"]=600,m.Helvetica=(0,n.getLookupTableFactory)(function(e){e.space=278,e.exclam=278,e.quotedbl=355,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=667,e.quoteright=222,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=278,e.semicolon=278,e.less=584,e.equal=584,e.greater=584,e.question=556,e.at=1015,e.A=667,e.B=667,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=500,e.K=667,e.L=556,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=278,e.backslash=278,e.bracketright=278,e.asciicircum=469,e.underscore=556,e.quoteleft=222,e.a=556,e.b=556,e.c=500,e.d=556,e.e=556,e.f=278,e.g=556,e.h=556,e.i=222,e.j=222,e.k=500,e.l=222,e.m=833,e.n=556,e.o=556,e.p=556,e.q=556,e.r=333,e.s=500,e.t=278,e.u=556,e.v=500,e.w=722,e.x=500,e.y=500,e.z=500,e.braceleft=334,e.bar=260,e.braceright=334,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=191,e.quotedblleft=333,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=500,e.fl=500,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=537,e.bullet=350,e.quotesinglbase=222,e.quotedblbase=333,e.quotedblright=333,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=556,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=222,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=556,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=667,e.aacute=556,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=500,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=500,e.aring=556,e.Ncommaaccent=722,e.lacute=222,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=500,e.scedilla=500,e.iacute=278,e.lozenge=471,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=556,e.acircumflex=556,e.Amacron=667,e.rcaron=333,e.ccedilla=500,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=643,e.Umacron=722,e.uring=556,e.threesuperior=333,e.Ograve=778,e.Agrave=667,e.Abreve=667,e.multiply=584,e.uacute=556,e.Tcaron=611,e.partialdiff=476,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=500,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=260,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=333,e.omacron=556,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=222,e.tcaron=317,e.eogonek=556,e.Uogonek=722,e.Aacute=667,e.Adieresis=667,e.egrave=556,e.zacute=500,e.iogonek=222,e.Oacute=778,e.oacute=556,e.amacron=556,e.sacute=500,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=556,e.twosuperior=333,e.Odieresis=778,e.mu=556,e.igrave=278,e.ohungarumlaut=556,e.Eogonek=667,e.dcroat=556,e.threequarters=834,e.Scedilla=667,e.lcaron=299,e.Kcommaaccent=667,e.Lacute=556,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=556,e.onehalf=834,e.lessequal=549,e.ocircumflex=556,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=556,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=556,e.Ccaron=722,e.ugrave=556,e.radical=453,e.Dcaron=722,e.rcommaaccent=333,e.Ntilde=722,e.otilde=556,e.Rcommaaccent=722,e.Lcommaaccent=556,e.Atilde=667,e.Aogonek=667,e.Aring=667,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=500,e.minus=584,e.Icircumflex=278,e.ncaron=556,e.tcommaaccent=278,e.logicalnot=584,e.odieresis=556,e.udieresis=556,e.notequal=549,e.gcommaaccent=556,e.eth=556,e.zcaron=500,e.ncommaaccent=556,e.onesuperior=333,e.imacron=278,e.Euro=556}),m["Helvetica-Bold"]=(0,n.getLookupTableFactory)(function(e){e.space=278,e.exclam=333,e.quotedbl=474,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=722,e.quoteright=278,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=333,e.semicolon=333,e.less=584,e.equal=584,e.greater=584,e.question=611,e.at=975,e.A=722,e.B=722,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=556,e.K=722,e.L=611,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=584,e.underscore=556,e.quoteleft=278,e.a=556,e.b=611,e.c=556,e.d=611,e.e=556,e.f=333,e.g=611,e.h=611,e.i=278,e.j=278,e.k=556,e.l=278,e.m=889,e.n=611,e.o=611,e.p=611,e.q=611,e.r=389,e.s=556,e.t=333,e.u=611,e.v=556,e.w=778,e.x=556,e.y=556,e.z=500,e.braceleft=389,e.bar=280,e.braceright=389,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=238,e.quotedblleft=500,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=611,e.fl=611,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=556,e.bullet=350,e.quotesinglbase=278,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=611,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=278,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=611,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=722,e.aacute=556,e.Ucircumflex=722,e.yacute=556,e.scommaaccent=556,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=611,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=556,e.aring=556,e.Ncommaaccent=722,e.lacute=278,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=556,e.scedilla=556,e.iacute=278,e.lozenge=494,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=611,e.acircumflex=556,e.Amacron=722,e.rcaron=389,e.ccedilla=556,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=743,e.Umacron=722,e.uring=611,e.threesuperior=333,e.Ograve=778,e.Agrave=722,e.Abreve=722,e.multiply=584,e.uacute=611,e.Tcaron=611,e.partialdiff=494,e.ydieresis=556,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=556,e.nacute=611,e.umacron=611,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=280,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=389,e.omacron=611,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=278,e.tcaron=389,e.eogonek=556,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=556,e.zacute=500,e.iogonek=278,e.Oacute=778,e.oacute=611,e.amacron=556,e.sacute=556,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=611,e.twosuperior=333,e.Odieresis=778,e.mu=611,e.igrave=278,e.ohungarumlaut=611,e.Eogonek=667,e.dcroat=611,e.threequarters=834,e.Scedilla=667,e.lcaron=400,e.Kcommaaccent=722,e.Lacute=611,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=611,e.onehalf=834,e.lessequal=549,e.ocircumflex=611,e.ntilde=611,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=611,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=611,e.Ccaron=722,e.ugrave=611,e.radical=549,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=722,e.otilde=611,e.Rcommaaccent=722,e.Lcommaaccent=611,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=556,e.minus=584,e.Icircumflex=278,e.ncaron=611,e.tcommaaccent=333,e.logicalnot=584,e.odieresis=611,e.udieresis=611,e.notequal=549,e.gcommaaccent=611,e.eth=611,e.zcaron=500,e.ncommaaccent=611,e.onesuperior=333,e.imacron=278,e.Euro=556}),m["Helvetica-BoldOblique"]=(0,n.getLookupTableFactory)(function(e){e.space=278,e.exclam=333,e.quotedbl=474,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=722,e.quoteright=278,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=333,e.semicolon=333,e.less=584,e.equal=584,e.greater=584,e.question=611,e.at=975,e.A=722,e.B=722,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=556,e.K=722,e.L=611,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=584,e.underscore=556,e.quoteleft=278,e.a=556,e.b=611,e.c=556,e.d=611,e.e=556,e.f=333,e.g=611,e.h=611,e.i=278,e.j=278,e.k=556,e.l=278,e.m=889,e.n=611,e.o=611,e.p=611,e.q=611,e.r=389,e.s=556,e.t=333,e.u=611,e.v=556,e.w=778,e.x=556,e.y=556,e.z=500,e.braceleft=389,e.bar=280,e.braceright=389,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=238,e.quotedblleft=500,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=611,e.fl=611,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=556,e.bullet=350,e.quotesinglbase=278,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=611,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=278,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=611,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=722,e.aacute=556,e.Ucircumflex=722,e.yacute=556,e.scommaaccent=556,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=611,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=556,e.aring=556,e.Ncommaaccent=722,e.lacute=278,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=556,e.scedilla=556,e.iacute=278,e.lozenge=494,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=611,e.acircumflex=556,e.Amacron=722,e.rcaron=389,e.ccedilla=556,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=743,e.Umacron=722,e.uring=611,e.threesuperior=333,e.Ograve=778,e.Agrave=722,e.Abreve=722,e.multiply=584,e.uacute=611,e.Tcaron=611,e.partialdiff=494,e.ydieresis=556,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=556,e.nacute=611,e.umacron=611,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=280,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=389,e.omacron=611,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=278,e.tcaron=389,e.eogonek=556,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=556,e.zacute=500,e.iogonek=278,e.Oacute=778,e.oacute=611,e.amacron=556,e.sacute=556,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=611,e.twosuperior=333,e.Odieresis=778,e.mu=611,e.igrave=278,e.ohungarumlaut=611,e.Eogonek=667,e.dcroat=611,e.threequarters=834,e.Scedilla=667,e.lcaron=400,e.Kcommaaccent=722,e.Lacute=611,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=611,e.onehalf=834,e.lessequal=549,e.ocircumflex=611,e.ntilde=611,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=611,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=611,e.Ccaron=722,e.ugrave=611,e.radical=549,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=722,e.otilde=611,e.Rcommaaccent=722,e.Lcommaaccent=611,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=556,e.minus=584,e.Icircumflex=278,e.ncaron=611,e.tcommaaccent=333,e.logicalnot=584,e.odieresis=611,e.udieresis=611,e.notequal=549,e.gcommaaccent=611,e.eth=611,e.zcaron=500,e.ncommaaccent=611,e.onesuperior=333,e.imacron=278,e.Euro=556}),m["Helvetica-Oblique"]=(0,n.getLookupTableFactory)(function(e){e.space=278,e.exclam=278,e.quotedbl=355,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=667,e.quoteright=222,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=278,e.semicolon=278,e.less=584,e.equal=584,e.greater=584,e.question=556,e.at=1015,e.A=667,e.B=667,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=500,e.K=667,e.L=556,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=278,e.backslash=278,e.bracketright=278,e.asciicircum=469,e.underscore=556,e.quoteleft=222,e.a=556,e.b=556,e.c=500,e.d=556,e.e=556,e.f=278,e.g=556,e.h=556,e.i=222,e.j=222,e.k=500,e.l=222,e.m=833,e.n=556,e.o=556,e.p=556,e.q=556,e.r=333,e.s=500,e.t=278,e.u=556,e.v=500,e.w=722,e.x=500,e.y=500,e.z=500,e.braceleft=334,e.bar=260,e.braceright=334,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=191,e.quotedblleft=333,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=500,e.fl=500,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=537,e.bullet=350,e.quotesinglbase=222,e.quotedblbase=333,e.quotedblright=333,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=556,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=222,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=556,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=667,e.aacute=556,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=500,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=500,e.aring=556,e.Ncommaaccent=722,e.lacute=222,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=500,e.scedilla=500,e.iacute=278,e.lozenge=471,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=556,e.acircumflex=556,e.Amacron=667,e.rcaron=333,e.ccedilla=500,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=643,e.Umacron=722,e.uring=556,e.threesuperior=333,e.Ograve=778,e.Agrave=667,e.Abreve=667,e.multiply=584,e.uacute=556,e.Tcaron=611,e.partialdiff=476,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=500,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=260,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=333,e.omacron=556,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=222,e.tcaron=317,e.eogonek=556,e.Uogonek=722,e.Aacute=667,e.Adieresis=667,e.egrave=556,e.zacute=500,e.iogonek=222,e.Oacute=778,e.oacute=556,e.amacron=556,e.sacute=500,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=556,e.twosuperior=333,e.Odieresis=778,e.mu=556,e.igrave=278,e.ohungarumlaut=556,e.Eogonek=667,e.dcroat=556,e.threequarters=834,e.Scedilla=667,e.lcaron=299,e.Kcommaaccent=667,e.Lacute=556,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=556,e.onehalf=834,e.lessequal=549,e.ocircumflex=556,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=556,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=556,e.Ccaron=722,e.ugrave=556,e.radical=453,e.Dcaron=722,e.rcommaaccent=333,e.Ntilde=722,e.otilde=556,e.Rcommaaccent=722,e.Lcommaaccent=556,e.Atilde=667,e.Aogonek=667,e.Aring=667,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=500,e.minus=584,e.Icircumflex=278,e.ncaron=556,e.tcommaaccent=278,e.logicalnot=584,e.odieresis=556,e.udieresis=556,e.notequal=549,e.gcommaaccent=556,e.eth=556,e.zcaron=500,e.ncommaaccent=556,e.onesuperior=333,e.imacron=278,e.Euro=556}),m.Symbol=(0,n.getLookupTableFactory)(function(e){e.space=250,e.exclam=333,e.universal=713,e.numbersign=500,e.existential=549,e.percent=833,e.ampersand=778,e.suchthat=439,e.parenleft=333,e.parenright=333,e.asteriskmath=500,e.plus=549,e.comma=250,e.minus=549,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=278,e.semicolon=278,e.less=549,e.equal=549,e.greater=549,e.question=444,e.congruent=549,e.Alpha=722,e.Beta=667,e.Chi=722,e.Delta=612,e.Epsilon=611,e.Phi=763,e.Gamma=603,e.Eta=722,e.Iota=333,e.theta1=631,e.Kappa=722,e.Lambda=686,e.Mu=889,e.Nu=722,e.Omicron=722,e.Pi=768,e.Theta=741,e.Rho=556,e.Sigma=592,e.Tau=611,e.Upsilon=690,e.sigma1=439,e.Omega=768,e.Xi=645,e.Psi=795,e.Zeta=611,e.bracketleft=333,e.therefore=863,e.bracketright=333,e.perpendicular=658,e.underscore=500,e.radicalex=500,e.alpha=631,e.beta=549,e.chi=549,e.delta=494,e.epsilon=439,e.phi=521,e.gamma=411,e.eta=603,e.iota=329,e.phi1=603,e.kappa=549,e.lambda=549,e.mu=576,e.nu=521,e.omicron=549,e.pi=549,e.theta=521,e.rho=549,e.sigma=603,e.tau=439,e.upsilon=576,e.omega1=713,e.omega=686,e.xi=493,e.psi=686,e.zeta=494,e.braceleft=480,e.bar=200,e.braceright=480,e.similar=549,e.Euro=750,e.Upsilon1=620,e.minute=247,e.lessequal=549,e.fraction=167,e.infinity=713,e.florin=500,e.club=753,e.diamond=753,e.heart=753,e.spade=753,e.arrowboth=1042,e.arrowleft=987,e.arrowup=603,e.arrowright=987,e.arrowdown=603,e.degree=400,e.plusminus=549,e.second=411,e.greaterequal=549,e.multiply=549,e.proportional=713,e.partialdiff=494,e.bullet=460,e.divide=549,e.notequal=549,e.equivalence=549,e.approxequal=549,e.ellipsis=1e3,e.arrowvertex=603,e.arrowhorizex=1e3,e.carriagereturn=658,e.aleph=823,e.Ifraktur=686,e.Rfraktur=795,e.weierstrass=987,e.circlemultiply=768,e.circleplus=768,e.emptyset=823,e.intersection=768,e.union=768,e.propersuperset=713,e.reflexsuperset=713,e.notsubset=713,e.propersubset=713,e.reflexsubset=713,e.element=713,e.notelement=713,e.angle=768,e.gradient=713,e.registerserif=790,e.copyrightserif=790,e.trademarkserif=890,e.product=823,e.radical=549,e.dotmath=250,e.logicalnot=713,e.logicaland=603,e.logicalor=603,e.arrowdblboth=1042,e.arrowdblleft=987,e.arrowdblup=603,e.arrowdblright=987,e.arrowdbldown=603,e.lozenge=494,e.angleleft=329,e.registersans=790,e.copyrightsans=790,e.trademarksans=786,e.summation=713,e.parenlefttp=384,e.parenleftex=384,e.parenleftbt=384,e.bracketlefttp=384,e.bracketleftex=384,e.bracketleftbt=384,e.bracelefttp=494,e.braceleftmid=494,e.braceleftbt=494,e.braceex=494,e.angleright=329,e.integral=274,e.integraltp=686,e.integralex=686,e.integralbt=686,e.parenrighttp=384,e.parenrightex=384,e.parenrightbt=384,e.bracketrighttp=384,e.bracketrightex=384,e.bracketrightbt=384,e.bracerighttp=494,e.bracerightmid=494,e.bracerightbt=494,e.apple=790}),m["Times-Roman"]=(0,n.getLookupTableFactory)(function(e){e.space=250,e.exclam=333,e.quotedbl=408,e.numbersign=500,e.dollar=500,e.percent=833,e.ampersand=778,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=564,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=278,e.semicolon=278,e.less=564,e.equal=564,e.greater=564,e.question=444,e.at=921,e.A=722,e.B=667,e.C=667,e.D=722,e.E=611,e.F=556,e.G=722,e.H=722,e.I=333,e.J=389,e.K=722,e.L=611,e.M=889,e.N=722,e.O=722,e.P=556,e.Q=722,e.R=667,e.S=556,e.T=611,e.U=722,e.V=722,e.W=944,e.X=722,e.Y=722,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=469,e.underscore=500,e.quoteleft=333,e.a=444,e.b=500,e.c=444,e.d=500,e.e=444,e.f=333,e.g=500,e.h=500,e.i=278,e.j=278,e.k=500,e.l=278,e.m=778,e.n=500,e.o=500,e.p=500,e.q=500,e.r=333,e.s=389,e.t=278,e.u=500,e.v=500,e.w=722,e.x=500,e.y=500,e.z=444,e.braceleft=480,e.bar=200,e.braceright=480,e.asciitilde=541,e.exclamdown=333,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=180,e.quotedblleft=444,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=556,e.fl=556,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=453,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=444,e.quotedblright=444,e.guillemotright=500,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=444,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=889,e.ordfeminine=276,e.Lslash=611,e.Oslash=722,e.OE=889,e.ordmasculine=310,e.ae=667,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=722,e.germandbls=500,e.Idieresis=333,e.eacute=444,e.abreve=444,e.uhungarumlaut=500,e.ecaron=444,e.Ydieresis=722,e.divide=564,e.Yacute=722,e.Acircumflex=722,e.aacute=444,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=444,e.Uacute=722,e.uogonek=500,e.Edieresis=611,e.Dcroat=722,e.commaaccent=250,e.copyright=760,e.Emacron=611,e.ccaron=444,e.aring=444,e.Ncommaaccent=722,e.lacute=278,e.agrave=444,e.Tcommaaccent=611,e.Cacute=667,e.atilde=444,e.Edotaccent=611,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=471,e.Rcaron=667,e.Gcommaaccent=722,e.ucircumflex=500,e.acircumflex=444,e.Amacron=722,e.rcaron=333,e.ccedilla=444,e.Zdotaccent=611,e.Thorn=556,e.Omacron=722,e.Racute=667,e.Sacute=556,e.dcaron=588,e.Umacron=722,e.uring=500,e.threesuperior=300,e.Ograve=722,e.Agrave=722,e.Abreve=722,e.multiply=564,e.uacute=500,e.Tcaron=611,e.partialdiff=476,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=611,e.adieresis=444,e.edieresis=444,e.cacute=444,e.nacute=500,e.umacron=500,e.Ncaron=722,e.Iacute=333,e.plusminus=564,e.brokenbar=200,e.registered=760,e.Gbreve=722,e.Idotaccent=333,e.summation=600,e.Egrave=611,e.racute=333,e.omacron=500,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=667,e.lcommaaccent=278,e.tcaron=326,e.eogonek=444,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=444,e.zacute=444,e.iogonek=278,e.Oacute=722,e.oacute=500,e.amacron=444,e.sacute=389,e.idieresis=278,e.Ocircumflex=722,e.Ugrave=722,e.Delta=612,e.thorn=500,e.twosuperior=300,e.Odieresis=722,e.mu=500,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=611,e.dcroat=500,e.threequarters=750,e.Scedilla=556,e.lcaron=344,e.Kcommaaccent=722,e.Lacute=611,e.trademark=980,e.edotaccent=444,e.Igrave=333,e.Imacron=333,e.Lcaron=611,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=500,e.Uhungarumlaut=722,e.Eacute=611,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=556,e.Scommaaccent=556,e.Ohungarumlaut=722,e.degree=400,e.ograve=500,e.Ccaron=667,e.ugrave=500,e.radical=453,e.Dcaron=722,e.rcommaaccent=333,e.Ntilde=722,e.otilde=500,e.Rcommaaccent=667,e.Lcommaaccent=611,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=722,e.zdotaccent=444,e.Ecaron=611,e.Iogonek=333,e.kcommaaccent=500,e.minus=564,e.Icircumflex=333,e.ncaron=500,e.tcommaaccent=278,e.logicalnot=564,e.odieresis=500,e.udieresis=500,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=444,e.ncommaaccent=500,e.onesuperior=300,e.imacron=278,e.Euro=500}),m["Times-Bold"]=(0,n.getLookupTableFactory)(function(e){e.space=250,e.exclam=333,e.quotedbl=555,e.numbersign=500,e.dollar=500,e.percent=1e3,e.ampersand=833,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=570,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=333,e.semicolon=333,e.less=570,e.equal=570,e.greater=570,e.question=500,e.at=930,e.A=722,e.B=667,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=778,e.I=389,e.J=500,e.K=778,e.L=667,e.M=944,e.N=722,e.O=778,e.P=611,e.Q=778,e.R=722,e.S=556,e.T=667,e.U=722,e.V=722,e.W=1e3,e.X=722,e.Y=722,e.Z=667,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=581,e.underscore=500,e.quoteleft=333,e.a=500,e.b=556,e.c=444,e.d=556,e.e=444,e.f=333,e.g=500,e.h=556,e.i=278,e.j=333,e.k=556,e.l=278,e.m=833,e.n=556,e.o=500,e.p=556,e.q=556,e.r=444,e.s=389,e.t=333,e.u=556,e.v=500,e.w=722,e.x=500,e.y=500,e.z=444,e.braceleft=394,e.bar=220,e.braceright=394,e.asciitilde=520,e.exclamdown=333,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=278,e.quotedblleft=500,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=556,e.fl=556,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=540,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=500,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=500,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=300,e.Lslash=667,e.Oslash=778,e.OE=1e3,e.ordmasculine=330,e.ae=722,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=722,e.germandbls=556,e.Idieresis=389,e.eacute=444,e.abreve=500,e.uhungarumlaut=556,e.ecaron=444,e.Ydieresis=722,e.divide=570,e.Yacute=722,e.Acircumflex=722,e.aacute=500,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=500,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=747,e.Emacron=667,e.ccaron=444,e.aring=500,e.Ncommaaccent=722,e.lacute=278,e.agrave=500,e.Tcommaaccent=667,e.Cacute=722,e.atilde=500,e.Edotaccent=667,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=494,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=556,e.acircumflex=500,e.Amacron=722,e.rcaron=444,e.ccedilla=444,e.Zdotaccent=667,e.Thorn=611,e.Omacron=778,e.Racute=722,e.Sacute=556,e.dcaron=672,e.Umacron=722,e.uring=556,e.threesuperior=300,e.Ograve=778,e.Agrave=722,e.Abreve=722,e.multiply=570,e.uacute=556,e.Tcaron=667,e.partialdiff=494,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=500,e.edieresis=444,e.cacute=444,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=389,e.plusminus=570,e.brokenbar=220,e.registered=747,e.Gbreve=778,e.Idotaccent=389,e.summation=600,e.Egrave=667,e.racute=444,e.omacron=500,e.Zacute=667,e.Zcaron=667,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=278,e.tcaron=416,e.eogonek=444,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=444,e.zacute=444,e.iogonek=278,e.Oacute=778,e.oacute=500,e.amacron=500,e.sacute=389,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=556,e.twosuperior=300,e.Odieresis=778,e.mu=556,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=667,e.dcroat=556,e.threequarters=750,e.Scedilla=556,e.lcaron=394,e.Kcommaaccent=778,e.Lacute=667,e.trademark=1e3,e.edotaccent=444,e.Igrave=389,e.Imacron=389,e.Lcaron=667,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=556,e.Scommaaccent=556,e.Ohungarumlaut=778,e.degree=400,e.ograve=500,e.Ccaron=722,e.ugrave=556,e.radical=549,e.Dcaron=722,e.rcommaaccent=444,e.Ntilde=722,e.otilde=500,e.Rcommaaccent=722,e.Lcommaaccent=667,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=778,e.zdotaccent=444,e.Ecaron=667,e.Iogonek=389,e.kcommaaccent=556,e.minus=570,e.Icircumflex=389,e.ncaron=556,e.tcommaaccent=333,e.logicalnot=570,e.odieresis=500,e.udieresis=556,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=444,e.ncommaaccent=556,e.onesuperior=300,e.imacron=278,e.Euro=500}),m["Times-BoldItalic"]=(0,n.getLookupTableFactory)(function(e){e.space=250,e.exclam=389,e.quotedbl=555,e.numbersign=500,e.dollar=500,e.percent=833,e.ampersand=778,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=570,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=333,e.semicolon=333,e.less=570,e.equal=570,e.greater=570,e.question=500,e.at=832,e.A=667,e.B=667,e.C=667,e.D=722,e.E=667,e.F=667,e.G=722,e.H=778,e.I=389,e.J=500,e.K=667,e.L=611,e.M=889,e.N=722,e.O=722,e.P=611,e.Q=722,e.R=667,e.S=556,e.T=611,e.U=722,e.V=667,e.W=889,e.X=667,e.Y=611,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=570,e.underscore=500,e.quoteleft=333,e.a=500,e.b=500,e.c=444,e.d=500,e.e=444,e.f=333,e.g=500,e.h=556,e.i=278,e.j=278,e.k=500,e.l=278,e.m=778,e.n=556,e.o=500,e.p=500,e.q=500,e.r=389,e.s=389,e.t=278,e.u=556,e.v=444,e.w=667,e.x=500,e.y=444,e.z=389,e.braceleft=348,e.bar=220,e.braceright=348,e.asciitilde=570,e.exclamdown=389,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=278,e.quotedblleft=500,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=556,e.fl=556,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=500,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=500,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=500,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=944,e.ordfeminine=266,e.Lslash=611,e.Oslash=722,e.OE=944,e.ordmasculine=300,e.ae=722,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=722,e.germandbls=500,e.Idieresis=389,e.eacute=444,e.abreve=500,e.uhungarumlaut=556,e.ecaron=444,e.Ydieresis=611,e.divide=570,e.Yacute=611,e.Acircumflex=667,e.aacute=500,e.Ucircumflex=722,e.yacute=444,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=500,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=747,e.Emacron=667,e.ccaron=444,e.aring=500,e.Ncommaaccent=722,e.lacute=278,e.agrave=500,e.Tcommaaccent=611,e.Cacute=667,e.atilde=500,e.Edotaccent=667,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=494,e.Rcaron=667,e.Gcommaaccent=722,e.ucircumflex=556,e.acircumflex=500,e.Amacron=667,e.rcaron=389,e.ccedilla=444,e.Zdotaccent=611,e.Thorn=611,e.Omacron=722,e.Racute=667,e.Sacute=556,e.dcaron=608,e.Umacron=722,e.uring=556,e.threesuperior=300,e.Ograve=722,e.Agrave=667,e.Abreve=667,e.multiply=570,e.uacute=556,e.Tcaron=611,e.partialdiff=494,e.ydieresis=444,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=500,e.edieresis=444,e.cacute=444,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=389,e.plusminus=570,e.brokenbar=220,e.registered=747,e.Gbreve=722,e.Idotaccent=389,e.summation=600,e.Egrave=667,e.racute=389,e.omacron=500,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=667,e.lcommaaccent=278,e.tcaron=366,e.eogonek=444,e.Uogonek=722,e.Aacute=667,e.Adieresis=667,e.egrave=444,e.zacute=389,e.iogonek=278,e.Oacute=722,e.oacute=500,e.amacron=500,e.sacute=389,e.idieresis=278,e.Ocircumflex=722,e.Ugrave=722,e.Delta=612,e.thorn=500,e.twosuperior=300,e.Odieresis=722,e.mu=576,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=667,e.dcroat=500,e.threequarters=750,e.Scedilla=556,e.lcaron=382,e.Kcommaaccent=667,e.Lacute=611,e.trademark=1e3,e.edotaccent=444,e.Igrave=389,e.Imacron=389,e.Lcaron=611,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=556,e.Scommaaccent=556,e.Ohungarumlaut=722,e.degree=400,e.ograve=500,e.Ccaron=667,e.ugrave=556,e.radical=549,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=722,e.otilde=500,e.Rcommaaccent=667,e.Lcommaaccent=611,e.Atilde=667,e.Aogonek=667,e.Aring=667,e.Otilde=722,e.zdotaccent=389,e.Ecaron=667,e.Iogonek=389,e.kcommaaccent=500,e.minus=606,e.Icircumflex=389,e.ncaron=556,e.tcommaaccent=278,e.logicalnot=606,e.odieresis=500,e.udieresis=556,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=389,e.ncommaaccent=556,e.onesuperior=300,e.imacron=278,e.Euro=500}),m["Times-Italic"]=(0,n.getLookupTableFactory)(function(e){e.space=250,e.exclam=333,e.quotedbl=420,e.numbersign=500,e.dollar=500,e.percent=833,e.ampersand=778,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=675,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=333,e.semicolon=333,e.less=675,e.equal=675,e.greater=675,e.question=500,e.at=920,e.A=611,e.B=611,e.C=667,e.D=722,e.E=611,e.F=611,e.G=722,e.H=722,e.I=333,e.J=444,e.K=667,e.L=556,e.M=833,e.N=667,e.O=722,e.P=611,e.Q=722,e.R=611,e.S=500,e.T=556,e.U=722,e.V=611,e.W=833,e.X=611,e.Y=556,e.Z=556,e.bracketleft=389,e.backslash=278,e.bracketright=389,e.asciicircum=422,e.underscore=500,e.quoteleft=333,e.a=500,e.b=500,e.c=444,e.d=500,e.e=444,e.f=278,e.g=500,e.h=500,e.i=278,e.j=278,e.k=444,e.l=278,e.m=722,e.n=500,e.o=500,e.p=500,e.q=500,e.r=389,e.s=389,e.t=278,e.u=500,e.v=444,e.w=667,e.x=444,e.y=444,e.z=389,e.braceleft=400,e.bar=275,e.braceright=400,e.asciitilde=541,e.exclamdown=389,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=214,e.quotedblleft=556,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=500,e.fl=500,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=523,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=556,e.quotedblright=556,e.guillemotright=500,e.ellipsis=889,e.perthousand=1e3,e.questiondown=500,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=889,e.AE=889,e.ordfeminine=276,e.Lslash=556,e.Oslash=722,e.OE=944,e.ordmasculine=310,e.ae=667,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=667,e.germandbls=500,e.Idieresis=333,e.eacute=444,e.abreve=500,e.uhungarumlaut=500,e.ecaron=444,e.Ydieresis=556,e.divide=675,e.Yacute=556,e.Acircumflex=611,e.aacute=500,e.Ucircumflex=722,e.yacute=444,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=500,e.Uacute=722,e.uogonek=500,e.Edieresis=611,e.Dcroat=722,e.commaaccent=250,e.copyright=760,e.Emacron=611,e.ccaron=444,e.aring=500,e.Ncommaaccent=667,e.lacute=278,e.agrave=500,e.Tcommaaccent=556,e.Cacute=667,e.atilde=500,e.Edotaccent=611,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=471,e.Rcaron=611,e.Gcommaaccent=722,e.ucircumflex=500,e.acircumflex=500,e.Amacron=611,e.rcaron=389,e.ccedilla=444,e.Zdotaccent=556,e.Thorn=611,e.Omacron=722,e.Racute=611,e.Sacute=500,e.dcaron=544,e.Umacron=722,e.uring=500,e.threesuperior=300,e.Ograve=722,e.Agrave=611,e.Abreve=611,e.multiply=675,e.uacute=500,e.Tcaron=556,e.partialdiff=476,e.ydieresis=444,e.Nacute=667,e.icircumflex=278,e.Ecircumflex=611,e.adieresis=500,e.edieresis=444,e.cacute=444,e.nacute=500,e.umacron=500,e.Ncaron=667,e.Iacute=333,e.plusminus=675,e.brokenbar=275,e.registered=760,e.Gbreve=722,e.Idotaccent=333,e.summation=600,e.Egrave=611,e.racute=389,e.omacron=500,e.Zacute=556,e.Zcaron=556,e.greaterequal=549,e.Eth=722,e.Ccedilla=667,e.lcommaaccent=278,e.tcaron=300,e.eogonek=444,e.Uogonek=722,e.Aacute=611,e.Adieresis=611,e.egrave=444,e.zacute=389,e.iogonek=278,e.Oacute=722,e.oacute=500,e.amacron=500,e.sacute=389,e.idieresis=278,e.Ocircumflex=722,e.Ugrave=722,e.Delta=612,e.thorn=500,e.twosuperior=300,e.Odieresis=722,e.mu=500,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=611,e.dcroat=500,e.threequarters=750,e.Scedilla=500,e.lcaron=300,e.Kcommaaccent=667,e.Lacute=556,e.trademark=980,e.edotaccent=444,e.Igrave=333,e.Imacron=333,e.Lcaron=611,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=500,e.Uhungarumlaut=722,e.Eacute=611,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=500,e.Scommaaccent=500,e.Ohungarumlaut=722,e.degree=400,e.ograve=500,e.Ccaron=667,e.ugrave=500,e.radical=453,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=667,e.otilde=500,e.Rcommaaccent=611,e.Lcommaaccent=556,e.Atilde=611,e.Aogonek=611,e.Aring=611,e.Otilde=722,e.zdotaccent=389,e.Ecaron=611,e.Iogonek=333,e.kcommaaccent=444,e.minus=675,e.Icircumflex=333,e.ncaron=500,e.tcommaaccent=278,e.logicalnot=675,e.odieresis=500,e.udieresis=500,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=389,e.ncommaaccent=500,e.onesuperior=300,e.imacron=278,e.Euro=500}),m.ZapfDingbats=(0,n.getLookupTableFactory)(function(e){e.space=278,e.a1=974,e.a2=961,e.a202=974,e.a3=980,e.a4=719,e.a5=789,e.a119=790,e.a118=791,e.a117=690,e.a11=960,e.a12=939,e.a13=549,e.a14=855,e.a15=911,e.a16=933,e.a105=911,e.a17=945,e.a18=974,e.a19=755,e.a20=846,e.a21=762,e.a22=761,e.a23=571,e.a24=677,e.a25=763,e.a26=760,e.a27=759,e.a28=754,e.a6=494,e.a7=552,e.a8=537,e.a9=577,e.a10=692,e.a29=786,e.a30=788,e.a31=788,e.a32=790,e.a33=793,e.a34=794,e.a35=816,e.a36=823,e.a37=789,e.a38=841,e.a39=823,e.a40=833,e.a41=816,e.a42=831,e.a43=923,e.a44=744,e.a45=723,e.a46=749,e.a47=790,e.a48=792,e.a49=695,e.a50=776,e.a51=768,e.a52=792,e.a53=759,e.a54=707,e.a55=708,e.a56=682,e.a57=701,e.a58=826,e.a59=815,e.a60=789,e.a61=789,e.a62=707,e.a63=687,e.a64=696,e.a65=689,e.a66=786,e.a67=787,e.a68=713,e.a69=791,e.a70=785,e.a71=791,e.a72=873,e.a73=761,e.a74=762,e.a203=762,e.a75=759,e.a204=759,e.a76=892,e.a77=892,e.a78=788,e.a79=784,e.a81=438,e.a82=138,e.a83=277,e.a84=415,e.a97=392,e.a98=392,e.a99=668,e.a100=668,e.a89=390,e.a90=390,e.a93=317,e.a94=317,e.a91=276,e.a92=276,e.a205=509,e.a85=509,e.a206=410,e.a86=410,e.a87=234,e.a88=234,e.a95=334,e.a96=334,e.a101=732,e.a102=544,e.a103=544,e.a104=910,e.a106=667,e.a107=760,e.a108=760,e.a112=776,e.a111=595,e.a110=694,e.a109=626,e.a120=788,e.a121=788,e.a122=788,e.a123=788,e.a124=788,e.a125=788,e.a126=788,e.a127=788,e.a128=788,e.a129=788,e.a130=788,e.a131=788,e.a132=788,e.a133=788,e.a134=788,e.a135=788,e.a136=788,e.a137=788,e.a138=788,e.a139=788,e.a140=788,e.a141=788,e.a142=788,e.a143=788,e.a144=788,e.a145=788,e.a146=788,e.a147=788,e.a148=788,e.a149=788,e.a150=788,e.a151=788,e.a152=788,e.a153=788,e.a154=788,e.a155=788,e.a156=788,e.a157=788,e.a158=788,e.a159=788,e.a160=894,e.a161=838,e.a163=1016,e.a164=458,e.a196=748,e.a165=924,e.a192=748,e.a166=918,e.a167=927,e.a168=928,e.a169=928,e.a170=834,e.a171=873,e.a172=828,e.a173=924,e.a162=924,e.a174=917,e.a175=930,e.a176=931,e.a177=463,e.a178=883,e.a179=836,e.a193=836,e.a180=867,e.a199=867,e.a181=696,e.a200=696,e.a182=874,e.a201=874,e.a183=760,e.a184=946,e.a197=771,e.a185=865,e.a194=771,e.a198=888,e.a186=967,e.a195=888,e.a187=831,e.a188=873,e.a189=927,e.a190=970,e.a191=918})});s.getMetrics=c;const C=(0,n.getLookupTableFactory)(function(m){m.Courier={ascent:629,descent:-157,capHeight:562,xHeight:-426},m["Courier-Bold"]={ascent:629,descent:-157,capHeight:562,xHeight:439},m["Courier-Oblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},m["Courier-BoldOblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},m.Helvetica={ascent:718,descent:-207,capHeight:718,xHeight:523},m["Helvetica-Bold"]={ascent:718,descent:-207,capHeight:718,xHeight:532},m["Helvetica-Oblique"]={ascent:718,descent:-207,capHeight:718,xHeight:523},m["Helvetica-BoldOblique"]={ascent:718,descent:-207,capHeight:718,xHeight:532},m["Times-Roman"]={ascent:683,descent:-217,capHeight:662,xHeight:450},m["Times-Bold"]={ascent:683,descent:-217,capHeight:676,xHeight:461},m["Times-Italic"]={ascent:683,descent:-217,capHeight:653,xHeight:441},m["Times-BoldItalic"]={ascent:683,descent:-217,capHeight:669,xHeight:462},m.Symbol={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN},m.ZapfDingbats={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN}});s.getFontBasicMetrics=C},(d,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GlyfTable=void 0;const u=1<<0,n=1<<1,c=1<<2,C=1<<3,m=1<<4,e=1<<5,E=1<<6,A=1<<0,B=1<<1,O=1<<3,v=1<<5,b=1<<6,o=1<<7,T=1<<8;class D{constructor(F){let{glyfTable:G,isGlyphLocationsLong:R,locaTable:I,numGlyphs:L}=F;this.glyphs=[];const x=new DataView(I.buffer,I.byteOffset,I.byteLength),S=new DataView(G.buffer,G.byteOffset,G.byteLength),W=R?4:2;let U=R?x.getUint32(0):2*x.getUint16(0),z=0;for(let re=0;re<L;re++){z+=W;const J=R?x.getUint32(z):2*x.getUint16(z);if(J===U){this.glyphs.push(new _({}));continue}const k=_.parse(U,S);this.glyphs.push(k),U=J}}getSize(){return this.glyphs.reduce((F,G)=>{const R=G.getSize();return F+(R+3&-4)},0)}write(){const F=this.getSize(),G=new DataView(new ArrayBuffer(F)),R=F>131070,I=R?4:2,L=new DataView(new ArrayBuffer((this.glyphs.length+1)*I));R?L.setUint32(0,0):L.setUint16(0,0);let x=0,S=0;for(const W of this.glyphs)x+=W.write(x,G),x=x+3&-4,S+=I,R?L.setUint32(S,x):L.setUint16(S,x>>1);return{isLocationLong:R,loca:new Uint8Array(L.buffer),glyf:new Uint8Array(G.buffer)}}scale(F){for(let G=0,R=this.glyphs.length;G<R;G++)this.glyphs[G].scale(F[G])}}s.GlyfTable=D;class _{constructor(F){let{header:G=null,simple:R=null,composites:I=null}=F;this.header=G,this.simple=R,this.composites=I}static parse(F,G){const[R,I]=y.parse(F,G);if(F+=R,I.numberOfContours<0){const x=[];for(;;){const[S,W]=M.parse(F,G);if(F+=S,x.push(W),!(W.flags&v))break}return new _({header:I,composites:x})}const L=w.parse(F,G,I.numberOfContours);return new _({header:I,simple:L})}getSize(){if(!this.header)return 0;const F=this.simple?this.simple.getSize():this.composites.reduce((G,R)=>G+R.getSize(),0);return this.header.getSize()+F}write(F,G){if(!this.header)return 0;const R=F;if(F+=this.header.write(F,G),this.simple)F+=this.simple.write(F,G);else for(const I of this.composites)F+=I.write(F,G);return F-R}scale(F){if(!this.header)return;const G=(this.header.xMin+this.header.xMax)/2;if(this.header.scale(G,F),this.simple)this.simple.scale(G,F);else for(const R of this.composites)R.scale(G,F)}}class y{constructor(F){let{numberOfContours:G,xMin:R,yMin:I,xMax:L,yMax:x}=F;this.numberOfContours=G,this.xMin=R,this.yMin=I,this.xMax=L,this.yMax=x}static parse(F,G){return[10,new y({numberOfContours:G.getInt16(F),xMin:G.getInt16(F+2),yMin:G.getInt16(F+4),xMax:G.getInt16(F+6),yMax:G.getInt16(F+8)})]}getSize(){return 10}write(F,G){return G.setInt16(F,this.numberOfContours),G.setInt16(F+2,this.xMin),G.setInt16(F+4,this.yMin),G.setInt16(F+6,this.xMax),G.setInt16(F+8,this.yMax),10}scale(F,G){this.xMin=Math.round(F+(this.xMin-F)*G),this.xMax=Math.round(F+(this.xMax-F)*G)}}class P{constructor(F){let{flags:G,xCoordinates:R,yCoordinates:I}=F;this.xCoordinates=R,this.yCoordinates=I,this.flags=G}}class w{constructor(F){let{contours:G,instructions:R}=F;this.contours=G,this.instructions=R}static parse(F,G,R){const I=[];for(let Q=0;Q<R;Q++){const V=G.getUint16(F);F+=2,I.push(V)}const L=I[R-1]+1,x=G.getUint16(F);F+=2;const S=new Uint8Array(G).slice(F,F+x);F+=x;const W=[];for(let Q=0;Q<L;F++,Q++){let V=G.getUint8(F);if(W.push(V),V&C){const Y=G.getUint8(++F);V^=C;for(let te=0;te<Y;te++)W.push(V);Q+=Y}}const U=[];let z=[],re=[],J=[];const k=[];let H=0,Z=0;for(let Q=0;Q<L;Q++){const V=W[Q];if(V&n){const Y=G.getUint8(F++);Z+=V&m?Y:-Y,z.push(Z)}else V&m||(Z+=G.getInt16(F),F+=2),z.push(Z);I[H]===Q&&(H++,U.push(z),z=[])}Z=0,H=0;for(let Q=0;Q<L;Q++){const V=W[Q];if(V&c){const Y=G.getUint8(F++);Z+=V&e?Y:-Y,re.push(Z)}else V&e||(Z+=G.getInt16(F),F+=2),re.push(Z);J.push(V&u|V&E),I[H]===Q&&(z=U[H],H++,k.push(new P({flags:J,xCoordinates:z,yCoordinates:re})),re=[],J=[])}return new w({contours:k,instructions:S})}getSize(){let F=this.contours.length*2+2+this.instructions.length,G=0,R=0;for(const I of this.contours){F+=I.flags.length;for(let L=0,x=I.xCoordinates.length;L<x;L++){const S=I.xCoordinates[L],W=I.yCoordinates[L];let U=Math.abs(S-G);U>255?F+=2:U>0&&(F+=1),G=S,U=Math.abs(W-R),U>255?F+=2:U>0&&(F+=1),R=W}}return F}write(F,G){const R=F,I=[],L=[],x=[];let S=0,W=0;for(const U of this.contours){for(let z=0,re=U.xCoordinates.length;z<re;z++){let J=U.flags[z];const k=U.xCoordinates[z];let H=k-S;if(H===0)J|=m,I.push(0);else{const Q=Math.abs(H);Q<=255?(J|=H>=0?n|m:n,I.push(Q)):I.push(H)}S=k;const Z=U.yCoordinates[z];if(H=Z-W,H===0)J|=e,L.push(0);else{const Q=Math.abs(H);Q<=255?(J|=H>=0?c|e:c,L.push(Q)):L.push(H)}W=Z,x.push(J)}G.setUint16(F,I.length-1),F+=2}G.setUint16(F,this.instructions.length),F+=2,this.instructions.length&&(new Uint8Array(G.buffer,0,G.buffer.byteLength).set(this.instructions,F),F+=this.instructions.length);for(const U of x)G.setUint8(F++,U);for(let U=0,z=I.length;U<z;U++){const re=I[U],J=x[U];J&n?G.setUint8(F++,re):J&m||(G.setInt16(F,re),F+=2)}for(let U=0,z=L.length;U<z;U++){const re=L[U],J=x[U];J&c?G.setUint8(F++,re):J&e||(G.setInt16(F,re),F+=2)}return F-R}scale(F,G){for(const R of this.contours)if(R.xCoordinates.length!==0)for(let I=0,L=R.xCoordinates.length;I<L;I++)R.xCoordinates[I]=Math.round(F+(R.xCoordinates[I]-F)*G)}}class M{constructor(F){let{flags:G,glyphIndex:R,argument1:I,argument2:L,transf:x,instructions:S}=F;this.flags=G,this.glyphIndex=R,this.argument1=I,this.argument2=L,this.transf=x,this.instructions=S}static parse(F,G){const R=F,I=[];let L=G.getUint16(F);const x=G.getUint16(F+2);F+=4;let S,W;L&A?(L&B?(S=G.getInt16(F),W=G.getInt16(F+2)):(S=G.getUint16(F),W=G.getUint16(F+2)),F+=4,L^=A):(L&B?(S=G.getInt8(F),W=G.getInt8(F+1)):(S=G.getUint8(F),W=G.getUint8(F+1)),F+=2),L&O?(I.push(G.getUint16(F)),F+=2):L&b?(I.push(G.getUint16(F),G.getUint16(F+2)),F+=4):L&o&&(I.push(G.getUint16(F),G.getUint16(F+2),G.getUint16(F+4),G.getUint16(F+6)),F+=8);let U=null;if(L&T){const z=G.getUint16(F);F+=2,U=new Uint8Array(G).slice(F,F+z),F+=z}return[F-R,new M({flags:L,glyphIndex:x,argument1:S,argument2:W,transf:I,instructions:U})]}getSize(){let F=4+this.transf.length*2;return this.flags&T&&(F+=2+this.instructions.length),F+=2,this.flags&2?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(F+=2):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(F+=2),F}write(F,G){const R=F;return this.flags&B?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(this.flags|=A):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(this.flags|=A),G.setUint16(F,this.flags),G.setUint16(F+2,this.glyphIndex),F+=4,this.flags&A?(this.flags&B?(G.setInt16(F,this.argument1),G.setInt16(F+2,this.argument2)):(G.setUint16(F,this.argument1),G.setUint16(F+2,this.argument2)),F+=4):(G.setUint8(F,this.argument1),G.setUint8(F+1,this.argument2),F+=2),this.flags&T&&(G.setUint16(F,this.instructions.length),F+=2,this.instructions.length&&(new Uint8Array(G.buffer,0,G.buffer.byteLength).set(this.instructions,F),F+=this.instructions.length)),F-R}scale(F,G){}}},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.OpenTypeFileBuilder=void 0;var n=u(131),c=u(2);function C(O,v,b){O[v]=b>>8&255,O[v+1]=b&255}function m(O,v,b){O[v]=b>>24&255,O[v+1]=b>>16&255,O[v+2]=b>>8&255,O[v+3]=b&255}function e(O,v,b){if(b instanceof Uint8Array)O.set(b,v);else if(typeof b=="string")for(let o=0,T=b.length;o<T;o++)O[v++]=b.charCodeAt(o)&255;else for(let o=0,T=b.length;o<T;o++)O[v++]=b[o]&255}const E=12,A=16;class B{constructor(v){this.sfnt=v,this.tables=Object.create(null)}static getSearchParams(v,b){let o=1,T=0;for(;(o^v)>o;)o<<=1,T++;const D=o*b;return{range:D,entry:T,rangeShift:b*v-D}}toArray(){let v=this.sfnt;const b=this.tables,o=Object.keys(b);o.sort();const T=o.length;let D,_,y,P,w,M=E+T*A;const q=[M];for(D=0;D<T;D++){P=b[o[D]];const R=(P.length+3&-4)>>>0;M+=R,q.push(M)}const F=new Uint8Array(M);for(D=0;D<T;D++)P=b[o[D]],e(F,q[D],P);v==="true"&&(v=(0,c.string32)(65536)),F[0]=v.charCodeAt(0)&255,F[1]=v.charCodeAt(1)&255,F[2]=v.charCodeAt(2)&255,F[3]=v.charCodeAt(3)&255,C(F,4,T);const G=B.getSearchParams(T,16);for(C(F,6,G.range),C(F,8,G.entry),C(F,10,G.rangeShift),M=E,D=0;D<T;D++){w=o[D],F[M]=w.charCodeAt(0)&255,F[M+1]=w.charCodeAt(1)&255,F[M+2]=w.charCodeAt(2)&255,F[M+3]=w.charCodeAt(3)&255;let R=0;for(_=q[D],y=q[D+1];_<y;_+=4){const I=(0,n.readUint32)(F,_);R=R+I>>>0}m(F,M+4,R),m(F,M+8,q[D]),m(F,M+12,b[w].length),M+=A}return F}addTable(v,b){if(v in this.tables)throw new Error("Table "+v+" already exists");this.tables[v]=b}}s.OpenTypeFileBuilder=B},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Type1Font=void 0;var n=u(160),c=u(163),C=u(131),m=u(135),e=u(174),E=u(2);function A(b,o,T){const D=b.length,_=o.length,y=D-_;let P=T,w=!1;for(;P<y;){let M=0;for(;M<_&&b[P+M]===o[M];)M++;if(M>=_){for(P+=M;P<D&&(0,C.isWhiteSpace)(b[P]);)P++;w=!0;break}P++}return{found:w,length:P}}function B(b,o){const T=[101,101,120,101,99],D=b.pos;let _,y,P;try{_=b.getBytes(o),y=_.length}catch{}if(y===o&&(P=A(_,T,o-2*T.length),P.found&&P.length===o))return{stream:new m.Stream(_),length:o};(0,E.warn)('Invalid "Length1" property in Type1 font -- trying to recover.'),b.pos=D;const w=2048;let M;for(;;){const q=b.peekBytes(w);if(P=A(q,T,0),P.length===0)break;if(b.pos+=P.length,P.found){M=b.pos-D;break}}return b.pos=D,M?{stream:new m.Stream(b.getBytes(M)),length:M}:((0,E.warn)('Unable to recover "Length1" property in Type1 font -- using as is.'),{stream:new m.Stream(b.getBytes(o)),length:o})}function O(b,o){const T=b.getBytes();return{stream:new m.Stream(T),length:T.length}}class v{constructor(o,T,D){let y=D.length1;D.length2;let P=T.peekBytes(6);const w=P[0]===128&&P[1]===1;w&&(T.skip(6),y=P[5]<<24|P[4]<<16|P[3]<<8|P[2]);const M=B(T,y);new e.Type1Parser(M.stream,!1,c.SEAC_ANALYSIS_ENABLED).extractFontHeader(D),w&&(P=T.getBytes(6),P[5]<<24|P[4]<<16|P[3]<<8|P[2]);const F=O(T),R=new e.Type1Parser(F.stream,!0,c.SEAC_ANALYSIS_ENABLED).extractFontProgram(D);for(const S in R.properties)D[S]=R.properties[S];const I=R.charstrings,L=this.getType2Charstrings(I),x=this.getType2Subrs(R.subrs);this.charstrings=I,this.data=this.wrap(o,L,this.charstrings,x,D),this.seacs=this.getSeacs(R.charstrings)}get numGlyphs(){return this.charstrings.length+1}getCharset(){const o=[".notdef"];for(const{glyphName:T}of this.charstrings)o.push(T);return o}getGlyphMapping(o){const T=this.charstrings;if(o.composite){const w=Object.create(null);for(let M=0,q=T.length;M<q;M++){const F=o.cMap.charCodeOf(M);w[F]=M+1}return w}const D=[".notdef"];let _,y;for(y=0;y<T.length;y++)D.push(T[y].glyphName);const P=o.builtInEncoding;if(P){_=Object.create(null);for(const w in P)y=D.indexOf(P[w]),y>=0&&(_[w]=y)}return(0,c.type1FontGlyphMapping)(o,_,D)}hasGlyphId(o){return o<0||o>=this.numGlyphs?!1:o===0?!0:this.charstrings[o-1].charstring.length>0}getSeacs(o){const T=[];for(let D=0,_=o.length;D<_;D++){const y=o[D];y.seac&&(T[D+1]=y.seac)}return T}getType2Charstrings(o){const T=[];for(let D=0,_=o.length;D<_;D++)T.push(o[D].charstring);return T}getType2Subrs(o){let T=0;const D=o.length;D<1133?T=107:D<33769?T=1131:T=32768;const _=[];let y;for(y=0;y<T;y++)_.push([11]);for(y=0;y<D;y++)_.push(o[y]);return _}wrap(o,T,D,_,y){const P=new n.CFF;P.header=new n.CFFHeader(1,0,4,4),P.names=[o];const w=new n.CFFTopDict;w.setByName("version",391),w.setByName("Notice",392),w.setByName("FullName",393),w.setByName("FamilyName",394),w.setByName("Weight",395),w.setByName("Encoding",null),w.setByName("FontMatrix",y.fontMatrix),w.setByName("FontBBox",y.bbox),w.setByName("charset",null),w.setByName("CharStrings",null),w.setByName("Private",null),P.topDict=w;const M=new n.CFFStrings;M.add("Version 0.11"),M.add("See original notice"),M.add(o),M.add(o),M.add("Medium"),P.strings=M,P.globalSubrIndex=new n.CFFIndex;const q=T.length,F=[".notdef"];let G,R;for(G=0;G<q;G++){const U=D[G].glyphName;n.CFFStandardStrings.indexOf(U)===-1&&M.add(U),F.push(U)}P.charset=new n.CFFCharset(!1,0,F);const I=new n.CFFIndex;for(I.add([139,14]),G=0;G<q;G++)I.add(T[G]);P.charStrings=I;const L=new n.CFFPrivateDict;L.setByName("Subrs",null);const x=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(G=0,R=x.length;G<R;G++){const U=x[G];if(!(U in y.privateData))continue;const z=y.privateData[U];if(Array.isArray(z))for(let re=z.length-1;re>0;re--)z[re]-=z[re-1];L.setByName(U,z)}P.topDict.privateDict=L;const S=new n.CFFIndex;for(G=0,R=_.length;G<R;G++)S.add(_[G]);return L.subrsIndex=S,new n.CFFCompiler(P).compile()}}s.Type1Font=v},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Type1Parser=void 0;var n=u(162),c=u(131),C=u(135),m=u(2);const e=!1,E={hstem:[1],vstem:[3],vmoveto:[4],rlineto:[5],hlineto:[6],vlineto:[7],rrcurveto:[8],callsubr:[10],flex:[12,35],drop:[12,18],endchar:[14],rmoveto:[21],hmoveto:[22],vhcurveto:[30],hvcurveto:[31]};class A{constructor(){this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}convert(y,P,w){const M=y.length;let q=!1,F,G,R;for(let I=0;I<M;I++){let L=y[I];if(L<32){switch(L===12&&(L=(L<<8)+y[++I]),L){case 1:{this.stack=[];break}case 3:{this.stack=[];break}case 4:if(this.flexing){if(this.stack.length<1){q=!0;break}const z=this.stack.pop();this.stack.push(0,z);break}q=this.executeCommand(1,E.vmoveto);break;case 5:q=this.executeCommand(2,E.rlineto);break;case 6:q=this.executeCommand(1,E.hlineto);break;case 7:q=this.executeCommand(1,E.vlineto);break;case 8:q=this.executeCommand(6,E.rrcurveto);break;case 9:this.stack=[];break;case 10:if(this.stack.length<1){q=!0;break}if(R=this.stack.pop(),!P[R]){q=!0;break}q=this.convert(P[R],P,w);break;case 11:return q;case 13:if(this.stack.length<2){q=!0;break}F=this.stack.pop(),G=this.stack.pop(),this.lsb=G,this.width=F,this.stack.push(F,G),q=this.executeCommand(2,E.hmoveto);break;case 14:this.output.push(E.endchar[0]);break;case 21:if(this.flexing)break;q=this.executeCommand(2,E.rmoveto);break;case 22:if(this.flexing){this.stack.push(0);break}q=this.executeCommand(1,E.hmoveto);break;case 30:q=this.executeCommand(4,E.vhcurveto);break;case 31:q=this.executeCommand(4,E.hvcurveto);break;case 3072:this.stack=[];break;case 3073:{this.stack=[];break}case 3074:{this.stack=[];break}case 3078:if(w){const z=this.stack.at(-5);this.seac=this.stack.splice(-4,4),this.seac[0]+=this.lsb-z,q=this.executeCommand(0,E.endchar)}else q=this.executeCommand(4,E.endchar);break;case 3079:if(this.stack.length<4){q=!0;break}this.stack.pop(),F=this.stack.pop();const x=this.stack.pop();G=this.stack.pop(),this.lsb=G,this.width=F,this.stack.push(F,G,x),q=this.executeCommand(3,E.rmoveto);break;case 3084:if(this.stack.length<2){q=!0;break}const S=this.stack.pop(),W=this.stack.pop();this.stack.push(W/S);break;case 3088:if(this.stack.length<2){q=!0;break}R=this.stack.pop();const U=this.stack.pop();if(R===0&&U===3){const z=this.stack.splice(this.stack.length-17,17);this.stack.push(z[2]+z[0],z[3]+z[1],z[4],z[5],z[6],z[7],z[8],z[9],z[10],z[11],z[12],z[13],z[14]),q=this.executeCommand(13,E.flex,!0),this.flexing=!1,this.stack.push(z[15],z[16])}else R===1&&U===0&&(this.flexing=!0);break;case 3089:break;case 3105:this.stack=[];break;default:(0,m.warn)('Unknown type 1 charstring command of "'+L+'"');break}if(q)break;continue}else L<=246?L-=139:L<=250?L=(L-247)*256+y[++I]+108:L<=254?L=-((L-251)*256)-y[++I]-108:L=(y[++I]&255)<<24|(y[++I]&255)<<16|(y[++I]&255)<<8|(y[++I]&255)<<0;this.stack.push(L)}return q}executeCommand(y,P,w){const M=this.stack.length;if(y>M)return!0;const q=M-y;for(let F=q;F<M;F++){let G=this.stack[F];Number.isInteger(G)?this.output.push(28,G>>8&255,G&255):(G=65536*G|0,this.output.push(255,G>>24&255,G>>16&255,G>>8&255,G&255))}return this.output.push(...P),w?this.stack.splice(q,y):this.stack.length=0,!1}}const B=55665,O=4330;function v(_){return _>=48&&_<=57||_>=65&&_<=70||_>=97&&_<=102}function b(_,y,P){if(P>=_.length)return new Uint8Array(0);const w=52845,M=22719;let q=y|0,F,G;for(F=0;F<P;F++)q=(_[F]+q)*w+M&65535;const R=_.length-P,I=new Uint8Array(R);for(F=P,G=0;G<R;F++,G++){const L=_[F];I[G]=L^q>>8,q=(L+q)*w+M&65535}return I}function o(_,y,P){let q=y|0;const F=_.length,G=F>>>1,R=new Uint8Array(G);let I,L;for(I=0,L=0;I<F;I++){const x=_[I];if(!v(x))continue;I++;let S;for(;I<F&&!v(S=_[I]);)I++;if(I<F){const W=parseInt(String.fromCharCode(x,S),16);R[L++]=W^q>>8,q=(W+q)*52845+22719&65535}}return R.slice(P,L)}function T(_){return _===47||_===91||_===93||_===123||_===125||_===40||_===41}class D{constructor(y,P,w){if(P){const M=y.getBytes(),q=!((v(M[0])||(0,c.isWhiteSpace)(M[0]))&&v(M[1])&&v(M[2])&&v(M[3])&&v(M[4])&&v(M[5])&&v(M[6])&&v(M[7]));y=new C.Stream(q?b(M,B,4):o(M,B,4))}this.seacAnalysisEnabled=!!w,this.stream=y,this.nextChar()}readNumberArray(){this.getToken();const y=[];for(;;){const P=this.getToken();if(P===null||P==="]"||P==="}")break;y.push(parseFloat(P||0))}return y}readNumber(){const y=this.getToken();return parseFloat(y||0)}readInt(){const y=this.getToken();return parseInt(y||0,10)|0}readBoolean(){return this.getToken()==="true"?1:0}nextChar(){return this.currentChar=this.stream.getByte()}prevChar(){return this.stream.skip(-2),this.currentChar=this.stream.getByte()}getToken(){let y=!1,P=this.currentChar;for(;;){if(P===-1)return null;if(y)(P===10||P===13)&&(y=!1);else if(P===37)y=!0;else if(!(0,c.isWhiteSpace)(P))break;P=this.nextChar()}if(T(P))return this.nextChar(),String.fromCharCode(P);let w="";do w+=String.fromCharCode(P),P=this.nextChar();while(P>=0&&!(0,c.isWhiteSpace)(P)&&!T(P));return w}readCharStrings(y,P){return P===-1?y:b(y,O,P)}extractFontProgram(y){const P=this.stream,w=[],M=[],q=Object.create(null);q.lenIV=4;const F={subrs:[],charstrings:[],properties:{privateData:q}};let G,R,I,L;for(;(G=this.getToken())!==null;)if(G==="/")switch(G=this.getToken(),G){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();G=this.getToken(),!(G===null||G==="end");){if(G!=="/")continue;const S=this.getToken();R=this.readInt(),this.getToken(),I=R>0?P.getBytes(R):new Uint8Array(0),L=F.properties.privateData.lenIV;const W=this.readCharStrings(I,L);this.nextChar(),G=this.getToken(),G==="noaccess"?this.getToken():G==="/"&&this.prevChar(),M.push({glyph:S,encoded:W})}break;case"Subrs":for(this.readInt(),this.getToken();this.getToken()==="dup";){const S=this.readInt();R=this.readInt(),this.getToken(),I=R>0?P.getBytes(R):new Uint8Array(0),L=F.properties.privateData.lenIV;const W=this.readCharStrings(I,L);this.nextChar(),G=this.getToken(),G==="noaccess"&&this.getToken(),w[S]=W}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":const x=this.readNumberArray();x.length>0&&x.length%2===0&&e&&(F.properties.privateData[G]=x);break;case"StemSnapH":case"StemSnapV":F.properties.privateData[G]=this.readNumberArray();break;case"StdHW":case"StdVW":F.properties.privateData[G]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":case"ExpansionFactor":F.properties.privateData[G]=this.readNumber();break;case"ForceBold":F.properties.privateData[G]=this.readBoolean();break}for(const{encoded:x,glyph:S}of M){const W=new A,U=W.convert(x,w,this.seacAnalysisEnabled);let z=W.output;U&&(z=[14]);const re={glyphName:S,charstring:z,width:W.width,lsb:W.lsb,seac:W.seac};if(S===".notdef"?F.charstrings.unshift(re):F.charstrings.push(re),y.builtInEncoding){const J=y.builtInEncoding.indexOf(S);J>-1&&y.widths[J]===void 0&&J>=y.firstChar&&J<=y.lastChar&&(y.widths[J]=W.width)}}return F}extractFontHeader(y){let P;for(;(P=this.getToken())!==null;)if(P==="/")switch(P=this.getToken(),P){case"FontMatrix":const w=this.readNumberArray();y.fontMatrix=w;break;case"Encoding":const M=this.getToken();let q;if(!/^\d+$/.test(M))q=(0,n.getEncoding)(M);else{q=[];const G=parseInt(M,10)|0;this.getToken();for(let R=0;R<G;R++){for(P=this.getToken();P!=="dup"&&P!=="def";)if(P=this.getToken(),P===null)return;if(P==="def")break;const I=this.readInt();this.getToken();const L=this.getToken();q[I]=L,this.getToken()}}y.builtInEncoding=q;break;case"FontBBox":const F=this.readNumberArray();y.ascent=Math.max(F[3],F[1]),y.descent=Math.min(F[1],F[3]),y.ascentScaled=!0;break}}}s.Type1Parser=D},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Pattern=void 0,s.getTilingPatternIR=T;var n=u(2),c=u(132),C=u(139),m=u(131);const e={FUNCTION_BASED:1,AXIAL:2,RADIAL:3,FREE_FORM_MESH:4,LATTICE_FORM_MESH:5,COONS_PATCH_MESH:6,TENSOR_PATCH_MESH:7};class E{constructor(){(0,n.unreachable)("Cannot initialize Pattern.")}static parseShading(_,y,P,w,M,q){const F=_ instanceof c.BaseStream?_.dict:_,G=F.get("ShadingType");try{switch(G){case e.AXIAL:case e.RADIAL:return new B(F,y,P,M,q);case e.FREE_FORM_MESH:case e.LATTICE_FORM_MESH:case e.COONS_PATCH_MESH:case e.TENSOR_PATCH_MESH:return new b(_,y,P,M,q);default:throw new n.FormatError("Unsupported ShadingType: "+G)}}catch(R){if(R instanceof m.MissingDataException)throw R;return w.send("UnsupportedFeature",{featureId:n.UNSUPPORTED_FEATURES.shadingPattern}),(0,n.warn)(R),new o}}}s.Pattern=E;class A{static get SMALL_NUMBER(){return(0,n.shadow)(this,"SMALL_NUMBER",1e-6)}constructor(){this.constructor===A&&(0,n.unreachable)("Cannot initialize BaseShading.")}getIR(){(0,n.unreachable)("Abstract method `getIR` called.")}}class B extends A{constructor(_,y,P,w,M){super(),this.coordsArr=_.getArray("Coords"),this.shadingType=_.get("ShadingType");const q=C.ColorSpace.parse({cs:_.getRaw("CS")||_.getRaw("ColorSpace"),xref:y,resources:P,pdfFunctionFactory:w,localColorSpaceCache:M}),F=_.getArray("BBox");Array.isArray(F)&&F.length===4?this.bbox=n.Util.normalizeRect(F):this.bbox=null;let G=0,R=1;if(_.has("Domain")){const Z=_.getArray("Domain");G=Z[0],R=Z[1]}let I=!1,L=!1;if(_.has("Extend")){const Z=_.getArray("Extend");I=Z[0],L=Z[1]}if(this.shadingType===e.RADIAL&&(!I||!L)){const[Z,Q,V,Y,te,$]=this.coordsArr,X=Math.hypot(Z-Y,Q-te);V<=$+X&&$<=V+X&&(0,n.warn)("Unsupported radial gradient.")}this.extendStart=I,this.extendEnd=L;const x=_.getRaw("Function"),S=w.createFromArray(x),W=10,U=(R-G)/W,z=this.colorStops=[];if(G>=R||U<=0){(0,n.info)("Bad shading domain.");return}const re=new Float32Array(q.numComps),J=new Float32Array(1);let k;for(let Z=0;Z<=W;Z++){J[0]=G+Z*U,S(J,0,re,0),k=q.getRgb(re,0);const Q=n.Util.makeHexColor(k[0],k[1],k[2]);z.push([Z/W,Q])}let H="transparent";_.has("Background")&&(k=q.getRgb(_.get("Background"),0),H=n.Util.makeHexColor(k[0],k[1],k[2])),I||(z.unshift([0,H]),z[1][0]+=A.SMALL_NUMBER),L||(z.at(-1)[0]-=A.SMALL_NUMBER,z.push([1,H])),this.colorStops=z}getIR(){const _=this.coordsArr,y=this.shadingType;let P,w,M,q,F;return y===e.AXIAL?(w=[_[0],_[1]],M=[_[2],_[3]],q=null,F=null,P="axial"):y===e.RADIAL?(w=[_[0],_[1]],M=[_[3],_[4]],q=_[2],F=_[5],P="radial"):(0,n.unreachable)(`getPattern type unknown: ${y}`),["RadialAxial",P,this.bbox,this.colorStops,w,M,q,F]}}class O{constructor(_,y){this.stream=_,this.context=y,this.buffer=0,this.bufferLength=0;const P=y.numComps;this.tmpCompsBuf=new Float32Array(P);const w=y.colorSpace.numComps;this.tmpCsCompsBuf=y.colorFn?new Float32Array(w):this.tmpCompsBuf}get hasData(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;const _=this.stream.getByte();return _<0?!1:(this.buffer=_,this.bufferLength=8,!0)}readBits(_){let y=this.buffer,P=this.bufferLength;if(_===32){if(P===0)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;y=y<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();const w=this.stream.getByte();return this.buffer=w&(1<<P)-1,(y<<8-P|(w&255)>>P)>>>0}if(_===8&&P===0)return this.stream.getByte();for(;P<_;)y=y<<8|this.stream.getByte(),P+=8;return P-=_,this.bufferLength=P,this.buffer=y&(1<<P)-1,y>>P}align(){this.buffer=0,this.bufferLength=0}readFlag(){return this.readBits(this.context.bitsPerFlag)}readCoordinate(){const _=this.context.bitsPerCoordinate,y=this.readBits(_),P=this.readBits(_),w=this.context.decode,M=_<32?1/((1<<_)-1):23283064365386963e-26;return[y*M*(w[1]-w[0])+w[0],P*M*(w[3]-w[2])+w[2]]}readComponents(){const _=this.context.numComps,y=this.context.bitsPerComponent,P=y<32?1/((1<<y)-1):23283064365386963e-26,w=this.context.decode,M=this.tmpCompsBuf;for(let F=0,G=4;F<_;F++,G+=2){const R=this.readBits(y);M[F]=R*P*(w[G+1]-w[G])+w[G]}const q=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(M,0,q,0),this.context.colorSpace.getRgb(q,0)}}const v=function(){function _(P){const w=[];for(let M=0;M<=P;M++){const q=M/P,F=1-q;w.push(new Float32Array([F*F*F,3*q*F*F,3*q*q*F,q*q*q]))}return w}const y=[];return function(P){return y[P]||(y[P]=_(P)),y[P]}}();class b extends A{static get MIN_SPLIT_PATCH_CHUNKS_AMOUNT(){return(0,n.shadow)(this,"MIN_SPLIT_PATCH_CHUNKS_AMOUNT",3)}static get MAX_SPLIT_PATCH_CHUNKS_AMOUNT(){return(0,n.shadow)(this,"MAX_SPLIT_PATCH_CHUNKS_AMOUNT",20)}static get TRIANGLE_DENSITY(){return(0,n.shadow)(this,"TRIANGLE_DENSITY",20)}constructor(_,y,P,w,M){if(super(),!(_ instanceof c.BaseStream))throw new n.FormatError("Mesh data is not a stream");const q=_.dict;this.shadingType=q.get("ShadingType");const F=q.getArray("BBox");Array.isArray(F)&&F.length===4?this.bbox=n.Util.normalizeRect(F):this.bbox=null;const G=C.ColorSpace.parse({cs:q.getRaw("CS")||q.getRaw("ColorSpace"),xref:y,resources:P,pdfFunctionFactory:w,localColorSpaceCache:M});this.background=q.has("Background")?G.getRgb(q.get("Background"),0):null;const R=q.getRaw("Function"),I=R?w.createFromArray(R):null;this.coords=[],this.colors=[],this.figures=[];const L={bitsPerCoordinate:q.get("BitsPerCoordinate"),bitsPerComponent:q.get("BitsPerComponent"),bitsPerFlag:q.get("BitsPerFlag"),decode:q.getArray("Decode"),colorFn:I,colorSpace:G,numComps:I?1:G.numComps},x=new O(_,L);let S=!1;switch(this.shadingType){case e.FREE_FORM_MESH:this._decodeType4Shading(x);break;case e.LATTICE_FORM_MESH:const W=q.get("VerticesPerRow")|0;if(W<2)throw new n.FormatError("Invalid VerticesPerRow");this._decodeType5Shading(x,W);break;case e.COONS_PATCH_MESH:this._decodeType6Shading(x),S=!0;break;case e.TENSOR_PATCH_MESH:this._decodeType7Shading(x),S=!0;break;default:(0,n.unreachable)("Unsupported mesh type.");break}if(S){this._updateBounds();for(let W=0,U=this.figures.length;W<U;W++)this._buildFigureFromPatch(W)}this._updateBounds(),this._packData()}_decodeType4Shading(_){const y=this.coords,P=this.colors,w=[];let M=0;for(;_.hasData;){const q=_.readFlag(),F=_.readCoordinate(),G=_.readComponents();if(M===0){if(!(0<=q&&q<=2))throw new n.FormatError("Unknown type4 flag");switch(q){case 0:M=3;break;case 1:w.push(w.at(-2),w.at(-1)),M=1;break;case 2:w.push(w.at(-3),w.at(-1)),M=1;break}}w.push(y.length),y.push(F),P.push(G),M--,_.align()}this.figures.push({type:"triangles",coords:new Int32Array(w),colors:new Int32Array(w)})}_decodeType5Shading(_,y){const P=this.coords,w=this.colors,M=[];for(;_.hasData;){const q=_.readCoordinate(),F=_.readComponents();M.push(P.length),P.push(q),w.push(F)}this.figures.push({type:"lattice",coords:new Int32Array(M),colors:new Int32Array(M),verticesPerRow:y})}_decodeType6Shading(_){const y=this.coords,P=this.colors,w=new Int32Array(16),M=new Int32Array(4);for(;_.hasData;){const q=_.readFlag();if(!(0<=q&&q<=3))throw new n.FormatError("Unknown type6 flag");const F=y.length;for(let S=0,W=q!==0?8:12;S<W;S++)y.push(_.readCoordinate());const G=P.length;for(let S=0,W=q!==0?2:4;S<W;S++)P.push(_.readComponents());let R,I,L,x;switch(q){case 0:w[12]=F+3,w[13]=F+4,w[14]=F+5,w[15]=F+6,w[8]=F+2,w[11]=F+7,w[4]=F+1,w[7]=F+8,w[0]=F,w[1]=F+11,w[2]=F+10,w[3]=F+9,M[2]=G+1,M[3]=G+2,M[0]=G,M[1]=G+3;break;case 1:R=w[12],I=w[13],L=w[14],x=w[15],w[12]=x,w[13]=F+0,w[14]=F+1,w[15]=F+2,w[8]=L,w[11]=F+3,w[4]=I,w[7]=F+4,w[0]=R,w[1]=F+7,w[2]=F+6,w[3]=F+5,R=M[2],I=M[3],M[2]=I,M[3]=G,M[0]=R,M[1]=G+1;break;case 2:R=w[15],I=w[11],w[12]=w[3],w[13]=F+0,w[14]=F+1,w[15]=F+2,w[8]=w[7],w[11]=F+3,w[4]=I,w[7]=F+4,w[0]=R,w[1]=F+7,w[2]=F+6,w[3]=F+5,R=M[3],M[2]=M[1],M[3]=G,M[0]=R,M[1]=G+1;break;case 3:w[12]=w[0],w[13]=F+0,w[14]=F+1,w[15]=F+2,w[8]=w[1],w[11]=F+3,w[4]=w[2],w[7]=F+4,w[0]=w[3],w[1]=F+7,w[2]=F+6,w[3]=F+5,M[2]=M[0],M[3]=G,M[0]=M[1],M[1]=G+1;break}w[5]=y.length,y.push([(-4*y[w[0]][0]-y[w[15]][0]+6*(y[w[4]][0]+y[w[1]][0])-2*(y[w[12]][0]+y[w[3]][0])+3*(y[w[13]][0]+y[w[7]][0]))/9,(-4*y[w[0]][1]-y[w[15]][1]+6*(y[w[4]][1]+y[w[1]][1])-2*(y[w[12]][1]+y[w[3]][1])+3*(y[w[13]][1]+y[w[7]][1]))/9]),w[6]=y.length,y.push([(-4*y[w[3]][0]-y[w[12]][0]+6*(y[w[2]][0]+y[w[7]][0])-2*(y[w[0]][0]+y[w[15]][0])+3*(y[w[4]][0]+y[w[14]][0]))/9,(-4*y[w[3]][1]-y[w[12]][1]+6*(y[w[2]][1]+y[w[7]][1])-2*(y[w[0]][1]+y[w[15]][1])+3*(y[w[4]][1]+y[w[14]][1]))/9]),w[9]=y.length,y.push([(-4*y[w[12]][0]-y[w[3]][0]+6*(y[w[8]][0]+y[w[13]][0])-2*(y[w[0]][0]+y[w[15]][0])+3*(y[w[11]][0]+y[w[1]][0]))/9,(-4*y[w[12]][1]-y[w[3]][1]+6*(y[w[8]][1]+y[w[13]][1])-2*(y[w[0]][1]+y[w[15]][1])+3*(y[w[11]][1]+y[w[1]][1]))/9]),w[10]=y.length,y.push([(-4*y[w[15]][0]-y[w[0]][0]+6*(y[w[11]][0]+y[w[14]][0])-2*(y[w[12]][0]+y[w[3]][0])+3*(y[w[2]][0]+y[w[8]][0]))/9,(-4*y[w[15]][1]-y[w[0]][1]+6*(y[w[11]][1]+y[w[14]][1])-2*(y[w[12]][1]+y[w[3]][1])+3*(y[w[2]][1]+y[w[8]][1]))/9]),this.figures.push({type:"patch",coords:new Int32Array(w),colors:new Int32Array(M)})}}_decodeType7Shading(_){const y=this.coords,P=this.colors,w=new Int32Array(16),M=new Int32Array(4);for(;_.hasData;){const q=_.readFlag();if(!(0<=q&&q<=3))throw new n.FormatError("Unknown type7 flag");const F=y.length;for(let S=0,W=q!==0?12:16;S<W;S++)y.push(_.readCoordinate());const G=P.length;for(let S=0,W=q!==0?2:4;S<W;S++)P.push(_.readComponents());let R,I,L,x;switch(q){case 0:w[12]=F+3,w[13]=F+4,w[14]=F+5,w[15]=F+6,w[8]=F+2,w[9]=F+13,w[10]=F+14,w[11]=F+7,w[4]=F+1,w[5]=F+12,w[6]=F+15,w[7]=F+8,w[0]=F,w[1]=F+11,w[2]=F+10,w[3]=F+9,M[2]=G+1,M[3]=G+2,M[0]=G,M[1]=G+3;break;case 1:R=w[12],I=w[13],L=w[14],x=w[15],w[12]=x,w[13]=F+0,w[14]=F+1,w[15]=F+2,w[8]=L,w[9]=F+9,w[10]=F+10,w[11]=F+3,w[4]=I,w[5]=F+8,w[6]=F+11,w[7]=F+4,w[0]=R,w[1]=F+7,w[2]=F+6,w[3]=F+5,R=M[2],I=M[3],M[2]=I,M[3]=G,M[0]=R,M[1]=G+1;break;case 2:R=w[15],I=w[11],w[12]=w[3],w[13]=F+0,w[14]=F+1,w[15]=F+2,w[8]=w[7],w[9]=F+9,w[10]=F+10,w[11]=F+3,w[4]=I,w[5]=F+8,w[6]=F+11,w[7]=F+4,w[0]=R,w[1]=F+7,w[2]=F+6,w[3]=F+5,R=M[3],M[2]=M[1],M[3]=G,M[0]=R,M[1]=G+1;break;case 3:w[12]=w[0],w[13]=F+0,w[14]=F+1,w[15]=F+2,w[8]=w[1],w[9]=F+9,w[10]=F+10,w[11]=F+3,w[4]=w[2],w[5]=F+8,w[6]=F+11,w[7]=F+4,w[0]=w[3],w[1]=F+7,w[2]=F+6,w[3]=F+5,M[2]=M[0],M[3]=G,M[0]=M[1],M[1]=G+1;break}this.figures.push({type:"patch",coords:new Int32Array(w),colors:new Int32Array(M)})}}_buildFigureFromPatch(_){const y=this.figures[_];(0,n.assert)(y.type==="patch","Unexpected patch mesh figure");const P=this.coords,w=this.colors,M=y.coords,q=y.colors,F=Math.min(P[M[0]][0],P[M[3]][0],P[M[12]][0],P[M[15]][0]),G=Math.min(P[M[0]][1],P[M[3]][1],P[M[12]][1],P[M[15]][1]),R=Math.max(P[M[0]][0],P[M[3]][0],P[M[12]][0],P[M[15]][0]),I=Math.max(P[M[0]][1],P[M[3]][1],P[M[12]][1],P[M[15]][1]);let L=Math.ceil((R-F)*b.TRIANGLE_DENSITY/(this.bounds[2]-this.bounds[0]));L=Math.max(b.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(b.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,L));let x=Math.ceil((I-G)*b.TRIANGLE_DENSITY/(this.bounds[3]-this.bounds[1]));x=Math.max(b.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(b.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,x));const S=L+1,W=new Int32Array((x+1)*S),U=new Int32Array((x+1)*S);let z=0;const re=new Uint8Array(3),J=new Uint8Array(3),k=w[q[0]],H=w[q[1]],Z=w[q[2]],Q=w[q[3]],V=v(x),Y=v(L);for(let te=0;te<=x;te++){re[0]=(k[0]*(x-te)+Z[0]*te)/x|0,re[1]=(k[1]*(x-te)+Z[1]*te)/x|0,re[2]=(k[2]*(x-te)+Z[2]*te)/x|0,J[0]=(H[0]*(x-te)+Q[0]*te)/x|0,J[1]=(H[1]*(x-te)+Q[1]*te)/x|0,J[2]=(H[2]*(x-te)+Q[2]*te)/x|0;for(let $=0;$<=L;$++,z++){if((te===0||te===x)&&($===0||$===L))continue;let X=0,ne=0,ce=0;for(let K=0;K<=3;K++)for(let ee=0;ee<=3;ee++,ce++){const ie=V[te][K]*Y[$][ee];X+=P[M[ce]][0]*ie,ne+=P[M[ce]][1]*ie}W[z]=P.length,P.push([X,ne]),U[z]=w.length;const se=new Uint8Array(3);se[0]=(re[0]*(L-$)+J[0]*$)/L|0,se[1]=(re[1]*(L-$)+J[1]*$)/L|0,se[2]=(re[2]*(L-$)+J[2]*$)/L|0,w.push(se)}}W[0]=M[0],U[0]=q[0],W[L]=M[3],U[L]=q[1],W[S*x]=M[12],U[S*x]=q[2],W[S*x+L]=M[15],U[S*x+L]=q[3],this.figures[_]={type:"lattice",coords:W,colors:U,verticesPerRow:S}}_updateBounds(){let _=this.coords[0][0],y=this.coords[0][1],P=_,w=y;for(let M=1,q=this.coords.length;M<q;M++){const F=this.coords[M][0],G=this.coords[M][1];_=_>F?F:_,y=y>G?G:y,P=P<F?F:P,w=w<G?G:w}this.bounds=[_,y,P,w]}_packData(){let _,y,P,w;const M=this.coords,q=new Float32Array(M.length*2);for(_=0,P=0,y=M.length;_<y;_++){const I=M[_];q[P++]=I[0],q[P++]=I[1]}this.coords=q;const F=this.colors,G=new Uint8Array(F.length*3);for(_=0,P=0,y=F.length;_<y;_++){const I=F[_];G[P++]=I[0],G[P++]=I[1],G[P++]=I[2]}this.colors=G;const R=this.figures;for(_=0,y=R.length;_<y;_++){const I=R[_],L=I.coords,x=I.colors;for(P=0,w=L.length;P<w;P++)L[P]*=2,x[P]*=3}}getIR(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.bbox,this.background]}}class o extends A{getIR(){return["Dummy"]}}function T(D,_,y){const P=_.getArray("Matrix"),w=n.Util.normalizeRect(_.getArray("BBox")),M=_.get("XStep"),q=_.get("YStep"),F=_.get("PaintType"),G=_.get("TilingType");if(w[2]-w[0]===0||w[3]-w[1]===0)throw new n.FormatError(`Invalid getTilingPatternIR /BBox array: [${w}].`);return["TilingPattern",y,D,P,w,M,q,F,G]}},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getXfaFontDict=o,s.getXfaFontName=v;var n=u(177),c=u(130),C=u(178),m=u(179),e=u(180),E=u(181),A=u(131),B=u(163);const O=(0,A.getLookupTableFactory)(function(T){T["MyriadPro-Regular"]=T["PdfJS-Fallback-Regular"]={name:"LiberationSans-Regular",factors:e.MyriadProRegularFactors,baseWidths:m.LiberationSansRegularWidths,baseMapping:m.LiberationSansRegularMapping,metrics:e.MyriadProRegularMetrics},T["MyriadPro-Bold"]=T["PdfJS-Fallback-Bold"]={name:"LiberationSans-Bold",factors:e.MyriadProBoldFactors,baseWidths:m.LiberationSansBoldWidths,baseMapping:m.LiberationSansBoldMapping,metrics:e.MyriadProBoldMetrics},T["MyriadPro-It"]=T["MyriadPro-Italic"]=T["PdfJS-Fallback-Italic"]={name:"LiberationSans-Italic",factors:e.MyriadProItalicFactors,baseWidths:m.LiberationSansItalicWidths,baseMapping:m.LiberationSansItalicMapping,metrics:e.MyriadProItalicMetrics},T["MyriadPro-BoldIt"]=T["MyriadPro-BoldItalic"]=T["PdfJS-Fallback-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:e.MyriadProBoldItalicFactors,baseWidths:m.LiberationSansBoldItalicWidths,baseMapping:m.LiberationSansBoldItalicMapping,metrics:e.MyriadProBoldItalicMetrics},T.ArialMT=T.Arial=T["Arial-Regular"]={name:"LiberationSans-Regular",baseWidths:m.LiberationSansRegularWidths,baseMapping:m.LiberationSansRegularMapping},T["Arial-BoldMT"]=T["Arial-Bold"]={name:"LiberationSans-Bold",baseWidths:m.LiberationSansBoldWidths,baseMapping:m.LiberationSansBoldMapping},T["Arial-ItalicMT"]=T["Arial-Italic"]={name:"LiberationSans-Italic",baseWidths:m.LiberationSansItalicWidths,baseMapping:m.LiberationSansItalicMapping},T["Arial-BoldItalicMT"]=T["Arial-BoldItalic"]={name:"LiberationSans-BoldItalic",baseWidths:m.LiberationSansBoldItalicWidths,baseMapping:m.LiberationSansBoldItalicMapping},T["Calibri-Regular"]={name:"LiberationSans-Regular",factors:n.CalibriRegularFactors,baseWidths:m.LiberationSansRegularWidths,baseMapping:m.LiberationSansRegularMapping,metrics:n.CalibriRegularMetrics},T["Calibri-Bold"]={name:"LiberationSans-Bold",factors:n.CalibriBoldFactors,baseWidths:m.LiberationSansBoldWidths,baseMapping:m.LiberationSansBoldMapping,metrics:n.CalibriBoldMetrics},T["Calibri-Italic"]={name:"LiberationSans-Italic",factors:n.CalibriItalicFactors,baseWidths:m.LiberationSansItalicWidths,baseMapping:m.LiberationSansItalicMapping,metrics:n.CalibriItalicMetrics},T["Calibri-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:n.CalibriBoldItalicFactors,baseWidths:m.LiberationSansBoldItalicWidths,baseMapping:m.LiberationSansBoldItalicMapping,metrics:n.CalibriBoldItalicMetrics},T["Segoeui-Regular"]={name:"LiberationSans-Regular",factors:E.SegoeuiRegularFactors,baseWidths:m.LiberationSansRegularWidths,baseMapping:m.LiberationSansRegularMapping,metrics:E.SegoeuiRegularMetrics},T["Segoeui-Bold"]={name:"LiberationSans-Bold",factors:E.SegoeuiBoldFactors,baseWidths:m.LiberationSansBoldWidths,baseMapping:m.LiberationSansBoldMapping,metrics:E.SegoeuiBoldMetrics},T["Segoeui-Italic"]={name:"LiberationSans-Italic",factors:E.SegoeuiItalicFactors,baseWidths:m.LiberationSansItalicWidths,baseMapping:m.LiberationSansItalicMapping,metrics:E.SegoeuiItalicMetrics},T["Segoeui-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:E.SegoeuiBoldItalicFactors,baseWidths:m.LiberationSansBoldItalicWidths,baseMapping:m.LiberationSansBoldItalicMapping,metrics:E.SegoeuiBoldItalicMetrics},T["Helvetica-Regular"]=T.Helvetica={name:"LiberationSans-Regular",factors:C.HelveticaRegularFactors,baseWidths:m.LiberationSansRegularWidths,baseMapping:m.LiberationSansRegularMapping,metrics:C.HelveticaRegularMetrics},T["Helvetica-Bold"]={name:"LiberationSans-Bold",factors:C.HelveticaBoldFactors,baseWidths:m.LiberationSansBoldWidths,baseMapping:m.LiberationSansBoldMapping,metrics:C.HelveticaBoldMetrics},T["Helvetica-Italic"]={name:"LiberationSans-Italic",factors:C.HelveticaItalicFactors,baseWidths:m.LiberationSansItalicWidths,baseMapping:m.LiberationSansItalicMapping,metrics:C.HelveticaItalicMetrics},T["Helvetica-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:C.HelveticaBoldItalicFactors,baseWidths:m.LiberationSansBoldItalicWidths,baseMapping:m.LiberationSansBoldItalicMapping,metrics:C.HelveticaBoldItalicMetrics}});function v(T){const D=(0,B.normalizeFontName)(T);return O()[D]}function b(T){const D=v(T);if(!D)return null;const{baseWidths:_,baseMapping:y,factors:P}=D;let w;P?w=_.map((G,R)=>G*P[R]):w=_;let M=-2,q;const F=[];for(const[G,R]of y.map((I,L)=>[I,L]).sort((I,L)=>{let[x]=I,[S]=L;return x-S}))G!==-1&&(G===M+1?(q.push(w[R]),M+=1):(M=G,q=[w[R]],F.push(G,q)));return F}function o(T){const D=b(T),_=new c.Dict(null);_.set("BaseFont",c.Name.get(T)),_.set("Type",c.Name.get("Font")),_.set("Subtype",c.Name.get("CIDFontType2")),_.set("Encoding",c.Name.get("Identity-H")),_.set("CIDToGIDMap",c.Name.get("Identity")),_.set("W",D),_.set("FirstChar",D[0]),_.set("LastChar",D.at(-2)+D.at(-1).length-1);const y=new c.Dict(null);_.set("FontDescriptor",y);const P=new c.Dict(null);return P.set("Ordering","Identity"),P.set("Registry","Adobe"),P.set("Supplement",0),_.set("CIDSystemInfo",P),_}},(d,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CalibriRegularMetrics=s.CalibriRegularFactors=s.CalibriItalicMetrics=s.CalibriItalicFactors=s.CalibriBoldMetrics=s.CalibriBoldItalicMetrics=s.CalibriBoldItalicFactors=s.CalibriBoldFactors=void 0;const u=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.54657,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.73293,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.9121,.86943,.79795,.88198,.77958,.70864,.81055,.90399,.88653,.96017,.82577,.77892,.78257,.97507,1.54657,.97507,.85284,.89552,.90176,.88762,.8785,.75241,.8785,.90518,.95015,.77618,.8785,.88401,.91916,.86304,.88401,.91488,.8785,.8801,.8785,.8785,.91343,.7173,1.04106,.8785,.85075,.95794,.82616,.85162,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.12401,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.73293,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.9121,.86943,.86943,.86943,.86943,.86943,.85284,.87508,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.88762,.88762,.88762,.88762,.88762,.88762,.8715,.75241,.90518,.90518,.90518,.90518,.88401,.88401,.88401,.88401,.8785,.8785,.8801,.8801,.8801,.8801,.8801,.90747,.89049,.8785,.8785,.8785,.8785,.85162,.8785,.85162,.83908,.88762,.83908,.88762,.83908,.88762,.73293,.75241,.73293,.75241,.73293,.75241,.73293,.75241,.87289,.83016,.88506,.93125,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.81921,.77618,.81921,.77618,.81921,.77618,1,1,.87356,.8785,.91075,.89608,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76229,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.79468,.91926,.88175,.70823,.94903,.9121,.8785,1,1,.9121,.8785,.87802,.88656,.8785,.86943,.8801,.86943,.8801,.86943,.8801,.87402,.89291,.77958,.91343,1,1,.77958,.91343,.70864,.7173,.70864,.7173,.70864,.7173,.70864,.7173,1,1,.81055,.75841,.81055,1.06452,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.96017,.95794,.77892,.85162,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.88762,.77539,.8715,.87508,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70674,.98387,.94721,1.33431,1.45894,.95161,1.06303,.83908,.80352,.57184,.6965,.56289,.82001,.56029,.81235,1.02988,.83908,.7762,.68156,.80367,.73133,.78257,.87356,.86943,.95958,.75727,.89019,1.04924,.9121,.7648,.86943,.87356,.79795,.78275,.81055,.77892,.9762,.82577,.99819,.84896,.95958,.77892,.96108,1.01407,.89049,1.02988,.94211,.96108,.8936,.84021,.87842,.96399,.79109,.89049,1.00813,1.02988,.86077,.87445,.92099,.84723,.86513,.8801,.75638,.85714,.78216,.79586,.87965,.94211,.97747,.78287,.97926,.84971,1.02988,.94211,.8801,.94211,.84971,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90264,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.90518,1,1,1,1,1,1,1,1,1,1,1,1,.90548,1,1,1,1,1,1,.96017,.95794,.96017,.95794,.96017,.95794,.77892,.85162,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.92794,.87012,.87012,.87012,.89552,.89552,1.42259,.71143,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.93835,.83406,.91133,.84107,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90527,1.81055,.90527,1.81055,1.31006,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];s.CalibriBoldFactors=u;const n={lineHeight:1.2207,lineGap:.2207};s.CalibriBoldMetrics=n;const c=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.56239,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.71805,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.90872,.85938,.79795,.87068,.77958,.69766,.81055,.90399,.88653,.96068,.82577,.77892,.78257,.97507,1.529,.97507,.85284,.89552,.90176,.94908,.86411,.74012,.86411,.88323,.95015,.86411,.86331,.88401,.91916,.86304,.88401,.9039,.86331,.86331,.86411,.86411,.90464,.70852,1.04106,.86331,.84372,.95794,.82616,.84548,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.19129,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.71805,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.90872,.85938,.85938,.85938,.85938,.85938,.85284,.87068,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.94908,.94908,.94908,.94908,.94908,.94908,.85887,.74012,.88323,.88323,.88323,.88323,.88401,.88401,.88401,.88401,.8785,.86331,.86331,.86331,.86331,.86331,.86331,.90747,.89049,.86331,.86331,.86331,.86331,.84548,.86411,.84548,.83908,.94908,.83908,.94908,.83908,.94908,.71805,.74012,.71805,.74012,.71805,.74012,.71805,.74012,.87289,.79538,.88506,.92726,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.81921,.86411,.81921,.86411,.81921,.86411,1,1,.87356,.86331,.91075,.8777,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76467,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.77312,.91926,.88175,.70823,.94903,.90872,.86331,1,1,.90872,.86331,.86906,.88116,.86331,.85938,.86331,.85938,.86331,.85938,.86331,.87402,.86549,.77958,.90464,1,1,.77958,.90464,.69766,.70852,.69766,.70852,.69766,.70852,.69766,.70852,1,1,.81055,.75841,.81055,1.06452,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.96068,.95794,.77892,.84548,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.94908,.77539,.85887,.87068,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70088,.98387,.94721,1.33431,1.45894,.95161,1.48387,.83908,.80352,.57118,.6965,.56347,.79179,.55853,.80346,1.02988,.83908,.7762,.67174,.86036,.73133,.78257,.87356,.86441,.95958,.75727,.89019,1.04924,.90872,.74889,.85938,.87891,.79795,.7957,.81055,.77892,.97447,.82577,.97466,.87179,.95958,.77892,.94252,.95612,.8753,1.02988,.92733,.94252,.87411,.84021,.8728,.95612,.74081,.8753,1.02189,1.02988,.84814,.87445,.91822,.84723,.85668,.86331,.81344,.87581,.76422,.82046,.96057,.92733,.99375,.78022,.95452,.86015,1.02988,.92733,.86331,.92733,.86015,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90631,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.88323,1,1,1,1,1,1,1,1,1,1,1,1,.85174,1,1,1,1,1,1,.96068,.95794,.96068,.95794,.96068,.95794,.77892,.84548,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.89807,.87012,.87012,.87012,.89552,.89552,1.42259,.71094,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.92972,.83406,.91133,.83326,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90616,1.81055,.90527,1.81055,1.3107,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];s.CalibriBoldItalicFactors=c;const C={lineHeight:1.2207,lineGap:.2207};s.CalibriBoldItalicMetrics=C;const m=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39543,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.72346,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89249,.84118,.77452,.85374,.75186,.67789,.79776,.88844,.85066,.94309,.77818,.7306,.76659,1.10369,1.38313,1.10369,1.06139,.89552,.8739,.9245,.9245,.83203,.9245,.85865,1.09842,.9245,.9245,1.03297,1.07692,.90918,1.03297,.94959,.9245,.92274,.9245,.9245,1.02933,.77832,1.20562,.9245,.8916,.98986,.86621,.89453,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.16359,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.72346,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89249,.84118,.84118,.84118,.84118,.84118,.85284,.84557,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.9245,.9245,.9245,.9245,.9245,.9245,.84843,.83203,.85865,.85865,.85865,.85865,.82601,.82601,.82601,.82601,.94469,.9245,.92274,.92274,.92274,.92274,.92274,.90747,.86651,.9245,.9245,.9245,.9245,.89453,.9245,.89453,.8675,.9245,.8675,.9245,.8675,.9245,.72346,.83203,.72346,.83203,.72346,.83203,.72346,.83203,.85193,.8875,.86477,.99034,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.81105,.9245,.81105,.9245,.81105,.9245,1,1,.86275,.9245,.90872,.93591,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77896,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.9375,.98156,.93407,.77261,1.11429,.89249,.9245,1,1,.89249,.9245,.92534,.86698,.9245,.84118,.92274,.84118,.92274,.84118,.92274,.8667,.86291,.75186,1.02933,1,1,.75186,1.02933,.67789,.77832,.67789,.77832,.67789,.77832,.67789,.77832,1,1,.79776,.97655,.79776,1.23023,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.94309,.98986,.7306,.89453,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.9245,.76318,.84843,.84557,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67009,.96334,.93695,1.35191,1.40909,.95161,1.48387,.8675,.90861,.6192,.7363,.64824,.82411,.56321,.85696,1.23516,.8675,.81552,.7286,.84134,.73206,.76659,.86275,.84369,.90685,.77892,.85871,1.02638,.89249,.75828,.84118,.85984,.77452,.76466,.79776,.7306,.90782,.77818,.903,.87291,.90685,.7306,.99058,1.03667,.94635,1.23516,.9849,.99058,.92393,.8916,.942,1.03667,.75026,.94635,1.0297,1.23516,.90918,.94048,.98217,.89746,.84153,.92274,.82507,.88832,.84438,.88178,1.03525,.9849,1.00225,.78086,.97248,.89404,1.23516,.9849,.92274,.9849,.89404,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.89693,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.85865,1,1,1,1,1,1,1,1,1,1,1,1,.90933,1,1,1,1,1,1,.94309,.98986,.94309,.98986,.94309,.98986,.7306,.89453,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.68994,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.97858,.82616,.91133,.83437,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90572,1.81055,.90749,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85284,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];s.CalibriItalicFactors=m;const e={lineHeight:1.2207,lineGap:.2207};s.CalibriItalicMetrics=e;const E=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39016,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.73834,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89385,.85122,.77452,.86503,.75186,.68887,.79776,.88844,.85066,.94258,.77818,.7306,.76659,1.10369,1.39016,1.10369,1.06139,.89552,.8739,.86128,.94469,.8457,.94469,.89464,1.09842,.84636,.94469,1.03297,1.07692,.90918,1.03297,.95897,.94469,.9482,.94469,.94469,1.04692,.78223,1.20562,.94469,.90332,.98986,.86621,.90527,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.08707,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.73834,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89385,.85122,.85122,.85122,.85122,.85122,.85284,.85311,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.86128,.86128,.86128,.86128,.86128,.86128,.8693,.8457,.89464,.89464,.89464,.89464,.82601,.82601,.82601,.82601,.94469,.94469,.9482,.9482,.9482,.9482,.9482,.90747,.86651,.94469,.94469,.94469,.94469,.90527,.94469,.90527,.8675,.86128,.8675,.86128,.8675,.86128,.73834,.8457,.73834,.8457,.73834,.8457,.73834,.8457,.85193,.92454,.86477,.9921,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.81105,.84636,.81105,.84636,.81105,.84636,1,1,.86275,.94469,.90872,.95786,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77741,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.90452,.98156,1.11842,.77261,1.11429,.89385,.94469,1,1,.89385,.94469,.95877,.86901,.94469,.85122,.9482,.85122,.9482,.85122,.9482,.8667,.90016,.75186,1.04692,1,1,.75186,1.04692,.68887,.78223,.68887,.78223,.68887,.78223,.68887,.78223,1,1,.79776,.92188,.79776,1.23023,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.94258,.98986,.7306,.90527,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.86128,.76318,.8693,.85311,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67742,.96334,.93695,1.35191,1.40909,.95161,1.48387,.86686,.90861,.62267,.74359,.65649,.85498,.56963,.88254,1.23516,.8675,.81552,.75443,.84503,.73206,.76659,.86275,.85122,.90685,.77892,.85746,1.02638,.89385,.75657,.85122,.86275,.77452,.74171,.79776,.7306,.95165,.77818,.89772,.88831,.90685,.7306,.98142,1.02191,.96576,1.23516,.99018,.98142,.9236,.89258,.94035,1.02191,.78848,.96576,.9561,1.23516,.90918,.92578,.95424,.89746,.83969,.9482,.80113,.89442,.85208,.86155,.98022,.99018,1.00452,.81209,.99247,.89181,1.23516,.99018,.9482,.99018,.89181,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.88844,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89464,1,1,1,1,1,1,1,1,1,1,1,1,.96766,1,1,1,1,1,1,.94258,.98986,.94258,.98986,.94258,.98986,.7306,.90527,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.69043,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.99331,.82616,.91133,.84286,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90527,1.81055,.90527,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1.07185,.99413,.96334,1.08065,1,1,1,1,1,1,1,1,1,1,1];s.CalibriRegularFactors=E;const A={lineHeight:1.2207,lineGap:.2207};s.CalibriRegularMetrics=A},(d,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.HelveticaRegularMetrics=s.HelveticaRegularFactors=s.HelveticaItalicMetrics=s.HelveticaItalicFactors=s.HelveticaBoldMetrics=s.HelveticaBoldItalicMetrics=s.HelveticaBoldItalicFactors=s.HelveticaBoldFactors=void 0;const u=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.03374,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.00042,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.03828,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00034,.99977,1,.99997,1.00026,1.00078,1.00036,.99973,1.00013,1.0006,.99977,.99977,.99988,.85148,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,1.00069,1.00022,.99977,1.00001,.99984,1.00026,1.00001,1.00024,1.00001,.9999,1,1.0006,1.00001,1.00041,.99962,1.00026,1.0006,.99995,1.00041,.99942,.99973,.99927,1.00082,.99902,1.00026,1.00087,1.0006,1.00069,.99973,.99867,.99973,.9993,1.00026,1.00049,1.00056,1,.99988,.99935,.99995,.99954,1.00055,.99945,1.00032,1.0006,.99995,1.00026,.99995,1.00032,1.00001,1.00008,.99971,1.00019,.9994,1.00001,1.0006,1.00044,.99973,1.00023,1.00047,1,.99942,.99561,.99989,1.00035,.99977,1.00035,.99977,1.00019,.99944,1.00001,1.00021,.99926,1.00035,1.00035,.99942,1.00048,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.99989,1.00057,1.00001,.99936,1.00052,1.00012,.99996,1.00043,1,1.00035,.9994,.99976,1.00035,.99973,1.00052,1.00041,1.00119,1.00037,.99973,1.00002,.99986,1.00041,1.00041,.99902,.9996,1.00034,.99999,1.00026,.99999,1.00026,.99973,1.00052,.99973,1,.99973,1.00041,1.00075,.9994,1.0003,.99999,1,1.00041,.99955,1,.99915,.99973,.99973,1.00026,1.00119,.99955,.99973,1.0006,.99911,1.0006,1.00026,.99972,1.00026,.99902,1.00041,.99973,.99999,1,1,1.00038,1.0005,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,1.00047,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];s.HelveticaBoldFactors=u;const n={lineHeight:1.2,lineGap:.2};s.HelveticaBoldMetrics=n;const c=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.0044,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99971,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.01011,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99977,1,1,1.00026,.99969,.99972,.99981,.9998,1.0006,.99977,.99977,1.00022,.91155,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,.99966,1.00022,1.00032,1.00001,.99944,1.00026,1.00001,.99968,1.00001,1.00047,1,1.0006,1.00001,.99981,1.00101,1.00026,1.0006,.99948,.99981,1.00064,.99973,.99942,1.00101,1.00061,1.00026,1.00069,1.0006,1.00014,.99973,1.01322,.99973,1.00065,1.00026,1.00012,.99923,1,1.00064,1.00076,.99948,1.00055,1.00063,1.00007,.99943,1.0006,.99948,1.00026,.99948,.99943,1.00001,1.00001,1.00029,1.00038,1.00035,1.00001,1.0006,1.0006,.99973,.99978,1.00001,1.00057,.99989,.99967,.99964,.99967,.99977,.99999,.99977,1.00038,.99977,1.00001,.99973,1.00066,.99967,.99967,1.00041,.99998,.99999,.99977,1.00022,.99967,1.00001,.99977,1.00026,.99964,1.00031,1.00001,.99999,.99999,1,1.00023,1,1,.99999,1.00035,1.00001,.99999,.99973,.99977,.99999,1.00058,.99973,.99973,.99955,.9995,1.00026,1.00026,1.00032,.99989,1.00034,.99999,1.00026,1.00026,1.00026,.99973,.45998,.99973,1.00026,.99973,1.00001,.99999,.99982,.99994,.99996,1,1.00042,1.00044,1.00029,1.00023,.99973,.99973,1.00026,.99949,1.00002,.99973,1.0006,1.0006,1.0006,.99975,1.00026,1.00026,1.00032,.98685,.99973,1.00026,1,1,.99966,1.00044,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1,.99973,.99971,.99978,1,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00098,1,1,1,1.00049,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];s.HelveticaBoldItalicFactors=c;const C={lineHeight:1.35,lineGap:.2};s.HelveticaBoldItalicMetrics=C;const m=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.0288,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,.99946,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.06311,.99973,1.00024,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,1.00041,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.89547,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00001,1,1.00054,.99977,1.00084,1.00007,.99973,1.00013,.99924,1.00001,1.00001,.99945,.91221,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00001,.99999,.99977,.99933,1.00022,1.00054,1.00001,1.00065,1.00026,1.00001,1.0001,1.00001,1.00052,1,1.0006,1.00001,.99945,.99897,.99968,.99924,1.00036,.99945,.99949,1,1.0006,.99897,.99918,.99968,.99911,.99924,1,.99962,1.01487,1,1.0005,.99973,1.00012,1.00043,1,.99995,.99994,1.00036,.99947,1.00019,1.00063,1.00025,.99924,1.00036,.99973,1.00036,1.00025,1.00001,1.00001,1.00027,1.0001,1.00068,1.00001,1.0006,1.0006,1,1.00008,.99957,.99972,.9994,.99954,.99975,1.00051,1.00001,1.00019,1.00001,1.0001,.99986,1.00001,1.00001,1.00038,.99954,.99954,.9994,1.00066,.99999,.99977,1.00022,1.00054,1.00001,.99977,1.00026,.99975,1.0001,1.00001,.99993,.9995,.99955,1.00016,.99978,.99974,1.00019,1.00022,.99955,1.00053,.99973,1.00089,1.00005,.99967,1.00048,.99973,1.00002,1.00034,.99973,.99973,.99964,1.00006,1.00066,.99947,.99973,.98894,.99973,1,.44898,1,.99946,1,1.00039,1.00082,.99991,.99991,.99985,1.00022,1.00023,1.00061,1.00006,.99966,.99973,.99973,.99973,1.00019,1.0008,1,.99924,.99924,.99924,.99983,1.00044,.99973,.99964,.98332,1,.99973,1,1,.99962,.99895,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,1.00423,.99925,.99999,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00049,1,1.00245,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,1.00003,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];s.HelveticaItalicFactors=m;const e={lineHeight:1.35,lineGap:.2};s.HelveticaItalicMetrics=e;const E=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.04596,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,1.00019,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.02572,.99973,1.00005,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,.99999,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.84533,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99928,1,.99977,1.00013,1.00055,.99947,.99945,.99941,.99924,1.00001,1.00001,1.0004,.91621,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00005,.99999,.99977,1.00015,1.00022,.99977,1.00001,.99973,1.00026,1.00001,1.00019,1.00001,.99946,1,1.0006,1.00001,.99978,1.00045,.99973,.99924,1.00023,.99978,.99966,1,1.00065,1.00045,1.00019,.99973,.99973,.99924,1,1,.96499,1,1.00055,.99973,1.00008,1.00027,1,.9997,.99995,1.00023,.99933,1.00019,1.00015,1.00031,.99924,1.00023,.99973,1.00023,1.00031,1.00001,.99928,1.00029,1.00092,1.00035,1.00001,1.0006,1.0006,1,.99988,.99975,1,1.00082,.99561,.9996,1.00035,1.00001,.99962,1.00001,1.00092,.99964,1.00001,.99963,.99999,1.00035,1.00035,1.00082,.99962,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.9996,.99967,1.00001,1.00034,1.00074,1.00054,1.00053,1.00063,.99971,.99962,1.00035,.99975,.99977,.99973,1.00043,.99953,1.0007,.99915,.99973,1.00008,.99892,1.00073,1.00073,1.00114,.99915,1.00073,.99955,.99973,1.00092,.99973,1,.99998,1,1.0003,1,1.00043,1.00001,.99969,1.0003,1,1.00035,1.00001,.9995,1,1.00092,.99973,.99973,.99973,1.0007,.9995,1,.99924,1.0006,.99924,.99972,1.00062,.99973,1.00114,1.00073,1,.99955,1,1,1.00047,.99968,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,.99925,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];s.HelveticaRegularFactors=E;const A={lineHeight:1.2,lineGap:.2};s.HelveticaRegularMetrics=A},(d,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.LiberationSansRegularWidths=s.LiberationSansRegularMapping=s.LiberationSansItalicWidths=s.LiberationSansItalicMapping=s.LiberationSansBoldWidths=s.LiberationSansBoldMapping=s.LiberationSansBoldItalicWidths=s.LiberationSansBoldItalicMapping=void 0;const u=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,719,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,785,556,556,278,722,556,556,611,278,611,278,611,385,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,465,722,333,853,906,474,825,927,838,278,722,722,601,719,667,611,722,778,278,722,667,833,722,644,778,722,667,600,611,667,821,667,809,802,278,667,615,451,611,278,582,615,610,556,606,475,460,611,541,278,558,556,612,556,445,611,766,619,520,684,446,582,715,576,753,845,278,582,611,582,845,667,669,885,567,711,667,278,276,556,1094,1062,875,610,722,622,719,722,719,722,567,712,667,904,626,719,719,610,702,833,722,778,719,667,722,611,622,854,667,730,703,1005,1019,870,979,719,711,1031,719,556,618,615,417,635,556,709,497,615,615,500,635,740,604,611,604,611,556,490,556,875,556,615,581,833,844,729,854,615,552,854,583,556,556,611,417,552,556,278,281,278,969,906,611,500,615,556,604,778,611,487,447,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1094,556,885,489,1115,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];s.LiberationSansBoldWidths=u;const n=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];s.LiberationSansBoldMapping=n;const c=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,740,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,782,556,556,278,722,556,556,611,278,611,278,611,396,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,333,722,333,854,906,473,844,930,847,278,722,722,610,671,667,611,722,778,278,722,667,833,722,657,778,718,667,590,611,667,822,667,829,781,278,667,620,479,611,278,591,620,621,556,610,479,492,611,558,278,566,556,603,556,450,611,712,605,532,664,409,591,704,578,773,834,278,591,611,591,834,667,667,886,614,719,667,278,278,556,1094,1042,854,622,719,677,719,722,708,722,614,722,667,927,643,719,719,615,687,833,722,778,719,667,722,611,677,781,667,729,708,979,989,854,1e3,708,719,1042,729,556,619,604,534,618,556,736,510,611,611,507,622,740,604,611,611,611,556,889,556,885,556,646,583,889,935,707,854,594,552,865,589,556,556,611,469,563,556,278,278,278,969,906,611,507,619,556,611,778,611,575,467,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1104,556,885,516,1146,1e3,768,600,834,834,834,834,999,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];s.LiberationSansBoldItalicWidths=c;const C=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];s.LiberationSansBoldItalicMapping=C;const m=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,625,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,733,444,500,222,667,500,500,556,222,556,222,556,281,556,400,556,222,722,556,722,556,722,556,615,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,354,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,789,846,389,794,865,775,222,667,667,570,671,667,611,722,778,278,667,667,833,722,648,778,725,667,600,611,667,837,667,831,761,278,667,570,439,555,222,550,570,571,500,556,439,463,555,542,222,500,492,548,500,447,556,670,573,486,603,374,550,652,546,728,779,222,550,556,550,779,667,667,843,544,708,667,278,278,500,1066,982,844,589,715,639,724,667,651,667,544,704,667,917,614,715,715,589,686,833,722,778,725,667,722,611,639,795,667,727,673,920,923,805,886,651,694,1022,682,556,562,522,493,553,556,688,465,556,556,472,564,686,550,556,556,556,500,833,500,835,500,572,518,830,851,621,736,526,492,752,534,556,556,556,378,496,500,222,222,222,910,828,556,472,565,500,556,778,556,492,339,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1083,1e3,768,600,834,834,834,834,1e3,500,998,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,584,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];s.LiberationSansItalicWidths=m;const e=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];s.LiberationSansItalicMapping=e;const E=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,615,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,735,444,500,222,667,500,500,556,222,556,222,556,292,556,334,556,222,722,556,722,556,722,556,604,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,375,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,784,838,384,774,855,752,222,667,667,551,668,667,611,722,778,278,667,668,833,722,650,778,722,667,618,611,667,798,667,835,748,278,667,578,446,556,222,547,578,575,500,557,446,441,556,556,222,500,500,576,500,448,556,690,569,482,617,395,547,648,525,713,781,222,547,556,547,781,667,667,865,542,719,667,278,278,500,1057,1010,854,583,722,635,719,667,656,667,542,677,667,923,604,719,719,583,656,833,722,778,719,667,722,611,635,760,667,740,667,917,938,792,885,656,719,1010,722,556,573,531,365,583,556,669,458,559,559,438,583,688,552,556,542,556,500,458,500,823,500,573,521,802,823,625,719,521,510,750,542,556,556,556,365,510,500,222,278,222,906,812,556,438,559,500,552,778,556,489,411,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1073,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];s.LiberationSansRegularWidths=E;const A=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];s.LiberationSansRegularMapping=A},(d,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MyriadProRegularMetrics=s.MyriadProRegularFactors=s.MyriadProItalicMetrics=s.MyriadProItalicFactors=s.MyriadProBoldMetrics=s.MyriadProBoldItalicMetrics=s.MyriadProBoldItalicFactors=s.MyriadProBoldFactors=void 0;const u=[1.36898,1,1,.72706,.80479,.83734,.98894,.99793,.9897,.93884,.86209,.94292,.94292,1.16661,1.02058,.93582,.96694,.93582,1.19137,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.78076,.78076,1.02058,1.02058,1.02058,.72851,.78966,.90838,.83637,.82391,.96376,.80061,.86275,.8768,.95407,1.0258,.73901,.85022,.83655,1.0156,.95546,.92179,.87107,.92179,.82114,.8096,.89713,.94438,.95353,.94083,.91905,.90406,.9446,.94292,1.18777,.94292,1.02058,.89903,.90088,.94938,.97898,.81093,.97571,.94938,1.024,.9577,.95933,.98621,1.0474,.97455,.98981,.9672,.95933,.9446,.97898,.97407,.97646,.78036,1.10208,.95442,.95298,.97579,.9332,.94039,.938,.80687,1.01149,.80687,1.02058,.80479,.99793,.99793,.99793,.99793,1.01149,1.00872,.90088,.91882,1.0213,.8361,1.02058,.62295,.54324,.89022,1.08595,1,1,.90088,1,.97455,.93582,.90088,1,1.05686,.8361,.99642,.99642,.99642,.72851,.90838,.90838,.90838,.90838,.90838,.90838,.868,.82391,.80061,.80061,.80061,.80061,1.0258,1.0258,1.0258,1.0258,.97484,.95546,.92179,.92179,.92179,.92179,.92179,1.02058,.92179,.94438,.94438,.94438,.94438,.90406,.86958,.98225,.94938,.94938,.94938,.94938,.94938,.94938,.9031,.81093,.94938,.94938,.94938,.94938,.98621,.98621,.98621,.98621,.93969,.95933,.9446,.9446,.9446,.9446,.9446,1.08595,.9446,.95442,.95442,.95442,.95442,.94039,.97898,.94039,.90838,.94938,.90838,.94938,.90838,.94938,.82391,.81093,.82391,.81093,.82391,.81093,.82391,.81093,.96376,.84313,.97484,.97571,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.8768,.9577,.8768,.9577,.8768,.9577,1,1,.95407,.95933,.97069,.95933,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,.887,1.01591,.73901,1.0474,1,1,.97455,.83655,.98981,1,1,.83655,.73977,.83655,.73903,.84638,1.033,.95546,.95933,1,1,.95546,.95933,.8271,.95417,.95933,.92179,.9446,.92179,.9446,.92179,.9446,.936,.91964,.82114,.97646,1,1,.82114,.97646,.8096,.78036,.8096,.78036,1,1,.8096,.78036,1,1,.89713,.77452,.89713,1.10208,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94083,.97579,.90406,.94039,.90406,.9446,.938,.9446,.938,.9446,.938,1,.99793,.90838,.94938,.868,.9031,.92179,.9446,1,1,.89713,1.10208,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90989,.9358,.91945,.83181,.75261,.87992,.82976,.96034,.83689,.97268,1.0078,.90838,.83637,.8019,.90157,.80061,.9446,.95407,.92436,1.0258,.85022,.97153,1.0156,.95546,.89192,.92179,.92361,.87107,.96318,.89713,.93704,.95638,.91905,.91709,.92796,1.0258,.93704,.94836,1.0373,.95933,1.0078,.95871,.94836,.96174,.92601,.9498,.98607,.95776,.95933,1.05453,1.0078,.98275,.9314,.95617,.91701,1.05993,.9446,.78367,.9553,1,.86832,1.0128,.95871,.99394,.87548,.96361,.86774,1.0078,.95871,.9446,.95871,.86774,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.94083,.97579,.94083,.97579,.94083,.97579,.90406,.94039,.96694,1,.89903,1,1,1,.93582,.93582,.93582,1,.908,.908,.918,.94219,.94219,.96544,1,1.285,1,1,.81079,.81079,1,1,.74854,1,1,1,1,.99793,1,1,1,.65,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.17173,1,.80535,.76169,1.02058,1.0732,1.05486,1,1,1.30692,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.16161,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];s.MyriadProBoldFactors=u;const n={lineHeight:1.2,lineGap:.2};s.MyriadProBoldMetrics=n;const c=[1.36898,1,1,.66227,.80779,.81625,.97276,.97276,.97733,.92222,.83266,.94292,.94292,1.16148,1.02058,.93582,.96694,.93582,1.17337,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.78076,.78076,1.02058,1.02058,1.02058,.71541,.76813,.85576,.80591,.80729,.94299,.77512,.83655,.86523,.92222,.98621,.71743,.81698,.79726,.98558,.92222,.90637,.83809,.90637,.80729,.76463,.86275,.90699,.91605,.9154,.85308,.85458,.90531,.94292,1.21296,.94292,1.02058,.89903,1.18616,.99613,.91677,.78216,.91677,.90083,.98796,.9135,.92168,.95381,.98981,.95298,.95381,.93459,.92168,.91513,.92004,.91677,.95077,.748,1.04502,.91677,.92061,.94236,.89544,.89364,.9,.80687,.8578,.80687,1.02058,.80779,.97276,.97276,.97276,.97276,.8578,.99973,1.18616,.91339,1.08074,.82891,1.02058,.55509,.71526,.89022,1.08595,1,1,1.18616,1,.96736,.93582,1.18616,1,1.04864,.82711,.99043,.99043,.99043,.71541,.85576,.85576,.85576,.85576,.85576,.85576,.845,.80729,.77512,.77512,.77512,.77512,.98621,.98621,.98621,.98621,.95961,.92222,.90637,.90637,.90637,.90637,.90637,1.02058,.90251,.90699,.90699,.90699,.90699,.85458,.83659,.94951,.99613,.99613,.99613,.99613,.99613,.99613,.85811,.78216,.90083,.90083,.90083,.90083,.95381,.95381,.95381,.95381,.9135,.92168,.91513,.91513,.91513,.91513,.91513,1.08595,.91677,.91677,.91677,.91677,.91677,.89364,.92332,.89364,.85576,.99613,.85576,.99613,.85576,.99613,.80729,.78216,.80729,.78216,.80729,.78216,.80729,.78216,.94299,.76783,.95961,.91677,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.86523,.9135,.86523,.9135,.86523,.9135,1,1,.92222,.92168,.92222,.92168,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.86036,.97096,.71743,.98981,1,1,.95298,.79726,.95381,1,1,.79726,.6894,.79726,.74321,.81691,1.0006,.92222,.92168,1,1,.92222,.92168,.79464,.92098,.92168,.90637,.91513,.90637,.91513,.90637,.91513,.909,.87514,.80729,.95077,1,1,.80729,.95077,.76463,.748,.76463,.748,1,1,.76463,.748,1,1,.86275,.72651,.86275,1.04502,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.9154,.94236,.85458,.89364,.85458,.90531,.9,.90531,.9,.90531,.9,1,.97276,.85576,.99613,.845,.85811,.90251,.91677,1,1,.86275,1.04502,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.00899,1.30628,.85576,.80178,.66862,.7927,.69323,.88127,.72459,.89711,.95381,.85576,.80591,.7805,.94729,.77512,.90531,.92222,.90637,.98621,.81698,.92655,.98558,.92222,.85359,.90637,.90976,.83809,.94523,.86275,.83509,.93157,.85308,.83392,.92346,.98621,.83509,.92886,.91324,.92168,.95381,.90646,.92886,.90557,.86847,.90276,.91324,.86842,.92168,.99531,.95381,.9224,.85408,.92699,.86847,1.0051,.91513,.80487,.93481,1,.88159,1.05214,.90646,.97355,.81539,.89398,.85923,.95381,.90646,.91513,.90646,.85923,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9154,.94236,.9154,.94236,.9154,.94236,.85458,.89364,.96694,1,.89903,1,1,1,.91782,.91782,.91782,1,.896,.896,.896,.9332,.9332,.95973,1,1.26,1,1,.80479,.80178,1,1,.85633,1,1,1,1,.97276,1,1,1,.698,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.14542,1,.79199,.78694,1.02058,1.03493,1.05486,1,1,1.23026,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.20006,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];s.MyriadProBoldItalicFactors=c;const C={lineHeight:1.2,lineGap:.2};s.MyriadProBoldItalicMetrics=C;const m=[1.36898,1,1,.65507,.84943,.85639,.88465,.88465,.86936,.88307,.86948,.85283,.85283,1.06383,1.02058,.75945,.9219,.75945,1.17337,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.75945,.75945,1.02058,1.02058,1.02058,.69046,.70926,.85158,.77812,.76852,.89591,.70466,.76125,.80094,.86822,.83864,.728,.77212,.79475,.93637,.87514,.8588,.76013,.8588,.72421,.69866,.77598,.85991,.80811,.87832,.78112,.77512,.8562,1.0222,1.18417,1.0222,1.27014,.89903,1.15012,.93859,.94399,.846,.94399,.81453,1.0186,.94219,.96017,1.03075,1.02175,.912,1.03075,.96998,.96017,.93859,.94399,.94399,.95493,.746,1.12658,.94578,.91,.979,.882,.882,.83,.85034,.83537,.85034,1.02058,.70869,.88465,.88465,.88465,.88465,.83537,.90083,1.15012,.9161,.94565,.73541,1.02058,.53609,.69353,.79519,1.08595,1,1,1.15012,1,.91974,.75945,1.15012,1,.9446,.73361,.9005,.9005,.9005,.62864,.85158,.85158,.85158,.85158,.85158,.85158,.773,.76852,.70466,.70466,.70466,.70466,.83864,.83864,.83864,.83864,.90561,.87514,.8588,.8588,.8588,.8588,.8588,1.02058,.85751,.85991,.85991,.85991,.85991,.77512,.76013,.88075,.93859,.93859,.93859,.93859,.93859,.93859,.8075,.846,.81453,.81453,.81453,.81453,.82424,.82424,.82424,.82424,.9278,.96017,.93859,.93859,.93859,.93859,.93859,1.08595,.8562,.94578,.94578,.94578,.94578,.882,.94578,.882,.85158,.93859,.85158,.93859,.85158,.93859,.76852,.846,.76852,.846,.76852,.846,.76852,.846,.89591,.8544,.90561,.94399,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.80094,.94219,.80094,.94219,.80094,.94219,1,1,.86822,.96017,.86822,.96017,.83864,.82424,.83864,.82424,.83864,.82424,.83864,1.03075,.83864,.82424,.81402,1.02738,.728,1.02175,1,1,.912,.79475,1.03075,1,1,.79475,.83911,.79475,.66266,.80553,1.06676,.87514,.96017,1,1,.87514,.96017,.86865,.87396,.96017,.8588,.93859,.8588,.93859,.8588,.93859,.867,.84759,.72421,.95493,1,1,.72421,.95493,.69866,.746,.69866,.746,1,1,.69866,.746,1,1,.77598,.88417,.77598,1.12658,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.87832,.979,.77512,.882,.77512,.8562,.83,.8562,.83,.8562,.83,1,.88465,.85158,.93859,.773,.8075,.85751,.8562,1,1,.77598,1.12658,1.15012,1.15012,1.15012,1.15012,1.15012,1.15313,1.15012,1.15012,1.15012,1.08106,1.03901,.85158,.77025,.62264,.7646,.65351,.86026,.69461,.89947,1.03075,.85158,.77812,.76449,.88836,.70466,.8562,.86822,.8588,.83864,.77212,.85308,.93637,.87514,.82352,.8588,.85701,.76013,.89058,.77598,.8156,.82565,.78112,.77899,.89386,.83864,.8156,.9486,.92388,.96186,1.03075,.91123,.9486,.93298,.878,.93942,.92388,.84596,.96186,.95119,1.03075,.922,.88787,.95829,.88,.93559,.93859,.78815,.93758,1,.89217,1.03737,.91123,.93969,.77487,.85769,.86799,1.03075,.91123,.93859,.91123,.86799,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87832,.979,.87832,.979,.87832,.979,.77512,.882,.9219,1,.89903,1,1,1,.87321,.87321,.87321,1,1.027,1.027,1.027,.86847,.86847,.79121,1,1.124,1,1,.73572,.73572,1,1,.85034,1,1,1,1,.88465,1,1,1,.669,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.04828,1,.74948,.75187,1.02058,.98391,1.02119,1,1,1.06233,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05233,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];s.MyriadProItalicFactors=m;const e={lineHeight:1.2,lineGap:.2};s.MyriadProItalicMetrics=e;const E=[1.36898,1,1,.76305,.82784,.94935,.89364,.92241,.89073,.90706,.98472,.85283,.85283,1.0664,1.02058,.74505,.9219,.74505,1.23456,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.74505,.74505,1.02058,1.02058,1.02058,.73002,.72601,.91755,.8126,.80314,.92222,.73764,.79726,.83051,.90284,.86023,.74,.8126,.84869,.96518,.91115,.8858,.79761,.8858,.74498,.73914,.81363,.89591,.83659,.89633,.85608,.8111,.90531,1.0222,1.22736,1.0222,1.27014,.89903,.90088,.86667,1.0231,.896,1.01411,.90083,1.05099,1.00512,.99793,1.05326,1.09377,.938,1.06226,1.00119,.99793,.98714,1.0231,1.01231,.98196,.792,1.19137,.99074,.962,1.01915,.926,.942,.856,.85034,.92006,.85034,1.02058,.69067,.92241,.92241,.92241,.92241,.92006,.9332,.90088,.91882,.93484,.75339,1.02058,.56866,.54324,.79519,1.08595,1,1,.90088,1,.95325,.74505,.90088,1,.97198,.75339,.91009,.91009,.91009,.66466,.91755,.91755,.91755,.91755,.91755,.91755,.788,.80314,.73764,.73764,.73764,.73764,.86023,.86023,.86023,.86023,.92915,.91115,.8858,.8858,.8858,.8858,.8858,1.02058,.8858,.89591,.89591,.89591,.89591,.8111,.79611,.89713,.86667,.86667,.86667,.86667,.86667,.86667,.86936,.896,.90083,.90083,.90083,.90083,.84224,.84224,.84224,.84224,.97276,.99793,.98714,.98714,.98714,.98714,.98714,1.08595,.89876,.99074,.99074,.99074,.99074,.942,1.0231,.942,.91755,.86667,.91755,.86667,.91755,.86667,.80314,.896,.80314,.896,.80314,.896,.80314,.896,.92222,.93372,.92915,1.01411,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.83051,1.00512,.83051,1.00512,.83051,1.00512,1,1,.90284,.99793,.90976,.99793,.86023,.84224,.86023,.84224,.86023,.84224,.86023,1.05326,.86023,.84224,.82873,1.07469,.74,1.09377,1,1,.938,.84869,1.06226,1,1,.84869,.83704,.84869,.81441,.85588,1.08927,.91115,.99793,1,1,.91115,.99793,.91887,.90991,.99793,.8858,.98714,.8858,.98714,.8858,.98714,.894,.91434,.74498,.98196,1,1,.74498,.98196,.73914,.792,.73914,.792,1,1,.73914,.792,1,1,.81363,.904,.81363,1.19137,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89633,1.01915,.8111,.942,.8111,.90531,.856,.90531,.856,.90531,.856,1,.92241,.91755,.86667,.788,.86936,.8858,.89876,1,1,.81363,1.19137,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90388,1.03901,.92138,.78105,.7154,.86169,.80513,.94007,.82528,.98612,1.06226,.91755,.8126,.81884,.92819,.73764,.90531,.90284,.8858,.86023,.8126,.91172,.96518,.91115,.83089,.8858,.87791,.79761,.89297,.81363,.88157,.89992,.85608,.81992,.94307,.86023,.88157,.95308,.98699,.99793,1.06226,.95817,.95308,.97358,.928,.98088,.98699,.92761,.99793,.96017,1.06226,.986,.944,.95978,.938,.96705,.98714,.80442,.98972,1,.89762,1.04552,.95817,.99007,.87064,.91879,.88888,1.06226,.95817,.98714,.95817,.88888,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89633,1.01915,.89633,1.01915,.89633,1.01915,.8111,.942,.9219,1,.89903,1,1,1,.93173,.93173,.93173,1,1.06304,1.06304,1.06904,.89903,.89903,.80549,1,1.156,1,1,.76575,.76575,1,1,.72458,1,1,1,1,.92241,1,1,1,.619,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.07257,1,.74705,.71119,1.02058,1.024,1.02119,1,1,1.1536,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05638,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];s.MyriadProRegularFactors=E;const A={lineHeight:1.2,lineGap:.2};s.MyriadProRegularMetrics=A},(d,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SegoeuiRegularMetrics=s.SegoeuiRegularFactors=s.SegoeuiItalicMetrics=s.SegoeuiItalicFactors=s.SegoeuiBoldMetrics=s.SegoeuiBoldItalicMetrics=s.SegoeuiBoldItalicFactors=s.SegoeuiBoldFactors=void 0;const u=[1.76738,1,1,.99297,.9824,1.04016,1.06497,1.03424,.97529,1.17647,1.23203,1.1085,1.1085,1.16939,1.2107,.9754,1.21408,.9754,1.59578,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,.81378,.81378,1.2107,1.2107,1.2107,.71703,.97847,.97363,.88776,.8641,1.02096,.79795,.85132,.914,1.06085,1.1406,.8007,.89858,.83693,1.14889,1.09398,.97489,.92094,.97489,.90399,.84041,.95923,1.00135,1,1.06467,.98243,.90996,.99361,1.1085,1.56942,1.1085,1.2107,.74627,.94282,.96752,1.01519,.86304,1.01359,.97278,1.15103,1.01359,.98561,1.02285,1.02285,1.00527,1.02285,1.0302,.99041,1.0008,1.01519,1.01359,1.02258,.79104,1.16862,.99041,.97454,1.02511,.99298,.96752,.95801,.94856,1.16579,.94856,1.2107,.9824,1.03424,1.03424,1,1.03424,1.16579,.8727,1.3871,1.18622,1.10818,1.04478,1.2107,1.18622,.75155,.94994,1.28826,1.21408,1.21408,.91056,1,.91572,.9754,.64663,1.18328,1.24866,1.04478,1.14169,1.15749,1.17389,.71703,.97363,.97363,.97363,.97363,.97363,.97363,.93506,.8641,.79795,.79795,.79795,.79795,1.1406,1.1406,1.1406,1.1406,1.02096,1.09398,.97426,.97426,.97426,.97426,.97426,1.2107,.97489,1.00135,1.00135,1.00135,1.00135,.90996,.92094,1.02798,.96752,.96752,.96752,.96752,.96752,.96752,.93136,.86304,.97278,.97278,.97278,.97278,1.02285,1.02285,1.02285,1.02285,.97122,.99041,1,1,1,1,1,1.28826,1.0008,.99041,.99041,.99041,.99041,.96752,1.01519,.96752,.97363,.96752,.97363,.96752,.97363,.96752,.8641,.86304,.8641,.86304,.8641,.86304,.8641,.86304,1.02096,1.03057,1.02096,1.03517,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.914,1.01359,.914,1.01359,.914,1.01359,1,1,1.06085,.98561,1.06085,1.00879,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,.97138,1.08692,.8007,1.02285,1,1,1.00527,.83693,1.02285,1,1,.83693,.9455,.83693,.90418,.83693,1.13005,1.09398,.99041,1,1,1.09398,.99041,.96692,1.09251,.99041,.97489,1.0008,.97489,1.0008,.97489,1.0008,.93994,.97931,.90399,1.02258,1,1,.90399,1.02258,.84041,.79104,.84041,.79104,.84041,.79104,.84041,.79104,1,1,.95923,1.07034,.95923,1.16862,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.06467,1.02511,.90996,.96752,.90996,.99361,.95801,.99361,.95801,.99361,.95801,1.07733,1.03424,.97363,.96752,.93506,.93136,.97489,1.0008,1,1,.95923,1.16862,1.15103,1.15103,1.01173,1.03959,.75953,.81378,.79912,1.15103,1.21994,.95161,.87815,1.01149,.81525,.7676,.98167,1.01134,1.02546,.84097,1.03089,1.18102,.97363,.88776,.85134,.97826,.79795,.99361,1.06085,.97489,1.1406,.89858,1.0388,1.14889,1.09398,.86039,.97489,1.0595,.92094,.94793,.95923,.90996,.99346,.98243,1.02112,.95493,1.1406,.90996,1.03574,1.02597,1.0008,1.18102,1.06628,1.03574,1.0192,1.01932,1.00886,.97531,1.0106,1.0008,1.13189,1.18102,1.02277,.98683,1.0016,.99561,1.07237,1.0008,.90434,.99921,.93803,.8965,1.23085,1.06628,1.04983,.96268,1.0499,.98439,1.18102,1.06628,1.0008,1.06628,.98439,.79795,1,1,1,1,1,1,1,1,1,1,1,1,1.09466,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.97278,1,1,1,1,1,1,1,1,1,1,1,1,1.02065,1,1,1,1,1,1,1.06467,1.02511,1.06467,1.02511,1.06467,1.02511,.90996,.96752,1,1.21408,.89903,1,1,.75155,1.04394,1.04394,1.04394,1.04394,.98633,.98633,.98633,.73047,.73047,1.20642,.91211,1.25635,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.12454,.93503,1.03424,1.19687,1.03424,1,1,1,.771,1,1,1.15749,1.15749,1.15749,1.10948,.86279,.94434,.86279,.94434,.86182,1,1,1.16897,1,.96085,.90137,1.2107,1.18416,1.13973,.69825,.9716,2.10339,1.29004,1.29004,1.21172,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18874,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.09193,1.09193,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];s.SegoeuiBoldFactors=u;const n={lineHeight:1.33008,lineGap:0};s.SegoeuiBoldMetrics=n;const c=[1.76738,1,1,.98946,1.03959,1.04016,1.02809,1.036,.97639,1.10953,1.23203,1.11144,1.11144,1.16939,1.21237,.9754,1.21261,.9754,1.59754,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,.81378,.81378,1.21237,1.21237,1.21237,.73541,.97847,.97363,.89723,.87897,1.0426,.79429,.85292,.91149,1.05815,1.1406,.79631,.90128,.83853,1.04396,1.10615,.97552,.94436,.97552,.88641,.80527,.96083,1.00135,1,1.06777,.9817,.91142,.99361,1.11144,1.57293,1.11144,1.21237,.74627,1.31818,1.06585,.97042,.83055,.97042,.93503,1.1261,.97042,.97922,1.14236,.94552,1.01054,1.14236,1.02471,.97922,.94165,.97042,.97042,1.0276,.78929,1.1261,.97922,.95874,1.02197,.98507,.96752,.97168,.95107,1.16579,.95107,1.21237,1.03959,1.036,1.036,1,1.036,1.16579,.87357,1.31818,1.18754,1.26781,1.05356,1.21237,1.18622,.79487,.94994,1.29004,1.24047,1.24047,1.31818,1,.91484,.9754,1.31818,1.1349,1.24866,1.05356,1.13934,1.15574,1.17389,.73541,.97363,.97363,.97363,.97363,.97363,.97363,.94385,.87897,.79429,.79429,.79429,.79429,1.1406,1.1406,1.1406,1.1406,1.0426,1.10615,.97552,.97552,.97552,.97552,.97552,1.21237,.97552,1.00135,1.00135,1.00135,1.00135,.91142,.94436,.98721,1.06585,1.06585,1.06585,1.06585,1.06585,1.06585,.96705,.83055,.93503,.93503,.93503,.93503,1.14236,1.14236,1.14236,1.14236,.93125,.97922,.94165,.94165,.94165,.94165,.94165,1.29004,.94165,.97922,.97922,.97922,.97922,.96752,.97042,.96752,.97363,1.06585,.97363,1.06585,.97363,1.06585,.87897,.83055,.87897,.83055,.87897,.83055,.87897,.83055,1.0426,1.0033,1.0426,.97042,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.91149,.97042,.91149,.97042,.91149,.97042,1,1,1.05815,.97922,1.05815,.97922,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,.97441,1.04302,.79631,1.01582,1,1,1.01054,.83853,1.14236,1,1,.83853,1.09125,.83853,.90418,.83853,1.19508,1.10615,.97922,1,1,1.10615,.97922,1.01034,1.10466,.97922,.97552,.94165,.97552,.94165,.97552,.94165,.91602,.91981,.88641,1.0276,1,1,.88641,1.0276,.80527,.78929,.80527,.78929,.80527,.78929,.80527,.78929,1,1,.96083,1.05403,.95923,1.16862,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.06777,1.02197,.91142,.96752,.91142,.99361,.97168,.99361,.97168,.99361,.97168,1.23199,1.036,.97363,1.06585,.94385,.96705,.97552,.94165,1,1,.96083,1.1261,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,.95161,1.27126,1.00811,.83284,.77702,.99137,.95253,1.0347,.86142,1.07205,1.14236,.97363,.89723,.86869,1.09818,.79429,.99361,1.05815,.97552,1.1406,.90128,1.06662,1.04396,1.10615,.84918,.97552,1.04694,.94436,.98015,.96083,.91142,1.00356,.9817,1.01945,.98999,1.1406,.91142,1.04961,.9898,1.00639,1.14236,1.07514,1.04961,.99607,1.02897,1.008,.9898,.95134,1.00639,1.11121,1.14236,1.00518,.97981,1.02186,1,1.08578,.94165,.99314,.98387,.93028,.93377,1.35125,1.07514,1.10687,.93491,1.04232,1.00351,1.14236,1.07514,.94165,1.07514,1.00351,.79429,1,1,1,1,1,1,1,1,1,1,1,1,1.09097,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.93503,1,1,1,1,1,1,1,1,1,1,1,1,.96609,1,1,1,1,1,1,1.06777,1.02197,1.06777,1.02197,1.06777,1.02197,.91142,.96752,1,1.21261,.89903,1,1,.75155,1.04745,1.04745,1.04745,1.04394,.98633,.98633,.98633,.72959,.72959,1.20502,.91406,1.26514,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.09125,.93327,1.03336,1.16541,1.036,1,1,1,.771,1,1,1.15574,1.15574,1.15574,1.15574,.86364,.94434,.86279,.94434,.86224,1,1,1.16798,1,.96085,.90068,1.21237,1.18416,1.13904,.69825,.9716,2.10339,1.29004,1.29004,1.21339,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18775,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.13269,1.13269,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];s.SegoeuiBoldItalicFactors=c;const C={lineHeight:1.33008,lineGap:0};s.SegoeuiBoldItalicMetrics=C;const m=[1.76738,1,1,.98946,1.14763,1.05365,1.06234,.96927,.92586,1.15373,1.18414,.91349,.91349,1.07403,1.17308,.78383,1.20088,.78383,1.42531,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78383,.78383,1.17308,1.17308,1.17308,.77349,.94565,.94729,.85944,.88506,.9858,.74817,.80016,.88449,.98039,.95782,.69238,.89898,.83231,.98183,1.03989,.96924,.86237,.96924,.80595,.74524,.86091,.95402,.94143,.98448,.8858,.83089,.93285,1.0949,1.39016,1.0949,1.45994,.74627,1.04839,.97454,.97454,.87207,.97454,.87533,1.06151,.97454,1.00176,1.16484,1.08132,.98047,1.16484,1.02989,1.01054,.96225,.97454,.97454,1.06598,.79004,1.16344,1.00351,.94629,.9973,.91016,.96777,.9043,.91082,.92481,.91082,1.17308,.95748,.96927,.96927,1,.96927,.92481,.80597,1.04839,1.23393,1.1781,.9245,1.17308,1.20808,.63218,.94261,1.24822,1.09971,1.09971,1.04839,1,.85273,.78032,1.04839,1.09971,1.22326,.9245,1.09836,1.13525,1.15222,.70424,.94729,.94729,.94729,.94729,.94729,.94729,.85498,.88506,.74817,.74817,.74817,.74817,.95782,.95782,.95782,.95782,.9858,1.03989,.96924,.96924,.96924,.96924,.96924,1.17308,.96924,.95402,.95402,.95402,.95402,.83089,.86237,.88409,.97454,.97454,.97454,.97454,.97454,.97454,.92916,.87207,.87533,.87533,.87533,.87533,.93146,.93146,.93146,.93146,.93854,1.01054,.96225,.96225,.96225,.96225,.96225,1.24822,.8761,1.00351,1.00351,1.00351,1.00351,.96777,.97454,.96777,.94729,.97454,.94729,.97454,.94729,.97454,.88506,.87207,.88506,.87207,.88506,.87207,.88506,.87207,.9858,.95391,.9858,.97454,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.88449,.97454,.88449,.97454,.88449,.97454,1,1,.98039,1.00176,.98039,1.00176,.95782,.93146,.95782,.93146,.95782,.93146,.95782,1.16484,.95782,.93146,.84421,1.12761,.69238,1.08132,1,1,.98047,.83231,1.16484,1,1,.84723,1.04861,.84723,.78755,.83231,1.23736,1.03989,1.01054,1,1,1.03989,1.01054,.9857,1.03849,1.01054,.96924,.96225,.96924,.96225,.96924,.96225,.92383,.90171,.80595,1.06598,1,1,.80595,1.06598,.74524,.79004,.74524,.79004,.74524,.79004,.74524,.79004,1,1,.86091,1.02759,.85771,1.16344,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.98448,.9973,.83089,.96777,.83089,.93285,.9043,.93285,.9043,.93285,.9043,1.31868,.96927,.94729,.97454,.85498,.92916,.96924,.8761,1,1,.86091,1.16344,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,.81965,.81965,.94729,.78032,.71022,.90883,.84171,.99877,.77596,1.05734,1.2,.94729,.85944,.82791,.9607,.74817,.93285,.98039,.96924,.95782,.89898,.98316,.98183,1.03989,.78614,.96924,.97642,.86237,.86075,.86091,.83089,.90082,.8858,.97296,1.01284,.95782,.83089,1.0976,1.04,1.03342,1.2,1.0675,1.0976,.98205,1.03809,1.05097,1.04,.95364,1.03342,1.05401,1.2,1.02148,1.0119,1.04724,1.0127,1.02732,.96225,.8965,.97783,.93574,.94818,1.30679,1.0675,1.11826,.99821,1.0557,1.0326,1.2,1.0675,.96225,1.0675,1.0326,.74817,1,1,1,1,1,1,1,1,1,1,1,1,1.03754,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87533,1,1,1,1,1,1,1,1,1,1,1,1,.98705,1,1,1,1,1,1,.98448,.9973,.98448,.9973,.98448,.9973,.83089,.96777,1,1.20088,.89903,1,1,.75155,.94945,.94945,.94945,.94945,1.12317,1.12317,1.12317,.67603,.67603,1.15621,.73584,1.21191,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87709,.96927,1.01473,.96927,1,1,1,.77295,1,1,1.09836,1.09836,1.09836,1.01522,.86321,.94434,.8649,.94434,.86182,1,1,1.083,1,.91578,.86438,1.17308,1.18416,1.14589,.69825,.97622,1.96791,1.24822,1.24822,1.17308,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.17984,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10742,1.10742,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];s.SegoeuiItalicFactors=m;const e={lineHeight:1.33008,lineGap:0};s.SegoeuiItalicMetrics=e;const E=[1.76738,1,1,.98594,1.02285,1.10454,1.06234,.96927,.92037,1.19985,1.2046,.90616,.90616,1.07152,1.1714,.78032,1.20088,.78032,1.40246,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78032,.78032,1.1714,1.1714,1.1714,.80597,.94084,.96706,.85944,.85734,.97093,.75842,.79936,.88198,.9831,.95782,.71387,.86969,.84636,1.07796,1.03584,.96924,.83968,.96924,.82826,.79649,.85771,.95132,.93119,.98965,.88433,.8287,.93365,1.08612,1.3638,1.08612,1.45786,.74627,.80499,.91484,1.05707,.92383,1.05882,.9403,1.12654,1.05882,1.01756,1.09011,1.09011,.99414,1.09011,1.034,1.01756,1.05356,1.05707,1.05882,1.04399,.84863,1.21968,1.01756,.95801,1.00068,.91797,.96777,.9043,.90351,.92105,.90351,1.1714,.85337,.96927,.96927,.99912,.96927,.92105,.80597,1.2434,1.20808,1.05937,.90957,1.1714,1.20808,.75155,.94261,1.24644,1.09971,1.09971,.84751,1,.85273,.78032,.61584,1.05425,1.17914,.90957,1.08665,1.11593,1.14169,.73381,.96706,.96706,.96706,.96706,.96706,.96706,.86035,.85734,.75842,.75842,.75842,.75842,.95782,.95782,.95782,.95782,.97093,1.03584,.96924,.96924,.96924,.96924,.96924,1.1714,.96924,.95132,.95132,.95132,.95132,.8287,.83968,.89049,.91484,.91484,.91484,.91484,.91484,.91484,.93575,.92383,.9403,.9403,.9403,.9403,.8717,.8717,.8717,.8717,1.00527,1.01756,1.05356,1.05356,1.05356,1.05356,1.05356,1.24644,.95923,1.01756,1.01756,1.01756,1.01756,.96777,1.05707,.96777,.96706,.91484,.96706,.91484,.96706,.91484,.85734,.92383,.85734,.92383,.85734,.92383,.85734,.92383,.97093,1.0969,.97093,1.05882,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.88198,1.05882,.88198,1.05882,.88198,1.05882,1,1,.9831,1.01756,.9831,1.01756,.95782,.8717,.95782,.8717,.95782,.8717,.95782,1.09011,.95782,.8717,.84784,1.11551,.71387,1.09011,1,1,.99414,.84636,1.09011,1,1,.84636,1.0536,.84636,.94298,.84636,1.23297,1.03584,1.01756,1,1,1.03584,1.01756,1.00323,1.03444,1.01756,.96924,1.05356,.96924,1.05356,.96924,1.05356,.93066,.98293,.82826,1.04399,1,1,.82826,1.04399,.79649,.84863,.79649,.84863,.79649,.84863,.79649,.84863,1,1,.85771,1.17318,.85771,1.21968,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.98965,1.00068,.8287,.96777,.8287,.93365,.9043,.93365,.9043,.93365,.9043,1.08571,.96927,.96706,.91484,.86035,.93575,.96924,.95923,1,1,.85771,1.21968,1.11437,1.11437,.93109,.91202,.60411,.84164,.55572,1.01173,.97361,.81818,.81818,.96635,.78032,.72727,.92366,.98601,1.03405,.77968,1.09799,1.2,.96706,.85944,.85638,.96491,.75842,.93365,.9831,.96924,.95782,.86969,.94152,1.07796,1.03584,.78437,.96924,.98715,.83968,.83491,.85771,.8287,.94492,.88433,.9287,1.0098,.95782,.8287,1.0625,.98248,1.03424,1.2,1.01071,1.0625,.95246,1.03809,1.04912,.98248,1.00221,1.03424,1.05443,1.2,1.04785,.99609,1.00169,1.05176,.99346,1.05356,.9087,1.03004,.95542,.93117,1.23362,1.01071,1.07831,1.02512,1.05205,1.03502,1.2,1.01071,1.05356,1.01071,1.03502,.75842,1,1,1,1,1,1,1,1,1,1,1,1,1.03719,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9403,1,1,1,1,1,1,1,1,1,1,1,1,1.04021,1,1,1,1,1,1,.98965,1.00068,.98965,1.00068,.98965,1.00068,.8287,.96777,1,1.20088,.89903,1,1,.75155,1.03077,1.03077,1.03077,1.03077,1.13196,1.13196,1.13196,.67428,.67428,1.16039,.73291,1.20996,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87796,.96927,1.01518,.96927,1,1,1,.77295,1,1,1.10539,1.10539,1.11358,1.06967,.86279,.94434,.86279,.94434,.86182,1,1,1.083,1,.91578,.86507,1.1714,1.18416,1.14589,.69825,.97622,1.9697,1.24822,1.24822,1.17238,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18083,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10938,1.10938,1,1,1,1.05425,1.09971,1.09971,1.09971,1,1,1,1,1,1,1,1,1,1,1];s.SegoeuiRegularFactors=E;const A={lineHeight:1.33008,lineGap:0};s.SegoeuiRegularMetrics=A},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PostScriptEvaluator=s.PostScriptCompiler=s.PDFFunctionFactory=void 0,s.isPDFFunction=O;var n=u(130),c=u(2),C=u(183),m=u(132),e=u(184);class E{constructor(x){let{xref:S,isEvalSupported:W=!0}=x;this.xref=S,this.isEvalSupported=W!==!1}create(x){const S=this.getCached(x);if(S)return S;const W=B.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:x instanceof n.Ref?this.xref.fetch(x):x});return this._cache(x,W),W}createFromArray(x){const S=this.getCached(x);if(S)return S;const W=B.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:x instanceof n.Ref?this.xref.fetch(x):x});return this._cache(x,W),W}getCached(x){let S;if(x instanceof n.Ref?S=x:x instanceof n.Dict?S=x.objId:x instanceof m.BaseStream&&(S=x.dict&&x.dict.objId),S){const W=this._localFunctionCache.getByRef(S);if(W)return W}return null}_cache(x,S){if(!S)throw new Error('PDFFunctionFactory._cache - expected "parsedFunction" argument.');let W;x instanceof n.Ref?W=x:x instanceof n.Dict?W=x.objId:x instanceof m.BaseStream&&(W=x.dict&&x.dict.objId),W&&this._localFunctionCache.set(null,W,S)}get _localFunctionCache(){return(0,c.shadow)(this,"_localFunctionCache",new e.LocalFunctionCache)}}s.PDFFunctionFactory=E;function A(L){if(!Array.isArray(L))return null;const x=L.length;for(let S=0;S<x;S++)if(typeof L[S]!="number"){const W=new Array(x);for(let U=0;U<x;U++)W[U]=+L[U];return W}return L}class B{static getSampleArray(x,S,W,U){let z,re,J=1;for(z=0,re=x.length;z<re;z++)J*=x[z];J*=S;const k=new Array(J);let H=0,Z=0;const Q=1/(2**W-1),V=U.getBytes((J*W+7)/8);let Y=0;for(z=0;z<J;z++){for(;H<W;)Z<<=8,Z|=V[Y++],H+=8;H-=W,k[z]=(Z>>H)*Q,Z&=(1<<H)-1}return k}static parse(x){let{xref:S,isEvalSupported:W,fn:U}=x;const z=U.dict||U;switch(z.get("FunctionType")){case 0:return this.constructSampled({xref:S,isEvalSupported:W,fn:U,dict:z});case 1:break;case 2:return this.constructInterpolated({xref:S,isEvalSupported:W,dict:z});case 3:return this.constructStiched({xref:S,isEvalSupported:W,dict:z});case 4:return this.constructPostScript({xref:S,isEvalSupported:W,fn:U,dict:z})}throw new c.FormatError("Unknown type of function")}static parseArray(x){let{xref:S,isEvalSupported:W,fnObj:U}=x;if(!Array.isArray(U))return this.parse({xref:S,isEvalSupported:W,fn:U});const z=[];for(let re=0,J=U.length;re<J;re++)z.push(this.parse({xref:S,isEvalSupported:W,fn:S.fetchIfRef(U[re])}));return function(re,J,k,H){for(let Z=0,Q=z.length;Z<Q;Z++)z[Z](re,J,k,H+Z)}}static constructSampled(x){let{xref:S,isEvalSupported:W,fn:U,dict:z}=x;function re(ce){const se=ce.length,K=[];let ee=0;for(let ie=0;ie<se;ie+=2)K[ee++]=[ce[ie],ce[ie+1]];return K}function J(ce,se,K,ee,ie){return ee+(ce-se)*((ie-ee)/(K-se))}let k=A(z.getArray("Domain")),H=A(z.getArray("Range"));if(!k||!H)throw new c.FormatError("No domain or range");const Z=k.length/2,Q=H.length/2;k=re(k),H=re(H);const V=A(z.getArray("Size")),Y=z.get("BitsPerSample"),te=z.get("Order")||1;te!==1&&(0,c.info)("No support for cubic spline interpolation: "+te);let $=A(z.getArray("Encode"));if($)$=re($);else{$=[];for(let ce=0;ce<Z;++ce)$.push([0,V[ce]-1])}let X=A(z.getArray("Decode"));X?X=re(X):X=H;const ne=this.getSampleArray(V,Q,Y,U);return function(se,K,ee,ie){const oe=1<<Z,le=new Float64Array(oe),pe=new Uint32Array(oe);let fe,ue;for(ue=0;ue<oe;ue++)le[ue]=1;let ge=Q,he=1;for(fe=0;fe<Z;++fe){const xe=k[fe][0],ye=k[fe][1],ve=Math.min(Math.max(se[K+fe],xe),ye);let ke=J(ve,xe,ye,$[fe][0],$[fe][1]);const Se=V[fe];ke=Math.min(Math.max(ke,0),Se-1);const be=ke<Se-1?Math.floor(ke):ke-1,Ee=be+1-ke,Oe=ke-be,Fe=be*ge,Re=Fe+ge;for(ue=0;ue<oe;ue++)ue&he?(le[ue]*=Oe,pe[ue]+=Re):(le[ue]*=Ee,pe[ue]+=Fe);ge*=Se,he<<=1}for(ue=0;ue<Q;++ue){let xe=0;for(fe=0;fe<oe;fe++)xe+=ne[pe[fe]+ue]*le[fe];xe=J(xe,0,1,X[ue][0],X[ue][1]),ee[ie+ue]=Math.min(Math.max(xe,H[ue][0]),H[ue][1])}}}static constructInterpolated(x){let{xref:S,isEvalSupported:W,dict:U}=x;const z=A(U.getArray("C0"))||[0],re=A(U.getArray("C1"))||[1],J=U.get("N"),k=[];for(let Z=0,Q=z.length;Z<Q;++Z)k.push(re[Z]-z[Z]);const H=k.length;return function(Q,V,Y,te){const $=J===1?Q[V]:Q[V]**J;for(let X=0;X<H;++X)Y[te+X]=z[X]+$*k[X]}}static constructStiched(x){let{xref:S,isEvalSupported:W,dict:U}=x;const z=A(U.getArray("Domain"));if(!z)throw new c.FormatError("No domain");if(z.length/2!==1)throw new c.FormatError("Bad domain for stiched function");const J=U.get("Functions"),k=[];for(let V=0,Y=J.length;V<Y;++V)k.push(this.parse({xref:S,isEvalSupported:W,fn:S.fetchIfRef(J[V])}));const H=A(U.getArray("Bounds")),Z=A(U.getArray("Encode")),Q=new Float32Array(1);return function(Y,te,$,X){const ce=function(fe,ue,ge){return fe>ge?fe=ge:fe<ue&&(fe=ue),fe}(Y[te],z[0],z[1]),se=H.length;let K;for(K=0;K<se&&!(ce<H[K]);++K);let ee=z[0];K>0&&(ee=H[K-1]);let ie=z[1];K<H.length&&(ie=H[K]);const oe=Z[2*K],le=Z[2*K+1];Q[0]=ee===ie?oe:oe+(ce-ee)*(le-oe)/(ie-ee),k[K](Q,0,$,X)}}static constructPostScript(x){let{xref:S,isEvalSupported:W,fn:U,dict:z}=x;const re=A(z.getArray("Domain")),J=A(z.getArray("Range"));if(!re)throw new c.FormatError("No domain.");if(!J)throw new c.FormatError("No range.");const k=new C.PostScriptLexer(U),Z=new C.PostScriptParser(k).parse();if(W&&c.FeatureTest.isEvalSupported){const ce=new I().compile(Z,re,J);if(ce)return new Function("src","srcOffset","dest","destOffset",ce)}(0,c.info)("Unable to compile PS function");const Q=J.length>>1,V=re.length>>1,Y=new b(Z),te=Object.create(null);let X=2048*4;const ne=new Float32Array(V);return function(se,K,ee,ie){let oe,le,pe="";const fe=ne;for(oe=0;oe<V;oe++)le=se[K+oe],fe[oe]=le,pe+=le+"_";const ue=te[pe];if(ue!==void 0){ee.set(ue,ie);return}const ge=new Float32Array(Q),he=Y.execute(fe),xe=he.length-Q;for(oe=0;oe<Q;oe++){le=he[xe+oe];let ye=J[oe*2];le<ye?le=ye:(ye=J[oe*2+1],le>ye&&(le=ye)),ge[oe]=le}X>0&&(X--,te[pe]=ge),ee.set(ge,ie)}}}function O(L){let x;if(typeof L!="object")return!1;if(L instanceof n.Dict)x=L;else if(L instanceof m.BaseStream)x=L.dict;else return!1;return x.has("FunctionType")}class v{static get MAX_STACK_SIZE(){return(0,c.shadow)(this,"MAX_STACK_SIZE",100)}constructor(x){this.stack=x?Array.prototype.slice.call(x,0):[]}push(x){if(this.stack.length>=v.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");this.stack.push(x)}pop(){if(this.stack.length<=0)throw new Error("PostScript function stack underflow.");return this.stack.pop()}copy(x){if(this.stack.length+x>=v.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");const S=this.stack;for(let W=S.length-x,U=x-1;U>=0;U--,W++)S.push(S[W])}index(x){this.push(this.stack[this.stack.length-x-1])}roll(x,S){const W=this.stack,U=W.length-x,z=W.length-1,re=U+(S-Math.floor(S/x)*x);for(let J=U,k=z;J<k;J++,k--){const H=W[J];W[J]=W[k],W[k]=H}for(let J=U,k=re-1;J<k;J++,k--){const H=W[J];W[J]=W[k],W[k]=H}for(let J=re,k=z;J<k;J++,k--){const H=W[J];W[J]=W[k],W[k]=H}}}class b{constructor(x){this.operators=x}execute(x){const S=new v(x);let W=0;const U=this.operators,z=U.length;let re,J,k;for(;W<z;){if(re=U[W++],typeof re=="number"){S.push(re);continue}switch(re){case"jz":k=S.pop(),J=S.pop(),J||(W=k);break;case"j":J=S.pop(),W=J;break;case"abs":J=S.pop(),S.push(Math.abs(J));break;case"add":k=S.pop(),J=S.pop(),S.push(J+k);break;case"and":k=S.pop(),J=S.pop(),typeof J=="boolean"&&typeof k=="boolean"?S.push(J&&k):S.push(J&k);break;case"atan":J=S.pop(),S.push(Math.atan(J));break;case"bitshift":k=S.pop(),J=S.pop(),J>0?S.push(J<<k):S.push(J>>k);break;case"ceiling":J=S.pop(),S.push(Math.ceil(J));break;case"copy":J=S.pop(),S.copy(J);break;case"cos":J=S.pop(),S.push(Math.cos(J));break;case"cvi":J=S.pop()|0,S.push(J);break;case"cvr":break;case"div":k=S.pop(),J=S.pop(),S.push(J/k);break;case"dup":S.copy(1);break;case"eq":k=S.pop(),J=S.pop(),S.push(J===k);break;case"exch":S.roll(2,1);break;case"exp":k=S.pop(),J=S.pop(),S.push(J**k);break;case"false":S.push(!1);break;case"floor":J=S.pop(),S.push(Math.floor(J));break;case"ge":k=S.pop(),J=S.pop(),S.push(J>=k);break;case"gt":k=S.pop(),J=S.pop(),S.push(J>k);break;case"idiv":k=S.pop(),J=S.pop(),S.push(J/k|0);break;case"index":J=S.pop(),S.index(J);break;case"le":k=S.pop(),J=S.pop(),S.push(J<=k);break;case"ln":J=S.pop(),S.push(Math.log(J));break;case"log":J=S.pop(),S.push(Math.log(J)/Math.LN10);break;case"lt":k=S.pop(),J=S.pop(),S.push(J<k);break;case"mod":k=S.pop(),J=S.pop(),S.push(J%k);break;case"mul":k=S.pop(),J=S.pop(),S.push(J*k);break;case"ne":k=S.pop(),J=S.pop(),S.push(J!==k);break;case"neg":J=S.pop(),S.push(-J);break;case"not":J=S.pop(),typeof J=="boolean"?S.push(!J):S.push(~J);break;case"or":k=S.pop(),J=S.pop(),typeof J=="boolean"&&typeof k=="boolean"?S.push(J||k):S.push(J|k);break;case"pop":S.pop();break;case"roll":k=S.pop(),J=S.pop(),S.roll(J,k);break;case"round":J=S.pop(),S.push(Math.round(J));break;case"sin":J=S.pop(),S.push(Math.sin(J));break;case"sqrt":J=S.pop(),S.push(Math.sqrt(J));break;case"sub":k=S.pop(),J=S.pop(),S.push(J-k);break;case"true":S.push(!0);break;case"truncate":J=S.pop(),J=J<0?Math.ceil(J):Math.floor(J),S.push(J);break;case"xor":k=S.pop(),J=S.pop(),typeof J=="boolean"&&typeof k=="boolean"?S.push(J!==k):S.push(J^k);break;default:throw new c.FormatError(`Unknown operator ${re}`)}}return S.stack}}s.PostScriptEvaluator=b;class o{constructor(x){this.type=x}visit(x){(0,c.unreachable)("abstract method")}}class T extends o{constructor(x,S,W){super("args"),this.index=x,this.min=S,this.max=W}visit(x){x.visitArgument(this)}}class D extends o{constructor(x){super("literal"),this.number=x,this.min=x,this.max=x}visit(x){x.visitLiteral(this)}}class _ extends o{constructor(x,S,W,U,z){super("binary"),this.op=x,this.arg1=S,this.arg2=W,this.min=U,this.max=z}visit(x){x.visitBinaryOperation(this)}}class y extends o{constructor(x,S){super("max"),this.arg=x,this.min=x.min,this.max=S}visit(x){x.visitMin(this)}}class P extends o{constructor(x,S,W){super("var"),this.index=x,this.min=S,this.max=W}visit(x){x.visitVariable(this)}}class w extends o{constructor(x,S){super("definition"),this.variable=x,this.arg=S}visit(x){x.visitVariableDefinition(this)}}class M{constructor(){this.parts=[]}visitArgument(x){this.parts.push("Math.max(",x.min,", Math.min(",x.max,", src[srcOffset + ",x.index,"]))")}visitVariable(x){this.parts.push("v",x.index)}visitLiteral(x){this.parts.push(x.number)}visitBinaryOperation(x){this.parts.push("("),x.arg1.visit(this),this.parts.push(" ",x.op," "),x.arg2.visit(this),this.parts.push(")")}visitVariableDefinition(x){this.parts.push("var "),x.variable.visit(this),this.parts.push(" = "),x.arg.visit(this),this.parts.push(";")}visitMin(x){this.parts.push("Math.min("),x.arg.visit(this),this.parts.push(", ",x.max,")")}toString(){return this.parts.join("")}}function q(L,x){return x.type==="literal"&&x.number===0?L:L.type==="literal"&&L.number===0?x:x.type==="literal"&&L.type==="literal"?new D(L.number+x.number):new _("+",L,x,L.min+x.min,L.max+x.max)}function F(L,x){if(x.type==="literal"){if(x.number===0)return new D(0);if(x.number===1)return L;if(L.type==="literal")return new D(L.number*x.number)}if(L.type==="literal"){if(L.number===0)return new D(0);if(L.number===1)return x}const S=Math.min(L.min*x.min,L.min*x.max,L.max*x.min,L.max*x.max),W=Math.max(L.min*x.min,L.min*x.max,L.max*x.min,L.max*x.max);return new _("*",L,x,S,W)}function G(L,x){if(x.type==="literal"){if(x.number===0)return L;if(L.type==="literal")return new D(L.number-x.number)}return x.type==="binary"&&x.op==="-"&&L.type==="literal"&&L.number===1&&x.arg1.type==="literal"&&x.arg1.number===1?x.arg2:new _("-",L,x,L.min-x.max,L.max-x.min)}function R(L,x){return L.min>=x?new D(x):L.max<=x?L:new y(L,x)}class I{compile(x,S,W){const U=[],z=[],re=S.length>>1,J=W.length>>1;let k=0,H,Z,Q,V,Y,te,$,X;for(let ce=0;ce<re;ce++)U.push(new T(ce,S[ce*2],S[ce*2+1]));for(let ce=0,se=x.length;ce<se;ce++){if(X=x[ce],typeof X=="number"){U.push(new D(X));continue}switch(X){case"add":if(U.length<2)return null;V=U.pop(),Q=U.pop(),U.push(q(Q,V));break;case"cvr":if(U.length<1)return null;break;case"mul":if(U.length<2)return null;V=U.pop(),Q=U.pop(),U.push(F(Q,V));break;case"sub":if(U.length<2)return null;V=U.pop(),Q=U.pop(),U.push(G(Q,V));break;case"exch":if(U.length<2)return null;Y=U.pop(),te=U.pop(),U.push(Y,te);break;case"pop":if(U.length<1)return null;U.pop();break;case"index":if(U.length<1||(Q=U.pop(),Q.type!=="literal")||(H=Q.number,H<0||!Number.isInteger(H)||U.length<H))return null;if(Y=U[U.length-H-1],Y.type==="literal"||Y.type==="var"){U.push(Y);break}$=new P(k++,Y.min,Y.max),U[U.length-H-1]=$,U.push($),z.push(new w($,Y));break;case"dup":if(U.length<1)return null;if(typeof x[ce+1]=="number"&&x[ce+2]==="gt"&&x[ce+3]===ce+7&&x[ce+4]==="jz"&&x[ce+5]==="pop"&&x[ce+6]===x[ce+1]){Q=U.pop(),U.push(R(Q,x[ce+1])),ce+=6;break}if(Y=U.at(-1),Y.type==="literal"||Y.type==="var"){U.push(Y);break}$=new P(k++,Y.min,Y.max),U[U.length-1]=$,U.push($),z.push(new w($,Y));break;case"roll":if(U.length<2||(V=U.pop(),Q=U.pop(),V.type!=="literal"||Q.type!=="literal")||(Z=V.number,H=Q.number,H<=0||!Number.isInteger(H)||!Number.isInteger(Z)||U.length<H))return null;if(Z=(Z%H+H)%H,Z===0)break;Array.prototype.push.apply(U,U.splice(U.length-H,H-Z));break;default:return null}}if(U.length!==J)return null;const ne=[];for(const ce of z){const se=new M;ce.visit(se),ne.push(se.toString())}for(let ce=0,se=U.length;ce<se;ce++){const K=U[ce],ee=new M;K.visit(ee);const ie=W[ce*2],oe=W[ce*2+1],le=[ee.toString()];ie>K.min&&(le.unshift("Math.max(",ie,", "),le.push(")")),oe<K.max&&(le.unshift("Math.min(",oe,", "),le.push(")")),le.unshift("dest[destOffset + ",ce,"] = "),le.push(";"),ne.push(le.join(""))}return ne.join(`
`)}}s.PostScriptCompiler=I},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PostScriptParser=s.PostScriptLexer=void 0;var n=u(2),c=u(130),C=u(131);class m{constructor(O){this.lexer=O,this.operators=[],this.token=null,this.prev=null}nextToken(){this.prev=this.token,this.token=this.lexer.getToken()}accept(O){return this.token.type===O?(this.nextToken(),!0):!1}expect(O){if(this.accept(O))return!0;throw new n.FormatError(`Unexpected symbol: found ${this.token.type} expected ${O}.`)}parse(){return this.nextToken(),this.expect(e.LBRACE),this.parseBlock(),this.expect(e.RBRACE),this.operators}parseBlock(){for(;;)if(this.accept(e.NUMBER))this.operators.push(this.prev.value);else if(this.accept(e.OPERATOR))this.operators.push(this.prev.value);else if(this.accept(e.LBRACE))this.parseCondition();else return}parseCondition(){const O=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(e.RBRACE),this.accept(e.IF))this.operators[O]=this.operators.length,this.operators[O+1]="jz";else if(this.accept(e.LBRACE)){const v=this.operators.length;this.operators.push(null,null);const b=this.operators.length;this.parseBlock(),this.expect(e.RBRACE),this.expect(e.IFELSE),this.operators[v]=this.operators.length,this.operators[v+1]="j",this.operators[O]=b,this.operators[O+1]="jz"}else throw new n.FormatError("PS Function: error parsing conditional.")}}s.PostScriptParser=m;const e={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5};class E{static get opCache(){return(0,n.shadow)(this,"opCache",Object.create(null))}constructor(O,v){this.type=O,this.value=v}static getOperator(O){const v=E.opCache[O];return v||(E.opCache[O]=new E(e.OPERATOR,O))}static get LBRACE(){return(0,n.shadow)(this,"LBRACE",new E(e.LBRACE,"{"))}static get RBRACE(){return(0,n.shadow)(this,"RBRACE",new E(e.RBRACE,"}"))}static get IF(){return(0,n.shadow)(this,"IF",new E(e.IF,"IF"))}static get IFELSE(){return(0,n.shadow)(this,"IFELSE",new E(e.IFELSE,"IFELSE"))}}class A{constructor(O){this.stream=O,this.nextChar(),this.strBuf=[]}nextChar(){return this.currentChar=this.stream.getByte()}getToken(){let O=!1,v=this.currentChar;for(;;){if(v<0)return c.EOF;if(O)(v===10||v===13)&&(O=!1);else if(v===37)O=!0;else if(!(0,C.isWhiteSpace)(v))break;v=this.nextChar()}switch(v|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new E(e.NUMBER,this.getNumber());case 123:return this.nextChar(),E.LBRACE;case 125:return this.nextChar(),E.RBRACE}const b=this.strBuf;for(b.length=0,b[0]=String.fromCharCode(v);(v=this.nextChar())>=0&&(v>=65&&v<=90||v>=97&&v<=122);)b.push(String.fromCharCode(v));const o=b.join("");switch(o.toLowerCase()){case"if":return E.IF;case"ifelse":return E.IFELSE;default:return E.getOperator(o)}}getNumber(){let O=this.currentChar;const v=this.strBuf;for(v.length=0,v[0]=String.fromCharCode(O);(O=this.nextChar())>=0&&(O>=48&&O<=57||O===45||O===46);)v.push(String.fromCharCode(O));const b=parseFloat(v.join(""));if(isNaN(b))throw new n.FormatError(`Invalid floating point number: ${b}`);return b}}s.PostScriptLexer=A},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.LocalTilingPatternCache=s.LocalImageCache=s.LocalGStateCache=s.LocalFunctionCache=s.LocalColorSpaceCache=s.GlobalImageCache=void 0;var n=u(2),c=u(130);class C{constructor(b){this.constructor===C&&(0,n.unreachable)("Cannot initialize BaseLocalCache."),this._onlyRefs=(b&&b.onlyRefs)===!0,this._onlyRefs||(this._nameRefMap=new Map,this._imageMap=new Map),this._imageCache=new c.RefSetCache}getByName(b){this._onlyRefs&&(0,n.unreachable)("Should not call `getByName` method.");const o=this._nameRefMap.get(b);return o?this.getByRef(o):this._imageMap.get(b)||null}getByRef(b){return this._imageCache.get(b)||null}set(b,o,T){(0,n.unreachable)("Abstract method `set` called.")}}class m extends C{set(b){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,T=arguments.length>2?arguments[2]:void 0;if(typeof b!="string")throw new Error('LocalImageCache.set - expected "name" argument.');if(o){if(this._imageCache.has(o))return;this._nameRefMap.set(b,o),this._imageCache.put(o,T);return}this._imageMap.has(b)||this._imageMap.set(b,T)}}s.LocalImageCache=m;class e extends C{set(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,T=arguments.length>2?arguments[2]:void 0;if(typeof b!="string"&&!o)throw new Error('LocalColorSpaceCache.set - expected "name" and/or "ref" argument.');if(o){if(this._imageCache.has(o))return;b!==null&&this._nameRefMap.set(b,o),this._imageCache.put(o,T);return}this._imageMap.has(b)||this._imageMap.set(b,T)}}s.LocalColorSpaceCache=e;class E extends C{constructor(b){super({onlyRefs:!0})}set(){let b=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;if(!b)throw new Error('LocalFunctionCache.set - expected "ref" argument.');this._imageCache.has(b)||this._imageCache.put(b,o)}}s.LocalFunctionCache=E;class A extends C{set(b){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,T=arguments.length>2?arguments[2]:void 0;if(typeof b!="string")throw new Error('LocalGStateCache.set - expected "name" argument.');if(o){if(this._imageCache.has(o))return;this._nameRefMap.set(b,o),this._imageCache.put(o,T);return}this._imageMap.has(b)||this._imageMap.set(b,T)}}s.LocalGStateCache=A;class B extends C{constructor(b){super({onlyRefs:!0})}set(){let b=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;if(!b)throw new Error('LocalTilingPatternCache.set - expected "ref" argument.');this._imageCache.has(b)||this._imageCache.put(b,o)}}s.LocalTilingPatternCache=B;class O{static get NUM_PAGES_THRESHOLD(){return(0,n.shadow)(this,"NUM_PAGES_THRESHOLD",2)}static get MIN_IMAGES_TO_CACHE(){return(0,n.shadow)(this,"MIN_IMAGES_TO_CACHE",10)}static get MAX_BYTE_SIZE(){return(0,n.shadow)(this,"MAX_BYTE_SIZE",4e7)}constructor(){this._refCache=new c.RefSetCache,this._imageCache=new c.RefSetCache}get _byteSize(){let b=0;for(const o of this._imageCache)b+=o.byteSize;return b}get _cacheLimitReached(){return!(this._imageCache.size<O.MIN_IMAGES_TO_CACHE||this._byteSize<O.MAX_BYTE_SIZE)}shouldCache(b,o){const T=this._refCache.get(b);return!((T?T.size+(T.has(o)?0:1):1)<O.NUM_PAGES_THRESHOLD||!this._imageCache.has(b)&&this._cacheLimitReached)}addPageIndex(b,o){let T=this._refCache.get(b);T||(T=new Set,this._refCache.put(b,T)),T.add(o)}addByteSize(b,o){const T=this._imageCache.get(b);!T||T.byteSize||(T.byteSize=o)}getData(b,o){const T=this._refCache.get(b);if(!T||T.size<O.NUM_PAGES_THRESHOLD)return null;const D=this._imageCache.get(b);return D?(T.add(o),D):null}setData(b,o){if(!this._refCache.has(b))throw new Error('GlobalImageCache.setData - expected "addPageIndex" to have been called.');if(!this._imageCache.has(b)){if(this._cacheLimitReached){(0,n.warn)("GlobalImageCache.setData - cache limit reached.");return}this._imageCache.put(b,o)}}clear(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)||this._refCache.clear(),this._imageCache.clear()}}s.GlobalImageCache=O},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.bidi=o;var n=u(2);const c=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],C=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function m(T){return(T&1)!==0}function e(T){return(T&1)===0}function E(T,D,_){let y,P;for(y=D,P=T.length;y<P;++y)if(T[y]!==_)return y;return y}function A(T,D,_,y){for(let P=D;P<_;++P)T[P]=y}function B(T,D,_){for(let y=D,P=_-1;y<P;++y,--P){const w=T[y];T[y]=T[P],T[P]=w}}function O(T,D){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,y="ltr";return _?y="ttb":D||(y="rtl"),{str:T,dir:y}}const v=[],b=[];function o(T){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,y=!0;const P=T.length;if(P===0||_)return O(T,y,_);v.length=P,b.length=P;let w=0,M,q;for(M=0;M<P;++M){v[M]=T.charAt(M);const z=T.charCodeAt(M);let re="L";z<=255?re=c[z]:1424<=z&&z<=1524?re="R":1536<=z&&z<=1791?(re=C[z&255],re||(0,n.warn)("Bidi: invalid Unicode character "+z.toString(16))):1792<=z&&z<=2220&&(re="AL"),(re==="R"||re==="AL"||re==="AN")&&w++,b[M]=re}if(w===0)return y=!0,O(T,y);D===-1&&(w/P<.3&&P>4?(y=!0,D=0):(y=!1,D=1));const F=[];for(M=0;M<P;++M)F[M]=D;const G=m(D)?"R":"L",R=G,I=R;let L=R;for(M=0;M<P;++M)b[M]==="NSM"?b[M]=L:L=b[M];L=R;let x;for(M=0;M<P;++M)x=b[M],x==="EN"?b[M]=L==="AL"?"AN":"EN":(x==="R"||x==="L"||x==="AL")&&(L=x);for(M=0;M<P;++M)x=b[M],x==="AL"&&(b[M]="R");for(M=1;M<P-1;++M)b[M]==="ES"&&b[M-1]==="EN"&&b[M+1]==="EN"&&(b[M]="EN"),b[M]==="CS"&&(b[M-1]==="EN"||b[M-1]==="AN")&&b[M+1]===b[M-1]&&(b[M]=b[M-1]);for(M=0;M<P;++M)if(b[M]==="EN"){for(let z=M-1;z>=0&&b[z]==="ET";--z)b[z]="EN";for(let z=M+1;z<P&&b[z]==="ET";++z)b[z]="EN"}for(M=0;M<P;++M)x=b[M],(x==="WS"||x==="ES"||x==="ET"||x==="CS")&&(b[M]="ON");for(L=R,M=0;M<P;++M)x=b[M],x==="EN"?b[M]=L==="L"?"L":"EN":(x==="R"||x==="L")&&(L=x);for(M=0;M<P;++M)if(b[M]==="ON"){const z=E(b,M+1,"ON");let re=R;M>0&&(re=b[M-1]);let J=I;z+1<P&&(J=b[z+1]),re!=="L"&&(re="R"),J!=="L"&&(J="R"),re===J&&A(b,M,z,re),M=z-1}for(M=0;M<P;++M)b[M]==="ON"&&(b[M]=G);for(M=0;M<P;++M)x=b[M],e(F[M])?x==="R"?F[M]+=1:(x==="AN"||x==="EN")&&(F[M]+=2):(x==="L"||x==="AN"||x==="EN")&&(F[M]+=1);let S=-1,W=99,U;for(M=0,q=F.length;M<q;++M)U=F[M],S<U&&(S=U),W>U&&m(U)&&(W=U);for(U=S;U>=W;--U){let z=-1;for(M=0,q=F.length;M<q;++M)F[M]<U?z>=0&&(B(v,z,M),z=-1):z<0&&(z=M);z>=0&&B(v,z,F.length)}for(M=0,q=v.length;M<q;++M){const z=v[M];(z==="<"||z===">")&&(v[M]="")}return O(v.join(""),y)}},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MurmurHash3_64=void 0;var n=u(2);const c=3285377520,C=4294901760,m=65535;class e{constructor(A){this.h1=A?A&4294967295:c,this.h2=A?A&4294967295:c}update(A){let B,O;if(typeof A=="string"){B=new Uint8Array(A.length*2),O=0;for(let F=0,G=A.length;F<G;F++){const R=A.charCodeAt(F);R<=255?B[O++]=R:(B[O++]=R>>>8,B[O++]=R&255)}}else if((0,n.isArrayBuffer)(A))B=A.slice(),O=B.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const v=O>>2,b=O-v*4,o=new Uint32Array(B.buffer,0,v);let T=0,D=0,_=this.h1,y=this.h2;const P=3432918353,w=461845907,M=P&m,q=w&m;for(let F=0;F<v;F++)F&1?(T=o[F],T=T*P&C|T*M&m,T=T<<15|T>>>17,T=T*w&C|T*q&m,_^=T,_=_<<13|_>>>19,_=_*5+3864292196):(D=o[F],D=D*P&C|D*M&m,D=D<<15|D>>>17,D=D*w&C|D*q&m,y^=D,y=y<<13|y>>>19,y=y*5+3864292196);switch(T=0,b){case 3:T^=B[v*4+2]<<16;case 2:T^=B[v*4+1]<<8;case 1:T^=B[v*4],T=T*P&C|T*M&m,T=T<<15|T>>>17,T=T*w&C|T*q&m,v&1?_^=T:y^=T}this.h1=_,this.h2=y}hexdigest(){let A=this.h1,B=this.h2;A^=B>>>1,A=A*3981806797&C|A*36045&m,B=B*4283543511&C|((B<<16|A>>>16)*2950163797&C)>>>16,A^=B>>>1,A=A*444984403&C|A*60499&m,B=B*3301882366&C|((B<<16|A>>>16)*3120437893&C)>>>16,A^=B>>>1;const O=(A>>>0).toString(16),v=(B>>>0).toString(16);return O.padStart(8,"0")+v.padStart(8,"0")}}s.MurmurHash3_64=e},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.OperatorList=void 0;var n=u(2);function c(A,B,O,v,b){let o=A;for(let T=0,D=B.length-1;T<D;T++){const _=B[T];o=o[_]||(o[_]=[])}o[B.at(-1)]={checkFn:O,iterateFn:v,processFn:b}}const C=[];c(C,[n.OPS.save,n.OPS.transform,n.OPS.paintInlineImageXObject,n.OPS.restore],null,function(B,O){const v=B.fnArray,b=B.iCurr-3,o=(O-b)%4;switch(o){case 0:return v[O]===n.OPS.save;case 1:return v[O]===n.OPS.transform;case 2:return v[O]===n.OPS.paintInlineImageXObject;case 3:return v[O]===n.OPS.restore}throw new Error(`iterateInlineImageGroup - invalid pos: ${o}`)},function(B,O){const D=B.fnArray,_=B.argsArray,y=B.iCurr,P=y-3,w=y-2,M=y-1,q=Math.min(Math.floor((O-P)/4),200);if(q<10)return O-(O-P)%4;let F=0;const G=[];let R=0,I=1,L=1;for(let z=0;z<q;z++){const re=_[w+(z<<2)],J=_[M+(z<<2)][0];I+J.width>1e3&&(F=Math.max(F,I),L+=R+2,I=0,R=0),G.push({transform:re,x:I,y:L,w:J.width,h:J.height}),I+=J.width+2,R=Math.max(R,J.height)}const x=Math.max(F,I)+1,S=L+R+1,W=new Uint8Array(x*S*4),U=x<<2;for(let z=0;z<q;z++){const re=_[M+(z<<2)][0].data,J=G[z].w<<2;let k=0,H=G[z].x+G[z].y*x<<2;W.set(re.subarray(0,J),H-U);for(let Z=0,Q=G[z].h;Z<Q;Z++)W.set(re.subarray(k,k+J),H),k+=J,H+=U;for(W.set(re.subarray(k-J,k),H);H>=0;)re[H-4]=re[H],re[H-3]=re[H+1],re[H-2]=re[H+2],re[H-1]=re[H+3],re[H+J]=re[H+J-4],re[H+J+1]=re[H+J-3],re[H+J+2]=re[H+J-2],re[H+J+3]=re[H+J-1],H-=U}return D.splice(P,q*4,n.OPS.paintInlineImageXObjectGroup),_.splice(P,q*4,[{width:x,height:S,kind:n.ImageKind.RGBA_32BPP,data:W},G]),P+1}),c(C,[n.OPS.save,n.OPS.transform,n.OPS.paintImageMaskXObject,n.OPS.restore],null,function(B,O){const v=B.fnArray,b=B.iCurr-3,o=(O-b)%4;switch(o){case 0:return v[O]===n.OPS.save;case 1:return v[O]===n.OPS.transform;case 2:return v[O]===n.OPS.paintImageMaskXObject;case 3:return v[O]===n.OPS.restore}throw new Error(`iterateImageMaskGroup - invalid pos: ${o}`)},function(B,O){const T=B.fnArray,D=B.argsArray,_=B.iCurr,y=_-3,P=_-2,w=_-1;let M=Math.floor((O-y)/4);if(M<10)return O-(O-y)%4;let q=!1,F,G;const R=D[w][0],I=D[P][0],L=D[P][1],x=D[P][2],S=D[P][3];if(L===x){q=!0,F=P+4;let W=w+4;for(let U=1;U<M;U++,F+=4,W+=4)if(G=D[F],D[W][0]!==R||G[0]!==I||G[1]!==L||G[2]!==x||G[3]!==S){U<10?q=!1:M=U;break}}if(q){M=Math.min(M,1e3);const W=new Float32Array(M*2);F=P;for(let U=0;U<M;U++,F+=4)G=D[F],W[U<<1]=G[4],W[(U<<1)+1]=G[5];T.splice(y,M*4,n.OPS.paintImageMaskXObjectRepeat),D.splice(y,M*4,[R,I,L,x,S,W])}else{M=Math.min(M,100);const W=[];for(let U=0;U<M;U++){G=D[P+(U<<2)];const z=D[w+(U<<2)][0];W.push({data:z.data,width:z.width,height:z.height,interpolate:z.interpolate,count:z.count,transform:G})}T.splice(y,M*4,n.OPS.paintImageMaskXObjectGroup),D.splice(y,M*4,[W])}return y+1}),c(C,[n.OPS.save,n.OPS.transform,n.OPS.paintImageXObject,n.OPS.restore],function(A){const B=A.argsArray,O=A.iCurr-2;return B[O][1]===0&&B[O][2]===0},function(B,O){const v=B.fnArray,b=B.argsArray,o=B.iCurr-3,T=(O-o)%4;switch(T){case 0:return v[O]===n.OPS.save;case 1:if(v[O]!==n.OPS.transform)return!1;const D=B.iCurr-2,_=b[D][0],y=b[D][3];return!(b[O][0]!==_||b[O][1]!==0||b[O][2]!==0||b[O][3]!==y);case 2:if(v[O]!==n.OPS.paintImageXObject)return!1;const P=B.iCurr-1,w=b[P][0];return b[O][0]===w;case 3:return v[O]===n.OPS.restore}throw new Error(`iterateImageGroup - invalid pos: ${T}`)},function(A,B){const b=A.fnArray,o=A.argsArray,T=A.iCurr,D=T-3,_=T-2,y=T-1,P=o[y][0],w=o[_][0],M=o[_][3],q=Math.min(Math.floor((B-D)/4),1e3);if(q<3)return B-(B-D)%4;const F=new Float32Array(q*2);let G=_;for(let I=0;I<q;I++,G+=4){const L=o[G];F[I<<1]=L[4],F[(I<<1)+1]=L[5]}const R=[P,w,M,F];return b.splice(D,q*4,n.OPS.paintImageXObjectRepeat),o.splice(D,q*4,R),D+1}),c(C,[n.OPS.beginText,n.OPS.setFont,n.OPS.setTextMatrix,n.OPS.showText,n.OPS.endText],null,function(B,O){const v=B.fnArray,b=B.argsArray,o=B.iCurr-4,T=(O-o)%5;switch(T){case 0:return v[O]===n.OPS.beginText;case 1:return v[O]===n.OPS.setFont;case 2:return v[O]===n.OPS.setTextMatrix;case 3:if(v[O]!==n.OPS.showText)return!1;const D=B.iCurr-3,_=b[D][0],y=b[D][1];return!(b[O][0]!==_||b[O][1]!==y);case 4:return v[O]===n.OPS.endText}throw new Error(`iterateShowTextGroup - invalid pos: ${T}`)},function(A,B){const b=A.fnArray,o=A.argsArray,T=A.iCurr,D=T-4,_=T-3,y=T-2,P=T-1,w=T,M=o[_][0],q=o[_][1];let F=Math.min(Math.floor((B-D)/5),1e3);if(F<3)return B-(B-D)%5;let G=D;D>=4&&b[D-4]===b[_]&&b[D-3]===b[y]&&b[D-2]===b[P]&&b[D-1]===b[w]&&o[D-4][0]===M&&o[D-4][1]===q&&(F++,G-=5);let R=G+4;for(let I=1;I<F;I++)b.splice(R,3),o.splice(R,3),R+=2;return R+1});class m{constructor(B){this.queue=B}_optimize(){}push(B,O){this.queue.fnArray.push(B),this.queue.argsArray.push(O),this._optimize()}flush(){}reset(){}}class e extends m{constructor(B){super(B),this.state=null,this.context={iCurr:0,fnArray:B.fnArray,argsArray:B.argsArray},this.match=null,this.lastProcessed=0}_optimize(){const B=this.queue.fnArray;let O=this.lastProcessed,v=B.length,b=this.state,o=this.match;if(!b&&!o&&O+1===v&&!C[B[O]]){this.lastProcessed=v;return}const T=this.context;for(;O<v;){if(o){if((0,o.iterateFn)(T,O)){O++;continue}if(O=(0,o.processFn)(T,O+1),v=B.length,o=null,b=null,O>=v)break}if(b=(b||C)[B[O]],!b||Array.isArray(b)){O++;continue}if(T.iCurr=O,O++,b.checkFn&&!(0,b.checkFn)(T)){b=null;continue}o=b,b=null}this.state=b,this.match=o,this.lastProcessed=O}flush(){for(;this.match;){const B=this.queue.fnArray.length;this.lastProcessed=(0,this.match.processFn)(this.context,B),this.match=null,this.state=null,this._optimize()}}reset(){this.state=null,this.match=null,this.lastProcessed=0}}class E{static get CHUNK_SIZE(){return(0,n.shadow)(this,"CHUNK_SIZE",1e3)}static get CHUNK_SIZE_ABOUT(){return(0,n.shadow)(this,"CHUNK_SIZE_ABOUT",this.CHUNK_SIZE-5)}constructor(){let B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,O=arguments.length>1?arguments[1]:void 0;this._streamSink=O,this.fnArray=[],this.argsArray=[],O&&!(B&n.RenderingIntentFlag.OPLIST)?this.optimizer=new e(this):this.optimizer=new m(this),this.dependencies=new Set,this._totalLength=0,this.weight=0,this._resolved=O?null:Promise.resolve()}get length(){return this.argsArray.length}get ready(){return this._resolved||this._streamSink.ready}get totalLength(){return this._totalLength+this.length}addOp(B,O){this.optimizer.push(B,O),this.weight++,this._streamSink&&(this.weight>=E.CHUNK_SIZE?this.flush():this.weight>=E.CHUNK_SIZE_ABOUT&&(B===n.OPS.restore||B===n.OPS.endText)&&this.flush())}addImageOps(B,O,v){v!==void 0&&this.addOp(n.OPS.beginMarkedContentProps,["OC",v]),this.addOp(B,O),v!==void 0&&this.addOp(n.OPS.endMarkedContent,[])}addDependency(B){this.dependencies.has(B)||(this.dependencies.add(B),this.addOp(n.OPS.dependency,[B]))}addDependencies(B){for(const O of B)this.addDependency(O)}addOpList(B){if(!(B instanceof E)){(0,n.warn)('addOpList - ignoring invalid "opList" parameter.');return}for(const O of B.dependencies)this.dependencies.add(O);for(let O=0,v=B.length;O<v;O++)this.addOp(B.fnArray[O],B.argsArray[O])}getIR(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}}get _transfers(){const B=[],{fnArray:O,argsArray:v,length:b}=this;for(let o=0;o<b;o++)switch(O[o]){case n.OPS.paintInlineImageXObject:case n.OPS.paintInlineImageXObjectGroup:case n.OPS.paintImageMaskXObject:const T=v[o][0];!T.cached&&T.data&&T.data.buffer instanceof ArrayBuffer&&B.push(T.data.buffer);break}return B}flush(){let B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.optimizer.flush();const v=this.length;this._totalLength+=v,this._streamSink.enqueue({fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:B,separateAnnots:O,length:v},1,this._transfers),this.dependencies.clear(),this.fnArray.length=0,this.argsArray.length=0,this.weight=0,this.optimizer.reset()}}s.OperatorList=E},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFImage=void 0;var n=u(2),c=u(189),C=u(132),m=u(139),e=u(144),E=u(152),A=u(155),B=u(130);function O(o,T,D,_){return o=T+o*D,o<0?o=0:o>_&&(o=_),o}function v(o,T,D,_,y,P){const w=y*P;let M;T<=8?M=new Uint8Array(w):T<=16?M=new Uint16Array(w):M=new Uint32Array(w);const q=D/y,F=_/P;let G,R,I,L=0,x;const S=new Uint16Array(y),W=D;for(G=0;G<y;G++)S[G]=Math.floor(G*q);for(G=0;G<P;G++)for(I=Math.floor(G*F)*W,R=0;R<y;R++)x=I+S[R],M[L++]=o[x];return M}class b{constructor(T){let{xref:D,res:_,image:y,isInline:P=!1,smask:w=null,mask:M=null,isMask:q=!1,pdfFunctionFactory:F,localColorSpaceCache:G}=T;this.image=y;const R=y.dict,I=R.get("F","Filter");let L;if(I instanceof B.Name)L=I.name;else if(Array.isArray(I)){const U=D.fetchIfRef(I[0]);U instanceof B.Name&&(L=U.name)}switch(L){case"JPXDecode":const U=new A.JpxImage;U.parseImageProperties(y.stream),y.stream.reset(),y.width=U.width,y.height=U.height,y.bitsPerComponent=U.bitsPerComponent,y.numComps=U.componentsCount;break;case"JBIG2Decode":y.bitsPerComponent=1,y.numComps=1;break}let x=R.get("W","Width"),S=R.get("H","Height");if(Number.isInteger(y.width)&&y.width>0&&Number.isInteger(y.height)&&y.height>0&&(y.width!==x||y.height!==S)&&((0,n.warn)("PDFImage - using the Width/Height of the image data, rather than the image dictionary."),x=y.width,S=y.height),x<1||S<1)throw new n.FormatError(`Invalid image width: ${x} or height: ${S}`);this.width=x,this.height=S,this.interpolate=R.get("I","Interpolate"),this.imageMask=R.get("IM","ImageMask")||!1,this.matte=R.get("Matte")||!1;let W=y.bitsPerComponent;if(!W&&(W=R.get("BPC","BitsPerComponent"),!W))if(this.imageMask)W=1;else throw new n.FormatError(`Bits per component missing in image: ${this.imageMask}`);if(this.bpc=W,!this.imageMask){let U=R.getRaw("CS")||R.getRaw("ColorSpace");if(!U)switch((0,n.info)("JPX images (which do not require color spaces)"),y.numComps){case 1:U=B.Name.get("DeviceGray");break;case 3:U=B.Name.get("DeviceRGB");break;case 4:U=B.Name.get("DeviceCMYK");break;default:throw new Error(`JPX images with ${y.numComps} color components not supported.`)}this.colorSpace=m.ColorSpace.parse({cs:U,xref:D,resources:P?_:null,pdfFunctionFactory:F,localColorSpaceCache:G}),this.numComps=this.colorSpace.numComps}if(this.decode=R.getArray("D","Decode"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,W)||q&&!m.ColorSpace.isDefaultDecode(this.decode,1))){this.needsDecode=!0;const U=(1<<W)-1;this.decodeCoefficients=[],this.decodeAddends=[];const z=this.colorSpace&&this.colorSpace.name==="Indexed";for(let re=0,J=0;re<this.decode.length;re+=2,++J){const k=this.decode[re],H=this.decode[re+1];this.decodeCoefficients[J]=z?(H-k)/U:H-k,this.decodeAddends[J]=z?k:U*k}}w?this.smask=new b({xref:D,res:_,image:w,isInline:P,pdfFunctionFactory:F,localColorSpaceCache:G}):M&&(M instanceof C.BaseStream?M.dict.get("IM","ImageMask")?this.mask=new b({xref:D,res:_,image:M,isInline:P,isMask:!0,pdfFunctionFactory:F,localColorSpaceCache:G}):(0,n.warn)("Ignoring /Mask in image without /ImageMask."):this.mask=M)}static async buildImage(T){let{xref:D,res:_,image:y,isInline:P=!1,pdfFunctionFactory:w,localColorSpaceCache:M}=T;const q=y;let F=null,G=null;const R=y.dict.get("SMask"),I=y.dict.get("Mask");return R?R instanceof C.BaseStream?F=R:(0,n.warn)("Unsupported /SMask format."):I&&(I instanceof C.BaseStream||Array.isArray(I)?G=I:(0,n.warn)("Unsupported /Mask format.")),new b({xref:D,res:_,image:q,isInline:P,smask:F,mask:G,pdfFunctionFactory:w,localColorSpaceCache:M})}static createRawMask(T){let{imgArray:D,width:_,height:y,imageIsFromDecodeStream:P,inverseDecode:w,interpolate:M}=T;const q=(_+7>>3)*y,F=D.byteLength,G=q===F;let R,I;if(P&&(!w||G)?R=D:w?(R=new Uint8Array(q),R.set(D),R.fill(255,F)):R=new Uint8Array(D),w)for(I=0;I<F;I++)R[I]^=255;return{data:R,width:_,height:y,interpolate:M}}static createMask(T){let{imgArray:D,width:_,height:y,imageIsFromDecodeStream:P,inverseDecode:w,interpolate:M}=T;const q=_===1&&y===1&&w===(D.length===0||!!(D[0]&128));if(q)return{isSingleOpaquePixel:q};if(n.FeatureTest.isOffscreenCanvasSupported){const F=new OffscreenCanvas(_,y),G=F.getContext("2d"),R=G.createImageData(_,y);(0,c.applyMaskImageData)({src:D,dest:R.data,width:_,height:y,inverseDecode:w}),G.putImageData(R,0,0);const I=F.transferToImageBitmap();return{data:null,width:_,height:y,interpolate:M,bitmap:I}}return this.createRawMask({imgArray:D,width:_,height:y,inverseDecode:w,imageIsFromDecodeStream:P,interpolate:M})}get drawWidth(){return Math.max(this.width,this.smask&&this.smask.width||0,this.mask&&this.mask.width||0)}get drawHeight(){return Math.max(this.height,this.smask&&this.smask.height||0,this.mask&&this.mask.height||0)}decodeBuffer(T){const D=this.bpc,_=this.numComps,y=this.decodeAddends,P=this.decodeCoefficients,w=(1<<D)-1;let M,q;if(D===1){for(M=0,q=T.length;M<q;M++)T[M]=+!T[M];return}let F=0;for(M=0,q=this.width*this.height;M<q;M++)for(let G=0;G<_;G++)T[F]=O(T[F],y[G],P[G],w),F++}getComponents(T){const D=this.bpc;if(D===8)return T;const _=this.width,y=this.height,P=this.numComps,w=_*y*P;let M=0,q;D<=8?q=new Uint8Array(w):D<=16?q=new Uint16Array(w):q=new Uint32Array(w);const F=_*P,G=(1<<D)-1;let R=0,I,L;if(D===1){let x,S,W;for(let U=0;U<y;U++){for(S=R+(F&-8),W=R+F;R<S;)L=T[M++],q[R]=L>>7&1,q[R+1]=L>>6&1,q[R+2]=L>>5&1,q[R+3]=L>>4&1,q[R+4]=L>>3&1,q[R+5]=L>>2&1,q[R+6]=L>>1&1,q[R+7]=L&1,R+=8;if(R<W)for(L=T[M++],x=128;R<W;)q[R++]=+!!(L&x),x>>=1}}else{let x=0;for(L=0,R=0,I=w;R<I;++R){for(R%F===0&&(L=0,x=0);x<D;)L=L<<8|T[M++],x+=8;const S=x-D;let W=L>>S;W<0?W=0:W>G&&(W=G),q[R]=W,L&=(1<<S)-1,x=S}}return q}fillOpacity(T,D,_,y,P){const w=this.smask,M=this.mask;let q,F,G,R,I,L;if(w)F=w.width,G=w.height,q=new Uint8ClampedArray(F*G),w.fillGrayBuffer(q),(F!==D||G!==_)&&(q=v(q,w.bpc,F,G,D,_));else if(M)if(M instanceof b){for(F=M.width,G=M.height,q=new Uint8ClampedArray(F*G),M.numComps=1,M.fillGrayBuffer(q),R=0,I=F*G;R<I;++R)q[R]=255-q[R];(F!==D||G!==_)&&(q=v(q,M.bpc,F,G,D,_))}else if(Array.isArray(M)){q=new Uint8ClampedArray(D*_);const x=this.numComps;for(R=0,I=D*_;R<I;++R){let S=0;const W=R*x;for(L=0;L<x;++L){const U=P[W+L],z=L*2;if(U<M[z]||U>M[z+1]){S=255;break}}q[R]=S}}else throw new n.FormatError("Unknown mask format.");if(q)for(R=0,L=3,I=D*y;R<I;++R,L+=4)T[L]=q[R];else for(R=0,L=3,I=D*y;R<I;++R,L+=4)T[L]=255}undoPreblend(T,D,_){const y=this.smask&&this.smask.matte;if(!y)return;const P=this.colorSpace.getRgb(y,0),w=P[0],M=P[1],q=P[2],F=D*_*4;for(let G=0;G<F;G+=4){const R=T[G+3];if(R===0){T[G]=255,T[G+1]=255,T[G+2]=255;continue}const I=255/R;T[G]=(T[G]-w)*I+w,T[G+1]=(T[G+1]-M)*I+M,T[G+2]=(T[G+2]-q)*I+q}}createImageData(){let T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const D=this.drawWidth,_=this.drawHeight,y={width:D,height:_,interpolate:this.interpolate,kind:0,data:null},P=this.numComps,w=this.width,M=this.height,q=this.bpc,F=w*P*q+7>>3;if(!T){let S;if(this.colorSpace.name==="DeviceGray"&&q===1?S=n.ImageKind.GRAYSCALE_1BPP:this.colorSpace.name==="DeviceRGB"&&q===8&&!this.needsDecode&&(S=n.ImageKind.RGB_24BPP),S&&!this.smask&&!this.mask&&D===w&&_===M){if(y.kind=S,y.data=this.getImageBytes(M*F,{}),this.needsDecode){(0,n.assert)(S===n.ImageKind.GRAYSCALE_1BPP,"PDFImage.createImageData: The image must be grayscale.");const W=y.data;for(let U=0,z=W.length;U<z;U++)W[U]^=255}return y}if(this.image instanceof E.JpegStream&&!this.smask&&!this.mask){let W=M*F;switch(this.colorSpace.name){case"DeviceGray":W*=3;case"DeviceRGB":case"DeviceCMYK":return y.kind=n.ImageKind.RGB_24BPP,y.data=this.getImageBytes(W,{drawWidth:D,drawHeight:_,forceRGB:!0}),y}}}const G=this.getImageBytes(M*F,{internal:!0}),R=0|G.length/F*_/M,I=this.getComponents(G);let L,x;return!T&&!this.smask&&!this.mask?(y.kind=n.ImageKind.RGB_24BPP,y.data=new Uint8ClampedArray(D*_*3),L=0,x=!1):(y.kind=n.ImageKind.RGBA_32BPP,y.data=new Uint8ClampedArray(D*_*4),L=1,x=!0,this.fillOpacity(y.data,D,_,R,I)),this.needsDecode&&this.decodeBuffer(I),this.colorSpace.fillRgb(y.data,w,M,D,_,R,q,I,L),x&&this.undoPreblend(y.data,D,R),y}fillGrayBuffer(T){const D=this.numComps;if(D!==1)throw new n.FormatError(`Reading gray scale from a color image: ${D}`);const _=this.width,y=this.height,P=this.bpc,w=_*D*P+7>>3,M=this.getImageBytes(y*w,{internal:!0}),q=this.getComponents(M);let F,G;if(P===1){if(G=_*y,this.needsDecode)for(F=0;F<G;++F)T[F]=q[F]-1&255;else for(F=0;F<G;++F)T[F]=-q[F]&255;return}this.needsDecode&&this.decodeBuffer(q),G=_*y;const R=255/((1<<P)-1);for(F=0;F<G;++F)T[F]=R*q[F]}getImageBytes(T,D){let{drawWidth:_,drawHeight:y,forceRGB:P=!1,internal:w=!1}=D;this.image.reset(),this.image.drawWidth=_||this.width,this.image.drawHeight=y||this.height,this.image.forceRGB=!!P;const M=this.image.getBytes(T);return w||this.image instanceof e.DecodeStream?M:((0,n.assert)(M instanceof Uint8Array,'PDFImage.getImageBytes: Unsupported "imageBytes" type.'),new Uint8Array(M))}}s.PDFImage=b},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.applyMaskImageData=c;var n=u(2);function c(C){let{src:m,srcPos:e=0,dest:E,destPos:A=0,width:B,height:O,inverseDecode:v=!1}=C;const b=n.FeatureTest.isLittleEndian?4278190080:255,[o,T]=v?[0,b]:[b,0],D=B>>3,_=B&7,y=m.length;E=new Uint32Array(E.buffer);for(let P=0;P<O;P++){for(const M=e+D;e<M;e++){const q=e<y?m[e]:255;E[A++]=q&128?T:o,E[A++]=q&64?T:o,E[A++]=q&32?T:o,E[A++]=q&16?T:o,E[A++]=q&8?T:o,E[A++]=q&4?T:o,E[A++]=q&2?T:o,E[A++]=q&1?T:o}if(_===0)continue;const w=e<y?m[e++]:255;for(let M=0;M<_;M++)E[A++]=w&1<<7-M?T:o}return{srcPos:e,destPos:A}}},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.incrementalUpdate=P,s.writeDict=B,s.writeObject=A;var n=u(2),c=u(130),C=u(131),m=u(191),e=u(132),E=u(192);function A(w,M,q,F){q.push(`${w.num} ${w.gen} obj
`),M instanceof c.Dict?B(M,q,F):M instanceof e.BaseStream&&O(M,q,F),q.push(`
endobj
`)}function B(w,M,q){M.push("<<");for(const F of w.getKeys())M.push(` /${(0,C.escapePDFName)(F)} `),b(w.getRaw(F),M,q);M.push(">>")}function O(w,M,q){B(w.dict,M,q),M.push(` stream
`);let F=w.getString();q!==null&&(F=q.encryptString(F)),M.push(F,`
endstream
`)}function v(w,M,q){M.push("[");let F=!0;for(const G of w)F?F=!1:M.push(" "),b(G,M,q);M.push("]")}function b(w,M,q){w instanceof c.Name?M.push(`/${(0,C.escapePDFName)(w.name)}`):w instanceof c.Ref?M.push(`${w.num} ${w.gen} R`):Array.isArray(w)?v(w,M,q):typeof w=="string"?(q!==null&&(w=q.encryptString(w)),M.push(`(${(0,n.escapeString)(w)})`)):typeof w=="number"?M.push((0,C.numberToString)(w)):typeof w=="boolean"?M.push(w.toString()):w instanceof c.Dict?B(w,M,q):w instanceof e.BaseStream?O(w,M,q):w===null?M.push("null"):(0,n.warn)(`Unhandled value in writer: ${typeof w}, please file a bug.`)}function o(w,M,q,F){for(let G=M+q-1;G>q-1;G--)F[G]=w&255,w>>=8;return q+M}function T(w,M,q){for(let F=0,G=w.length;F<G;F++)q[M+F]=w.charCodeAt(F)&255}function D(w,M){const q=Math.floor(Date.now()/1e3),F=M.filename||"",G=[q.toString(),F,w.toString()];let R=G.reduce((x,S)=>x+S.length,0);for(const x of Object.values(M.info))G.push(x),R+=x.length;const I=new Uint8Array(R);let L=0;for(const x of G)T(x,L,I),L+=x.length;return(0,n.bytesToString)((0,E.calculateMD5)(I))}function _(w,M){const q=new m.SimpleXMLParser({hasAttributes:!0}).parseFromString(w);for(const{xfa:G}of M){if(!G)continue;const{path:R,value:I}=G;if(!R)continue;const L=q.documentElement.searchNode((0,C.parseXFAPath)(R),0);L?Array.isArray(I)?L.childNodes=I.map(x=>new m.SimpleDOMNode("value",x)):L.childNodes=[new m.SimpleDOMNode("#text",I)]:(0,n.warn)(`Node not found for path: ${R}`)}const F=[];return q.documentElement.dump(F),F.join("")}function y(w){let{xfaData:M,xfaDatasetsRef:q,hasXfaDatasetsEntry:F,acroFormRef:G,acroForm:R,newRefs:I,xref:L,xrefInfo:x}=w;if(L===null)return;if(!F){if(!G){(0,n.warn)("XFA - Cannot save it");return}const U=R.get("XFA"),z=U.slice();z.splice(2,0,"datasets"),z.splice(3,0,q),R.set("XFA",z);const re=L.encrypt;let J=null;re&&(J=re.createCipherTransform(G.num,G.gen));const k=[`${G.num} ${G.gen} obj
`];B(R,k,J),k.push(`
`),R.set("XFA",U),I.push({ref:G,data:k.join("")})}if(M===null){const U=L.fetchIfRef(q);M=_(U.getString(),I)}const S=L.encrypt;S&&(M=S.createCipherTransform(q.num,q.gen).encryptString(M));const W=`${q.num} ${q.gen} obj
<< /Type /EmbeddedFile /Length ${M.length}>>
stream
`+M+`
endstream
endobj
`;I.push({ref:q,data:W})}function P(w){let{originalData:M,xrefInfo:q,newRefs:F,xref:G=null,hasXfa:R=!1,xfaDatasetsRef:I=null,hasXfaDatasetsEntry:L=!1,acroFormRef:x=null,acroForm:S=null,xfaData:W=null}=w;R&&y({xfaData:W,xfaDatasetsRef:I,hasXfaDatasetsEntry:L,acroFormRef:x,acroForm:S,newRefs:F,xref:G,xrefInfo:q});const U=new c.Dict(null),z=q.newRef;let re,J;const k=M.at(-1);k===10||k===13?(re=[],J=M.length):(re=[`
`],J=M.length+1),U.set("Size",z.num+1),U.set("Prev",q.startXRef),U.set("Type",c.Name.get("XRef")),q.rootRef!==null&&U.set("Root",q.rootRef),q.infoRef!==null&&U.set("Info",q.infoRef),q.encryptRef!==null&&U.set("Encrypt",q.encryptRef),F.push({ref:z,data:""}),F=F.sort((K,ee)=>K.ref.num-ee.ref.num);const H=[[0,1,65535]],Z=[0,1];let Q=0;for(const{ref:K,data:ee}of F)Q=Math.max(Q,J),H.push([1,J,Math.min(K.gen,65535)]),J+=ee.length,Z.push(K.num,1),re.push(ee);if(U.set("Index",Z),Array.isArray(q.fileIds)&&q.fileIds.length>0){const K=D(J,q);U.set("ID",[q.fileIds[0],K])}const Y=[1,Math.ceil(Math.log2(Q)/8),2],$=(Y[0]+Y[1]+Y[2])*H.length;U.set("W",Y),U.set("Length",$),re.push(`${z.num} ${z.gen} obj
`),B(U,re,null),re.push(` stream
`);const X=re.reduce((K,ee)=>K+ee.length,0),ne=`
endstream
endobj
startxref
${J}
%%EOF
`,ce=new Uint8Array(M.length+X+$+ne.length);ce.set(M);let se=M.length;for(const K of re)T(K,se,ce),se+=K.length;for(const[K,ee,ie]of H)se=o(K,Y[0],se,ce),se=o(ee,Y[1],se,ce),se=o(ie,Y[2],se,ce);return T(ne,se,ce),ce}},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XMLParserErrorCode=s.XMLParserBase=s.SimpleXMLParser=s.SimpleDOMNode=void 0;var n=u(131);const c={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};s.XMLParserErrorCode=c;function C(B,O){const v=B[O];return v===" "||v===`
`||v==="\r"||v==="	"}function m(B){for(let O=0,v=B.length;O<v;O++)if(!C(B,O))return!1;return!0}class e{_resolveEntities(O){return O.replace(/&([^;]+);/g,(v,b)=>{if(b.substring(0,2)==="#x")return String.fromCodePoint(parseInt(b.substring(2),16));if(b.substring(0,1)==="#")return String.fromCodePoint(parseInt(b.substring(1),10));switch(b){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"';case"apos":return"'"}return this.onResolveEntity(b)})}_parseContent(O,v){const b=[];let o=v;function T(){for(;o<O.length&&C(O,o);)++o}for(;o<O.length&&!C(O,o)&&O[o]!==">"&&O[o]!=="/";)++o;const D=O.substring(v,o);for(T();o<O.length&&O[o]!==">"&&O[o]!=="/"&&O[o]!=="?";){T();let _="",y="";for(;o<O.length&&!C(O,o)&&O[o]!=="=";)_+=O[o],++o;if(T(),O[o]!=="=")return null;++o,T();const P=O[o];if(P!=='"'&&P!=="'")return null;const w=O.indexOf(P,++o);if(w<0)return null;y=O.substring(o,w),b.push({name:_,value:this._resolveEntities(y)}),o=w+1,T()}return{name:D,attributes:b,parsed:o-v}}_parseProcessingInstruction(O,v){let b=v;function o(){for(;b<O.length&&C(O,b);)++b}for(;b<O.length&&!C(O,b)&&O[b]!==">"&&O[b]!=="?"&&O[b]!=="/";)++b;const T=O.substring(v,b);o();const D=b;for(;b<O.length&&(O[b]!=="?"||O[b+1]!==">");)++b;const _=O.substring(D,b);return{name:T,value:_,parsed:b-v}}parseXml(O){let v=0;for(;v<O.length;){const b=O[v];let o=v;if(b==="<"){++o;const T=O[o];let D;switch(T){case"/":if(++o,D=O.indexOf(">",o),D<0){this.onError(c.UnterminatedElement);return}this.onEndElement(O.substring(o,D)),o=D+1;break;case"?":++o;const _=this._parseProcessingInstruction(O,o);if(O.substring(o+_.parsed,o+_.parsed+2)!=="?>"){this.onError(c.UnterminatedXmlDeclaration);return}this.onPi(_.name,_.value),o+=_.parsed+2;break;case"!":if(O.substring(o+1,o+3)==="--"){if(D=O.indexOf("-->",o+3),D<0){this.onError(c.UnterminatedComment);return}this.onComment(O.substring(o+3,D)),o=D+3}else if(O.substring(o+1,o+8)==="[CDATA["){if(D=O.indexOf("]]>",o+8),D<0){this.onError(c.UnterminatedCdat);return}this.onCdata(O.substring(o+8,D)),o=D+3}else if(O.substring(o+1,o+8)==="DOCTYPE"){const w=O.indexOf("[",o+8);let M=!1;if(D=O.indexOf(">",o+8),D<0){this.onError(c.UnterminatedDoctypeDeclaration);return}if(w>0&&D>w){if(D=O.indexOf("]>",o+8),D<0){this.onError(c.UnterminatedDoctypeDeclaration);return}M=!0}const q=O.substring(o+8,D+(M?1:0));this.onDoctype(q),o=D+(M?2:1)}else{this.onError(c.MalformedElement);return}break;default:const y=this._parseContent(O,o);if(y===null){this.onError(c.MalformedElement);return}let P=!1;if(O.substring(o+y.parsed,o+y.parsed+2)==="/>")P=!0;else if(O.substring(o+y.parsed,o+y.parsed+1)!==">"){this.onError(c.UnterminatedElement);return}this.onBeginElement(y.name,y.attributes,P),o+=y.parsed+(P?2:1);break}}else{for(;o<O.length&&O[o]!=="<";)o++;const T=O.substring(v,o);this.onText(this._resolveEntities(T))}v=o}}onResolveEntity(O){return`&${O};`}onPi(O,v){}onComment(O){}onCdata(O){}onDoctype(O){}onText(O){}onBeginElement(O,v,b){}onEndElement(O){}onError(O){}}s.XMLParserBase=e;class E{constructor(O,v){this.nodeName=O,this.nodeValue=v,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){return this.childNodes&&this.childNodes[0]}get nextSibling(){const O=this.parentNode.childNodes;if(!O)return;const v=O.indexOf(this);if(v!==-1)return O[v+1]}get textContent(){return this.childNodes?this.childNodes.map(function(O){return O.textContent}).join(""):this.nodeValue||""}get children(){return this.childNodes||[]}hasChildNodes(){return this.childNodes&&this.childNodes.length>0}searchNode(O,v){if(v>=O.length)return this;const b=O[v],o=[];let T=this;for(;;){if(b.name===T.nodeName)if(b.pos===0){const D=T.searchNode(O,v+1);if(D!==null)return D}else{if(o.length===0)return null;{const[D]=o.pop();let _=0;for(const y of D.childNodes)if(b.name===y.nodeName){if(_===b.pos)return y.searchNode(O,v+1);_++}return T.searchNode(O,v+1)}}if(T.childNodes&&T.childNodes.length!==0)o.push([T,0]),T=T.childNodes[0];else{if(o.length===0)return null;for(;o.length!==0;){const[D,_]=o.pop(),y=_+1;if(y<D.childNodes.length){o.push([D,y]),T=D.childNodes[y];break}}if(o.length===0)return null}}}dump(O){if(this.nodeName==="#text"){O.push((0,n.encodeToXmlString)(this.nodeValue));return}if(O.push(`<${this.nodeName}`),this.attributes)for(const v of this.attributes)O.push(` ${v.name}="${(0,n.encodeToXmlString)(v.value)}"`);if(this.hasChildNodes()){O.push(">");for(const v of this.childNodes)v.dump(O);O.push(`</${this.nodeName}>`)}else this.nodeValue?O.push(`>${(0,n.encodeToXmlString)(this.nodeValue)}</${this.nodeName}>`):O.push("/>")}}s.SimpleDOMNode=E;class A extends e{constructor(O){let{hasAttributes:v=!1,lowerCaseName:b=!1}=O;super(),this._currentFragment=null,this._stack=null,this._errorCode=c.NoError,this._hasAttributes=v,this._lowerCaseName=b}parseFromString(O){if(this._currentFragment=[],this._stack=[],this._errorCode=c.NoError,this.parseXml(O),this._errorCode!==c.NoError)return;const[v]=this._currentFragment;if(!!v)return{documentElement:v}}onText(O){if(m(O))return;const v=new E("#text",O);this._currentFragment.push(v)}onCdata(O){const v=new E("#text",O);this._currentFragment.push(v)}onBeginElement(O,v,b){this._lowerCaseName&&(O=O.toLowerCase());const o=new E(O);o.childNodes=[],this._hasAttributes&&(o.attributes=v),this._currentFragment.push(o),!b&&(this._stack.push(this._currentFragment),this._currentFragment=o.childNodes)}onEndElement(O){this._currentFragment=this._stack.pop()||[];const v=this._currentFragment.at(-1);if(!v)return null;for(let b=0,o=v.childNodes.length;b<o;b++)v.childNodes[b].parentNode=v;return v}onError(O){this._errorCode=O}}s.SimpleXMLParser=A},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.calculateSHA256=s.calculateMD5=s.PDF20=s.PDF17=s.CipherTransformFactory=s.ARCFourCipher=s.AES256Cipher=s.AES128Cipher=void 0,s.calculateSHA384=O,s.calculateSHA512=void 0;var n=u(2),c=u(130),C=u(193);class m{constructor(M){this.a=0,this.b=0;const q=new Uint8Array(256),F=M.length;for(let G=0;G<256;++G)q[G]=G;for(let G=0,R=0;G<256;++G){const I=q[G];R=R+I+M[G%F]&255,q[G]=q[R],q[R]=I}this.s=q}encryptBlock(M){let q=this.a,F=this.b;const G=this.s,R=M.length,I=new Uint8Array(R);for(let L=0;L<R;++L){q=q+1&255;const x=G[q];F=F+x&255;const S=G[F];G[q]=S,G[F]=x,I[L]=M[L]^G[x+S&255]}return this.a=q,this.b=F,I}decryptBlock(M){return this.encryptBlock(M)}encrypt(M){return this.encryptBlock(M)}}s.ARCFourCipher=m;const e=function(){const M=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),q=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]);function F(G,R,I){let L=1732584193,x=-271733879,S=-1732584194,W=271733878;const U=I+72&-64,z=new Uint8Array(U);let re,J;for(re=0;re<I;++re)z[re]=G[R++];z[re++]=128;const k=U-8;for(;re<k;)z[re++]=0;z[re++]=I<<3&255,z[re++]=I>>5&255,z[re++]=I>>13&255,z[re++]=I>>21&255,z[re++]=I>>>29&255,z[re++]=0,z[re++]=0,z[re++]=0;const H=new Int32Array(16);for(re=0;re<U;){for(J=0;J<16;++J,re+=4)H[J]=z[re]|z[re+1]<<8|z[re+2]<<16|z[re+3]<<24;let Z=L,Q=x,V=S,Y=W,te,$;for(J=0;J<64;++J){J<16?(te=Q&V|~Q&Y,$=J):J<32?(te=Y&Q|~Y&V,$=5*J+1&15):J<48?(te=Q^V^Y,$=3*J+5&15):(te=V^(Q|~Y),$=7*J&15);const X=Y,ne=Z+te+q[J]+H[$]|0,ce=M[J];Y=V,V=Q,Q=Q+(ne<<ce|ne>>>32-ce)|0,Z=X}L=L+Z|0,x=x+Q|0,S=S+V|0,W=W+Y|0}return new Uint8Array([L&255,L>>8&255,L>>16&255,L>>>24&255,x&255,x>>8&255,x>>16&255,x>>>24&255,S&255,S>>8&255,S>>16&255,S>>>24&255,W&255,W>>8&255,W>>16&255,W>>>24&255])}return F}();s.calculateMD5=e;class E{constructor(M,q){this.high=M|0,this.low=q|0}and(M){this.high&=M.high,this.low&=M.low}xor(M){this.high^=M.high,this.low^=M.low}or(M){this.high|=M.high,this.low|=M.low}shiftRight(M){M>=32?(this.low=this.high>>>M-32|0,this.high=0):(this.low=this.low>>>M|this.high<<32-M,this.high=this.high>>>M|0)}shiftLeft(M){M>=32?(this.high=this.low<<M-32,this.low=0):(this.high=this.high<<M|this.low>>>32-M,this.low<<=M)}rotateRight(M){let q,F;M&32?(F=this.low,q=this.high):(q=this.low,F=this.high),M&=31,this.low=q>>>M|F<<32-M,this.high=F>>>M|q<<32-M}not(){this.high=~this.high,this.low=~this.low}add(M){const q=(this.low>>>0)+(M.low>>>0);let F=(this.high>>>0)+(M.high>>>0);q>4294967295&&(F+=1),this.low=q|0,this.high=F|0}copyTo(M,q){M[q]=this.high>>>24&255,M[q+1]=this.high>>16&255,M[q+2]=this.high>>8&255,M[q+3]=this.high&255,M[q+4]=this.low>>>24&255,M[q+5]=this.low>>16&255,M[q+6]=this.low>>8&255,M[q+7]=this.low&255}assign(M){this.high=M.high,this.low=M.low}}const A=function(){function M(W,U){return W>>>U|W<<32-U}function q(W,U,z){return W&U^~W&z}function F(W,U,z){return W&U^W&z^U&z}function G(W){return M(W,2)^M(W,13)^M(W,22)}function R(W){return M(W,6)^M(W,11)^M(W,25)}function I(W){return M(W,7)^M(W,18)^W>>>3}function L(W){return M(W,17)^M(W,19)^W>>>10}const x=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function S(W,U,z){let re=1779033703,J=3144134277,k=1013904242,H=2773480762,Z=1359893119,Q=2600822924,V=528734635,Y=1541459225;const te=Math.ceil((z+9)/64)*64,$=new Uint8Array(te);let X,ne;for(X=0;X<z;++X)$[X]=W[U++];$[X++]=128;const ce=te-8;for(;X<ce;)$[X++]=0;$[X++]=0,$[X++]=0,$[X++]=0,$[X++]=z>>>29&255,$[X++]=z>>21&255,$[X++]=z>>13&255,$[X++]=z>>5&255,$[X++]=z<<3&255;const se=new Uint32Array(64);for(X=0;X<te;){for(ne=0;ne<16;++ne)se[ne]=$[X]<<24|$[X+1]<<16|$[X+2]<<8|$[X+3],X+=4;for(ne=16;ne<64;++ne)se[ne]=L(se[ne-2])+se[ne-7]+I(se[ne-15])+se[ne-16]|0;let K=re,ee=J,ie=k,oe=H,le=Z,pe=Q,fe=V,ue=Y,ge,he;for(ne=0;ne<64;++ne)ge=ue+R(le)+q(le,pe,fe)+x[ne]+se[ne],he=G(K)+F(K,ee,ie),ue=fe,fe=pe,pe=le,le=oe+ge|0,oe=ie,ie=ee,ee=K,K=ge+he|0;re=re+K|0,J=J+ee|0,k=k+ie|0,H=H+oe|0,Z=Z+le|0,Q=Q+pe|0,V=V+fe|0,Y=Y+ue|0}return new Uint8Array([re>>24&255,re>>16&255,re>>8&255,re&255,J>>24&255,J>>16&255,J>>8&255,J&255,k>>24&255,k>>16&255,k>>8&255,k&255,H>>24&255,H>>16&255,H>>8&255,H&255,Z>>24&255,Z>>16&255,Z>>8&255,Z&255,Q>>24&255,Q>>16&255,Q>>8&255,Q&255,V>>24&255,V>>16&255,V>>8&255,V&255,Y>>24&255,Y>>16&255,Y>>8&255,Y&255])}return S}();s.calculateSHA256=A;const B=function(){function M(S,W,U,z,re){S.assign(W),S.and(U),re.assign(W),re.not(),re.and(z),S.xor(re)}function q(S,W,U,z,re){S.assign(W),S.and(U),re.assign(W),re.and(z),S.xor(re),re.assign(U),re.and(z),S.xor(re)}function F(S,W,U){S.assign(W),S.rotateRight(28),U.assign(W),U.rotateRight(34),S.xor(U),U.assign(W),U.rotateRight(39),S.xor(U)}function G(S,W,U){S.assign(W),S.rotateRight(14),U.assign(W),U.rotateRight(18),S.xor(U),U.assign(W),U.rotateRight(41),S.xor(U)}function R(S,W,U){S.assign(W),S.rotateRight(1),U.assign(W),U.rotateRight(8),S.xor(U),U.assign(W),U.shiftRight(7),S.xor(U)}function I(S,W,U){S.assign(W),S.rotateRight(19),U.assign(W),U.rotateRight(61),S.xor(U),U.assign(W),U.shiftRight(6),S.xor(U)}const L=[new E(1116352408,3609767458),new E(1899447441,602891725),new E(3049323471,3964484399),new E(3921009573,2173295548),new E(961987163,4081628472),new E(1508970993,3053834265),new E(2453635748,2937671579),new E(2870763221,3664609560),new E(3624381080,2734883394),new E(310598401,1164996542),new E(607225278,1323610764),new E(1426881987,3590304994),new E(1925078388,4068182383),new E(2162078206,991336113),new E(2614888103,633803317),new E(3248222580,3479774868),new E(3835390401,2666613458),new E(4022224774,944711139),new E(264347078,2341262773),new E(604807628,2007800933),new E(770255983,1495990901),new E(1249150122,1856431235),new E(1555081692,3175218132),new E(1996064986,2198950837),new E(2554220882,3999719339),new E(2821834349,766784016),new E(2952996808,2566594879),new E(3210313671,3203337956),new E(3336571891,1034457026),new E(3584528711,2466948901),new E(113926993,3758326383),new E(338241895,168717936),new E(666307205,1188179964),new E(773529912,1546045734),new E(1294757372,1522805485),new E(1396182291,2643833823),new E(1695183700,2343527390),new E(1986661051,1014477480),new E(2177026350,1206759142),new E(2456956037,344077627),new E(2730485921,1290863460),new E(2820302411,3158454273),new E(3259730800,3505952657),new E(3345764771,106217008),new E(3516065817,3606008344),new E(3600352804,1432725776),new E(4094571909,1467031594),new E(275423344,851169720),new E(430227734,3100823752),new E(506948616,1363258195),new E(659060556,3750685593),new E(883997877,3785050280),new E(958139571,3318307427),new E(1322822218,3812723403),new E(1537002063,2003034995),new E(1747873779,3602036899),new E(1955562222,1575990012),new E(2024104815,1125592928),new E(2227730452,2716904306),new E(2361852424,442776044),new E(2428436474,593698344),new E(2756734187,3733110249),new E(3204031479,2999351573),new E(3329325298,3815920427),new E(3391569614,3928383900),new E(3515267271,566280711),new E(3940187606,3454069534),new E(4118630271,4000239992),new E(116418474,1914138554),new E(174292421,2731055270),new E(289380356,3203993006),new E(460393269,320620315),new E(685471733,587496836),new E(852142971,1086792851),new E(1017036298,365543100),new E(1126000580,2618297676),new E(1288033470,3409855158),new E(1501505948,4234509866),new E(1607167915,987167468),new E(1816402316,1246189591)];function x(S,W,U){let z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,re,J,k,H,Z,Q,V,Y;z?(re=new E(3418070365,3238371032),J=new E(1654270250,914150663),k=new E(2438529370,812702999),H=new E(355462360,4144912697),Z=new E(1731405415,4290775857),Q=new E(2394180231,1750603025),V=new E(3675008525,1694076839),Y=new E(1203062813,3204075428)):(re=new E(1779033703,4089235720),J=new E(3144134277,2227873595),k=new E(1013904242,4271175723),H=new E(2773480762,1595750129),Z=new E(1359893119,2917565137),Q=new E(2600822924,725511199),V=new E(528734635,4215389547),Y=new E(1541459225,327033209));const te=Math.ceil((U+17)/128)*128,$=new Uint8Array(te);let X,ne;for(X=0;X<U;++X)$[X]=S[W++];$[X++]=128;const ce=te-16;for(;X<ce;)$[X++]=0;$[X++]=0,$[X++]=0,$[X++]=0,$[X++]=0,$[X++]=0,$[X++]=0,$[X++]=0,$[X++]=0,$[X++]=0,$[X++]=0,$[X++]=0,$[X++]=U>>>29&255,$[X++]=U>>21&255,$[X++]=U>>13&255,$[X++]=U>>5&255,$[X++]=U<<3&255;const se=new Array(80);for(X=0;X<80;X++)se[X]=new E(0,0);let K=new E(0,0),ee=new E(0,0),ie=new E(0,0),oe=new E(0,0),le=new E(0,0),pe=new E(0,0),fe=new E(0,0),ue=new E(0,0);const ge=new E(0,0),he=new E(0,0),xe=new E(0,0),ye=new E(0,0);let ve;for(X=0;X<te;){for(ne=0;ne<16;++ne)se[ne].high=$[X]<<24|$[X+1]<<16|$[X+2]<<8|$[X+3],se[ne].low=$[X+4]<<24|$[X+5]<<16|$[X+6]<<8|$[X+7],X+=8;for(ne=16;ne<80;++ne)ve=se[ne],I(ve,se[ne-2],ye),ve.add(se[ne-7]),R(xe,se[ne-15],ye),ve.add(xe),ve.add(se[ne-16]);for(K.assign(re),ee.assign(J),ie.assign(k),oe.assign(H),le.assign(Z),pe.assign(Q),fe.assign(V),ue.assign(Y),ne=0;ne<80;++ne)ge.assign(ue),G(xe,le,ye),ge.add(xe),M(xe,le,pe,fe,ye),ge.add(xe),ge.add(L[ne]),ge.add(se[ne]),F(he,K,ye),q(xe,K,ee,ie,ye),he.add(xe),ve=ue,ue=fe,fe=pe,pe=le,oe.add(ge),le=oe,oe=ie,ie=ee,ee=K,ve.assign(ge),ve.add(he),K=ve;re.add(K),J.add(ee),k.add(ie),H.add(oe),Z.add(le),Q.add(pe),V.add(fe),Y.add(ue)}let ke;return z?(ke=new Uint8Array(48),re.copyTo(ke,0),J.copyTo(ke,8),k.copyTo(ke,16),H.copyTo(ke,24),Z.copyTo(ke,32),Q.copyTo(ke,40)):(ke=new Uint8Array(64),re.copyTo(ke,0),J.copyTo(ke,8),k.copyTo(ke,16),H.copyTo(ke,24),Z.copyTo(ke,32),Q.copyTo(ke,40),V.copyTo(ke,48),Y.copyTo(ke,56)),ke}return x}();s.calculateSHA512=B;function O(w,M,q){return B(w,M,q,!0)}class v{decryptBlock(M){return M}encrypt(M){return M}}class b{constructor(){this.constructor===b&&(0,n.unreachable)("Cannot initialize AESBaseCipher."),this._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),this._inv_s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),this._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),this._mixCol=new Uint8Array(256);for(let M=0;M<256;M++)M<128?this._mixCol[M]=M<<1:this._mixCol[M]=M<<1^27;this.buffer=new Uint8Array(16),this.bufferPosition=0}_expandKey(M){(0,n.unreachable)("Cannot call `_expandKey` on the base class")}_decrypt(M,q){let F,G,R;const I=new Uint8Array(16);I.set(M);for(let L=0,x=this._keySize;L<16;++L,++x)I[L]^=q[x];for(let L=this._cyclesOfRepetition-1;L>=1;--L){F=I[13],I[13]=I[9],I[9]=I[5],I[5]=I[1],I[1]=F,F=I[14],G=I[10],I[14]=I[6],I[10]=I[2],I[6]=F,I[2]=G,F=I[15],G=I[11],R=I[7],I[15]=I[3],I[11]=F,I[7]=G,I[3]=R;for(let x=0;x<16;++x)I[x]=this._inv_s[I[x]];for(let x=0,S=L*16;x<16;++x,++S)I[x]^=q[S];for(let x=0;x<16;x+=4){const S=this._mix[I[x]],W=this._mix[I[x+1]],U=this._mix[I[x+2]],z=this._mix[I[x+3]];F=S^W>>>8^W<<24^U>>>16^U<<16^z>>>24^z<<8,I[x]=F>>>24&255,I[x+1]=F>>16&255,I[x+2]=F>>8&255,I[x+3]=F&255}}F=I[13],I[13]=I[9],I[9]=I[5],I[5]=I[1],I[1]=F,F=I[14],G=I[10],I[14]=I[6],I[10]=I[2],I[6]=F,I[2]=G,F=I[15],G=I[11],R=I[7],I[15]=I[3],I[11]=F,I[7]=G,I[3]=R;for(let L=0;L<16;++L)I[L]=this._inv_s[I[L]],I[L]^=q[L];return I}_encrypt(M,q){const F=this._s;let G,R,I;const L=new Uint8Array(16);L.set(M);for(let x=0;x<16;++x)L[x]^=q[x];for(let x=1;x<this._cyclesOfRepetition;x++){for(let S=0;S<16;++S)L[S]=F[L[S]];I=L[1],L[1]=L[5],L[5]=L[9],L[9]=L[13],L[13]=I,I=L[2],R=L[6],L[2]=L[10],L[6]=L[14],L[10]=I,L[14]=R,I=L[3],R=L[7],G=L[11],L[3]=L[15],L[7]=I,L[11]=R,L[15]=G;for(let S=0;S<16;S+=4){const W=L[S+0],U=L[S+1],z=L[S+2],re=L[S+3];G=W^U^z^re,L[S+0]^=G^this._mixCol[W^U],L[S+1]^=G^this._mixCol[U^z],L[S+2]^=G^this._mixCol[z^re],L[S+3]^=G^this._mixCol[re^W]}for(let S=0,W=x*16;S<16;++S,++W)L[S]^=q[W]}for(let x=0;x<16;++x)L[x]=F[L[x]];I=L[1],L[1]=L[5],L[5]=L[9],L[9]=L[13],L[13]=I,I=L[2],R=L[6],L[2]=L[10],L[6]=L[14],L[10]=I,L[14]=R,I=L[3],R=L[7],G=L[11],L[3]=L[15],L[7]=I,L[11]=R,L[15]=G;for(let x=0,S=this._keySize;x<16;++x,++S)L[x]^=q[S];return L}_decryptBlock2(M,q){const F=M.length;let G=this.buffer,R=this.bufferPosition;const I=[];let L=this.iv;for(let W=0;W<F;++W){if(G[R]=M[W],++R,R<16)continue;const U=this._decrypt(G,this._key);for(let z=0;z<16;++z)U[z]^=L[z];L=G,I.push(U),G=new Uint8Array(16),R=0}if(this.buffer=G,this.bufferLength=R,this.iv=L,I.length===0)return new Uint8Array(0);let x=16*I.length;if(q){const W=I.at(-1);let U=W[15];if(U<=16){for(let z=15,re=16-U;z>=re;--z)if(W[z]!==U){U=0;break}x-=U,I[I.length-1]=W.subarray(0,16-U)}}const S=new Uint8Array(x);for(let W=0,U=0,z=I.length;W<z;++W,U+=16)S.set(I[W],U);return S}decryptBlock(M,q){let F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;const G=M.length,R=this.buffer;let I=this.bufferPosition;if(F)this.iv=F;else{for(let L=0;I<16&&L<G;++L,++I)R[I]=M[L];if(I<16)return this.bufferLength=I,new Uint8Array(0);this.iv=R,M=M.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=this._decryptBlock2,this.decryptBlock(M,q)}encrypt(M,q){const F=M.length;let G=this.buffer,R=this.bufferPosition;const I=[];q||(q=new Uint8Array(16));for(let S=0;S<F;++S){if(G[R]=M[S],++R,R<16)continue;for(let U=0;U<16;++U)G[U]^=q[U];const W=this._encrypt(G,this._key);q=W,I.push(W),G=new Uint8Array(16),R=0}if(this.buffer=G,this.bufferLength=R,this.iv=q,I.length===0)return new Uint8Array(0);const L=16*I.length,x=new Uint8Array(L);for(let S=0,W=0,U=I.length;S<U;++S,W+=16)x.set(I[S],W);return x}}class o extends b{constructor(M){super(),this._cyclesOfRepetition=10,this._keySize=160,this._rcon=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),this._key=this._expandKey(M)}_expandKey(M){const F=this._s,G=this._rcon,R=new Uint8Array(176);R.set(M);for(let I=16,L=1;I<176;++L){let x=R[I-3],S=R[I-2],W=R[I-1],U=R[I-4];x=F[x],S=F[S],W=F[W],U=F[U],x^=G[L];for(let z=0;z<4;++z)R[I]=x^=R[I-16],I++,R[I]=S^=R[I-16],I++,R[I]=W^=R[I-16],I++,R[I]=U^=R[I-16],I++}return R}}s.AES128Cipher=o;class T extends b{constructor(M){super(),this._cyclesOfRepetition=14,this._keySize=224,this._key=this._expandKey(M)}_expandKey(M){const F=this._s,G=new Uint8Array(240);G.set(M);let R=1,I,L,x,S;for(let W=32,U=1;W<240;++U){W%32===16?(I=F[I],L=F[L],x=F[x],S=F[S]):W%32===0&&(I=G[W-3],L=G[W-2],x=G[W-1],S=G[W-4],I=F[I],L=F[L],x=F[x],S=F[S],I^=R,(R<<=1)>=256&&(R=(R^27)&255));for(let z=0;z<4;++z)G[W]=I^=G[W-32],W++,G[W]=L^=G[W-32],W++,G[W]=x^=G[W-32],W++,G[W]=S^=G[W-32],W++}return G}}s.AES256Cipher=T;class D{checkOwnerPassword(M,q,F,G){const R=new Uint8Array(M.length+56);R.set(M,0),R.set(q,M.length),R.set(F,M.length+q.length);const I=A(R,0,R.length);return(0,n.isArrayEqual)(I,G)}checkUserPassword(M,q,F){const G=new Uint8Array(M.length+8);G.set(M,0),G.set(q,M.length);const R=A(G,0,G.length);return(0,n.isArrayEqual)(R,F)}getOwnerKey(M,q,F,G){const R=new Uint8Array(M.length+56);R.set(M,0),R.set(q,M.length),R.set(F,M.length+q.length);const I=A(R,0,R.length);return new T(I).decryptBlock(G,!1,new Uint8Array(16))}getUserKey(M,q,F){const G=new Uint8Array(M.length+8);G.set(M,0),G.set(q,M.length);const R=A(G,0,G.length);return new T(R).decryptBlock(F,!1,new Uint8Array(16))}}s.PDF17=D;const _=function(){function M(F,G,R){let I=A(G,0,G.length).subarray(0,32),L=[0],x=0;for(;x<64||L.at(-1)>x-32;){const S=F.length+I.length+R.length,W=new Uint8Array(S);let U=0;W.set(F,U),U+=F.length,W.set(I,U),U+=I.length,W.set(R,U);const z=new Uint8Array(S*64);for(let k=0,H=0;k<64;k++,H+=S)z.set(W,H);L=new o(I.subarray(0,16)).encrypt(z,I.subarray(16,32));let J=0;for(let k=0;k<16;k++)J*=256%3,J%=3,J+=(L[k]>>>0)%3,J%=3;J===0?I=A(L,0,L.length):J===1?I=O(L,0,L.length):J===2&&(I=B(L,0,L.length)),x++}return I.subarray(0,32)}class q{hash(G,R,I){return M(G,R,I)}checkOwnerPassword(G,R,I,L){const x=new Uint8Array(G.length+56);x.set(G,0),x.set(R,G.length),x.set(I,G.length+R.length);const S=M(G,x,I);return(0,n.isArrayEqual)(S,L)}checkUserPassword(G,R,I){const L=new Uint8Array(G.length+8);L.set(G,0),L.set(R,G.length);const x=M(G,L,[]);return(0,n.isArrayEqual)(x,I)}getOwnerKey(G,R,I,L){const x=new Uint8Array(G.length+56);x.set(G,0),x.set(R,G.length),x.set(I,G.length+R.length);const S=M(G,x,I);return new T(S).decryptBlock(L,!1,new Uint8Array(16))}getUserKey(G,R,I){const L=new Uint8Array(G.length+8);L.set(G,0),L.set(R,G.length);const x=M(G,L,[]);return new T(x).decryptBlock(I,!1,new Uint8Array(16))}}return q}();s.PDF20=_;class y{constructor(M,q){this.StringCipherConstructor=M,this.StreamCipherConstructor=q}createStream(M,q){const F=new this.StreamCipherConstructor;return new C.DecryptStream(M,q,function(R,I){return F.decryptBlock(R,I)})}decryptString(M){const q=new this.StringCipherConstructor;let F=(0,n.stringToBytes)(M);return F=q.decryptBlock(F,!0),(0,n.bytesToString)(F)}encryptString(M){const q=new this.StringCipherConstructor;if(q instanceof b){const R=16-M.length%16;M+=String.fromCharCode(R).repeat(R);const I=new Uint8Array(16);if(typeof crypto<"u")crypto.getRandomValues(I);else for(let S=0;S<16;S++)I[S]=Math.floor(256*Math.random());let L=(0,n.stringToBytes)(M);L=q.encrypt(L,I);const x=new Uint8Array(16+L.length);return x.set(I),x.set(L,16),(0,n.bytesToString)(x)}let F=(0,n.stringToBytes)(M);return F=q.encrypt(F),(0,n.bytesToString)(F)}}const P=function(){const M=new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]);function q(S,W,U,z,re,J,k,H,Z,Q,V,Y){if(W){const $=Math.min(127,W.length);W=W.subarray(0,$)}else W=[];let te;return S===6?te=new _:te=new D,te.checkUserPassword(W,H,k)?te.getUserKey(W,Z,V):W.length&&te.checkOwnerPassword(W,z,J,U)?te.getOwnerKey(W,re,J,Q):null}function F(S,W,U,z,re,J,k,H){const Z=40+U.length+S.length,Q=new Uint8Array(Z);let V=0,Y,te;if(W)for(te=Math.min(32,W.length);V<te;++V)Q[V]=W[V];for(Y=0;V<32;)Q[V++]=M[Y++];for(Y=0,te=U.length;Y<te;++Y)Q[V++]=U[Y];for(Q[V++]=re&255,Q[V++]=re>>8&255,Q[V++]=re>>16&255,Q[V++]=re>>>24&255,Y=0,te=S.length;Y<te;++Y)Q[V++]=S[Y];J>=4&&!H&&(Q[V++]=255,Q[V++]=255,Q[V++]=255,Q[V++]=255);let $=e(Q,0,V);const X=k>>3;if(J>=3)for(Y=0;Y<50;++Y)$=e($,0,X);const ne=$.subarray(0,X);let ce,se;if(J>=3){for(V=0;V<32;++V)Q[V]=M[V];for(Y=0,te=S.length;Y<te;++Y)Q[V++]=S[Y];ce=new m(ne),se=ce.encryptBlock(e(Q,0,V)),te=ne.length;const K=new Uint8Array(te);for(Y=1;Y<=19;++Y){for(let ee=0;ee<te;++ee)K[ee]=ne[ee]^Y;ce=new m(K),se=ce.encryptBlock(se)}for(Y=0,te=se.length;Y<te;++Y)if(z[Y]!==se[Y])return null}else for(ce=new m(ne),se=ce.encryptBlock(M),Y=0,te=se.length;Y<te;++Y)if(z[Y]!==se[Y])return null;return ne}function G(S,W,U,z){const re=new Uint8Array(32);let J=0;const k=Math.min(32,S.length);for(;J<k;++J)re[J]=S[J];let H=0;for(;J<32;)re[J++]=M[H++];let Z=e(re,0,J);const Q=z>>3;if(U>=3)for(H=0;H<50;++H)Z=e(Z,0,Z.length);let V,Y;if(U>=3){Y=W;const te=new Uint8Array(Q);for(H=19;H>=0;H--){for(let $=0;$<Q;++$)te[$]=Z[$]^H;V=new m(te),Y=V.encryptBlock(Y)}}else V=new m(Z.subarray(0,Q)),Y=V.encryptBlock(W);return Y}const R=c.Name.get("Identity");function I(S,W,U){let z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const re=new Uint8Array(U.length+9),J=U.length;let k;for(k=0;k<J;++k)re[k]=U[k];return re[k++]=S&255,re[k++]=S>>8&255,re[k++]=S>>16&255,re[k++]=W&255,re[k++]=W>>8&255,z&&(re[k++]=115,re[k++]=65,re[k++]=108,re[k++]=84),e(re,0,k).subarray(0,Math.min(U.length+5,16))}function L(S,W,U,z,re){if(!(W instanceof c.Name))throw new n.FormatError("Invalid crypt filter name.");const J=S.get(W.name);let k;if(J!=null&&(k=J.get("CFM")),!k||k.name==="None")return function(){return new v};if(k.name==="V2")return function(){return new m(I(U,z,re,!1))};if(k.name==="AESV2")return function(){return new o(I(U,z,re,!0))};if(k.name==="AESV3")return function(){return new T(re)};throw new n.FormatError("Unknown crypto method")}class x{constructor(W,U,z){const re=W.get("Filter");if(!(0,c.isName)(re,"Standard"))throw new n.FormatError("unknown encryption method");this.filterName=re.name,this.dict=W;const J=W.get("V");if(!Number.isInteger(J)||J!==1&&J!==2&&J!==4&&J!==5)throw new n.FormatError("unsupported encryption algorithm");this.algorithm=J;let k=W.get("Length");if(!k)if(J<=3)k=40;else{const ne=W.get("CF"),ce=W.get("StmF");if(ne instanceof c.Dict&&ce instanceof c.Name){ne.suppressEncryption=!0;const se=ne.get(ce.name);k=se&&se.get("Length")||128,k<40&&(k<<=3)}}if(!Number.isInteger(k)||k<40||k%8!==0)throw new n.FormatError("invalid key length");const H=(0,n.stringToBytes)(W.get("O")).subarray(0,32),Z=(0,n.stringToBytes)(W.get("U")).subarray(0,32),Q=W.get("P"),V=W.get("R"),Y=(J===4||J===5)&&W.get("EncryptMetadata")!==!1;this.encryptMetadata=Y;const te=(0,n.stringToBytes)(U);let $;if(z){if(V===6)try{z=(0,n.utf8StringToString)(z)}catch{(0,n.warn)("CipherTransformFactory: Unable to convert UTF8 encoded password.")}$=(0,n.stringToBytes)(z)}let X;if(J!==5)X=F(te,$,H,Z,Q,V,k,Y);else{const ne=(0,n.stringToBytes)(W.get("O")).subarray(32,40),ce=(0,n.stringToBytes)(W.get("O")).subarray(40,48),se=(0,n.stringToBytes)(W.get("U")).subarray(0,48),K=(0,n.stringToBytes)(W.get("U")).subarray(32,40),ee=(0,n.stringToBytes)(W.get("U")).subarray(40,48),ie=(0,n.stringToBytes)(W.get("OE")),oe=(0,n.stringToBytes)(W.get("UE"));(0,n.stringToBytes)(W.get("Perms")),X=q(V,$,H,ne,ce,se,Z,K,ee,ie,oe)}if(!X&&!z)throw new n.PasswordException("No password given",n.PasswordResponses.NEED_PASSWORD);if(!X&&z){const ne=G($,H,V,k);X=F(te,ne,H,Z,Q,V,k,Y)}if(!X)throw new n.PasswordException("Incorrect Password",n.PasswordResponses.INCORRECT_PASSWORD);if(this.encryptionKey=X,J>=4){const ne=W.get("CF");ne instanceof c.Dict&&(ne.suppressEncryption=!0),this.cf=ne,this.stmf=W.get("StmF")||R,this.strf=W.get("StrF")||R,this.eff=W.get("EFF")||this.stmf}}createCipherTransform(W,U){if(this.algorithm===4||this.algorithm===5)return new y(L(this.cf,this.strf,W,U,this.encryptionKey),L(this.cf,this.stmf,W,U,this.encryptionKey));const z=I(W,U,this.encryptionKey,!1),re=function(){return new m(z)};return new y(re,re)}}return x}();s.CipherTransformFactory=P},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DecryptStream=void 0;var n=u(144);const c=512;class C extends n.DecodeStream{constructor(e,E,A){super(E),this.str=e,this.dict=e.dict,this.decrypt=A,this.nextChunk=null,this.initialized=!1}readBlock(){let e;if(this.initialized?e=this.nextChunk:(e=this.str.getBytes(c),this.initialized=!0),!e||e.length===0){this.eof=!0;return}this.nextChunk=this.str.getBytes(c);const E=this.nextChunk&&this.nextChunk.length>0,A=this.decrypt;e=A(e,!E);let B=this.bufferLength;const O=e.length,v=this.ensureBuffer(B+O);for(let b=0;b<O;b++)v[B++]=e[b];this.bufferLength=B}}s.DecryptStream=C},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Catalog=void 0;var n=u(131),c=u(2),C=u(130),m=u(195),e=u(132),E=u(196),A=u(139),B=u(197),O=u(184),v=u(198),b=u(199);function o(D){return D instanceof C.Dict&&(D=D.get("D")),Array.isArray(D)?D:null}class T{constructor(_,y){if(this.pdfManager=_,this.xref=y,this._catDict=y.getCatalogObj(),!(this._catDict instanceof C.Dict))throw new c.FormatError("Catalog object is not a dictionary.");this.toplevelPagesDict,this._actualNumPages=null,this.fontCache=new C.RefSetCache,this.builtInCMapCache=new Map,this.standardFontDataCache=new Map,this.globalImageCache=new O.GlobalImageCache,this.pageKidsCountCache=new C.RefSetCache,this.pageIndexCache=new C.RefSetCache,this.nonBlendModesSet=new C.RefSet}get version(){const _=this._catDict.get("Version");return(0,c.shadow)(this,"version",_ instanceof C.Name?_.name:null)}get lang(){const _=this._catDict.get("Lang");return(0,c.shadow)(this,"lang",typeof _=="string"?(0,c.stringToPDFString)(_):null)}get needsRendering(){const _=this._catDict.get("NeedsRendering");return(0,c.shadow)(this,"needsRendering",typeof _=="boolean"?_:!1)}get collection(){let _=null;try{const y=this._catDict.get("Collection");y instanceof C.Dict&&y.size>0&&(_=y)}catch(y){if(y instanceof n.MissingDataException)throw y;(0,c.info)("Cannot fetch Collection entry; assuming no collection is present.")}return(0,c.shadow)(this,"collection",_)}get acroForm(){let _=null;try{const y=this._catDict.get("AcroForm");y instanceof C.Dict&&y.size>0&&(_=y)}catch(y){if(y instanceof n.MissingDataException)throw y;(0,c.info)("Cannot fetch AcroForm entry; assuming no forms are present.")}return(0,c.shadow)(this,"acroForm",_)}get acroFormRef(){const _=this._catDict.getRaw("AcroForm");return(0,c.shadow)(this,"acroFormRef",_ instanceof C.Ref?_:null)}get metadata(){const _=this._catDict.getRaw("Metadata");if(!(_ instanceof C.Ref))return(0,c.shadow)(this,"metadata",null);let y=null;try{const P=!(this.xref.encrypt&&this.xref.encrypt.encryptMetadata),w=this.xref.fetch(_,P);if(w instanceof e.BaseStream&&w.dict instanceof C.Dict){const M=w.dict.get("Type"),q=w.dict.get("Subtype");if((0,C.isName)(M,"Metadata")&&(0,C.isName)(q,"XML")){const F=(0,c.stringToUTF8String)(w.getString());F&&(y=new v.MetadataParser(F).serializable)}}}catch(P){if(P instanceof n.MissingDataException)throw P;(0,c.info)(`Skipping invalid Metadata: "${P}".`)}return(0,c.shadow)(this,"metadata",y)}get markInfo(){let _=null;try{_=this._readMarkInfo()}catch(y){if(y instanceof n.MissingDataException)throw y;(0,c.warn)("Unable to read mark info.")}return(0,c.shadow)(this,"markInfo",_)}_readMarkInfo(){const _=this._catDict.get("MarkInfo");if(!(_ instanceof C.Dict))return null;const y={Marked:!1,UserProperties:!1,Suspects:!1};for(const P in y){const w=_.get(P);typeof w=="boolean"&&(y[P]=w)}return y}get structTreeRoot(){let _=null;try{_=this._readStructTreeRoot()}catch(y){if(y instanceof n.MissingDataException)throw y;(0,c.warn)("Unable read to structTreeRoot info.")}return(0,c.shadow)(this,"structTreeRoot",_)}_readStructTreeRoot(){const _=this._catDict.get("StructTreeRoot");if(!(_ instanceof C.Dict))return null;const y=new b.StructTreeRoot(_);return y.init(),y}get toplevelPagesDict(){const _=this._catDict.get("Pages");if(!(_ instanceof C.Dict))throw new c.FormatError("Invalid top-level pages dictionary.");return(0,c.shadow)(this,"toplevelPagesDict",_)}get documentOutline(){let _=null;try{_=this._readDocumentOutline()}catch(y){if(y instanceof n.MissingDataException)throw y;(0,c.warn)("Unable to read document outline.")}return(0,c.shadow)(this,"documentOutline",_)}_readDocumentOutline(){let _=this._catDict.get("Outlines");if(!(_ instanceof C.Dict)||(_=_.getRaw("First"),!(_ instanceof C.Ref)))return null;const y={items:[]},P=[{obj:_,parent:y}],w=new C.RefSet;w.put(_);const M=this.xref,q=new Uint8ClampedArray(3);for(;P.length>0;){const F=P.shift(),G=M.fetchIfRef(F.obj);if(G===null)continue;if(!G.has("Title"))throw new c.FormatError("Invalid outline item encountered.");const R={url:null,dest:null};T.parseDestDictionary({destDict:G,resultObj:R,docBaseUrl:this.pdfManager.docBaseUrl});const I=G.get("Title"),L=G.get("F")||0,x=G.getArray("C"),S=G.get("Count");let W=q;Array.isArray(x)&&x.length===3&&(x[0]!==0||x[1]!==0||x[2]!==0)&&(W=A.ColorSpace.singletons.rgb.getRgb(x,0));const U={dest:R.dest,url:R.url,unsafeUrl:R.unsafeUrl,newWindow:R.newWindow,title:(0,c.stringToPDFString)(I),color:W,count:Number.isInteger(S)?S:void 0,bold:!!(L&2),italic:!!(L&1),items:[]};F.parent.items.push(U),_=G.getRaw("First"),_ instanceof C.Ref&&!w.has(_)&&(P.push({obj:_,parent:U}),w.put(_)),_=G.getRaw("Next"),_ instanceof C.Ref&&!w.has(_)&&(P.push({obj:_,parent:F.parent}),w.put(_))}return y.items.length>0?y.items:null}get permissions(){let _=null;try{_=this._readPermissions()}catch(y){if(y instanceof n.MissingDataException)throw y;(0,c.warn)("Unable to read permissions.")}return(0,c.shadow)(this,"permissions",_)}_readPermissions(){const _=this.xref.trailer.get("Encrypt");if(!(_ instanceof C.Dict))return null;let y=_.get("P");if(typeof y!="number")return null;y+=4294967296;const P=[];for(const w in c.PermissionFlag){const M=c.PermissionFlag[w];y&M&&P.push(M)}return P}get optionalContentConfig(){let _=null;try{const y=this._catDict.get("OCProperties");if(!y)return(0,c.shadow)(this,"optionalContentConfig",null);const P=y.get("D");if(!P)return(0,c.shadow)(this,"optionalContentConfig",null);const w=y.get("OCGs");if(!Array.isArray(w))return(0,c.shadow)(this,"optionalContentConfig",null);const M=[],q=[];for(const F of w){if(!(F instanceof C.Ref))continue;q.push(F);const G=this.xref.fetchIfRef(F);M.push({id:F.toString(),name:typeof G.get("Name")=="string"?(0,c.stringToPDFString)(G.get("Name")):null,intent:typeof G.get("Intent")=="string"?(0,c.stringToPDFString)(G.get("Intent")):null})}_=this._readOptionalContentConfig(P,q),_.groups=M}catch(y){if(y instanceof n.MissingDataException)throw y;(0,c.warn)(`Unable to read optional content config: ${y}`)}return(0,c.shadow)(this,"optionalContentConfig",_)}_readOptionalContentConfig(_,y){function P(R){const I=[];if(Array.isArray(R))for(const L of R)L instanceof C.Ref&&y.includes(L)&&I.push(L.toString());return I}function w(R){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!Array.isArray(R))return null;const L=[];for(const S of R){if(S instanceof C.Ref&&y.includes(S)){F.put(S),L.push(S.toString());continue}const W=M(S,I);W&&L.push(W)}if(I>0)return L;const x=[];for(const S of y)F.has(S)||x.push(S.toString());return x.length&&L.push({name:null,order:x}),L}function M(R,I){if(++I>G)return(0,c.warn)("parseNestedOrder - reached MAX_NESTED_LEVELS."),null;const L=q.fetchIfRef(R);if(!Array.isArray(L))return null;const x=q.fetchIfRef(L[0]);if(typeof x!="string")return null;const S=w(L.slice(1),I);return!S||!S.length?null:{name:(0,c.stringToPDFString)(x),order:S}}const q=this.xref,F=new C.RefSet,G=10;return{name:typeof _.get("Name")=="string"?(0,c.stringToPDFString)(_.get("Name")):null,creator:typeof _.get("Creator")=="string"?(0,c.stringToPDFString)(_.get("Creator")):null,baseState:_.get("BaseState")instanceof C.Name?_.get("BaseState").name:null,on:P(_.get("ON")),off:P(_.get("OFF")),order:w(_.get("Order")),groups:null}}setActualNumPages(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this._actualNumPages=_}get hasActualNumPages(){return this._actualNumPages!==null}get _pagesCount(){const _=this.toplevelPagesDict.get("Count");if(!Number.isInteger(_))throw new c.FormatError("Page count in top-level pages dictionary is not an integer.");return(0,c.shadow)(this,"_pagesCount",_)}get numPages(){return this.hasActualNumPages?this._actualNumPages:this._pagesCount}get destinations(){const _=this._readDests(),y=Object.create(null);if(_ instanceof m.NameTree)for(const[P,w]of _.getAll()){const M=o(w);M&&(y[(0,c.stringToPDFString)(P)]=M)}else _ instanceof C.Dict&&_.forEach(function(P,w){const M=o(w);M&&(y[P]=M)});return(0,c.shadow)(this,"destinations",y)}getDestination(_){const y=this._readDests();if(y instanceof m.NameTree){const P=o(y.get(_));if(P)return P;const w=this.destinations[_];if(w)return(0,c.warn)(`Found "${_}" at an incorrect position in the NameTree.`),w}else if(y instanceof C.Dict){const P=o(y.get(_));if(P)return P}return null}_readDests(){const _=this._catDict.get("Names");if(_&&_.has("Dests"))return new m.NameTree(_.getRaw("Dests"),this.xref);if(this._catDict.has("Dests"))return this._catDict.get("Dests")}get pageLabels(){let _=null;try{_=this._readPageLabels()}catch(y){if(y instanceof n.MissingDataException)throw y;(0,c.warn)("Unable to read page labels.")}return(0,c.shadow)(this,"pageLabels",_)}_readPageLabels(){const _=this._catDict.getRaw("PageLabels");if(!_)return null;const y=new Array(this.numPages);let P=null,w="";const q=new m.NumberTree(_,this.xref).getAll();let F="",G=1;for(let R=0,I=this.numPages;R<I;R++){const L=q.get(R);if(L!==void 0){if(!(L instanceof C.Dict))throw new c.FormatError("PageLabel is not a dictionary.");if(L.has("Type")&&!(0,C.isName)(L.get("Type"),"PageLabel"))throw new c.FormatError("Invalid type in PageLabel dictionary.");if(L.has("S")){const x=L.get("S");if(!(x instanceof C.Name))throw new c.FormatError("Invalid style in PageLabel dictionary.");P=x.name}else P=null;if(L.has("P")){const x=L.get("P");if(typeof x!="string")throw new c.FormatError("Invalid prefix in PageLabel dictionary.");w=(0,c.stringToPDFString)(x)}else w="";if(L.has("St")){const x=L.get("St");if(!(Number.isInteger(x)&&x>=1))throw new c.FormatError("Invalid start in PageLabel dictionary.");G=x}else G=1}switch(P){case"D":F=G;break;case"R":case"r":F=(0,n.toRomanNumerals)(G,P==="r");break;case"A":case"a":const x=26,U=P==="a"?97:65,z=G-1;F=String.fromCharCode(U+z%x).repeat(Math.floor(z/x)+1);break;default:if(P)throw new c.FormatError(`Invalid style "${P}" in PageLabel dictionary.`);F=""}y[R]=w+F,G++}return y}get pageLayout(){const _=this._catDict.get("PageLayout");let y="";if(_ instanceof C.Name)switch(_.name){case"SinglePage":case"OneColumn":case"TwoColumnLeft":case"TwoColumnRight":case"TwoPageLeft":case"TwoPageRight":y=_.name}return(0,c.shadow)(this,"pageLayout",y)}get pageMode(){const _=this._catDict.get("PageMode");let y="UseNone";if(_ instanceof C.Name)switch(_.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":y=_.name}return(0,c.shadow)(this,"pageMode",y)}get viewerPreferences(){const _=this._catDict.get("ViewerPreferences");if(!(_ instanceof C.Dict))return(0,c.shadow)(this,"viewerPreferences",null);let y=null;for(const P of _.getKeys()){const w=_.get(P);let M;switch(P){case"HideToolbar":case"HideMenubar":case"HideWindowUI":case"FitWindow":case"CenterWindow":case"DisplayDocTitle":case"PickTrayByPDFSize":typeof w=="boolean"&&(M=w);break;case"NonFullScreenPageMode":if(w instanceof C.Name)switch(w.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"UseOC":M=w.name;break;default:M="UseNone"}break;case"Direction":if(w instanceof C.Name)switch(w.name){case"L2R":case"R2L":M=w.name;break;default:M="L2R"}break;case"ViewArea":case"ViewClip":case"PrintArea":case"PrintClip":if(w instanceof C.Name)switch(w.name){case"MediaBox":case"CropBox":case"BleedBox":case"TrimBox":case"ArtBox":M=w.name;break;default:M="CropBox"}break;case"PrintScaling":if(w instanceof C.Name)switch(w.name){case"None":case"AppDefault":M=w.name;break;default:M="AppDefault"}break;case"Duplex":if(w instanceof C.Name)switch(w.name){case"Simplex":case"DuplexFlipShortEdge":case"DuplexFlipLongEdge":M=w.name;break;default:M="None"}break;case"PrintPageRange":Array.isArray(w)&&w.length%2===0&&w.every((F,G,R)=>Number.isInteger(F)&&F>0&&(G===0||F>=R[G-1])&&F<=this.numPages)&&(M=w);break;case"NumCopies":Number.isInteger(w)&&w>0&&(M=w);break;default:(0,c.warn)(`Ignoring non-standard key in ViewerPreferences: ${P}.`);continue}if(M===void 0){(0,c.warn)(`Bad value, for key "${P}", in ViewerPreferences: ${w}.`);continue}y||(y=Object.create(null)),y[P]=M}return(0,c.shadow)(this,"viewerPreferences",y)}get openAction(){const _=this._catDict.get("OpenAction"),y=Object.create(null);if(_ instanceof C.Dict){const P=new C.Dict(this.xref);P.set("A",_);const w={url:null,dest:null,action:null};T.parseDestDictionary({destDict:P,resultObj:w}),Array.isArray(w.dest)?y.dest=w.dest:w.action&&(y.action=w.action)}else Array.isArray(_)&&(y.dest=_);return(0,c.shadow)(this,"openAction",(0,c.objectSize)(y)>0?y:null)}get attachments(){const _=this._catDict.get("Names");let y=null;if(_ instanceof C.Dict&&_.has("EmbeddedFiles")){const P=new m.NameTree(_.getRaw("EmbeddedFiles"),this.xref);for(const[w,M]of P.getAll()){const q=new B.FileSpec(M,this.xref);y||(y=Object.create(null)),y[(0,c.stringToPDFString)(w)]=q.serializable}}return(0,c.shadow)(this,"attachments",y)}get xfaImages(){const _=this._catDict.get("Names");let y=null;if(_ instanceof C.Dict&&_.has("XFAImages")){const P=new m.NameTree(_.getRaw("XFAImages"),this.xref);for(const[w,M]of P.getAll())y||(y=new C.Dict(this.xref)),y.set((0,c.stringToPDFString)(w),M)}return(0,c.shadow)(this,"xfaImages",y)}_collectJavaScript(){const _=this._catDict.get("Names");let y=null;function P(M,q){if(!(q instanceof C.Dict)||!(0,C.isName)(q.get("S"),"JavaScript"))return;let F=q.get("JS");if(F instanceof e.BaseStream)F=F.getString();else if(typeof F!="string")return;y===null&&(y=new Map),F=(0,c.stringToPDFString)(F).replace(/\u0000/g,""),y.set(M,F)}if(_ instanceof C.Dict&&_.has("JavaScript")){const M=new m.NameTree(_.getRaw("JavaScript"),this.xref);for(const[q,F]of M.getAll())P((0,c.stringToPDFString)(q),F)}const w=this._catDict.get("OpenAction");return w&&P("OpenAction",w),y}get javaScript(){const _=this._collectJavaScript();return(0,c.shadow)(this,"javaScript",_?[..._.values()]:null)}get jsActions(){const _=this._collectJavaScript();let y=(0,n.collectActions)(this.xref,this._catDict,c.DocumentActionEventType);if(_){y||(y=Object.create(null));for(const[P,w]of _)P in y?y[P].push(w):y[P]=[w]}return(0,c.shadow)(this,"jsActions",y)}async fontFallback(_,y){const P=await Promise.all(this.fontCache);for(const w of P)if(w.loadedName===_){w.fallback(y);return}}async cleanup(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;(0,E.clearGlobalCaches)(),this.globalImageCache.clear(_),this.pageKidsCountCache.clear(),this.pageIndexCache.clear(),this.nonBlendModesSet.clear();const y=await Promise.all(this.fontCache);for(const{dict:P}of y)delete P.cacheKey;this.fontCache.clear(),this.builtInCMapCache.clear(),this.standardFontDataCache.clear()}async getPageDict(_){const y=[this.toplevelPagesDict],P=new C.RefSet,w=this._catDict.getRaw("Pages");w instanceof C.Ref&&P.put(w);const M=this.xref,q=this.pageKidsCountCache,F=this.pageIndexCache;let G=0;for(;y.length;){const R=y.pop();if(R instanceof C.Ref){const S=q.get(R);if(S>=0&&G+S<=_){G+=S;continue}if(P.has(R))throw new c.FormatError("Pages tree contains circular reference.");P.put(R);const W=await M.fetchAsync(R);if(W instanceof C.Dict){let U=W.getRaw("Type");if(U instanceof C.Ref&&(U=await M.fetchAsync(U)),(0,C.isName)(U,"Page")||!W.has("Kids")){if(q.has(R)||q.put(R,1),F.has(R)||F.put(R,G),G===_)return[W,R];G++;continue}}y.push(W);continue}if(!(R instanceof C.Dict))throw new c.FormatError("Page dictionary kid reference points to wrong type of object.");const{objId:I}=R;let L=R.getRaw("Count");if(L instanceof C.Ref&&(L=await M.fetchAsync(L)),Number.isInteger(L)&&L>=0&&(I&&!q.has(I)&&q.put(I,L),G+L<=_)){G+=L;continue}let x=R.getRaw("Kids");if(x instanceof C.Ref&&(x=await M.fetchAsync(x)),!Array.isArray(x)){let S=R.getRaw("Type");if(S instanceof C.Ref&&(S=await M.fetchAsync(S)),(0,C.isName)(S,"Page")||!R.has("Kids")){if(G===_)return[R,null];G++;continue}throw new c.FormatError("Page dictionary kids object is not an array.")}for(let S=x.length-1;S>=0;S--)y.push(x[S])}throw new Error(`Page index ${_} not found.`)}async getAllPageDicts(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const y=[{currentNode:this.toplevelPagesDict,posInKids:0}],P=new C.RefSet,w=this._catDict.getRaw("Pages");w instanceof C.Ref&&P.put(w);const M=new Map,q=this.xref,F=this.pageIndexCache;let G=0;function R(L,x){x&&!F.has(x)&&F.put(x,G),M.set(G++,[L,x])}function I(L){if(L instanceof n.XRefEntryException&&!_)throw L;M.set(G++,[L,null])}for(;y.length>0;){const L=y.at(-1),{currentNode:x,posInKids:S}=L;let W=x.getRaw("Kids");if(W instanceof C.Ref)try{W=await q.fetchAsync(W)}catch(J){I(J);break}if(!Array.isArray(W)){I(new c.FormatError("Page dictionary kids object is not an array."));break}if(S>=W.length){y.pop();continue}const U=W[S];let z;if(U instanceof C.Ref){if(P.has(U)){I(new c.FormatError("Pages tree contains circular reference."));break}P.put(U);try{z=await q.fetchAsync(U)}catch(J){I(J);break}}else z=U;if(!(z instanceof C.Dict)){I(new c.FormatError("Page dictionary kid reference points to wrong type of object."));break}let re=z.getRaw("Type");if(re instanceof C.Ref)try{re=await q.fetchAsync(re)}catch(J){I(J);break}(0,C.isName)(re,"Page")||!z.has("Kids")?R(z,U instanceof C.Ref?U:null):y.push({currentNode:z,posInKids:0}),L.posInKids++}return M}getPageIndex(_){const y=this.pageIndexCache.get(_);if(y!==void 0)return Promise.resolve(y);const P=this.xref;function w(F){let G=0,R;return P.fetchAsync(F).then(function(I){if((0,C.isRefsEqual)(F,_)&&!(0,C.isDict)(I,"Page")&&!(I instanceof C.Dict&&!I.has("Type")&&I.has("Contents")))throw new c.FormatError("The reference does not point to a /Page dictionary.");if(!I)return null;if(!(I instanceof C.Dict))throw new c.FormatError("Node must be a dictionary.");return R=I.getRaw("Parent"),I.getAsync("Parent")}).then(function(I){if(!I)return null;if(!(I instanceof C.Dict))throw new c.FormatError("Parent must be a dictionary.");return I.getAsync("Kids")}).then(function(I){if(!I)return null;const L=[];let x=!1;for(let S=0,W=I.length;S<W;S++){const U=I[S];if(!(U instanceof C.Ref))throw new c.FormatError("Kid must be a reference.");if((0,C.isRefsEqual)(U,F)){x=!0;break}L.push(P.fetchAsync(U).then(function(z){if(!(z instanceof C.Dict))throw new c.FormatError("Kid node must be a dictionary.");z.has("Count")?G+=z.get("Count"):G++}))}if(!x)throw new c.FormatError("Kid reference not found in parent's kids.");return Promise.all(L).then(function(){return[G,R]})})}let M=0;const q=F=>w(F).then(G=>{if(!G)return this.pageIndexCache.put(_,M),M;const[R,I]=G;return M+=R,q(I)});return q(_)}get baseUrl(){const _=this._catDict.get("URI");if(_ instanceof C.Dict){const y=_.get("Base");if(typeof y=="string"){const P=(0,c.createValidAbsoluteUrl)(y,null,{tryConvertEncoding:!0});if(P)return(0,c.shadow)(this,"baseUrl",P.href)}}return(0,c.shadow)(this,"baseUrl",null)}static parseDestDictionary(_){const y=_.destDict;if(!(y instanceof C.Dict)){(0,c.warn)("parseDestDictionary: `destDict` must be a dictionary.");return}const P=_.resultObj;if(typeof P!="object"){(0,c.warn)("parseDestDictionary: `resultObj` must be an object.");return}const w=_.docBaseUrl||null;let M=y.get("A"),q,F;if(M instanceof C.Dict||(y.has("Dest")?M=y.get("Dest"):(M=y.get("AA"),M instanceof C.Dict&&(M.has("D")?M=M.get("D"):M.has("U")&&(M=M.get("U"))))),M instanceof C.Dict){const G=M.get("S");if(!(G instanceof C.Name)){(0,c.warn)("parseDestDictionary: Invalid type in Action dictionary.");return}const R=G.name;switch(R){case"ResetForm":const I=M.get("Flags"),L=((typeof I=="number"?I:0)&1)===0,x=[],S=[];for(const Z of M.get("Fields")||[])Z instanceof C.Ref?S.push(Z.toString()):typeof Z=="string"&&x.push((0,c.stringToPDFString)(Z));P.resetForm={fields:x,refs:S,include:L};break;case"URI":q=M.get("URI"),q instanceof C.Name&&(q="/"+q.name);break;case"GoTo":F=M.get("D");break;case"Launch":case"GoToR":const W=M.get("F");W instanceof C.Dict?q=W.get("F")||null:typeof W=="string"&&(q=W);let U=M.get("D");if(U&&(U instanceof C.Name&&(U=U.name),typeof q=="string")){const Z=q.split("#")[0];typeof U=="string"?q=Z+"#"+U:Array.isArray(U)&&(q=Z+"#"+JSON.stringify(U))}const z=M.get("NewWindow");typeof z=="boolean"&&(P.newWindow=z);break;case"Named":const re=M.get("N");re instanceof C.Name&&(P.action=re.name);break;case"JavaScript":const J=M.get("JS");let k;J instanceof e.BaseStream?k=J.getString():typeof J=="string"&&(k=J);const H=k&&(0,n.recoverJsURL)((0,c.stringToPDFString)(k));if(H){q=H.url,P.newWindow=H.newWindow;break}default:if(R==="JavaScript"||R==="SubmitForm")break;(0,c.warn)(`parseDestDictionary - unsupported action: "${R}".`);break}}else y.has("Dest")&&(F=y.get("Dest"));if(typeof q=="string"){const G=(0,c.createValidAbsoluteUrl)(q,w,{addDefaultProtocol:!0,tryConvertEncoding:!0});G&&(P.url=G.href),P.unsafeUrl=q}F&&(F instanceof C.Name&&(F=F.name),typeof F=="string"?P.dest=(0,c.stringToPDFString)(F):Array.isArray(F)&&(P.dest=F))}}s.Catalog=T},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NumberTree=s.NameTree=void 0;var n=u(130),c=u(2);class C{constructor(A,B,O){this.constructor===C&&(0,c.unreachable)("Cannot initialize NameOrNumberTree."),this.root=A,this.xref=B,this._type=O}getAll(){const A=new Map;if(!this.root)return A;const B=this.xref,O=new n.RefSet;O.put(this.root);const v=[this.root];for(;v.length>0;){const b=B.fetchIfRef(v.shift());if(!(b instanceof n.Dict))continue;if(b.has("Kids")){const T=b.get("Kids");if(!Array.isArray(T))continue;for(const D of T){if(O.has(D))throw new c.FormatError(`Duplicate entry in "${this._type}" tree.`);v.push(D),O.put(D)}continue}const o=b.get(this._type);if(!!Array.isArray(o))for(let T=0,D=o.length;T<D;T+=2)A.set(B.fetchIfRef(o[T]),B.fetchIfRef(o[T+1]))}return A}get(A){if(!this.root)return null;const B=this.xref;let O=B.fetchIfRef(this.root),v=0;const b=10;for(;O.has("Kids");){if(++v>b)return(0,c.warn)(`Search depth limit reached for "${this._type}" tree.`),null;const T=O.get("Kids");if(!Array.isArray(T))return null;let D=0,_=T.length-1;for(;D<=_;){const y=D+_>>1,P=B.fetchIfRef(T[y]),w=P.get("Limits");if(A<B.fetchIfRef(w[0]))_=y-1;else if(A>B.fetchIfRef(w[1]))D=y+1;else{O=P;break}}if(D>_)return null}const o=O.get(this._type);if(Array.isArray(o)){let T=0,D=o.length-2;for(;T<=D;){const _=T+D>>1,y=_+(_&1),P=B.fetchIfRef(o[y]);if(A<P)D=y-2;else if(A>P)T=y+2;else return B.fetchIfRef(o[y+1])}}return null}}class m extends C{constructor(A,B){super(A,B,"Names")}}s.NameTree=m;class e extends C{constructor(A,B){super(A,B,"Nums")}}s.NumberTree=e},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.clearGlobalCaches=C;var n=u(130),c=u(165);function C(){(0,n.clearPrimitiveCaches)(),(0,c.clearUnicodeCaches)()}},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.FileSpec=void 0;var n=u(2),c=u(132),C=u(130);function m(E){return E.has("UF")?E.get("UF"):E.has("F")?E.get("F"):E.has("Unix")?E.get("Unix"):E.has("Mac")?E.get("Mac"):E.has("DOS")?E.get("DOS"):null}class e{constructor(A,B){A instanceof C.Dict&&(this.xref=B,this.root=A,A.has("FS")&&(this.fs=A.get("FS")),this.description=A.has("Desc")?(0,n.stringToPDFString)(A.get("Desc")):"",A.has("RF")&&(0,n.warn)("Related file specifications are not supported"),this.contentAvailable=!0,A.has("EF")||(this.contentAvailable=!1,(0,n.warn)("Non-embedded file specifications are not supported")))}get filename(){if(!this._filename&&this.root){const A=m(this.root)||"unnamed";this._filename=(0,n.stringToPDFString)(A).replace(/\\\\/g,"\\").replace(/\\\//g,"/").replace(/\\/g,"/")}return this._filename}get content(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=m(this.root.get("EF")));let A=null;if(this.contentRef){const B=this.xref.fetchIfRef(this.contentRef);B instanceof c.BaseStream?A=B.getBytes():(0,n.warn)("Embedded file specification points to non-existing/invalid content")}else(0,n.warn)("Embedded file specification does not have a content");return A}get serializable(){return{filename:this.filename,content:this.content}}}s.FileSpec=e},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MetadataParser=void 0;var n=u(191);class c{constructor(m){m=this._repair(m);const E=new n.SimpleXMLParser({lowerCaseName:!0}).parseFromString(m);this._metadataMap=new Map,this._data=m,E&&this._parse(E)}_repair(m){return m.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,function(e,E){const A=E.replace(/\\([0-3])([0-7])([0-7])/g,function(O,v,b,o){return String.fromCharCode(v*64+b*8+o*1)}).replace(/&(amp|apos|gt|lt|quot);/g,function(O,v){switch(v){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${v} isn't defined.`)}),B=[];for(let O=0,v=A.length;O<v;O+=2){const b=A.charCodeAt(O)*256+A.charCodeAt(O+1);b>=32&&b<127&&b!==60&&b!==62&&b!==38?B.push(String.fromCharCode(b)):B.push("&#x"+(65536+b).toString(16).substring(1)+";")}return">"+B.join("")})}_getSequence(m){const e=m.nodeName;return e!=="rdf:bag"&&e!=="rdf:seq"&&e!=="rdf:alt"?null:m.childNodes.filter(E=>E.nodeName==="rdf:li")}_parseArray(m){if(!m.hasChildNodes())return;const[e]=m.childNodes,E=this._getSequence(e)||[];this._metadataMap.set(m.nodeName,E.map(A=>A.textContent.trim()))}_parse(m){let e=m.documentElement;if(e.nodeName!=="rdf:rdf")for(e=e.firstChild;e&&e.nodeName!=="rdf:rdf";)e=e.nextSibling;if(!(!e||e.nodeName!=="rdf:rdf"||!e.hasChildNodes())){for(const E of e.childNodes)if(E.nodeName==="rdf:description")for(const A of E.childNodes){const B=A.nodeName;switch(B){case"#text":continue;case"dc:creator":case"dc:subject":this._parseArray(A);continue}this._metadataMap.set(B,A.textContent.trim())}}}get serializable(){return{parsedData:this._metadataMap,rawData:this._data}}}s.MetadataParser=c},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.StructTreeRoot=s.StructTreePage=void 0;var n=u(130),c=u(2),C=u(195);const m=40,e={PAGE_CONTENT:"PAGE_CONTENT",STREAM_CONTENT:"STREAM_CONTENT",OBJECT:"OBJECT",ELEMENT:"ELEMENT"};class E{constructor(b){this.dict=b,this.roleMap=new Map}init(){this.readRoleMap()}readRoleMap(){const b=this.dict.get("RoleMap");b instanceof n.Dict&&b.forEach((o,T)=>{T instanceof n.Name&&this.roleMap.set(o,T.name)})}}s.StructTreeRoot=E;class A{constructor(b,o){this.tree=b,this.dict=o,this.kids=[],this.parseKids()}get role(){const b=this.dict.get("S"),o=b instanceof n.Name?b.name:"",{root:T}=this.tree;return T.roleMap.has(o)?T.roleMap.get(o):o}parseKids(){let b=null;const o=this.dict.getRaw("Pg");o instanceof n.Ref&&(b=o.toString());const T=this.dict.get("K");if(Array.isArray(T))for(const D of T){const _=this.parseKid(b,D);_&&this.kids.push(_)}else{const D=this.parseKid(b,T);D&&this.kids.push(D)}}parseKid(b,o){if(Number.isInteger(o))return this.tree.pageDict.objId!==b?null:new B({type:e.PAGE_CONTENT,mcid:o,pageObjId:b});let T=null;if(o instanceof n.Ref?T=this.dict.xref.fetch(o):o instanceof n.Dict&&(T=o),!T)return null;const D=T.getRaw("Pg");D instanceof n.Ref&&(b=D.toString());const _=T.get("Type")instanceof n.Name?T.get("Type").name:null;return _==="MCR"?this.tree.pageDict.objId!==b?null:new B({type:e.STREAM_CONTENT,refObjId:T.getRaw("Stm")instanceof n.Ref?T.getRaw("Stm").toString():null,pageObjId:b,mcid:T.get("MCID")}):_==="OBJR"?this.tree.pageDict.objId!==b?null:new B({type:e.OBJECT,refObjId:T.getRaw("Obj")instanceof n.Ref?T.getRaw("Obj").toString():null,pageObjId:b}):new B({type:e.ELEMENT,dict:T})}}class B{constructor(b){let{type:o,dict:T=null,mcid:D=null,pageObjId:_=null,refObjId:y=null}=b;this.type=o,this.dict=T,this.mcid=D,this.pageObjId=_,this.refObjId=y,this.parentNode=null}}class O{constructor(b,o){this.root=b,this.rootDict=b?b.dict:null,this.pageDict=o,this.nodes=[]}parse(){if(!this.root||!this.rootDict)return;const b=this.rootDict.get("ParentTree");if(!b)return;const o=this.pageDict.get("StructParents");if(!Number.isInteger(o))return;const D=new C.NumberTree(b,this.rootDict.xref).get(o);if(!Array.isArray(D))return;const _=new Map;for(const y of D)y instanceof n.Ref&&this.addNode(this.rootDict.xref.fetch(y),_)}addNode(b,o){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(T>m)return(0,c.warn)("StructTree MAX_DEPTH reached."),null;if(o.has(b))return o.get(b);const D=new A(this,b);o.set(b,D);const _=b.get("P");if(!_||(0,n.isName)(_.get("Type"),"StructTreeRoot"))return this.addTopLevelNode(b,D)||o.delete(b),D;const y=this.addNode(_,o,T+1);if(!y)return D;let P=!1;for(const w of y.kids)w.type===e.ELEMENT&&w.dict===b&&(w.parentNode=D,P=!0);return P||o.delete(b),D}addTopLevelNode(b,o){const T=this.rootDict.get("K");if(!T)return!1;if(T instanceof n.Dict)return T.objId!==b.objId?!1:(this.nodes[0]=o,!0);if(!Array.isArray(T))return!0;let D=!1;for(let _=0;_<T.length;_++){const y=T[_];y&&y.toString()===b.objId&&(this.nodes[_]=o,D=!0)}return D}get serializable(){function b(T,D){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(_>m){(0,c.warn)("StructTree too deep to be fully serialized.");return}const y=Object.create(null);y.role=T.role,y.children=[],D.children.push(y);const P=T.dict.get("Alt");typeof P=="string"&&(y.alt=(0,c.stringToPDFString)(P));const w=T.dict.get("Lang");typeof w=="string"&&(y.lang=(0,c.stringToPDFString)(w));for(const M of T.kids){const q=M.type===e.ELEMENT?M.parentNode:null;if(q){b(q,y,_+1);continue}else M.type===e.PAGE_CONTENT||M.type===e.STREAM_CONTENT?y.children.push({type:"content",id:`page${M.pageObjId}_mcid${M.mcid}`}):M.type===e.OBJECT&&y.children.push({type:"object",id:M.refObjId})}}const o=Object.create(null);o.children=[],o.role="Root";for(const T of this.nodes)!T||b(T,o);return o}}s.StructTreePage=O},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ObjectLoader=void 0;var n=u(130),c=u(132),C=u(131),m=u(2);function e(B){return B instanceof n.Ref||B instanceof n.Dict||B instanceof c.BaseStream||Array.isArray(B)}function E(B,O){if(B instanceof n.Dict)B=B.getRawValues();else if(B instanceof c.BaseStream)B=B.dict.getRawValues();else if(!Array.isArray(B))return;for(const v of B)e(v)&&O.push(v)}class A{constructor(O,v,b){this.dict=O,this.keys=v,this.xref=b,this.refSet=null}async load(){if(this.xref.stream.isDataLoaded)return;const{keys:O,dict:v}=this;this.refSet=new n.RefSet;const b=[];for(let o=0,T=O.length;o<T;o++){const D=v.getRaw(O[o]);D!==void 0&&b.push(D)}return this._walk(b)}async _walk(O){const v=[],b=[];for(;O.length;){let o=O.pop();if(o instanceof n.Ref){if(this.refSet.has(o))continue;try{this.refSet.put(o),o=this.xref.fetch(o)}catch(T){if(!(T instanceof C.MissingDataException)){(0,m.warn)(`ObjectLoader._walk - requesting all data: "${T}".`),this.refSet=null;const{manager:D}=this.xref.stream;return D.requestAllChunks()}v.push(o),b.push({begin:T.begin,end:T.end})}}if(o instanceof c.BaseStream){const T=o.getBaseStreams();if(T){let D=!1;for(const _ of T)_.isDataLoaded||(D=!0,b.push({begin:_.start,end:_.end}));D&&v.push(o)}}E(o,O)}if(b.length){await this.xref.stream.manager.requestRanges(b);for(const o of v)o instanceof n.Ref&&this.refSet.remove(o);return this._walk(v)}this.refSet=null}}s.ObjectLoader=A},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XFAFactory=void 0;var n=u(202),c=u(206),C=u(212),m=u(210),e=u(203),E=u(2),A=u(213),B=u(223);class O{constructor(b){try{this.root=new A.XFAParser().parse(O._createDocument(b));const o=new c.Binder(this.root);this.form=o.bind(),this.dataHandler=new C.DataHandler(this.root,o.getData()),this.form[n.$globalData].template=this.form}catch(o){(0,E.warn)(`XFA - an error occurred during parsing and binding: ${o}`)}}isValid(){return this.root&&this.form}_createPagesHelper(){const b=this.form[n.$toPages]();return new Promise((o,T)=>{const D=()=>{try{const _=b.next();_.done?o(_.value):setTimeout(D,0)}catch(_){T(_)}};setTimeout(D,0)})}async _createPages(){try{this.pages=await this._createPagesHelper(),this.dims=this.pages.children.map(b=>{const{width:o,height:T}=b.attributes.style;return[0,0,parseInt(o),parseInt(T)]})}catch(b){(0,E.warn)(`XFA - an error occurred during layout: ${b}`)}}getBoundingBox(b){return this.dims[b]}async getNumPages(){return this.pages||await this._createPages(),this.dims.length}setImages(b){this.form[n.$globalData].images=b}setFonts(b){this.form[n.$globalData].fontFinder=new m.FontFinder(b);const o=[];for(let T of this.form[n.$globalData].usedTypefaces)T=(0,e.stripQuotes)(T),this.form[n.$globalData].fontFinder.find(T)||o.push(T);return o.length>0?o:null}appendFonts(b,o){this.form[n.$globalData].fontFinder.add(b,o)}async getPages(){this.pages||await this._createPages();const b=this.pages;return this.pages=null,b}serializeData(b){return this.dataHandler.serialize(b)}static _createDocument(b){return b["/xdp:xdp"]?Object.values(b).join(""):b["xdp:xdp"]}static getRichTextAsHtml(b){if(!b||typeof b!="string")return null;try{let o=new A.XFAParser(B.XhtmlNamespace,!0).parse(b);if(!["body","xhtml"].includes(o[n.$nodeName])){const y=B.XhtmlNamespace.body({});y[n.$appendChild](o),o=y}const T=o[n.$toHTML]();if(!T.success)return null;const{html:D}=T,{attributes:_}=D;return _&&(_.class&&(_.class=_.class.filter(y=>!y.startsWith("xfa"))),_.dir="auto"),{html:D,str:o[n.$text]()}}catch(o){(0,E.warn)(`XFA - an error occurred during parsing of rich text: ${o}`)}return null}}s.XFAFactory=O},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XmlObject=s.XFAObjectArray=s.XFAObject=s.XFAAttribute=s.StringObject=s.OptionObject=s.Option10=s.Option01=s.IntegerObject=s.ContentObject=s.$uid=s.$toStyle=s.$toString=s.$toPages=s.$toHTML=s.$text=s.$tabIndex=s.$setValue=s.$setSetAttributes=s.$setId=s.$searchNode=s.$root=s.$resolvePrototypes=s.$removeChild=s.$pushPara=s.$pushGlyphs=s.$popPara=s.$onText=s.$onChildCheck=s.$onChild=s.$nsAttributes=s.$nodeName=s.$namespaceId=s.$isUsable=s.$isTransparent=s.$isThereMoreWidth=s.$isSplittable=s.$isNsAgnostic=s.$isDescendent=s.$isDataValue=s.$isCDATAXml=s.$isBindable=s.$insertAt=s.$indexOf=s.$ids=s.$hasSettableValue=s.$globalData=s.$getTemplateRoot=s.$getSubformParent=s.$getRealChildrenByNameIt=s.$getParent=s.$getNextPage=s.$getExtra=s.$getDataValue=s.$getContainedChildren=s.$getChildrenByNameIt=s.$getChildrenByName=s.$getChildrenByClass=s.$getChildren=s.$getAvailableSpace=s.$getAttributes=s.$getAttributeIt=s.$flushHTML=s.$finalize=s.$extra=s.$dump=s.$data=s.$content=s.$consumed=s.$clone=s.$cleanup=s.$cleanPage=s.$clean=s.$childrenToHTML=s.$appendChild=s.$addHTML=s.$acceptWhitespace=void 0;var n=u(203),c=u(2),C=u(131),m=u(204),e=u(205);const E=Symbol();s.$acceptWhitespace=E;const A=Symbol();s.$addHTML=A;const B=Symbol();s.$appendChild=B;const O=Symbol();s.$childrenToHTML=O;const v=Symbol();s.$clean=v;const b=Symbol();s.$cleanPage=b;const o=Symbol();s.$cleanup=o;const T=Symbol();s.$clone=T;const D=Symbol();s.$consumed=D;const _=Symbol("content");s.$content=_;const y=Symbol("data");s.$data=y;const P=Symbol();s.$dump=P;const w=Symbol("extra");s.$extra=w;const M=Symbol();s.$finalize=M;const q=Symbol();s.$flushHTML=q;const F=Symbol();s.$getAttributeIt=F;const G=Symbol();s.$getAttributes=G;const R=Symbol();s.$getAvailableSpace=R;const I=Symbol();s.$getChildrenByClass=I;const L=Symbol();s.$getChildrenByName=L;const x=Symbol();s.$getChildrenByNameIt=x;const S=Symbol();s.$getDataValue=S;const W=Symbol();s.$getExtra=W;const U=Symbol();s.$getRealChildrenByNameIt=U;const z=Symbol();s.$getChildren=z;const re=Symbol();s.$getContainedChildren=re;const J=Symbol();s.$getNextPage=J;const k=Symbol();s.$getSubformParent=k;const H=Symbol();s.$getParent=H;const Z=Symbol();s.$getTemplateRoot=Z;const Q=Symbol();s.$globalData=Q;const V=Symbol();s.$hasSettableValue=V;const Y=Symbol();s.$ids=Y;const te=Symbol();s.$indexOf=te;const $=Symbol();s.$insertAt=$;const X=Symbol();s.$isCDATAXml=X;const ne=Symbol();s.$isBindable=ne;const ce=Symbol();s.$isDataValue=ce;const se=Symbol();s.$isDescendent=se;const K=Symbol();s.$isNsAgnostic=K;const ee=Symbol();s.$isSplittable=ee;const ie=Symbol();s.$isThereMoreWidth=ie;const oe=Symbol();s.$isTransparent=oe;const le=Symbol();s.$isUsable=le;const pe=Symbol(),fe=Symbol("namespaceId");s.$namespaceId=fe;const ue=Symbol("nodeName");s.$nodeName=ue;const ge=Symbol();s.$nsAttributes=ge;const he=Symbol();s.$onChild=he;const xe=Symbol();s.$onChildCheck=xe;const ye=Symbol();s.$onText=ye;const ve=Symbol();s.$pushGlyphs=ve;const ke=Symbol();s.$popPara=ke;const Se=Symbol();s.$pushPara=Se;const be=Symbol();s.$removeChild=be;const Ee=Symbol("root");s.$root=Ee;const Oe=Symbol();s.$resolvePrototypes=Oe;const Fe=Symbol();s.$searchNode=Fe;const Re=Symbol();s.$setId=Re;const Ne=Symbol();s.$setSetAttributes=Ne;const Pe=Symbol();s.$setValue=Pe;const Ie=Symbol();s.$tabIndex=Ie;const Me=Symbol();s.$text=Me;const Te=Symbol();s.$toPages=Te;const Le=Symbol();s.$toHTML=Le;const Be=Symbol();s.$toString=Be;const Ae=Symbol();s.$toStyle=Ae;const we=Symbol("uid");s.$uid=we;const Ce=Symbol(),De=Symbol(),Ge=Symbol(),He=Symbol("_children"),Ze=Symbol(),Ye=Symbol(),je=Symbol(),it=Symbol(),dt=Symbol(),ze=Symbol(),lt=Symbol(),ot=Symbol(),ft=Symbol(),St=Symbol("parent"),Et=Symbol(),pt=Symbol(),Ht=Symbol();let Qe=0;const qe=m.NamespaceIds.datasets.id;class rt{constructor(Ue,We){let nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this[fe]=Ue,this[ue]=We,this[lt]=nt,this[St]=null,this[He]=[],this[we]=`${We}${Qe++}`,this[Q]=null}[he](Ue){if(!this[lt]||!this[xe](Ue))return!1;const We=Ue[ue],nt=this[We];if(nt instanceof tt){if(nt.push(Ue))return this[B](Ue),!0}else return nt!==null&&this[be](nt),this[We]=Ue,this[B](Ue),!0;let et="";return this.id?et=` (id: ${this.id})`:this.name&&(et=` (name: ${this.name} ${this.h.value})`),(0,c.warn)(`XFA - node "${this[ue]}"${et} has already enough "${We}"!`),!1}[xe](Ue){return this.hasOwnProperty(Ue[ue])&&Ue[fe]===this[fe]}[K](){return!1}[E](){return!1}[X](){return!1}[ne](){return!1}[ke](){this.para&&this[Z]()[w].paraStack.pop()}[Se](){this[Z]()[w].paraStack.push(this.para)}[Re](Ue){this.id&&this[fe]===m.NamespaceIds.template.id&&Ue.set(this.id,this)}[Z](){return this[Q].template}[ee](){return!1}[ie](){return!1}[B](Ue){Ue[St]=this,this[He].push(Ue),!Ue[Q]&&this[Q]&&(Ue[Q]=this[Q])}[be](Ue){const We=this[He].indexOf(Ue);this[He].splice(We,1)}[V](){return this.hasOwnProperty("value")}[Pe](Ue){}[ye](Ue){}[M](){}[v](Ue){delete this[lt],this[o]&&(Ue.clean(this[o]),delete this[o])}[te](Ue){return this[He].indexOf(Ue)}[$](Ue,We){We[St]=this,this[He].splice(Ue,0,We),!We[Q]&&this[Q]&&(We[Q]=this[Q])}[oe](){return!this.name}[pe](){return""}[Me](){return this[He].length===0?this[_]:this[He].map(Ue=>Ue[Me]()).join("")}get[Ge](){const Ue=Object.getPrototypeOf(this);if(!Ue._attributes){const We=Ue._attributes=new Set;for(const nt of Object.getOwnPropertyNames(this)){if(this[nt]===null||this[nt]instanceof rt||this[nt]instanceof tt)break;We.add(nt)}}return(0,c.shadow)(this,Ge,Ue._attributes)}[se](Ue){let We=this;for(;We;){if(We===Ue)return!0;We=We[H]()}return!1}[H](){return this[St]}[k](){return this[H]()}[z](){let Ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return Ue?this[Ue]:this[He]}[P](){const Ue=Object.create(null);this[_]&&(Ue.$content=this[_]);for(const We of Object.getOwnPropertyNames(this)){const nt=this[We];nt!==null&&(nt instanceof rt?Ue[We]=nt[P]():nt instanceof tt?nt.isEmpty()||(Ue[We]=nt.dump()):Ue[We]=nt)}return Ue}[Ae](){return null}[Le](){return n.HTMLResult.EMPTY}*[re](){for(const Ue of this[z]())yield Ue}*[it](Ue,We){for(const nt of this[re]())if(!Ue||We===Ue.has(nt[ue])){const et=this[R](),ht=nt[Le](et);ht.success||(this[w].failingNode=nt),yield ht}}[q](){return null}[A](Ue,We){this[w].children.push(Ue)}[R](){}[O](Ue){let{filter:We=null,include:nt=!0}=Ue;if(!this[w].generator)this[w].generator=this[it](We,nt);else{const et=this[R](),ht=this[w].failingNode[Le](et);if(!ht.success)return ht;ht.html&&this[A](ht.html,ht.bbox),delete this[w].failingNode}for(;;){const et=this[w].generator.next();if(et.done)break;const ht=et.value;if(!ht.success)return ht;ht.html&&this[A](ht.html,ht.bbox)}return this[w].generator=null,n.HTMLResult.EMPTY}[Ne](Ue){this[pt]=new Set(Object.keys(Ue))}[ze](Ue){const We=this[Ge],nt=this[pt];return[...Ue].filter(et=>We.has(et)&&!nt.has(et))}[Oe](Ue){let We=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const nt of this[He])nt[Et](Ue,We)}[Et](Ue,We){const nt=this[dt](Ue,We);nt?this[Ce](nt,Ue,We):this[Oe](Ue,We)}[dt](Ue,We){const{use:nt,usehref:et}=this;if(!nt&&!et)return null;let ht=null,_t=null,Gt=null,It=nt;if(et?(It=et,et.startsWith("#som(")&&et.endsWith(")")?_t=et.slice(5,et.length-1):et.startsWith(".#som(")&&et.endsWith(")")?_t=et.slice(6,et.length-1):et.startsWith("#")?Gt=et.slice(1):et.startsWith(".#")&&(Gt=et.slice(2))):nt.startsWith("#")?Gt=nt.slice(1):_t=nt,this.use=this.usehref="",Gt?ht=Ue.get(Gt):(ht=(0,e.searchNode)(Ue.get(Ee),this,_t,!0,!1),ht&&(ht=ht[0])),!ht)return(0,c.warn)(`XFA - Invalid prototype reference: ${It}.`),null;if(ht[ue]!==this[ue])return(0,c.warn)(`XFA - Incompatible prototype: ${ht[ue]} !== ${this[ue]}.`),null;if(We.has(ht))return(0,c.warn)("XFA - Cycle detected in prototypes use."),null;We.add(ht);const Ft=ht[dt](Ue,We);return Ft&&ht[Ce](Ft,Ue,We),ht[Oe](Ue,We),We.delete(ht),ht}[Ce](Ue,We,nt){if(nt.has(Ue)){(0,c.warn)("XFA - Cycle detected in prototypes use.");return}!this[_]&&Ue[_]&&(this[_]=Ue[_]),new Set(nt).add(Ue);for(const ht of this[ze](Ue[pt]))this[ht]=Ue[ht],this[pt]&&this[pt].add(ht);for(const ht of Object.getOwnPropertyNames(this)){if(this[Ge].has(ht))continue;const _t=this[ht],Gt=Ue[ht];if(_t instanceof tt){for(const It of _t[He])It[Et](We,nt);for(let It=_t[He].length,Ft=Gt[He].length;It<Ft;It++){const $t=Ue[He][It][T]();if(_t.push($t))$t[St]=this,this[He].push($t),$t[Et](We,nt);else break}continue}if(_t!==null){_t[Oe](We,nt),Gt&&_t[Ce](Gt,We,nt);continue}if(Gt!==null){const It=Gt[T]();It[St]=this,this[ht]=It,this[He].push(It),It[Et](We,nt)}}}static[Ze](Ue){return Array.isArray(Ue)?Ue.map(We=>rt[Ze](We)):typeof Ue=="object"&&Ue!==null?Object.assign({},Ue):Ue}[T](){const Ue=Object.create(Object.getPrototypeOf(this));for(const We of Object.getOwnPropertySymbols(this))try{Ue[We]=this[We]}catch{(0,c.shadow)(Ue,We,this[We])}Ue[we]=`${Ue[ue]}${Qe++}`,Ue[He]=[];for(const We of Object.getOwnPropertyNames(this)){if(this[Ge].has(We)){Ue[We]=rt[Ze](this[We]);continue}const nt=this[We];nt instanceof tt?Ue[We]=new tt(nt[ot]):Ue[We]=null}for(const We of this[He]){const nt=We[ue],et=We[T]();Ue[He].push(et),et[St]=Ue,Ue[nt]===null?Ue[nt]=et:Ue[nt][He].push(et)}return Ue}[z](){let Ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return Ue?this[He].filter(We=>We[ue]===Ue):this[He]}[I](Ue){return this[Ue]}[L](Ue,We){let nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return Array.from(this[x](Ue,We,nt))}*[x](Ue,We){let nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(Ue==="parent"){yield this[St];return}for(const et of this[He])et[ue]===Ue&&(yield et),et.name===Ue&&(yield et),(We||et[oe]())&&(yield*et[x](Ue,We,!1));nt&&this[Ge].has(Ue)&&(yield new ut(this,Ue,this[Ue]))}}s.XFAObject=rt;class tt{constructor(){let Ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1/0;this[ot]=Ue,this[He]=[]}push(Ue){return this[He].length<=this[ot]?(this[He].push(Ue),!0):((0,c.warn)(`XFA - node "${Ue[ue]}" accepts no more than ${this[ot]} children`),!1)}isEmpty(){return this[He].length===0}dump(){return this[He].length===1?this[He][0][P]():this[He].map(Ue=>Ue[P]())}[T](){const Ue=new tt(this[ot]);return Ue[He]=this[He].map(We=>We[T]()),Ue}get children(){return this[He]}clear(){this[He].length=0}}s.XFAObjectArray=tt;class ut{constructor(Ue,We,nt){this[St]=Ue,this[ue]=We,this[_]=nt,this[D]=!1,this[we]=`attribute${Qe++}`}[H](){return this[St]}[ce](){return!0}[S](){return this[_].trim()}[Pe](Ue){Ue=Ue.value||"",this[_]=Ue.toString()}[Me](){return this[_]}[se](Ue){return this[St]===Ue||this[St][se](Ue)}}s.XFAAttribute=ut;class mt extends rt{constructor(Ue,We){let nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(super(Ue,We),this[_]="",this[Ye]=null,We!=="#text"){const et=new Map;this[De]=et;for(const[ht,_t]of Object.entries(nt))et.set(ht,new ut(this,ht,_t));if(nt.hasOwnProperty(ge)){const ht=nt[ge].xfa.dataNode;ht!==void 0&&(ht==="dataGroup"?this[Ye]=!1:ht==="dataValue"&&(this[Ye]=!0))}}this[D]=!1}[Be](Ue){const We=this[ue];if(We==="#text"){Ue.push((0,C.encodeToXmlString)(this[_]));return}const nt=(0,c.utf8StringToString)(We),et=this[fe]===qe?"xfa:":"";Ue.push(`<${et}${nt}`);for(const[ht,_t]of this[De].entries()){const Gt=(0,c.utf8StringToString)(ht);Ue.push(` ${Gt}="${(0,C.encodeToXmlString)(_t[_])}"`)}if(this[Ye]!==null&&(this[Ye]?Ue.push(' xfa:dataNode="dataValue"'):Ue.push(' xfa:dataNode="dataGroup"')),!this[_]&&this[He].length===0){Ue.push("/>");return}if(Ue.push(">"),this[_])typeof this[_]=="string"?Ue.push((0,C.encodeToXmlString)(this[_])):this[_][Be](Ue);else for(const ht of this[He])ht[Be](Ue);Ue.push(`</${et}${nt}>`)}[he](Ue){if(this[_]){const We=new mt(this[fe],"#text");this[B](We),We[_]=this[_],this[_]=""}return this[B](Ue),!0}[ye](Ue){this[_]+=Ue}[M](){if(this[_]&&this[He].length>0){const Ue=new mt(this[fe],"#text");this[B](Ue),Ue[_]=this[_],delete this[_]}}[Le](){return this[ue]==="#text"?n.HTMLResult.success({name:"#text",value:this[_]}):n.HTMLResult.EMPTY}[z](){let Ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return Ue?this[He].filter(We=>We[ue]===Ue):this[He]}[G](){return this[De]}[I](Ue){const We=this[De].get(Ue);return We!==void 0?We:this[z](Ue)}*[x](Ue,We){const nt=this[De].get(Ue);nt&&(yield nt);for(const et of this[He])et[ue]===Ue&&(yield et),We&&(yield*et[x](Ue,We))}*[F](Ue,We){const nt=this[De].get(Ue);nt&&(!We||!nt[D])&&(yield nt);for(const et of this[He])yield*et[F](Ue,We)}*[U](Ue,We,nt){for(const et of this[He])et[ue]===Ue&&(!nt||!et[D])&&(yield et),We&&(yield*et[U](Ue,We,nt))}[ce](){return this[Ye]===null?this[He].length===0||this[He][0][fe]===m.NamespaceIds.xhtml.id:this[Ye]}[S](){return this[Ye]===null?this[He].length===0?this[_].trim():this[He][0][fe]===m.NamespaceIds.xhtml.id?this[He][0][Me]().trim():null:this[_].trim()}[Pe](Ue){Ue=Ue.value||"",this[_]=Ue.toString()}[P](){let Ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const We=Object.create(null);Ue&&(We.$ns=this[fe]),this[_]&&(We.$content=this[_]),We.$name=this[ue],We.children=[];for(const nt of this[He])We.children.push(nt[P](Ue));We.attributes=Object.create(null);for(const[nt,et]of this[De])We.attributes[nt]=et[_];return We}}s.XmlObject=mt;class xt extends rt{constructor(Ue,We){super(Ue,We),this[_]=""}[ye](Ue){this[_]+=Ue}[M](){}}s.ContentObject=xt;class at extends xt{constructor(Ue,We,nt){super(Ue,We),this[ft]=nt}[M](){this[_]=(0,n.getKeyword)({data:this[_],defaultValue:this[ft][0],validate:Ue=>this[ft].includes(Ue)})}[v](Ue){super[v](Ue),delete this[ft]}}s.OptionObject=at;class vt extends xt{[M](){this[_]=this[_].trim()}}s.StringObject=vt;class bt extends xt{constructor(Ue,We,nt,et){super(Ue,We),this[je]=nt,this[Ht]=et}[M](){this[_]=(0,n.getInteger)({data:this[_],defaultValue:this[je],validate:this[Ht]})}[v](Ue){super[v](Ue),delete this[je],delete this[Ht]}}s.IntegerObject=bt;class Pt extends bt{constructor(Ue,We){super(Ue,We,0,nt=>nt===1)}}s.Option01=Pt;class Tt extends bt{constructor(Ue,We){super(Ue,We,1,nt=>nt===0)}}s.Option10=Tt},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.HTMLResult=void 0,s.getBBox=T,s.getColor=o,s.getFloat=E,s.getInteger=e,s.getKeyword=A,s.getMeasurement=O,s.getRatio=v,s.getRelevant=b,s.getStringOption=B,s.stripQuotes=m;var n=u(2);const c={pt:_=>_,cm:_=>_/2.54*72,mm:_=>_/(10*2.54)*72,in:_=>_*72,px:_=>_},C=/([+-]?\d+\.?\d*)(.*)/;function m(_){return _.startsWith("'")||_.startsWith('"')?_.slice(1,_.length-1):_}function e(_){let{data:y,defaultValue:P,validate:w}=_;if(!y)return P;y=y.trim();const M=parseInt(y,10);return!isNaN(M)&&w(M)?M:P}function E(_){let{data:y,defaultValue:P,validate:w}=_;if(!y)return P;y=y.trim();const M=parseFloat(y);return!isNaN(M)&&w(M)?M:P}function A(_){let{data:y,defaultValue:P,validate:w}=_;return y?(y=y.trim(),w(y)?y:P):P}function B(_,y){return A({data:_,defaultValue:y[0],validate:P=>y.includes(P)})}function O(_){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0";if(y=y||"0",!_)return O(y);const P=_.trim().match(C);if(!P)return O(y);const[,w,M]=P,q=parseFloat(w);if(isNaN(q))return O(y);if(q===0)return 0;const F=c[M];return F?F(q):q}function v(_){if(!_)return{num:1,den:1};const y=_.trim().split(/\s*:\s*/).map(M=>parseFloat(M)).filter(M=>!isNaN(M));if(y.length===1&&y.push(1),y.length===0)return{num:1,den:1};const[P,w]=y;return{num:P,den:w}}function b(_){return _?_.trim().split(/\s+/).map(y=>({excluded:y[0]==="-",viewname:y.substring(1)})):[]}function o(_){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0],[P,w,M]=y;if(!_)return{r:P,g:w,b:M};const q=_.trim().split(/\s*,\s*/).map(F=>Math.min(Math.max(0,parseInt(F.trim(),10)),255)).map(F=>isNaN(F)?0:F);return q.length<3?{r:P,g:w,b:M}:([P,w,M]=q,{r:P,g:w,b:M})}function T(_){if(!_)return{x:-1,y:-1,width:-1,height:-1};const P=_.trim().split(/\s*,\s*/).map(G=>O(G,"-1"));if(P.length<4||P[2]<0||P[3]<0)return{x:-1,y:-1,width:-1,height:-1};const[w,M,q,F]=P;return{x:w,y:M,width:q,height:F}}class D{static get FAILURE(){return(0,n.shadow)(this,"FAILURE",new D(!1,null,null,null))}static get EMPTY(){return(0,n.shadow)(this,"EMPTY",new D(!0,null,null,null))}constructor(y,P,w,M){this.success=y,this.html=P,this.bbox=w,this.breakNode=M}isBreak(){return!!this.breakNode}static breakNode(y){return new D(!1,null,null,y)}static success(y){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return new D(!0,y,P,null)}}s.HTMLResult=D},(d,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NamespaceIds=s.$buildXFAObject=void 0;const u=Symbol();s.$buildXFAObject=u;const n={config:{id:0,check:c=>c.startsWith("http://www.xfa.org/schema/xci/")},connectionSet:{id:1,check:c=>c.startsWith("http://www.xfa.org/schema/xfa-connection-set/")},datasets:{id:2,check:c=>c.startsWith("http://www.xfa.org/schema/xfa-data/")},form:{id:3,check:c=>c.startsWith("http://www.xfa.org/schema/xfa-form/")},localeSet:{id:4,check:c=>c.startsWith("http://www.xfa.org/schema/xfa-locale-set/")},pdf:{id:5,check:c=>c==="http://ns.adobe.com/xdp/pdf/"},signature:{id:6,check:c=>c==="http://www.w3.org/2000/09/xmldsig#"},sourceSet:{id:7,check:c=>c.startsWith("http://www.xfa.org/schema/xfa-source-set/")},stylesheet:{id:8,check:c=>c==="http://www.w3.org/1999/XSL/Transform"},template:{id:9,check:c=>c.startsWith("http://www.xfa.org/schema/xfa-template/")},xdc:{id:10,check:c=>c.startsWith("http://www.xfa.org/schema/xdc/")},xdp:{id:11,check:c=>c==="http://ns.adobe.com/xdp/"},xfdf:{id:12,check:c=>c==="http://ns.adobe.com/xfdf/"},xhtml:{id:13,check:c=>c==="http://www.w3.org/1999/xhtml"},xmpmeta:{id:14,check:c=>c==="http://ns.adobe.com/xmpmeta/"}};s.NamespaceIds=n},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createDataNode=D,s.searchNode=o;var n=u(202),c=u(204),C=u(2);const m=/^[^.[]+/,e=/^[^\]]+/,E={dot:0,dotDot:1,dotHash:2,dotBracket:3,dotParen:4},A=new Map([["$data",(_,y)=>_.datasets?_.datasets.data:_],["$record",(_,y)=>(_.datasets?_.datasets.data:_)[n.$getChildren]()[0]],["$template",(_,y)=>_.template],["$connectionSet",(_,y)=>_.connectionSet],["$form",(_,y)=>_.form],["$layout",(_,y)=>_.layout],["$host",(_,y)=>_.host],["$dataWindow",(_,y)=>_.dataWindow],["$event",(_,y)=>_.event],["!",(_,y)=>_.datasets],["$xfa",(_,y)=>_],["xfa",(_,y)=>_],["$",(_,y)=>y]]),B=new WeakMap,O=c.NamespaceIds.datasets.id;function v(_){return _=_.trim(),_==="*"?1/0:parseInt(_,10)||0}function b(_,y){let P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,w=_.match(m);if(!w)return null;let[M]=w;const q=[{name:M,cacheName:"."+M,index:0,js:null,formCalc:null,operator:E.dot}];let F=M.length;for(;F<_.length;){const G=F;if(_.charAt(F++)==="["){if(w=_.slice(F).match(e),!w)return(0,C.warn)("XFA - Invalid index in SOM expression"),null;q.at(-1).index=v(w[0]),F+=w[0].length+1;continue}let I;switch(_.charAt(F)){case".":if(!y)return null;F++,I=E.dotDot;break;case"#":F++,I=E.dotHash;break;case"[":if(P)return(0,C.warn)("XFA - SOM expression contains a FormCalc subexpression which is not supported for now."),null;I=E.dotBracket;break;case"(":if(P)return(0,C.warn)("XFA - SOM expression contains a JavaScript subexpression which is not supported for now."),null;I=E.dotParen;break;default:I=E.dot;break}if(w=_.slice(F).match(m),!w)break;[M]=w,F+=M.length,q.push({name:M,cacheName:_.slice(G,F),operator:I,index:0,js:null,formCalc:null})}return q}function o(_,y,P){let w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;const q=b(P,w);if(!q)return null;const F=A.get(q[0].name);let G=0,R;F?(R=!0,_=[F(_,y)],G=1):(R=y===null,_=[y||_]);for(let I=q.length;G<I;G++){const{name:L,cacheName:x,operator:S,index:W}=q[G],U=[];for(const z of _){if(!(z instanceof n.XFAObject))continue;let re,J;if(M&&(J=B.get(z),J||(J=new Map,B.set(z,J)),re=J.get(x)),!re){switch(S){case E.dot:re=z[n.$getChildrenByName](L,!1);break;case E.dotDot:re=z[n.$getChildrenByName](L,!0);break;case E.dotHash:re=z[n.$getChildrenByClass](L),re instanceof n.XFAObjectArray?re=re.children:re=[re];break}M&&J.set(x,re)}re.length>0&&U.push(re)}if(U.length===0&&!R&&G===0){if(y=y[n.$getParent](),!y)return null;G=-1,_=[y];continue}isFinite(W)?_=U.filter(z=>W<z.length).map(z=>z[W]):_=U.flat()}return _.length===0?null:_}function T(_,y){let P=null;for(const{name:w,index:M}of y){for(let q=0,F=isFinite(M)?M:0;q<=F;q++){const G=_[n.$namespaceId]===O?-1:_[n.$namespaceId];P=new n.XmlObject(G,w),_[n.$appendChild](P)}_=P}return P}function D(_,y,P){const w=b(P);if(!w||w.some(F=>F.operator===E.dotDot))return null;const M=A.get(w[0].name);let q=0;M?(_=M(_,y),q=1):_=y||_;for(let F=w.length;q<F;q++){const{name:G,operator:R,index:I}=w[q];if(!isFinite(I))return w[q].index=0,T(_,w.slice(q));let L;switch(R){case E.dot:L=_[n.$getChildrenByName](G,!1);break;case E.dotDot:L=_[n.$getChildrenByName](G,!0);break;case E.dotHash:L=_[n.$getChildrenByClass](G),L instanceof n.XFAObjectArray?L=L.children:L=[L];break}if(L.length===0)return T(_,w.slice(q));if(I<L.length){const x=L[I];if(!(x instanceof n.XFAObject))return(0,C.warn)("XFA - Cannot create a node."),null;_=x}else return w[q].index=I-L.length,T(_,w.slice(q))}return null}},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Binder=void 0;var n=u(202),c=u(207),C=u(205),m=u(204),e=u(2);const E=m.NamespaceIds.datasets.id;function A(O){const v=new c.Text({});return v[n.$content]=O,v}class B{constructor(v){this.root=v,this.datasets=v.datasets,v.datasets&&v.datasets.data?this.data=v.datasets.data:this.data=new n.XmlObject(m.NamespaceIds.datasets.id,"data"),this.emptyMerge=this.data[n.$getChildren]().length===0,this.root.form=this.form=v.template[n.$clone]()}_isConsumeData(){return!this.emptyMerge&&this._mergeMode}_isMatchTemplate(){return!this._isConsumeData()}bind(){return this._bindElement(this.form,this.data),this.form}getData(){return this.data}_bindValue(v,b,o){if(v[n.$data]=b,v[n.$hasSettableValue]())if(b[n.$isDataValue]()){const T=b[n.$getDataValue]();v[n.$setValue](A(T))}else if(v instanceof c.Field&&v.ui&&v.ui.choiceList&&v.ui.choiceList.open==="multiSelect"){const T=b[n.$getChildren]().map(D=>D[n.$content].trim()).join(`
`);v[n.$setValue](A(T))}else this._isConsumeData()&&(0,e.warn)("XFA - Nodes haven't the same type.");else!b[n.$isDataValue]()||this._isMatchTemplate()?this._bindElement(v,b):(0,e.warn)("XFA - Nodes haven't the same type.")}_findDataByNameToConsume(v,b,o,T){if(!v)return null;let D,_;for(let y=0;y<3;y++){for(D=o[n.$getRealChildrenByNameIt](v,!1,!0);_=D.next().value,!!_;)if(b===_[n.$isDataValue]())return _;if(o[n.$namespaceId]===m.NamespaceIds.datasets.id&&o[n.$nodeName]==="data")break;o=o[n.$getParent]()}return T?(D=this.data[n.$getRealChildrenByNameIt](v,!0,!1),_=D.next().value,_||(D=this.data[n.$getAttributeIt](v,!0),_=D.next().value,_&&_[n.$isDataValue]())?_:null):null}_setProperties(v,b){if(!!v.hasOwnProperty("setProperty"))for(const{ref:o,target:T,connection:D}of v.setProperty.children){if(D||!o)continue;const _=(0,C.searchNode)(this.root,b,o,!1,!1);if(!_){(0,e.warn)(`XFA - Invalid reference: ${o}.`);continue}const[y]=_;if(!y[n.$isDescendent](this.data)){(0,e.warn)("XFA - Invalid node: must be a data node.");continue}const P=(0,C.searchNode)(this.root,v,T,!1,!1);if(!P){(0,e.warn)(`XFA - Invalid target: ${T}.`);continue}const[w]=P;if(!w[n.$isDescendent](v)){(0,e.warn)("XFA - Invalid target: must be a property or subproperty.");continue}const M=w[n.$getParent]();if(w instanceof c.SetProperty||M instanceof c.SetProperty){(0,e.warn)("XFA - Invalid target: cannot be a setProperty or one of its properties.");continue}if(w instanceof c.BindItems||M instanceof c.BindItems){(0,e.warn)("XFA - Invalid target: cannot be a bindItems or one of its properties.");continue}const q=y[n.$text](),F=w[n.$nodeName];if(w instanceof n.XFAAttribute){const G=Object.create(null);G[F]=q;const R=Reflect.construct(Object.getPrototypeOf(M).constructor,[G]);M[F]=R[F];continue}if(!w.hasOwnProperty(n.$content)){(0,e.warn)("XFA - Invalid node to use in setProperty");continue}w[n.$data]=y,w[n.$content]=q,w[n.$finalize]()}}_bindItems(v,b){if(!v.hasOwnProperty("items")||!v.hasOwnProperty("bindItems")||v.bindItems.isEmpty())return;for(const D of v.items.children)v[n.$removeChild](D);v.items.clear();const o=new c.Items({}),T=new c.Items({});v[n.$appendChild](o),v.items.push(o),v[n.$appendChild](T),v.items.push(T);for(const{ref:D,labelRef:_,valueRef:y,connection:P}of v.bindItems.children){if(P||!D)continue;const w=(0,C.searchNode)(this.root,b,D,!1,!1);if(!w){(0,e.warn)(`XFA - Invalid reference: ${D}.`);continue}for(const M of w){if(!M[n.$isDescendent](this.datasets)){(0,e.warn)(`XFA - Invalid ref (${D}): must be a datasets child.`);continue}const q=(0,C.searchNode)(this.root,M,_,!0,!1);if(!q){(0,e.warn)(`XFA - Invalid label: ${_}.`);continue}const[F]=q;if(!F[n.$isDescendent](this.datasets)){(0,e.warn)("XFA - Invalid label: must be a datasets child.");continue}const G=(0,C.searchNode)(this.root,M,y,!0,!1);if(!G){(0,e.warn)(`XFA - Invalid value: ${y}.`);continue}const[R]=G;if(!R[n.$isDescendent](this.datasets)){(0,e.warn)("XFA - Invalid value: must be a datasets child.");continue}const I=A(F[n.$text]()),L=A(R[n.$text]());o[n.$appendChild](I),o.text.push(I),T[n.$appendChild](L),T.text.push(L)}}}_bindOccurrences(v,b,o){let T;if(b.length>1&&(T=v[n.$clone](),T[n.$removeChild](T.occur),T.occur=null),this._bindValue(v,b[0],o),this._setProperties(v,b[0]),this._bindItems(v,b[0]),b.length===1)return;const D=v[n.$getParent](),_=v[n.$nodeName],y=D[n.$indexOf](v);for(let P=1,w=b.length;P<w;P++){const M=b[P],q=T[n.$clone]();D[_].push(q),D[n.$insertAt](y+P,q),this._bindValue(q,M,o),this._setProperties(q,M),this._bindItems(q,M)}}_createOccurrences(v){if(!this.emptyMerge)return;const{occur:b}=v;if(!b||b.initial<=1)return;const o=v[n.$getParent](),T=v[n.$nodeName];if(!(o[T]instanceof n.XFAObjectArray))return;let D;v.name?D=o[T].children.filter(P=>P.name===v.name).length:D=o[T].children.length;const _=o[n.$indexOf](v)+1,y=b.initial-D;if(y){const P=v[n.$clone]();P[n.$removeChild](P.occur),P.occur=null,o[T].push(P),o[n.$insertAt](_,P);for(let w=1;w<y;w++){const M=P[n.$clone]();o[T].push(M),o[n.$insertAt](_+w,M)}}}_getOccurInfo(v){const{name:b,occur:o}=v;if(!o||!b)return[1,1];const T=o.max===-1?1/0:o.max;return[o.min,T]}_setAndBind(v,b){this._setProperties(v,b),this._bindItems(v,b),this._bindElement(v,b)}_bindElement(v,b){const o=[];this._createOccurrences(v);for(const T of v[n.$getChildren]()){if(T[n.$data])continue;if(this._mergeMode===void 0&&T[n.$nodeName]==="subform"){this._mergeMode=T.mergeMode==="consumeData";const q=b[n.$getChildren]();if(q.length>0)this._bindOccurrences(T,[q[0]],null);else if(this.emptyMerge){const F=b[n.$namespaceId]===E?-1:b[n.$namespaceId],G=T[n.$data]=new n.XmlObject(F,T.name||"root");b[n.$appendChild](G),this._bindElement(T,G)}continue}if(!T[n.$isBindable]())continue;let D=!1,_=null,y=null,P=null;if(T.bind){switch(T.bind.match){case"none":this._setAndBind(T,b);continue;case"global":D=!0;break;case"dataRef":if(!T.bind.ref){(0,e.warn)(`XFA - ref is empty in node ${T[n.$nodeName]}.`),this._setAndBind(T,b);continue}y=T.bind.ref;break}T.bind.picture&&(_=T.bind.picture[n.$content])}const[w,M]=this._getOccurInfo(T);if(y)if(P=(0,C.searchNode)(this.root,b,y,!0,!1),P===null){if(P=(0,C.createDataNode)(this.data,b,y),!P)continue;this._isConsumeData()&&(P[n.$consumed]=!0),this._setAndBind(T,P);continue}else this._isConsumeData()&&(P=P.filter(q=>!q[n.$consumed])),P.length>M?P=P.slice(0,M):P.length===0&&(P=null),P&&this._isConsumeData()&&P.forEach(q=>{q[n.$consumed]=!0});else{if(!T.name){this._setAndBind(T,b);continue}if(this._isConsumeData()){const q=[];for(;q.length<M;){const F=this._findDataByNameToConsume(T.name,T[n.$hasSettableValue](),b,D);if(!F)break;F[n.$consumed]=!0,q.push(F)}P=q.length>0?q:null}else{if(P=b[n.$getRealChildrenByNameIt](T.name,!1,this.emptyMerge).next().value,!P){if(w===0){o.push(T);continue}const q=b[n.$namespaceId]===E?-1:b[n.$namespaceId];P=T[n.$data]=new n.XmlObject(q,T.name),this.emptyMerge&&(P[n.$consumed]=!0),b[n.$appendChild](P),this._setAndBind(T,P);continue}this.emptyMerge&&(P[n.$consumed]=!0),P=[P]}}P?this._bindOccurrences(T,P,_):w>0?this._setAndBind(T,b):o.push(T)}o.forEach(T=>T[n.$getParent]()[n.$removeChild](T))}}s.Binder=B},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Value=s.Text=s.TemplateNamespace=s.Template=s.SetProperty=s.Items=s.Field=s.BindItems=void 0;var n=u(202),c=u(204),C=u(208),m=u(209),e=u(203),E=u(2),A=u(210),B=u(131),O=u(205);const v=c.NamespaceIds.template.id,b="http://www.w3.org/2000/svg",o=2,T=3,D=5e3,_=/^H(\d+)$/,y=new Set(["image/gif","image/jpeg","image/jpg","image/pjpeg","image/png","image/apng","image/x-png","image/bmp","image/x-ms-bmp","image/tiff","image/tif","application/octet-stream"]),P=[[[66,77],"image/bmp"],[[255,216,255],"image/jpeg"],[[73,73,42,0],"image/tiff"],[[77,77,0,42],"image/tiff"],[[71,73,70,56,57,97],"image/gif"],[[137,80,78,71,13,10,26,10],"image/png"]];function w(Xe){if(!Xe||!Xe.border)return{w:0,h:0};const N=Xe.border[n.$getExtra]();return N?{w:N.widths[0]+N.widths[2]+N.insets[0]+N.insets[2],h:N.widths[1]+N.widths[3]+N.insets[1]+N.insets[3]}:{w:0,h:0}}function M(Xe){return Xe.margin&&(Xe.margin.topInset||Xe.margin.rightInset||Xe.margin.bottomInset||Xe.margin.leftInset)}function q(Xe,N){if(!Xe.value){const de=new Tr({});Xe[n.$appendChild](de),Xe.value=de}Xe.value[n.$setValue](N)}function*F(Xe){for(const N of Xe[n.$getChildren]()){if(N instanceof Mr){yield*N[n.$getContainedChildren]();continue}yield N}}function G(Xe){return Xe.validate&&Xe.validate.nullTest==="error"}function R(Xe){for(;Xe;){if(!Xe.traversal){Xe[n.$tabIndex]=Xe[n.$getParent]()[n.$tabIndex];return}if(Xe[n.$tabIndex])return;let N=null;for(const Je of Xe.traversal[n.$getChildren]())if(Je.operation==="next"){N=Je;break}if(!N||!N.ref){Xe[n.$tabIndex]=Xe[n.$getParent]()[n.$tabIndex];return}const de=Xe[n.$getTemplateRoot]();Xe[n.$tabIndex]=++de[n.$tabIndex];const Ve=de[n.$searchNode](N.ref,Xe);if(!Ve)return;Xe=Ve[0]}}function I(Xe,N){const de=Xe.assist;if(de){const Ve=de[n.$toHTML]();Ve&&(N.title=Ve);const st=de.role.match(_);if(st){const Ct="heading",yt=st[1];N.role=Ct,N["aria-level"]=yt}}if(Xe.layout==="table")N.role="table";else if(Xe.layout==="row")N.role="row";else{const Ve=Xe[n.$getParent]();Ve.layout==="row"&&(Ve.assist&&Ve.assist.role==="TH"?N.role="columnheader":N.role="cell")}}function L(Xe){if(!Xe.assist)return null;const N=Xe.assist;return N.speak&&N.speak[n.$content]!==""?N.speak[n.$content]:N.toolTip?N.toolTip[n.$content]:null}function x(Xe){return e.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:Object.create(null)},children:[{name:"span",attributes:{style:Object.create(null)},value:Xe}]})}function S(Xe){const N=Xe[n.$getTemplateRoot]();N[n.$extra].firstUnsplittable===null&&(N[n.$extra].firstUnsplittable=Xe,N[n.$extra].noLayoutFailure=!0)}function W(Xe){const N=Xe[n.$getTemplateRoot]();N[n.$extra].firstUnsplittable===Xe&&(N[n.$extra].noLayoutFailure=!1)}function U(Xe){if(Xe[n.$extra]||(Xe[n.$extra]=Object.create(null),Xe.targetType==="auto"))return!1;const N=Xe[n.$getTemplateRoot]();let de=null;if(Xe.target){if(de=N[n.$searchNode](Xe.target,Xe[n.$getParent]()),!de)return!1;de=de[0]}const{currentPageArea:Ve,currentContentArea:Je}=N[n.$extra];if(Xe.targetType==="pageArea")return de instanceof et||(de=null),Xe.startNew?(Xe[n.$extra].target=de||Ve,!0):de&&de!==Ve?(Xe[n.$extra].target=de,!0):!1;de instanceof he||(de=null);const st=de&&de[n.$getParent]();let Ct,yt=st;if(Xe.startNew)if(de){const At=st.contentArea.children,Rt=At.indexOf(Je),Bt=At.indexOf(de);Rt!==-1&&Rt<Bt&&(yt=null),Ct=Bt-1}else Ct=Ve.contentArea.children.indexOf(Je);else if(de&&de!==Je)Ct=st.contentArea.children.indexOf(de)-1,yt=st===Ve?null:st;else return!1;return Xe[n.$extra].target=yt,Xe[n.$extra].index=Ct,!0}function z(Xe,N,de){const Ve=Xe[n.$getTemplateRoot](),Je=Ve[n.$extra].noLayoutFailure,st=N[n.$getSubformParent];N[n.$getSubformParent]=()=>Xe,Ve[n.$extra].noLayoutFailure=!0;const Ct=N[n.$toHTML](de);Xe[n.$addHTML](Ct.html,Ct.bbox),Ve[n.$extra].noLayoutFailure=Je,N[n.$getSubformParent]=st}class re extends n.StringObject{constructor(N){super(v,"appearanceFilter"),this.id=N.id||"",this.type=(0,e.getStringOption)(N.type,["optional","required"]),this.use=N.use||"",this.usehref=N.usehref||""}}class J extends n.XFAObject{constructor(N){super(v,"arc",!0),this.circular=(0,e.getInteger)({data:N.circular,defaultValue:0,validate:de=>de===1}),this.hand=(0,e.getStringOption)(N.hand,["even","left","right"]),this.id=N.id||"",this.startAngle=(0,e.getFloat)({data:N.startAngle,defaultValue:0,validate:de=>!0}),this.sweepAngle=(0,e.getFloat)({data:N.sweepAngle,defaultValue:360,validate:de=>!0}),this.use=N.use||"",this.usehref=N.usehref||"",this.edge=null,this.fill=null}[n.$toHTML](){const N=this.edge||new Ne({}),de=N[n.$toStyle](),Ve=Object.create(null);this.fill&&this.fill.presence==="visible"?Object.assign(Ve,this.fill[n.$toStyle]()):Ve.fill="transparent",Ve.strokeWidth=(0,m.measureToString)(N.presence==="visible"?N.thickness:0),Ve.stroke=de.color;let Je;const st={xmlns:b,style:{width:"100%",height:"100%",overflow:"visible"}};if(this.sweepAngle===360)Je={name:"ellipse",attributes:{xmlns:b,cx:"50%",cy:"50%",rx:"50%",ry:"50%",style:Ve}};else{const At=this.startAngle*Math.PI/180,Rt=this.sweepAngle*Math.PI/180,Bt=this.sweepAngle>180?1:0,[Wt,zt,Yt,Jt]=[50*(1+Math.cos(At)),50*(1-Math.sin(At)),50*(1+Math.cos(At+Rt)),50*(1-Math.sin(At+Rt))];Je={name:"path",attributes:{xmlns:b,d:`M ${Wt} ${zt} A 50 50 0 ${Bt} 0 ${Yt} ${Jt}`,vectorEffect:"non-scaling-stroke",style:Ve}},Object.assign(st,{viewBox:"0 0 100 100",preserveAspectRatio:"none"})}const Ct={name:"svg",children:[Je],attributes:st},yt=this[n.$getParent]()[n.$getParent]();return M(yt)?e.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[Ct]}):(Ct.attributes.style.position="absolute",e.HTMLResult.success(Ct))}}class k extends n.XFAObject{constructor(N){super(v,"area",!0),this.colSpan=(0,e.getInteger)({data:N.colSpan,defaultValue:1,validate:de=>de>=1||de===-1}),this.id=N.id||"",this.name=N.name||"",this.relevant=(0,e.getRelevant)(N.relevant),this.use=N.use||"",this.usehref=N.usehref||"",this.x=(0,e.getMeasurement)(N.x,"0pt"),this.y=(0,e.getMeasurement)(N.y,"0pt"),this.desc=null,this.extras=null,this.area=new n.XFAObjectArray,this.draw=new n.XFAObjectArray,this.exObject=new n.XFAObjectArray,this.exclGroup=new n.XFAObjectArray,this.field=new n.XFAObjectArray,this.subform=new n.XFAObjectArray,this.subformSet=new n.XFAObjectArray}*[n.$getContainedChildren](){yield*F(this)}[n.$isTransparent](){return!0}[n.$isBindable](){return!0}[n.$addHTML](N,de){const[Ve,Je,st,Ct]=de;this[n.$extra].width=Math.max(this[n.$extra].width,Ve+st),this[n.$extra].height=Math.max(this[n.$extra].height,Je+Ct),this[n.$extra].children.push(N)}[n.$getAvailableSpace](){return this[n.$extra].availableSpace}[n.$toHTML](N){const de=(0,m.toStyle)(this,"position"),Ve={style:de,id:this[n.$uid],class:["xfaArea"]};(0,m.isPrintOnly)(this)&&Ve.class.push("xfaPrintOnly"),this.name&&(Ve.xfaName=this.name);const Je=[];this[n.$extra]={children:Je,width:0,height:0,availableSpace:N};const st=this[n.$childrenToHTML]({filter:new Set(["area","draw","field","exclGroup","subform","subformSet"]),include:!0});if(!st.success)return st.isBreak()?st:(delete this[n.$extra],e.HTMLResult.FAILURE);de.width=(0,m.measureToString)(this[n.$extra].width),de.height=(0,m.measureToString)(this[n.$extra].height);const Ct={name:"div",attributes:Ve,children:Je},yt=[this.x,this.y,this[n.$extra].width,this[n.$extra].height];return delete this[n.$extra],e.HTMLResult.success(Ct,yt)}}class H extends n.XFAObject{constructor(N){super(v,"assist",!0),this.id=N.id||"",this.role=N.role||"",this.use=N.use||"",this.usehref=N.usehref||"",this.speak=null,this.toolTip=null}[n.$toHTML](){return this.toolTip&&this.toolTip[n.$content]?this.toolTip[n.$content]:null}}class Z extends n.XFAObject{constructor(N){super(v,"barcode",!0),this.charEncoding=(0,e.getKeyword)({data:N.charEncoding?N.charEncoding.toLowerCase():"",defaultValue:"",validate:de=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(de)||de.match(/iso-8859-\d{2}/)}),this.checksum=(0,e.getStringOption)(N.checksum,["none","1mod10","1mod10_1mod11","2mod10","auto"]),this.dataColumnCount=(0,e.getInteger)({data:N.dataColumnCount,defaultValue:-1,validate:de=>de>=0}),this.dataLength=(0,e.getInteger)({data:N.dataLength,defaultValue:-1,validate:de=>de>=0}),this.dataPrep=(0,e.getStringOption)(N.dataPrep,["none","flateCompress"]),this.dataRowCount=(0,e.getInteger)({data:N.dataRowCount,defaultValue:-1,validate:de=>de>=0}),this.endChar=N.endChar||"",this.errorCorrectionLevel=(0,e.getInteger)({data:N.errorCorrectionLevel,defaultValue:-1,validate:de=>de>=0&&de<=8}),this.id=N.id||"",this.moduleHeight=(0,e.getMeasurement)(N.moduleHeight,"5mm"),this.moduleWidth=(0,e.getMeasurement)(N.moduleWidth,"0.25mm"),this.printCheckDigit=(0,e.getInteger)({data:N.printCheckDigit,defaultValue:0,validate:de=>de===1}),this.rowColumnRatio=(0,e.getRatio)(N.rowColumnRatio),this.startChar=N.startChar||"",this.textLocation=(0,e.getStringOption)(N.textLocation,["below","above","aboveEmbedded","belowEmbedded","none"]),this.truncate=(0,e.getInteger)({data:N.truncate,defaultValue:0,validate:de=>de===1}),this.type=(0,e.getStringOption)(N.type?N.type.toLowerCase():"",["aztec","codabar","code2of5industrial","code2of5interleaved","code2of5matrix","code2of5standard","code3of9","code3of9extended","code11","code49","code93","code128","code128a","code128b","code128c","code128sscc","datamatrix","ean8","ean8add2","ean8add5","ean13","ean13add2","ean13add5","ean13pwcd","fim","logmars","maxicode","msi","pdf417","pdf417macro","plessey","postauscust2","postauscust3","postausreplypaid","postausstandard","postukrm4scc","postusdpbc","postusimb","postusstandard","postus5zip","qrcode","rfid","rss14","rss14expanded","rss14limited","rss14stacked","rss14stackedomni","rss14truncated","telepen","ucc128","ucc128random","ucc128sscc","upca","upcaadd2","upcaadd5","upcapwcd","upce","upceadd2","upceadd5","upcean2","upcean5","upsmaxicode"]),this.upsMode=(0,e.getStringOption)(N.upsMode,["usCarrier","internationalCarrier","secureSymbol","standardSymbol"]),this.use=N.use||"",this.usehref=N.usehref||"",this.wideNarrowRatio=(0,e.getRatio)(N.wideNarrowRatio),this.encrypt=null,this.extras=null}}class Q extends n.XFAObject{constructor(N){super(v,"bind",!0),this.match=(0,e.getStringOption)(N.match,["once","dataRef","global","none"]),this.ref=N.ref||"",this.picture=null}}class V extends n.XFAObject{constructor(N){super(v,"bindItems"),this.connection=N.connection||"",this.labelRef=N.labelRef||"",this.ref=N.ref||"",this.valueRef=N.valueRef||""}}s.BindItems=V;class Y extends n.XFAObject{constructor(N){super(v,"bookend"),this.id=N.id||"",this.leader=N.leader||"",this.trailer=N.trailer||"",this.use=N.use||"",this.usehref=N.usehref||""}}class te extends n.Option01{constructor(N){super(v,"boolean"),this.id=N.id||"",this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||""}[n.$toHTML](N){return x(this[n.$content]===1?"1":"0")}}class $ extends n.XFAObject{constructor(N){super(v,"border",!0),this.break=(0,e.getStringOption)(N.break,["close","open"]),this.hand=(0,e.getStringOption)(N.hand,["even","left","right"]),this.id=N.id||"",this.presence=(0,e.getStringOption)(N.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,e.getRelevant)(N.relevant),this.use=N.use||"",this.usehref=N.usehref||"",this.corner=new n.XFAObjectArray(4),this.edge=new n.XFAObjectArray(4),this.extras=null,this.fill=null,this.margin=null}[n.$getExtra](){if(!this[n.$extra]){const N=this.edge.children.slice();if(N.length<4){const Je=N.at(-1)||new Ne({});for(let st=N.length;st<4;st++)N.push(Je)}const de=N.map(Je=>Je.thickness),Ve=[0,0,0,0];this.margin&&(Ve[0]=this.margin.topInset,Ve[1]=this.margin.rightInset,Ve[2]=this.margin.bottomInset,Ve[3]=this.margin.leftInset),this[n.$extra]={widths:de,insets:Ve,edges:N}}return this[n.$extra]}[n.$toStyle](){const{edges:N}=this[n.$getExtra](),de=N.map(Je=>{const st=Je[n.$toStyle]();return st.color=st.color||"#000000",st}),Ve=Object.create(null);if(this.margin&&Object.assign(Ve,this.margin[n.$toStyle]()),this.fill&&this.fill.presence==="visible"&&Object.assign(Ve,this.fill[n.$toStyle]()),this.corner.children.some(Je=>Je.radius!==0)){const Je=this.corner.children.map(st=>st[n.$toStyle]());if(Je.length===2||Je.length===3){const st=Je.at(-1);for(let Ct=Je.length;Ct<4;Ct++)Je.push(st)}Ve.borderRadius=Je.map(st=>st.radius).join(" ")}switch(this.presence){case"invisible":case"hidden":Ve.borderStyle="";break;case"inactive":Ve.borderStyle="none";break;default:Ve.borderStyle=de.map(Je=>Je.style).join(" ");break}return Ve.borderWidth=de.map(Je=>Je.width).join(" "),Ve.borderColor=de.map(Je=>Je.color).join(" "),Ve}}class X extends n.XFAObject{constructor(N){super(v,"break",!0),this.after=(0,e.getStringOption)(N.after,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.afterTarget=N.afterTarget||"",this.before=(0,e.getStringOption)(N.before,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.beforeTarget=N.beforeTarget||"",this.bookendLeader=N.bookendLeader||"",this.bookendTrailer=N.bookendTrailer||"",this.id=N.id||"",this.overflowLeader=N.overflowLeader||"",this.overflowTarget=N.overflowTarget||"",this.overflowTrailer=N.overflowTrailer||"",this.startNew=(0,e.getInteger)({data:N.startNew,defaultValue:0,validate:de=>de===1}),this.use=N.use||"",this.usehref=N.usehref||"",this.extras=null}}class ne extends n.XFAObject{constructor(N){super(v,"breakAfter",!0),this.id=N.id||"",this.leader=N.leader||"",this.startNew=(0,e.getInteger)({data:N.startNew,defaultValue:0,validate:de=>de===1}),this.target=N.target||"",this.targetType=(0,e.getStringOption)(N.targetType,["auto","contentArea","pageArea"]),this.trailer=N.trailer||"",this.use=N.use||"",this.usehref=N.usehref||"",this.script=null}}class ce extends n.XFAObject{constructor(N){super(v,"breakBefore",!0),this.id=N.id||"",this.leader=N.leader||"",this.startNew=(0,e.getInteger)({data:N.startNew,defaultValue:0,validate:de=>de===1}),this.target=N.target||"",this.targetType=(0,e.getStringOption)(N.targetType,["auto","contentArea","pageArea"]),this.trailer=N.trailer||"",this.use=N.use||"",this.usehref=N.usehref||"",this.script=null}[n.$toHTML](N){return this[n.$extra]={},e.HTMLResult.FAILURE}}class se extends n.XFAObject{constructor(N){super(v,"button",!0),this.highlight=(0,e.getStringOption)(N.highlight,["inverted","none","outline","push"]),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||"",this.extras=null}[n.$toHTML](N){const Ve=this[n.$getParent]()[n.$getParent](),Je={name:"button",attributes:{id:this[n.$uid],class:["xfaButton"],style:{}},children:[]};for(const st of Ve.event.children){if(st.activity!=="click"||!st.script)continue;const Ct=(0,B.recoverJsURL)(st.script[n.$content]);if(!Ct)continue;const yt=(0,m.fixURL)(Ct.url);!yt||Je.children.push({name:"a",attributes:{id:"link"+this[n.$uid],href:yt,newWindow:Ct.newWindow,class:["xfaLink"],style:{}},children:[]})}return e.HTMLResult.success(Je)}}class K extends n.XFAObject{constructor(N){super(v,"calculate",!0),this.id=N.id||"",this.override=(0,e.getStringOption)(N.override,["disabled","error","ignore","warning"]),this.use=N.use||"",this.usehref=N.usehref||"",this.extras=null,this.message=null,this.script=null}}class ee extends n.XFAObject{constructor(N){super(v,"caption",!0),this.id=N.id||"",this.placement=(0,e.getStringOption)(N.placement,["left","bottom","inline","right","top"]),this.presence=(0,e.getStringOption)(N.presence,["visible","hidden","inactive","invisible"]),this.reserve=Math.ceil((0,e.getMeasurement)(N.reserve)),this.use=N.use||"",this.usehref=N.usehref||"",this.extras=null,this.font=null,this.margin=null,this.para=null,this.value=null}[n.$setValue](N){q(this,N)}[n.$getExtra](N){if(!this[n.$extra]){let{width:de,height:Ve}=N;switch(this.placement){case"left":case"right":case"inline":de=this.reserve<=0?de:this.reserve;break;case"top":case"bottom":Ve=this.reserve<=0?Ve:this.reserve;break}this[n.$extra]=(0,m.layoutNode)(this,{width:de,height:Ve})}return this[n.$extra]}[n.$toHTML](N){if(!this.value)return e.HTMLResult.EMPTY;this[n.$pushPara]();const de=this.value[n.$toHTML](N).html;if(!de)return this[n.$popPara](),e.HTMLResult.EMPTY;const Ve=this.reserve;if(this.reserve<=0){const{w:Ct,h:yt}=this[n.$getExtra](N);switch(this.placement){case"left":case"right":case"inline":this.reserve=Ct;break;case"top":case"bottom":this.reserve=yt;break}}const Je=[];typeof de=="string"?Je.push({name:"#text",value:de}):Je.push(de);const st=(0,m.toStyle)(this,"font","margin","visibility");switch(this.placement){case"left":case"right":this.reserve>0&&(st.width=(0,m.measureToString)(this.reserve));break;case"top":case"bottom":this.reserve>0&&(st.height=(0,m.measureToString)(this.reserve));break}return(0,m.setPara)(this,null,de),this[n.$popPara](),this.reserve=Ve,e.HTMLResult.success({name:"div",attributes:{style:st,class:["xfaCaption"]},children:Je})}}class ie extends n.StringObject{constructor(N){super(v,"certificate"),this.id=N.id||"",this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||""}}class oe extends n.XFAObject{constructor(N){super(v,"certificates",!0),this.credentialServerPolicy=(0,e.getStringOption)(N.credentialServerPolicy,["optional","required"]),this.id=N.id||"",this.url=N.url||"",this.urlPolicy=N.urlPolicy||"",this.use=N.use||"",this.usehref=N.usehref||"",this.encryption=null,this.issuers=null,this.keyUsage=null,this.oids=null,this.signing=null,this.subjectDNs=null}}class le extends n.XFAObject{constructor(N){super(v,"checkButton",!0),this.id=N.id||"",this.mark=(0,e.getStringOption)(N.mark,["default","check","circle","cross","diamond","square","star"]),this.shape=(0,e.getStringOption)(N.shape,["square","round"]),this.size=(0,e.getMeasurement)(N.size,"10pt"),this.use=N.use||"",this.usehref=N.usehref||"",this.border=null,this.extras=null,this.margin=null}[n.$toHTML](N){const de=(0,m.toStyle)("margin"),Ve=(0,m.measureToString)(this.size);de.width=de.height=Ve;let Je,st,Ct;const yt=this[n.$getParent]()[n.$getParent](),At=yt.items.children.length&&yt.items.children[0][n.$toHTML]().html||[],Rt={on:(At[0]!==void 0?At[0]:"on").toString(),off:(At[1]!==void 0?At[1]:"off").toString()},Wt=(yt.value&&yt.value[n.$text]()||"off")===Rt.on||void 0,zt=yt[n.$getSubformParent](),Yt=yt[n.$uid];let Jt;zt instanceof Ge?(Ct=zt[n.$uid],Je="radio",st="xfaRadio",Jt=zt[n.$data]&&zt[n.$data][n.$uid]||zt[n.$uid]):(Je="checkbox",st="xfaCheckbox",Jt=yt[n.$data]&&yt[n.$data][n.$uid]||yt[n.$uid]);const Ot={name:"input",attributes:{class:[st],style:de,fieldId:Yt,dataId:Jt,type:Je,checked:Wt,xfaOn:Rt.on,xfaOff:Rt.off,"aria-label":L(yt),"aria-required":!1}};return Ct&&(Ot.attributes.name=Ct),G(yt)&&(Ot.attributes["aria-required"]=!0,Ot.attributes.required=!0),e.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Ot]})}}class pe extends n.XFAObject{constructor(N){super(v,"choiceList",!0),this.commitOn=(0,e.getStringOption)(N.commitOn,["select","exit"]),this.id=N.id||"",this.open=(0,e.getStringOption)(N.open,["userControl","always","multiSelect","onEntry"]),this.textEntry=(0,e.getInteger)({data:N.textEntry,defaultValue:0,validate:de=>de===1}),this.use=N.use||"",this.usehref=N.usehref||"",this.border=null,this.extras=null,this.margin=null}[n.$toHTML](N){const de=(0,m.toStyle)(this,"border","margin"),Je=this[n.$getParent]()[n.$getParent](),Ct={fontSize:`calc(${Je.font&&Je.font.size||10}px * var(--scale-factor))`},yt=[];if(Je.items.children.length>0){const Rt=Je.items;let Bt=0,Wt=0;Rt.children.length===2&&(Bt=Rt.children[0].save,Wt=1-Bt);const zt=Rt.children[Bt][n.$toHTML]().html,Yt=Rt.children[Wt][n.$toHTML]().html;let Jt=!1;const Ot=Je.value&&Je.value[n.$text]()||"";for(let Qt=0,Mt=zt.length;Qt<Mt;Qt++){const Lt={name:"option",attributes:{value:Yt[Qt]||zt[Qt],style:Ct},value:zt[Qt]};Yt[Qt]===Ot&&(Lt.attributes.selected=Jt=!0),yt.push(Lt)}Jt||yt.splice(0,0,{name:"option",attributes:{hidden:!0,selected:!0},value:" "})}const At={class:["xfaSelect"],fieldId:Je[n.$uid],dataId:Je[n.$data]&&Je[n.$data][n.$uid]||Je[n.$uid],style:de,"aria-label":L(Je),"aria-required":!1};return G(Je)&&(At["aria-required"]=!0,At.required=!0),this.open==="multiSelect"&&(At.multiple=!0),e.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[{name:"select",children:yt,attributes:At}]})}}class fe extends n.XFAObject{constructor(N){super(v,"color",!0),this.cSpace=(0,e.getStringOption)(N.cSpace,["SRGB"]),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||"",this.value=N.value?(0,e.getColor)(N.value):"",this.extras=null}[n.$hasSettableValue](){return!1}[n.$toStyle](){return this.value?E.Util.makeHexColor(this.value.r,this.value.g,this.value.b):null}}class ue extends n.XFAObject{constructor(N){super(v,"comb"),this.id=N.id||"",this.numberOfCells=(0,e.getInteger)({data:N.numberOfCells,defaultValue:0,validate:de=>de>=0}),this.use=N.use||"",this.usehref=N.usehref||""}}class ge extends n.XFAObject{constructor(N){super(v,"connect",!0),this.connection=N.connection||"",this.id=N.id||"",this.ref=N.ref||"",this.usage=(0,e.getStringOption)(N.usage,["exportAndImport","exportOnly","importOnly"]),this.use=N.use||"",this.usehref=N.usehref||"",this.picture=null}}class he extends n.XFAObject{constructor(N){super(v,"contentArea",!0),this.h=(0,e.getMeasurement)(N.h),this.id=N.id||"",this.name=N.name||"",this.relevant=(0,e.getRelevant)(N.relevant),this.use=N.use||"",this.usehref=N.usehref||"",this.w=(0,e.getMeasurement)(N.w),this.x=(0,e.getMeasurement)(N.x,"0pt"),this.y=(0,e.getMeasurement)(N.y,"0pt"),this.desc=null,this.extras=null}[n.$toHTML](N){const de=(0,m.measureToString)(this.x),Ve=(0,m.measureToString)(this.y),Je={left:de,top:Ve,width:(0,m.measureToString)(this.w),height:(0,m.measureToString)(this.h)},st=["xfaContentarea"];return(0,m.isPrintOnly)(this)&&st.push("xfaPrintOnly"),e.HTMLResult.success({name:"div",children:[],attributes:{style:Je,class:st,id:this[n.$uid]}})}}class xe extends n.XFAObject{constructor(N){super(v,"corner",!0),this.id=N.id||"",this.inverted=(0,e.getInteger)({data:N.inverted,defaultValue:0,validate:de=>de===1}),this.join=(0,e.getStringOption)(N.join,["square","round"]),this.presence=(0,e.getStringOption)(N.presence,["visible","hidden","inactive","invisible"]),this.radius=(0,e.getMeasurement)(N.radius),this.stroke=(0,e.getStringOption)(N.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,e.getMeasurement)(N.thickness,"0.5pt"),this.use=N.use||"",this.usehref=N.usehref||"",this.color=null,this.extras=null}[n.$toStyle](){const N=(0,m.toStyle)(this,"visibility");return N.radius=(0,m.measureToString)(this.join==="square"?0:this.radius),N}}class ye extends n.ContentObject{constructor(N){super(v,"date"),this.id=N.id||"",this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||""}[n.$finalize](){const N=this[n.$content].trim();this[n.$content]=N?new Date(N):null}[n.$toHTML](N){return x(this[n.$content]?this[n.$content].toString():"")}}class ve extends n.ContentObject{constructor(N){super(v,"dateTime"),this.id=N.id||"",this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||""}[n.$finalize](){const N=this[n.$content].trim();this[n.$content]=N?new Date(N):null}[n.$toHTML](N){return x(this[n.$content]?this[n.$content].toString():"")}}class ke extends n.XFAObject{constructor(N){super(v,"dateTimeEdit",!0),this.hScrollPolicy=(0,e.getStringOption)(N.hScrollPolicy,["auto","off","on"]),this.id=N.id||"",this.picker=(0,e.getStringOption)(N.picker,["host","none"]),this.use=N.use||"",this.usehref=N.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[n.$toHTML](N){const de=(0,m.toStyle)(this,"border","font","margin"),Ve=this[n.$getParent]()[n.$getParent](),Je={name:"input",attributes:{type:"text",fieldId:Ve[n.$uid],dataId:Ve[n.$data]&&Ve[n.$data][n.$uid]||Ve[n.$uid],class:["xfaTextfield"],style:de,"aria-label":L(Ve),"aria-required":!1}};return G(Ve)&&(Je.attributes["aria-required"]=!0,Je.attributes.required=!0),e.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Je]})}}class Se extends n.ContentObject{constructor(N){super(v,"decimal"),this.fracDigits=(0,e.getInteger)({data:N.fracDigits,defaultValue:2,validate:de=>!0}),this.id=N.id||"",this.leadDigits=(0,e.getInteger)({data:N.leadDigits,defaultValue:-1,validate:de=>!0}),this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||""}[n.$finalize](){const N=parseFloat(this[n.$content].trim());this[n.$content]=isNaN(N)?null:N}[n.$toHTML](N){return x(this[n.$content]!==null?this[n.$content].toString():"")}}class be extends n.XFAObject{constructor(N){super(v,"defaultUi",!0),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||"",this.extras=null}}class Ee extends n.XFAObject{constructor(N){super(v,"desc",!0),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||"",this.boolean=new n.XFAObjectArray,this.date=new n.XFAObjectArray,this.dateTime=new n.XFAObjectArray,this.decimal=new n.XFAObjectArray,this.exData=new n.XFAObjectArray,this.float=new n.XFAObjectArray,this.image=new n.XFAObjectArray,this.integer=new n.XFAObjectArray,this.text=new n.XFAObjectArray,this.time=new n.XFAObjectArray}}class Oe extends n.OptionObject{constructor(N){super(v,"digestMethod",["","SHA1","SHA256","SHA512","RIPEMD160"]),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||""}}class Fe extends n.XFAObject{constructor(N){super(v,"digestMethods",!0),this.id=N.id||"",this.type=(0,e.getStringOption)(N.type,["optional","required"]),this.use=N.use||"",this.usehref=N.usehref||"",this.digestMethod=new n.XFAObjectArray}}class Re extends n.XFAObject{constructor(N){super(v,"draw",!0),this.anchorType=(0,e.getStringOption)(N.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,e.getInteger)({data:N.colSpan,defaultValue:1,validate:de=>de>=1||de===-1}),this.h=N.h?(0,e.getMeasurement)(N.h):"",this.hAlign=(0,e.getStringOption)(N.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=N.id||"",this.locale=N.locale||"",this.maxH=(0,e.getMeasurement)(N.maxH,"0pt"),this.maxW=(0,e.getMeasurement)(N.maxW,"0pt"),this.minH=(0,e.getMeasurement)(N.minH,"0pt"),this.minW=(0,e.getMeasurement)(N.minW,"0pt"),this.name=N.name||"",this.presence=(0,e.getStringOption)(N.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,e.getRelevant)(N.relevant),this.rotate=(0,e.getInteger)({data:N.rotate,defaultValue:0,validate:de=>de%90===0}),this.use=N.use||"",this.usehref=N.usehref||"",this.w=N.w?(0,e.getMeasurement)(N.w):"",this.x=(0,e.getMeasurement)(N.x,"0pt"),this.y=(0,e.getMeasurement)(N.y,"0pt"),this.assist=null,this.border=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.value=null,this.setProperty=new n.XFAObjectArray}[n.$setValue](N){q(this,N)}[n.$toHTML](N){if(R(this),this.presence==="hidden"||this.presence==="inactive")return e.HTMLResult.EMPTY;(0,m.fixDimensions)(this),this[n.$pushPara]();const de=this.w,Ve=this.h,{w:Je,h:st,isBroken:Ct}=(0,m.layoutNode)(this,N);if(Je&&this.w===""){if(Ct&&this[n.$getSubformParent]()[n.$isThereMoreWidth]())return this[n.$popPara](),e.HTMLResult.FAILURE;this.w=Je}if(st&&this.h===""&&(this.h=st),S(this),!(0,C.checkDimensions)(this,N))return this.w=de,this.h=Ve,this[n.$popPara](),e.HTMLResult.FAILURE;W(this);const yt=(0,m.toStyle)(this,"font","hAlign","dimensions","position","presence","rotate","anchorType","border","margin");(0,m.setMinMaxDimensions)(this,yt),yt.margin&&(yt.padding=yt.margin,delete yt.margin);const At=["xfaDraw"];this.font&&At.push("xfaFont"),(0,m.isPrintOnly)(this)&&At.push("xfaPrintOnly");const Rt={style:yt,id:this[n.$uid],class:At};this.name&&(Rt.xfaName=this.name);const Bt={name:"div",attributes:Rt,children:[]};I(this,Rt);const Wt=(0,m.computeBbox)(this,Bt,N),zt=this.value?this.value[n.$toHTML](N).html:null;return zt===null?(this.w=de,this.h=Ve,this[n.$popPara](),e.HTMLResult.success((0,m.createWrapper)(this,Bt),Wt)):(Bt.children.push(zt),(0,m.setPara)(this,yt,zt),this.w=de,this.h=Ve,this[n.$popPara](),e.HTMLResult.success((0,m.createWrapper)(this,Bt),Wt))}}class Ne extends n.XFAObject{constructor(N){super(v,"edge",!0),this.cap=(0,e.getStringOption)(N.cap,["square","butt","round"]),this.id=N.id||"",this.presence=(0,e.getStringOption)(N.presence,["visible","hidden","inactive","invisible"]),this.stroke=(0,e.getStringOption)(N.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,e.getMeasurement)(N.thickness,"0.5pt"),this.use=N.use||"",this.usehref=N.usehref||"",this.color=null,this.extras=null}[n.$toStyle](){const N=(0,m.toStyle)(this,"visibility");if(Object.assign(N,{linecap:this.cap,width:(0,m.measureToString)(this.thickness),color:this.color?this.color[n.$toStyle]():"#000000",style:""}),this.presence!=="visible")N.style="none";else switch(this.stroke){case"solid":N.style="solid";break;case"dashDot":N.style="dashed";break;case"dashDotDot":N.style="dashed";break;case"dashed":N.style="dashed";break;case"dotted":N.style="dotted";break;case"embossed":N.style="ridge";break;case"etched":N.style="groove";break;case"lowered":N.style="inset";break;case"raised":N.style="outset";break}return N}}class Pe extends n.OptionObject{constructor(N){super(v,"encoding",["adbe.x509.rsa_sha1","adbe.pkcs7.detached","adbe.pkcs7.sha1"]),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||""}}class Ie extends n.XFAObject{constructor(N){super(v,"encodings",!0),this.id=N.id||"",this.type=(0,e.getStringOption)(N.type,["optional","required"]),this.use=N.use||"",this.usehref=N.usehref||"",this.encoding=new n.XFAObjectArray}}class Me extends n.XFAObject{constructor(N){super(v,"encrypt",!0),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||"",this.certificate=null}}class Te extends n.XFAObject{constructor(N){super(v,"encryptData",!0),this.id=N.id||"",this.operation=(0,e.getStringOption)(N.operation,["encrypt","decrypt"]),this.target=N.target||"",this.use=N.use||"",this.usehref=N.usehref||"",this.filter=null,this.manifest=null}}class Le extends n.XFAObject{constructor(N){super(v,"encryption",!0),this.id=N.id||"",this.type=(0,e.getStringOption)(N.type,["optional","required"]),this.use=N.use||"",this.usehref=N.usehref||"",this.certificate=new n.XFAObjectArray}}class Be extends n.OptionObject{constructor(N){super(v,"encryptionMethod",["","AES256-CBC","TRIPLEDES-CBC","AES128-CBC","AES192-CBC"]),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||""}}class Ae extends n.XFAObject{constructor(N){super(v,"encryptionMethods",!0),this.id=N.id||"",this.type=(0,e.getStringOption)(N.type,["optional","required"]),this.use=N.use||"",this.usehref=N.usehref||"",this.encryptionMethod=new n.XFAObjectArray}}class we extends n.XFAObject{constructor(N){super(v,"event",!0),this.activity=(0,e.getStringOption)(N.activity,["click","change","docClose","docReady","enter","exit","full","indexChange","initialize","mouseDown","mouseEnter","mouseExit","mouseUp","postExecute","postOpen","postPrint","postSave","postSign","postSubmit","preExecute","preOpen","prePrint","preSave","preSign","preSubmit","ready","validationState"]),this.id=N.id||"",this.listen=(0,e.getStringOption)(N.listen,["refOnly","refAndDescendents"]),this.name=N.name||"",this.ref=N.ref||"",this.use=N.use||"",this.usehref=N.usehref||"",this.extras=null,this.encryptData=null,this.execute=null,this.script=null,this.signData=null,this.submit=null}}class Ce extends n.ContentObject{constructor(N){super(v,"exData"),this.contentType=N.contentType||"",this.href=N.href||"",this.id=N.id||"",this.maxLength=(0,e.getInteger)({data:N.maxLength,defaultValue:-1,validate:de=>de>=-1}),this.name=N.name||"",this.rid=N.rid||"",this.transferEncoding=(0,e.getStringOption)(N.transferEncoding,["none","base64","package"]),this.use=N.use||"",this.usehref=N.usehref||""}[n.$isCDATAXml](){return this.contentType==="text/html"}[n.$onChild](N){return this.contentType==="text/html"&&N[n.$namespaceId]===c.NamespaceIds.xhtml.id?(this[n.$content]=N,!0):this.contentType==="text/xml"?(this[n.$content]=N,!0):!1}[n.$toHTML](N){return this.contentType!=="text/html"||!this[n.$content]?e.HTMLResult.EMPTY:this[n.$content][n.$toHTML](N)}}class De extends n.XFAObject{constructor(N){super(v,"exObject",!0),this.archive=N.archive||"",this.classId=N.classId||"",this.codeBase=N.codeBase||"",this.codeType=N.codeType||"",this.id=N.id||"",this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||"",this.extras=null,this.boolean=new n.XFAObjectArray,this.date=new n.XFAObjectArray,this.dateTime=new n.XFAObjectArray,this.decimal=new n.XFAObjectArray,this.exData=new n.XFAObjectArray,this.exObject=new n.XFAObjectArray,this.float=new n.XFAObjectArray,this.image=new n.XFAObjectArray,this.integer=new n.XFAObjectArray,this.text=new n.XFAObjectArray,this.time=new n.XFAObjectArray}}class Ge extends n.XFAObject{constructor(N){super(v,"exclGroup",!0),this.access=(0,e.getStringOption)(N.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=N.accessKey||"",this.anchorType=(0,e.getStringOption)(N.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,e.getInteger)({data:N.colSpan,defaultValue:1,validate:de=>de>=1||de===-1}),this.h=N.h?(0,e.getMeasurement)(N.h):"",this.hAlign=(0,e.getStringOption)(N.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=N.id||"",this.layout=(0,e.getStringOption)(N.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.maxH=(0,e.getMeasurement)(N.maxH,"0pt"),this.maxW=(0,e.getMeasurement)(N.maxW,"0pt"),this.minH=(0,e.getMeasurement)(N.minH,"0pt"),this.minW=(0,e.getMeasurement)(N.minW,"0pt"),this.name=N.name||"",this.presence=(0,e.getStringOption)(N.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,e.getRelevant)(N.relevant),this.use=N.use||"",this.usehref=N.usehref||"",this.w=N.w?(0,e.getMeasurement)(N.w):"",this.x=(0,e.getMeasurement)(N.x,"0pt"),this.y=(0,e.getMeasurement)(N.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.margin=null,this.para=null,this.traversal=null,this.validate=null,this.connect=new n.XFAObjectArray,this.event=new n.XFAObjectArray,this.field=new n.XFAObjectArray,this.setProperty=new n.XFAObjectArray}[n.$isBindable](){return!0}[n.$hasSettableValue](){return!0}[n.$setValue](N){for(const de of this.field.children){if(!de.value){const Ve=new Tr({});de[n.$appendChild](Ve),de.value=Ve}de.value[n.$setValue](N)}}[n.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[n.$extra].attempt===0&&this[n.$extra].numberInLine>0||this[n.$getParent]()[n.$isThereMoreWidth]()}[n.$isSplittable](){const N=this[n.$getSubformParent]();return N[n.$isSplittable]()?this[n.$extra]._isSplittable!==void 0?this[n.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[n.$extra]._isSplittable=!1,!1):N.layout&&N.layout.endsWith("-tb")&&N[n.$extra].numberInLine!==0?!1:(this[n.$extra]._isSplittable=!0,!0):!1}[n.$flushHTML](){return(0,C.flushHTML)(this)}[n.$addHTML](N,de){(0,C.addHTML)(this,N,de)}[n.$getAvailableSpace](){return(0,C.getAvailableSpace)(this)}[n.$toHTML](N){if(R(this),this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return e.HTMLResult.EMPTY;(0,m.fixDimensions)(this);const de=[],Ve={id:this[n.$uid],class:[]};(0,m.setAccess)(this,Ve.class),this[n.$extra]||(this[n.$extra]=Object.create(null)),Object.assign(this[n.$extra],{children:de,attributes:Ve,attempt:0,line:null,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,N.width),height:Math.min(this.h||1/0,N.height)},width:0,height:0,prevHeight:0,currentWidth:0});const Je=this[n.$isSplittable]();if(Je||S(this),!(0,C.checkDimensions)(this,N))return e.HTMLResult.FAILURE;const st=new Set(["field"]);if(this.layout.includes("row")){const Mt=this[n.$getSubformParent]().columnWidths;Array.isArray(Mt)&&Mt.length>0&&(this[n.$extra].columnWidths=Mt,this[n.$extra].currentColumn=0)}const Ct=(0,m.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),yt=["xfaExclgroup"],At=(0,m.layoutClass)(this);At&&yt.push(At),(0,m.isPrintOnly)(this)&&yt.push("xfaPrintOnly"),Ve.style=Ct,Ve.class=yt,this.name&&(Ve.xfaName=this.name),this[n.$pushPara]();const Rt=this.layout==="lr-tb"||this.layout==="rl-tb",Bt=Rt?o:1;for(;this[n.$extra].attempt<Bt;this[n.$extra].attempt++){Rt&&this[n.$extra].attempt===o-1&&(this[n.$extra].numberInLine=0);const Mt=this[n.$childrenToHTML]({filter:st,include:!0});if(Mt.success)break;if(Mt.isBreak())return this[n.$popPara](),Mt;if(Rt&&this[n.$extra].attempt===0&&this[n.$extra].numberInLine===0&&!this[n.$getTemplateRoot]()[n.$extra].noLayoutFailure){this[n.$extra].attempt=Bt;break}}if(this[n.$popPara](),Je||W(this),this[n.$extra].attempt===Bt)return Je||delete this[n.$extra],e.HTMLResult.FAILURE;let Wt=0,zt=0;this.margin&&(Wt=this.margin.leftInset+this.margin.rightInset,zt=this.margin.topInset+this.margin.bottomInset);const Yt=Math.max(this[n.$extra].width+Wt,this.w||0),Jt=Math.max(this[n.$extra].height+zt,this.h||0),Ot=[this.x,this.y,Yt,Jt];this.w===""&&(Ct.width=(0,m.measureToString)(Yt)),this.h===""&&(Ct.height=(0,m.measureToString)(Jt));const Qt={name:"div",attributes:Ve,children:de};return I(this,Ve),delete this[n.$extra],e.HTMLResult.success((0,m.createWrapper)(this,Qt),Ot)}}class He extends n.XFAObject{constructor(N){super(v,"execute"),this.connection=N.connection||"",this.executeType=(0,e.getStringOption)(N.executeType,["import","remerge"]),this.id=N.id||"",this.runAt=(0,e.getStringOption)(N.runAt,["client","both","server"]),this.use=N.use||"",this.usehref=N.usehref||""}}class Ze extends n.XFAObject{constructor(N){super(v,"extras",!0),this.id=N.id||"",this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||"",this.boolean=new n.XFAObjectArray,this.date=new n.XFAObjectArray,this.dateTime=new n.XFAObjectArray,this.decimal=new n.XFAObjectArray,this.exData=new n.XFAObjectArray,this.extras=new n.XFAObjectArray,this.float=new n.XFAObjectArray,this.image=new n.XFAObjectArray,this.integer=new n.XFAObjectArray,this.text=new n.XFAObjectArray,this.time=new n.XFAObjectArray}}class Ye extends n.XFAObject{constructor(N){super(v,"field",!0),this.access=(0,e.getStringOption)(N.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=N.accessKey||"",this.anchorType=(0,e.getStringOption)(N.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,e.getInteger)({data:N.colSpan,defaultValue:1,validate:de=>de>=1||de===-1}),this.h=N.h?(0,e.getMeasurement)(N.h):"",this.hAlign=(0,e.getStringOption)(N.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=N.id||"",this.locale=N.locale||"",this.maxH=(0,e.getMeasurement)(N.maxH,"0pt"),this.maxW=(0,e.getMeasurement)(N.maxW,"0pt"),this.minH=(0,e.getMeasurement)(N.minH,"0pt"),this.minW=(0,e.getMeasurement)(N.minW,"0pt"),this.name=N.name||"",this.presence=(0,e.getStringOption)(N.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,e.getRelevant)(N.relevant),this.rotate=(0,e.getInteger)({data:N.rotate,defaultValue:0,validate:de=>de%90===0}),this.use=N.use||"",this.usehref=N.usehref||"",this.w=N.w?(0,e.getMeasurement)(N.w):"",this.x=(0,e.getMeasurement)(N.x,"0pt"),this.y=(0,e.getMeasurement)(N.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.format=null,this.items=new n.XFAObjectArray(2),this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.validate=null,this.value=null,this.bindItems=new n.XFAObjectArray,this.connect=new n.XFAObjectArray,this.event=new n.XFAObjectArray,this.setProperty=new n.XFAObjectArray}[n.$isBindable](){return!0}[n.$setValue](N){q(this,N)}[n.$toHTML](N){if(R(this),!this.ui){this.ui=new yr({}),this.ui[n.$globalData]=this[n.$globalData],this[n.$appendChild](this.ui);let Mt;switch(this.items.children.length){case 0:Mt=new cr({}),this.ui.textEdit=Mt;break;case 1:Mt=new le({}),this.ui.checkButton=Mt;break;case 2:Mt=new pe({}),this.ui.choiceList=Mt;break}this.ui[n.$appendChild](Mt)}if(!this.ui||this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return e.HTMLResult.EMPTY;this.caption&&delete this.caption[n.$extra],this[n.$pushPara]();const de=this.caption?this.caption[n.$toHTML](N).html:null,Ve=this.w,Je=this.h;let st=0,Ct=0;this.margin&&(st=this.margin.leftInset+this.margin.rightInset,Ct=this.margin.topInset+this.margin.bottomInset);let yt=null;if(this.w===""||this.h===""){let Mt=null,Lt=null,rr=0,Dt=0;if(this.ui.checkButton)rr=Dt=this.ui.checkButton.size;else{const{w:fr,h:ar}=(0,m.layoutNode)(this,N);fr!==null?(rr=fr,Dt=ar):Dt=(0,A.getMetrics)(this.font,!0).lineNoGap}if(yt=w(this.ui[n.$getExtra]()),rr+=yt.w,Dt+=yt.h,this.caption){const{w:fr,h:ar,isBroken:nr}=this.caption[n.$getExtra](N);if(nr&&this[n.$getSubformParent]()[n.$isThereMoreWidth]())return this[n.$popPara](),e.HTMLResult.FAILURE;switch(Mt=fr,Lt=ar,this.caption.placement){case"left":case"right":case"inline":Mt+=rr;break;case"top":case"bottom":Lt+=Dt;break}}else Mt=rr,Lt=Dt;Mt&&this.w===""&&(Mt+=st,this.w=Math.min(this.maxW<=0?1/0:this.maxW,this.minW+1<Mt?Mt:this.minW)),Lt&&this.h===""&&(Lt+=Ct,this.h=Math.min(this.maxH<=0?1/0:this.maxH,this.minH+1<Lt?Lt:this.minH))}if(this[n.$popPara](),(0,m.fixDimensions)(this),S(this),!(0,C.checkDimensions)(this,N))return this.w=Ve,this.h=Je,this[n.$popPara](),e.HTMLResult.FAILURE;W(this);const At=(0,m.toStyle)(this,"font","dimensions","position","rotate","anchorType","presence","margin","hAlign");(0,m.setMinMaxDimensions)(this,At);const Rt=["xfaField"];this.font&&Rt.push("xfaFont"),(0,m.isPrintOnly)(this)&&Rt.push("xfaPrintOnly");const Bt={style:At,id:this[n.$uid],class:Rt};At.margin&&(At.padding=At.margin,delete At.margin),(0,m.setAccess)(this,Rt),this.name&&(Bt.xfaName=this.name);const Wt=[],zt={name:"div",attributes:Bt,children:Wt};I(this,Bt);const Yt=this.border?this.border[n.$toStyle]():null,Jt=(0,m.computeBbox)(this,zt,N),Ot=this.ui[n.$toHTML]().html;if(!Ot)return Object.assign(At,Yt),e.HTMLResult.success((0,m.createWrapper)(this,zt),Jt);this[n.$tabIndex]&&(Ot.children&&Ot.children[0]?Ot.children[0].attributes.tabindex=this[n.$tabIndex]:Ot.attributes.tabindex=this[n.$tabIndex]),Ot.attributes.style||(Ot.attributes.style=Object.create(null));let Qt=null;if(this.ui.button?(Ot.children.length===1&&([Qt]=Ot.children.splice(0,1)),Object.assign(Ot.attributes.style,Yt)):Object.assign(At,Yt),Wt.push(Ot),this.value){if(this.ui.imageEdit)Ot.children.push(this.value[n.$toHTML]().html);else if(!this.ui.button){let Mt="";if(this.value.exData)Mt=this.value.exData[n.$text]();else if(this.value.text)Mt=this.value.text[n.$getExtra]();else{const Lt=this.value[n.$toHTML]().html;Lt!==null&&(Mt=Lt.children[0].value)}this.ui.textEdit&&this.value.text&&this.value.text.maxChars&&(Ot.children[0].attributes.maxLength=this.value.text.maxChars),Mt&&(this.ui.numericEdit&&(Mt=parseFloat(Mt),Mt=isNaN(Mt)?"":Mt.toString()),Ot.children[0].name==="textarea"?Ot.children[0].attributes.textContent=Mt:Ot.children[0].attributes.value=Mt)}}if(!this.ui.imageEdit&&Ot.children&&Ot.children[0]&&this.h){yt=yt||w(this.ui[n.$getExtra]());let Mt=0;if(this.caption&&["top","bottom"].includes(this.caption.placement)){Mt=this.caption.reserve,Mt<=0&&(Mt=this.caption[n.$getExtra](N).h);const Lt=this.h-Mt-Ct-yt.h;Ot.children[0].attributes.style.height=(0,m.measureToString)(Lt)}else Ot.children[0].attributes.style.height="100%"}if(Qt&&Ot.children.push(Qt),!de)return Ot.attributes.class&&Ot.attributes.class.push("xfaLeft"),this.w=Ve,this.h=Je,e.HTMLResult.success((0,m.createWrapper)(this,zt),Jt);if(this.ui.button)return At.padding&&delete At.padding,de.name==="div"&&(de.name="span"),Ot.children.push(de),e.HTMLResult.success(zt,Jt);switch(this.ui.checkButton&&(de.attributes.class[0]="xfaCaptionForCheckButton"),Ot.attributes.class||(Ot.attributes.class=[]),Ot.children.splice(0,0,de),this.caption.placement){case"left":Ot.attributes.class.push("xfaLeft");break;case"right":Ot.attributes.class.push("xfaRight");break;case"top":Ot.attributes.class.push("xfaTop");break;case"bottom":Ot.attributes.class.push("xfaBottom");break;case"inline":Ot.attributes.class.push("xfaLeft");break}return this.w=Ve,this.h=Je,e.HTMLResult.success((0,m.createWrapper)(this,zt),Jt)}}s.Field=Ye;class je extends n.XFAObject{constructor(N){super(v,"fill",!0),this.id=N.id||"",this.presence=(0,e.getStringOption)(N.presence,["visible","hidden","inactive","invisible"]),this.use=N.use||"",this.usehref=N.usehref||"",this.color=null,this.extras=null,this.linear=null,this.pattern=null,this.radial=null,this.solid=null,this.stipple=null}[n.$toStyle](){const N=this[n.$getParent](),Ve=N[n.$getParent]()[n.$getParent](),Je=Object.create(null);let st="color",Ct=st;N instanceof $&&(st="background-color",Ct="background",Ve instanceof yr&&(Je.backgroundColor="white")),(N instanceof hr||N instanceof J)&&(st=Ct="fill",Je.fill="white");for(const yt of Object.getOwnPropertyNames(this)){if(yt==="extras"||yt==="color")continue;const At=this[yt];if(!(At instanceof n.XFAObject))continue;const Rt=At[n.$toStyle](this.color);return Rt&&(Je[Rt.startsWith("#")?st:Ct]=Rt),Je}if(this.color&&this.color.value){const yt=this.color[n.$toStyle]();Je[yt.startsWith("#")?st:Ct]=yt}return Je}}class it extends n.XFAObject{constructor(N){super(v,"filter",!0),this.addRevocationInfo=(0,e.getStringOption)(N.addRevocationInfo,["","required","optional","none"]),this.id=N.id||"",this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||"",this.version=(0,e.getInteger)({data:this.version,defaultValue:5,validate:de=>de>=1&&de<=5}),this.appearanceFilter=null,this.certificates=null,this.digestMethods=null,this.encodings=null,this.encryptionMethods=null,this.handler=null,this.lockDocument=null,this.mdp=null,this.reasons=null,this.timeStamp=null}}class dt extends n.ContentObject{constructor(N){super(v,"float"),this.id=N.id||"",this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||""}[n.$finalize](){const N=parseFloat(this[n.$content].trim());this[n.$content]=isNaN(N)?null:N}[n.$toHTML](N){return x(this[n.$content]!==null?this[n.$content].toString():"")}}class ze extends n.XFAObject{constructor(N){super(v,"font",!0),this.baselineShift=(0,e.getMeasurement)(N.baselineShift),this.fontHorizontalScale=(0,e.getFloat)({data:N.fontHorizontalScale,defaultValue:100,validate:de=>de>=0}),this.fontVerticalScale=(0,e.getFloat)({data:N.fontVerticalScale,defaultValue:100,validate:de=>de>=0}),this.id=N.id||"",this.kerningMode=(0,e.getStringOption)(N.kerningMode,["none","pair"]),this.letterSpacing=(0,e.getMeasurement)(N.letterSpacing,"0"),this.lineThrough=(0,e.getInteger)({data:N.lineThrough,defaultValue:0,validate:de=>de===1||de===2}),this.lineThroughPeriod=(0,e.getStringOption)(N.lineThroughPeriod,["all","word"]),this.overline=(0,e.getInteger)({data:N.overline,defaultValue:0,validate:de=>de===1||de===2}),this.overlinePeriod=(0,e.getStringOption)(N.overlinePeriod,["all","word"]),this.posture=(0,e.getStringOption)(N.posture,["normal","italic"]),this.size=(0,e.getMeasurement)(N.size,"10pt"),this.typeface=N.typeface||"Courier",this.underline=(0,e.getInteger)({data:N.underline,defaultValue:0,validate:de=>de===1||de===2}),this.underlinePeriod=(0,e.getStringOption)(N.underlinePeriod,["all","word"]),this.use=N.use||"",this.usehref=N.usehref||"",this.weight=(0,e.getStringOption)(N.weight,["normal","bold"]),this.extras=null,this.fill=null}[n.$clean](N){super[n.$clean](N),this[n.$globalData].usedTypefaces.add(this.typeface)}[n.$toStyle](){const N=(0,m.toStyle)(this,"fill"),de=N.color;return de&&(de==="#000000"?delete N.color:de.startsWith("#")||(N.background=de,N.backgroundClip="text",N.color="transparent")),this.baselineShift&&(N.verticalAlign=(0,m.measureToString)(this.baselineShift)),N.fontKerning=this.kerningMode==="none"?"none":"normal",N.letterSpacing=(0,m.measureToString)(this.letterSpacing),this.lineThrough!==0&&(N.textDecoration="line-through",this.lineThrough===2&&(N.textDecorationStyle="double")),this.overline!==0&&(N.textDecoration="overline",this.overline===2&&(N.textDecorationStyle="double")),N.fontStyle=this.posture,N.fontSize=(0,m.measureToString)(.99*this.size),(0,m.setFontFamily)(this,this,this[n.$globalData].fontFinder,N),this.underline!==0&&(N.textDecoration="underline",this.underline===2&&(N.textDecorationStyle="double")),N.fontWeight=this.weight,N}}class lt extends n.XFAObject{constructor(N){super(v,"format",!0),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||"",this.extras=null,this.picture=null}}class ot extends n.StringObject{constructor(N){super(v,"handler"),this.id=N.id||"",this.type=(0,e.getStringOption)(N.type,["optional","required"]),this.use=N.use||"",this.usehref=N.usehref||""}}class ft extends n.XFAObject{constructor(N){super(v,"hyphenation"),this.excludeAllCaps=(0,e.getInteger)({data:N.excludeAllCaps,defaultValue:0,validate:de=>de===1}),this.excludeInitialCap=(0,e.getInteger)({data:N.excludeInitialCap,defaultValue:0,validate:de=>de===1}),this.hyphenate=(0,e.getInteger)({data:N.hyphenate,defaultValue:0,validate:de=>de===1}),this.id=N.id||"",this.pushCharacterCount=(0,e.getInteger)({data:N.pushCharacterCount,defaultValue:3,validate:de=>de>=0}),this.remainCharacterCount=(0,e.getInteger)({data:N.remainCharacterCount,defaultValue:3,validate:de=>de>=0}),this.use=N.use||"",this.usehref=N.usehref||"",this.wordCharacterCount=(0,e.getInteger)({data:N.wordCharacterCount,defaultValue:7,validate:de=>de>=0})}}class St extends n.StringObject{constructor(N){super(v,"image"),this.aspect=(0,e.getStringOption)(N.aspect,["fit","actual","height","none","width"]),this.contentType=N.contentType||"",this.href=N.href||"",this.id=N.id||"",this.name=N.name||"",this.transferEncoding=(0,e.getStringOption)(N.transferEncoding,["base64","none","package"]),this.use=N.use||"",this.usehref=N.usehref||""}[n.$toHTML](){if(this.contentType&&!y.has(this.contentType.toLowerCase()))return e.HTMLResult.EMPTY;let N=this[n.$globalData].images&&this[n.$globalData].images.get(this.href);if(!N&&(this.href||!this[n.$content])||(!N&&this.transferEncoding==="base64"&&(N=(0,E.stringToBytes)(atob(this[n.$content]))),!N))return e.HTMLResult.EMPTY;if(!this.contentType){for(const[st,Ct]of P)if(N.length>st.length&&st.every((yt,At)=>yt===N[At])){this.contentType=Ct;break}if(!this.contentType)return e.HTMLResult.EMPTY}const de=new Blob([N],{type:this.contentType});let Ve;switch(this.aspect){case"fit":case"actual":break;case"height":Ve={height:"100%",objectFit:"fill"};break;case"none":Ve={width:"100%",height:"100%",objectFit:"fill"};break;case"width":Ve={width:"100%",objectFit:"fill"};break}const Je=this[n.$getParent]();return e.HTMLResult.success({name:"img",attributes:{class:["xfaImage"],style:Ve,src:URL.createObjectURL(de),alt:Je?L(Je[n.$getParent]()):null}})}}class Et extends n.XFAObject{constructor(N){super(v,"imageEdit",!0),this.data=(0,e.getStringOption)(N.data,["link","embed"]),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||"",this.border=null,this.extras=null,this.margin=null}[n.$toHTML](N){return this.data==="embed"?e.HTMLResult.success({name:"div",children:[],attributes:{}}):e.HTMLResult.EMPTY}}class pt extends n.ContentObject{constructor(N){super(v,"integer"),this.id=N.id||"",this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||""}[n.$finalize](){const N=parseInt(this[n.$content].trim(),10);this[n.$content]=isNaN(N)?null:N}[n.$toHTML](N){return x(this[n.$content]!==null?this[n.$content].toString():"")}}class Ht extends n.XFAObject{constructor(N){super(v,"issuers",!0),this.id=N.id||"",this.type=(0,e.getStringOption)(N.type,["optional","required"]),this.use=N.use||"",this.usehref=N.usehref||"",this.certificate=new n.XFAObjectArray}}class Qe extends n.XFAObject{constructor(N){super(v,"items",!0),this.id=N.id||"",this.name=N.name||"",this.presence=(0,e.getStringOption)(N.presence,["visible","hidden","inactive","invisible"]),this.ref=N.ref||"",this.save=(0,e.getInteger)({data:N.save,defaultValue:0,validate:de=>de===1}),this.use=N.use||"",this.usehref=N.usehref||"",this.boolean=new n.XFAObjectArray,this.date=new n.XFAObjectArray,this.dateTime=new n.XFAObjectArray,this.decimal=new n.XFAObjectArray,this.exData=new n.XFAObjectArray,this.float=new n.XFAObjectArray,this.image=new n.XFAObjectArray,this.integer=new n.XFAObjectArray,this.text=new n.XFAObjectArray,this.time=new n.XFAObjectArray}[n.$toHTML](){const N=[];for(const de of this[n.$getChildren]())N.push(de[n.$text]());return e.HTMLResult.success(N)}}s.Items=Qe;class qe extends n.XFAObject{constructor(N){super(v,"keep",!0),this.id=N.id||"";const de=["none","contentArea","pageArea"];this.intact=(0,e.getStringOption)(N.intact,de),this.next=(0,e.getStringOption)(N.next,de),this.previous=(0,e.getStringOption)(N.previous,de),this.use=N.use||"",this.usehref=N.usehref||"",this.extras=null}}class rt extends n.XFAObject{constructor(N){super(v,"keyUsage");const de=["","yes","no"];this.crlSign=(0,e.getStringOption)(N.crlSign,de),this.dataEncipherment=(0,e.getStringOption)(N.dataEncipherment,de),this.decipherOnly=(0,e.getStringOption)(N.decipherOnly,de),this.digitalSignature=(0,e.getStringOption)(N.digitalSignature,de),this.encipherOnly=(0,e.getStringOption)(N.encipherOnly,de),this.id=N.id||"",this.keyAgreement=(0,e.getStringOption)(N.keyAgreement,de),this.keyCertSign=(0,e.getStringOption)(N.keyCertSign,de),this.keyEncipherment=(0,e.getStringOption)(N.keyEncipherment,de),this.nonRepudiation=(0,e.getStringOption)(N.nonRepudiation,de),this.type=(0,e.getStringOption)(N.type,["optional","required"]),this.use=N.use||"",this.usehref=N.usehref||""}}class tt extends n.XFAObject{constructor(N){super(v,"line",!0),this.hand=(0,e.getStringOption)(N.hand,["even","left","right"]),this.id=N.id||"",this.slope=(0,e.getStringOption)(N.slope,["\\","/"]),this.use=N.use||"",this.usehref=N.usehref||"",this.edge=null}[n.$toHTML](){const N=this[n.$getParent]()[n.$getParent](),de=this.edge||new Ne({}),Ve=de[n.$toStyle](),Je=Object.create(null),st=de.presence==="visible"?de.thickness:0;Je.strokeWidth=(0,m.measureToString)(st),Je.stroke=Ve.color;let Ct,yt,At,Rt,Bt="100%",Wt="100%";N.w<=st?([Ct,yt,At,Rt]=["50%",0,"50%","100%"],Bt=Je.strokeWidth):N.h<=st?([Ct,yt,At,Rt]=[0,"50%","100%","50%"],Wt=Je.strokeWidth):this.slope==="\\"?[Ct,yt,At,Rt]=[0,0,"100%","100%"]:[Ct,yt,At,Rt]=[0,"100%","100%",0];const Yt={name:"svg",children:[{name:"line",attributes:{xmlns:b,x1:Ct,y1:yt,x2:At,y2:Rt,style:Je}}],attributes:{xmlns:b,width:Bt,height:Wt,style:{overflow:"visible"}}};return M(N)?e.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[Yt]}):(Yt.attributes.style.position="absolute",e.HTMLResult.success(Yt))}}class ut extends n.XFAObject{constructor(N){super(v,"linear",!0),this.id=N.id||"",this.type=(0,e.getStringOption)(N.type,["toRight","toBottom","toLeft","toTop"]),this.use=N.use||"",this.usehref=N.usehref||"",this.color=null,this.extras=null}[n.$toStyle](N){N=N?N[n.$toStyle]():"#FFFFFF";const de=this.type.replace(/([RBLT])/," $1").toLowerCase(),Ve=this.color?this.color[n.$toStyle]():"#000000";return`linear-gradient(${de}, ${N}, ${Ve})`}}class mt extends n.ContentObject{constructor(N){super(v,"lockDocument"),this.id=N.id||"",this.type=(0,e.getStringOption)(N.type,["optional","required"]),this.use=N.use||"",this.usehref=N.usehref||""}[n.$finalize](){this[n.$content]=(0,e.getStringOption)(this[n.$content],["auto","0","1"])}}class xt extends n.XFAObject{constructor(N){super(v,"manifest",!0),this.action=(0,e.getStringOption)(N.action,["include","all","exclude"]),this.id=N.id||"",this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||"",this.extras=null,this.ref=new n.XFAObjectArray}}class at extends n.XFAObject{constructor(N){super(v,"margin",!0),this.bottomInset=(0,e.getMeasurement)(N.bottomInset,"0"),this.id=N.id||"",this.leftInset=(0,e.getMeasurement)(N.leftInset,"0"),this.rightInset=(0,e.getMeasurement)(N.rightInset,"0"),this.topInset=(0,e.getMeasurement)(N.topInset,"0"),this.use=N.use||"",this.usehref=N.usehref||"",this.extras=null}[n.$toStyle](){return{margin:(0,m.measureToString)(this.topInset)+" "+(0,m.measureToString)(this.rightInset)+" "+(0,m.measureToString)(this.bottomInset)+" "+(0,m.measureToString)(this.leftInset)}}}class vt extends n.XFAObject{constructor(N){super(v,"mdp"),this.id=N.id||"",this.permissions=(0,e.getInteger)({data:N.permissions,defaultValue:2,validate:de=>de===1||de===3}),this.signatureType=(0,e.getStringOption)(N.signatureType,["filler","author"]),this.use=N.use||"",this.usehref=N.usehref||""}}class bt extends n.XFAObject{constructor(N){super(v,"medium"),this.id=N.id||"",this.imagingBBox=(0,e.getBBox)(N.imagingBBox),this.long=(0,e.getMeasurement)(N.long),this.orientation=(0,e.getStringOption)(N.orientation,["portrait","landscape"]),this.short=(0,e.getMeasurement)(N.short),this.stock=N.stock||"",this.trayIn=(0,e.getStringOption)(N.trayIn,["auto","delegate","pageFront"]),this.trayOut=(0,e.getStringOption)(N.trayOut,["auto","delegate"]),this.use=N.use||"",this.usehref=N.usehref||""}}class Pt extends n.XFAObject{constructor(N){super(v,"message",!0),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||"",this.text=new n.XFAObjectArray}}class Tt extends n.XFAObject{constructor(N){super(v,"numericEdit",!0),this.hScrollPolicy=(0,e.getStringOption)(N.hScrollPolicy,["auto","off","on"]),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[n.$toHTML](N){const de=(0,m.toStyle)(this,"border","font","margin"),Ve=this[n.$getParent]()[n.$getParent](),Je={name:"input",attributes:{type:"text",fieldId:Ve[n.$uid],dataId:Ve[n.$data]&&Ve[n.$data][n.$uid]||Ve[n.$uid],class:["xfaTextfield"],style:de,"aria-label":L(Ve),"aria-required":!1}};return G(Ve)&&(Je.attributes["aria-required"]=!0,Je.attributes.required=!0),e.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Je]})}}class wt extends n.XFAObject{constructor(N){super(v,"occur",!0),this.id=N.id||"",this.initial=N.initial!==""?(0,e.getInteger)({data:N.initial,defaultValue:"",validate:de=>!0}):"",this.max=N.max!==""?(0,e.getInteger)({data:N.max,defaultValue:1,validate:de=>!0}):"",this.min=N.min!==""?(0,e.getInteger)({data:N.min,defaultValue:1,validate:de=>!0}):"",this.use=N.use||"",this.usehref=N.usehref||"",this.extras=null}[n.$clean](){const N=this[n.$getParent](),de=this.min;this.min===""&&(this.min=N instanceof et||N instanceof ht?0:1),this.max===""&&(de===""?this.max=N instanceof et||N instanceof ht?-1:1:this.max=this.min),this.max!==-1&&this.max<this.min&&(this.max=this.min),this.initial===""&&(this.initial=N instanceof Nr?1:this.min)}}class Ue extends n.StringObject{constructor(N){super(v,"oid"),this.id=N.id||"",this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||""}}class We extends n.XFAObject{constructor(N){super(v,"oids",!0),this.id=N.id||"",this.type=(0,e.getStringOption)(N.type,["optional","required"]),this.use=N.use||"",this.usehref=N.usehref||"",this.oid=new n.XFAObjectArray}}class nt extends n.XFAObject{constructor(N){super(v,"overflow"),this.id=N.id||"",this.leader=N.leader||"",this.target=N.target||"",this.trailer=N.trailer||"",this.use=N.use||"",this.usehref=N.usehref||""}[n.$getExtra](){if(!this[n.$extra]){const N=this[n.$getParent](),de=this[n.$getTemplateRoot](),Ve=de[n.$searchNode](this.target,N),Je=de[n.$searchNode](this.leader,N),st=de[n.$searchNode](this.trailer,N);this[n.$extra]={target:Ve&&Ve[0]||null,leader:Je&&Je[0]||null,trailer:st&&st[0]||null,addLeader:!1,addTrailer:!1}}return this[n.$extra]}}class et extends n.XFAObject{constructor(N){super(v,"pageArea",!0),this.blankOrNotBlank=(0,e.getStringOption)(N.blankOrNotBlank,["any","blank","notBlank"]),this.id=N.id||"",this.initialNumber=(0,e.getInteger)({data:N.initialNumber,defaultValue:1,validate:de=>!0}),this.name=N.name||"",this.numbered=(0,e.getInteger)({data:N.numbered,defaultValue:1,validate:de=>!0}),this.oddOrEven=(0,e.getStringOption)(N.oddOrEven,["any","even","odd"]),this.pagePosition=(0,e.getStringOption)(N.pagePosition,["any","first","last","only","rest"]),this.relevant=(0,e.getRelevant)(N.relevant),this.use=N.use||"",this.usehref=N.usehref||"",this.desc=null,this.extras=null,this.medium=null,this.occur=null,this.area=new n.XFAObjectArray,this.contentArea=new n.XFAObjectArray,this.draw=new n.XFAObjectArray,this.exclGroup=new n.XFAObjectArray,this.field=new n.XFAObjectArray,this.subform=new n.XFAObjectArray}[n.$isUsable](){return this[n.$extra]?!this.occur||this.occur.max===-1||this[n.$extra].numberOfUse<this.occur.max:(this[n.$extra]={numberOfUse:0},!0)}[n.$cleanPage](){delete this[n.$extra]}[n.$getNextPage](){this[n.$extra]||(this[n.$extra]={numberOfUse:0});const N=this[n.$getParent]();return N.relation==="orderedOccurrence"&&this[n.$isUsable]()?(this[n.$extra].numberOfUse+=1,this):N[n.$getNextPage]()}[n.$getAvailableSpace](){return this[n.$extra].space||{width:0,height:0}}[n.$toHTML](){this[n.$extra]||(this[n.$extra]={numberOfUse:1});const N=[];this[n.$extra].children=N;const de=Object.create(null);if(this.medium&&this.medium.short&&this.medium.long){if(de.width=(0,m.measureToString)(this.medium.short),de.height=(0,m.measureToString)(this.medium.long),this[n.$extra].space={width:this.medium.short,height:this.medium.long},this.medium.orientation==="landscape"){const Ve=de.width;de.width=de.height,de.height=Ve,this[n.$extra].space={width:this.medium.long,height:this.medium.short}}}else(0,E.warn)("XFA - No medium specified in pageArea: please file a bug.");return this[n.$childrenToHTML]({filter:new Set(["area","draw","field","subform"]),include:!0}),this[n.$childrenToHTML]({filter:new Set(["contentArea"]),include:!0}),e.HTMLResult.success({name:"div",children:N,attributes:{class:["xfaPage"],id:this[n.$uid],style:de,xfaName:this.name}})}}class ht extends n.XFAObject{constructor(N){super(v,"pageSet",!0),this.duplexImposition=(0,e.getStringOption)(N.duplexImposition,["longEdge","shortEdge"]),this.id=N.id||"",this.name=N.name||"",this.relation=(0,e.getStringOption)(N.relation,["orderedOccurrence","duplexPaginated","simplexPaginated"]),this.relevant=(0,e.getRelevant)(N.relevant),this.use=N.use||"",this.usehref=N.usehref||"",this.extras=null,this.occur=null,this.pageArea=new n.XFAObjectArray,this.pageSet=new n.XFAObjectArray}[n.$cleanPage](){for(const N of this.pageArea.children)N[n.$cleanPage]();for(const N of this.pageSet.children)N[n.$cleanPage]()}[n.$isUsable](){return!this.occur||this.occur.max===-1||this[n.$extra].numberOfUse<this.occur.max}[n.$getNextPage](){if(this[n.$extra]||(this[n.$extra]={numberOfUse:1,pageIndex:-1,pageSetIndex:-1}),this.relation==="orderedOccurrence"){if(this[n.$extra].pageIndex+1<this.pageArea.children.length)return this[n.$extra].pageIndex+=1,this.pageArea.children[this[n.$extra].pageIndex][n.$getNextPage]();if(this[n.$extra].pageSetIndex+1<this.pageSet.children.length)return this[n.$extra].pageSetIndex+=1,this.pageSet.children[this[n.$extra].pageSetIndex][n.$getNextPage]();if(this[n.$isUsable]())return this[n.$extra].numberOfUse+=1,this[n.$extra].pageIndex=-1,this[n.$extra].pageSetIndex=-1,this[n.$getNextPage]();const st=this[n.$getParent]();return st instanceof ht?st[n.$getNextPage]():(this[n.$cleanPage](),this[n.$getNextPage]())}const N=this[n.$getTemplateRoot]()[n.$extra].pageNumber,de=N%2===0?"even":"odd",Ve=N===0?"first":"rest";let Je=this.pageArea.children.find(st=>st.oddOrEven===de&&st.pagePosition===Ve);return Je||(Je=this.pageArea.children.find(st=>st.oddOrEven==="any"&&st.pagePosition===Ve),Je)||(Je=this.pageArea.children.find(st=>st.oddOrEven==="any"&&st.pagePosition==="any"),Je)?Je:this.pageArea.children[0]}}class _t extends n.XFAObject{constructor(N){super(v,"para",!0),this.hAlign=(0,e.getStringOption)(N.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=N.id||"",this.lineHeight=N.lineHeight?(0,e.getMeasurement)(N.lineHeight,"0pt"):"",this.marginLeft=N.marginLeft?(0,e.getMeasurement)(N.marginLeft,"0pt"):"",this.marginRight=N.marginRight?(0,e.getMeasurement)(N.marginRight,"0pt"):"",this.orphans=(0,e.getInteger)({data:N.orphans,defaultValue:0,validate:de=>de>=0}),this.preserve=N.preserve||"",this.radixOffset=N.radixOffset?(0,e.getMeasurement)(N.radixOffset,"0pt"):"",this.spaceAbove=N.spaceAbove?(0,e.getMeasurement)(N.spaceAbove,"0pt"):"",this.spaceBelow=N.spaceBelow?(0,e.getMeasurement)(N.spaceBelow,"0pt"):"",this.tabDefault=N.tabDefault?(0,e.getMeasurement)(this.tabDefault):"",this.tabStops=(N.tabStops||"").trim().split(/\s+/).map((de,Ve)=>Ve%2===1?(0,e.getMeasurement)(de):de),this.textIndent=N.textIndent?(0,e.getMeasurement)(N.textIndent,"0pt"):"",this.use=N.use||"",this.usehref=N.usehref||"",this.vAlign=(0,e.getStringOption)(N.vAlign,["top","bottom","middle"]),this.widows=(0,e.getInteger)({data:N.widows,defaultValue:0,validate:de=>de>=0}),this.hyphenation=null}[n.$toStyle](){const N=(0,m.toStyle)(this,"hAlign");return this.marginLeft!==""&&(N.paddingLeft=(0,m.measureToString)(this.marginLeft)),this.marginRight!==""&&(N.paddingight=(0,m.measureToString)(this.marginRight)),this.spaceAbove!==""&&(N.paddingTop=(0,m.measureToString)(this.spaceAbove)),this.spaceBelow!==""&&(N.paddingBottom=(0,m.measureToString)(this.spaceBelow)),this.textIndent!==""&&(N.textIndent=(0,m.measureToString)(this.textIndent),(0,m.fixTextIndent)(N)),this.lineHeight>0&&(N.lineHeight=(0,m.measureToString)(this.lineHeight)),this.tabDefault!==""&&(N.tabSize=(0,m.measureToString)(this.tabDefault)),this.tabStops.length>0,this.hyphenatation&&Object.assign(N,this.hyphenatation[n.$toStyle]()),N}}class Gt extends n.XFAObject{constructor(N){super(v,"passwordEdit",!0),this.hScrollPolicy=(0,e.getStringOption)(N.hScrollPolicy,["auto","off","on"]),this.id=N.id||"",this.passwordChar=N.passwordChar||"*",this.use=N.use||"",this.usehref=N.usehref||"",this.border=null,this.extras=null,this.margin=null}}class It extends n.XFAObject{constructor(N){super(v,"pattern",!0),this.id=N.id||"",this.type=(0,e.getStringOption)(N.type,["crossHatch","crossDiagonal","diagonalLeft","diagonalRight","horizontal","vertical"]),this.use=N.use||"",this.usehref=N.usehref||"",this.color=null,this.extras=null}[n.$toStyle](N){N=N?N[n.$toStyle]():"#FFFFFF";const de=this.color?this.color[n.$toStyle]():"#000000",Ve=5,Je="repeating-linear-gradient",st=`${N},${N} ${Ve}px,${de} ${Ve}px,${de} ${2*Ve}px`;switch(this.type){case"crossHatch":return`${Je}(to top,${st}) ${Je}(to right,${st})`;case"crossDiagonal":return`${Je}(45deg,${st}) ${Je}(-45deg,${st})`;case"diagonalLeft":return`${Je}(45deg,${st})`;case"diagonalRight":return`${Je}(-45deg,${st})`;case"horizontal":return`${Je}(to top,${st})`;case"vertical":return`${Je}(to right,${st})`}return""}}class Ft extends n.StringObject{constructor(N){super(v,"picture"),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||""}}class $t extends n.XFAObject{constructor(N){super(v,"proto",!0),this.appearanceFilter=new n.XFAObjectArray,this.arc=new n.XFAObjectArray,this.area=new n.XFAObjectArray,this.assist=new n.XFAObjectArray,this.barcode=new n.XFAObjectArray,this.bindItems=new n.XFAObjectArray,this.bookend=new n.XFAObjectArray,this.boolean=new n.XFAObjectArray,this.border=new n.XFAObjectArray,this.break=new n.XFAObjectArray,this.breakAfter=new n.XFAObjectArray,this.breakBefore=new n.XFAObjectArray,this.button=new n.XFAObjectArray,this.calculate=new n.XFAObjectArray,this.caption=new n.XFAObjectArray,this.certificate=new n.XFAObjectArray,this.certificates=new n.XFAObjectArray,this.checkButton=new n.XFAObjectArray,this.choiceList=new n.XFAObjectArray,this.color=new n.XFAObjectArray,this.comb=new n.XFAObjectArray,this.connect=new n.XFAObjectArray,this.contentArea=new n.XFAObjectArray,this.corner=new n.XFAObjectArray,this.date=new n.XFAObjectArray,this.dateTime=new n.XFAObjectArray,this.dateTimeEdit=new n.XFAObjectArray,this.decimal=new n.XFAObjectArray,this.defaultUi=new n.XFAObjectArray,this.desc=new n.XFAObjectArray,this.digestMethod=new n.XFAObjectArray,this.digestMethods=new n.XFAObjectArray,this.draw=new n.XFAObjectArray,this.edge=new n.XFAObjectArray,this.encoding=new n.XFAObjectArray,this.encodings=new n.XFAObjectArray,this.encrypt=new n.XFAObjectArray,this.encryptData=new n.XFAObjectArray,this.encryption=new n.XFAObjectArray,this.encryptionMethod=new n.XFAObjectArray,this.encryptionMethods=new n.XFAObjectArray,this.event=new n.XFAObjectArray,this.exData=new n.XFAObjectArray,this.exObject=new n.XFAObjectArray,this.exclGroup=new n.XFAObjectArray,this.execute=new n.XFAObjectArray,this.extras=new n.XFAObjectArray,this.field=new n.XFAObjectArray,this.fill=new n.XFAObjectArray,this.filter=new n.XFAObjectArray,this.float=new n.XFAObjectArray,this.font=new n.XFAObjectArray,this.format=new n.XFAObjectArray,this.handler=new n.XFAObjectArray,this.hyphenation=new n.XFAObjectArray,this.image=new n.XFAObjectArray,this.imageEdit=new n.XFAObjectArray,this.integer=new n.XFAObjectArray,this.issuers=new n.XFAObjectArray,this.items=new n.XFAObjectArray,this.keep=new n.XFAObjectArray,this.keyUsage=new n.XFAObjectArray,this.line=new n.XFAObjectArray,this.linear=new n.XFAObjectArray,this.lockDocument=new n.XFAObjectArray,this.manifest=new n.XFAObjectArray,this.margin=new n.XFAObjectArray,this.mdp=new n.XFAObjectArray,this.medium=new n.XFAObjectArray,this.message=new n.XFAObjectArray,this.numericEdit=new n.XFAObjectArray,this.occur=new n.XFAObjectArray,this.oid=new n.XFAObjectArray,this.oids=new n.XFAObjectArray,this.overflow=new n.XFAObjectArray,this.pageArea=new n.XFAObjectArray,this.pageSet=new n.XFAObjectArray,this.para=new n.XFAObjectArray,this.passwordEdit=new n.XFAObjectArray,this.pattern=new n.XFAObjectArray,this.picture=new n.XFAObjectArray,this.radial=new n.XFAObjectArray,this.reason=new n.XFAObjectArray,this.reasons=new n.XFAObjectArray,this.rectangle=new n.XFAObjectArray,this.ref=new n.XFAObjectArray,this.script=new n.XFAObjectArray,this.setProperty=new n.XFAObjectArray,this.signData=new n.XFAObjectArray,this.signature=new n.XFAObjectArray,this.signing=new n.XFAObjectArray,this.solid=new n.XFAObjectArray,this.speak=new n.XFAObjectArray,this.stipple=new n.XFAObjectArray,this.subform=new n.XFAObjectArray,this.subformSet=new n.XFAObjectArray,this.subjectDN=new n.XFAObjectArray,this.subjectDNs=new n.XFAObjectArray,this.submit=new n.XFAObjectArray,this.text=new n.XFAObjectArray,this.textEdit=new n.XFAObjectArray,this.time=new n.XFAObjectArray,this.timeStamp=new n.XFAObjectArray,this.toolTip=new n.XFAObjectArray,this.traversal=new n.XFAObjectArray,this.traverse=new n.XFAObjectArray,this.ui=new n.XFAObjectArray,this.validate=new n.XFAObjectArray,this.value=new n.XFAObjectArray,this.variables=new n.XFAObjectArray}}class qt extends n.XFAObject{constructor(N){super(v,"radial",!0),this.id=N.id||"",this.type=(0,e.getStringOption)(N.type,["toEdge","toCenter"]),this.use=N.use||"",this.usehref=N.usehref||"",this.color=null,this.extras=null}[n.$toStyle](N){N=N?N[n.$toStyle]():"#FFFFFF";const de=this.color?this.color[n.$toStyle]():"#000000";return`radial-gradient(circle at center, ${this.type==="toEdge"?`${N},${de}`:`${de},${N}`})`}}class sr extends n.StringObject{constructor(N){super(v,"reason"),this.id=N.id||"",this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||""}}class wr extends n.XFAObject{constructor(N){super(v,"reasons",!0),this.id=N.id||"",this.type=(0,e.getStringOption)(N.type,["optional","required"]),this.use=N.use||"",this.usehref=N.usehref||"",this.reason=new n.XFAObjectArray}}class hr extends n.XFAObject{constructor(N){super(v,"rectangle",!0),this.hand=(0,e.getStringOption)(N.hand,["even","left","right"]),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||"",this.corner=new n.XFAObjectArray(4),this.edge=new n.XFAObjectArray(4),this.fill=null}[n.$toHTML](){const N=this.edge.children.length?this.edge.children[0]:new Ne({}),de=N[n.$toStyle](),Ve=Object.create(null);this.fill&&this.fill.presence==="visible"?Object.assign(Ve,this.fill[n.$toStyle]()):Ve.fill="transparent",Ve.strokeWidth=(0,m.measureToString)(N.presence==="visible"?N.thickness:0),Ve.stroke=de.color;const st=(this.corner.children.length?this.corner.children[0]:new xe({}))[n.$toStyle](),yt={name:"svg",children:[{name:"rect",attributes:{xmlns:b,width:"100%",height:"100%",x:0,y:0,rx:st.radius,ry:st.radius,style:Ve}}],attributes:{xmlns:b,style:{overflow:"visible"},width:"100%",height:"100%"}},At=this[n.$getParent]()[n.$getParent]();return M(At)?e.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[yt]}):(yt.attributes.style.position="absolute",e.HTMLResult.success(yt))}}class Cr extends n.StringObject{constructor(N){super(v,"ref"),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||""}}class Ar extends n.StringObject{constructor(N){super(v,"script"),this.binding=N.binding||"",this.contentType=N.contentType||"",this.id=N.id||"",this.name=N.name||"",this.runAt=(0,e.getStringOption)(N.runAt,["client","both","server"]),this.use=N.use||"",this.usehref=N.usehref||""}}class jr extends n.XFAObject{constructor(N){super(v,"setProperty"),this.connection=N.connection||"",this.ref=N.ref||"",this.target=N.target||""}}s.SetProperty=jr;class Jr extends n.XFAObject{constructor(N){super(v,"signData",!0),this.id=N.id||"",this.operation=(0,e.getStringOption)(N.operation,["sign","clear","verify"]),this.ref=N.ref||"",this.target=N.target||"",this.use=N.use||"",this.usehref=N.usehref||"",this.filter=null,this.manifest=null}}class Qr extends n.XFAObject{constructor(N){super(v,"signature",!0),this.id=N.id||"",this.type=(0,e.getStringOption)(N.type,["PDF1.3","PDF1.6"]),this.use=N.use||"",this.usehref=N.usehref||"",this.border=null,this.extras=null,this.filter=null,this.manifest=null,this.margin=null}}class Zr extends n.XFAObject{constructor(N){super(v,"signing",!0),this.id=N.id||"",this.type=(0,e.getStringOption)(N.type,["optional","required"]),this.use=N.use||"",this.usehref=N.usehref||"",this.certificate=new n.XFAObjectArray}}class en extends n.XFAObject{constructor(N){super(v,"solid",!0),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||"",this.extras=null}[n.$toStyle](N){return N?N[n.$toStyle]():"#FFFFFF"}}class tn extends n.StringObject{constructor(N){super(v,"speak"),this.disable=(0,e.getInteger)({data:N.disable,defaultValue:0,validate:de=>de===1}),this.id=N.id||"",this.priority=(0,e.getStringOption)(N.priority,["custom","caption","name","toolTip"]),this.rid=N.rid||"",this.use=N.use||"",this.usehref=N.usehref||""}}class Gr extends n.XFAObject{constructor(N){super(v,"stipple",!0),this.id=N.id||"",this.rate=(0,e.getInteger)({data:N.rate,defaultValue:50,validate:de=>de>=0&&de<=100}),this.use=N.use||"",this.usehref=N.usehref||"",this.color=null,this.extras=null}[n.$toStyle](N){const de=this.rate/100;return E.Util.makeHexColor(Math.round(N.value.r*(1-de)+this.value.r*de),Math.round(N.value.g*(1-de)+this.value.g*de),Math.round(N.value.b*(1-de)+this.value.b*de))}}class Vr extends n.XFAObject{constructor(N){super(v,"subform",!0),this.access=(0,e.getStringOption)(N.access,["open","nonInteractive","protected","readOnly"]),this.allowMacro=(0,e.getInteger)({data:N.allowMacro,defaultValue:0,validate:de=>de===1}),this.anchorType=(0,e.getStringOption)(N.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,e.getInteger)({data:N.colSpan,defaultValue:1,validate:de=>de>=1||de===-1}),this.columnWidths=(N.columnWidths||"").trim().split(/\s+/).map(de=>de==="-1"?-1:(0,e.getMeasurement)(de)),this.h=N.h?(0,e.getMeasurement)(N.h):"",this.hAlign=(0,e.getStringOption)(N.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=N.id||"",this.layout=(0,e.getStringOption)(N.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.locale=N.locale||"",this.maxH=(0,e.getMeasurement)(N.maxH,"0pt"),this.maxW=(0,e.getMeasurement)(N.maxW,"0pt"),this.mergeMode=(0,e.getStringOption)(N.mergeMode,["consumeData","matchTemplate"]),this.minH=(0,e.getMeasurement)(N.minH,"0pt"),this.minW=(0,e.getMeasurement)(N.minW,"0pt"),this.name=N.name||"",this.presence=(0,e.getStringOption)(N.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,e.getRelevant)(N.relevant),this.restoreState=(0,e.getStringOption)(N.restoreState,["manual","auto"]),this.scope=(0,e.getStringOption)(N.scope,["name","none"]),this.use=N.use||"",this.usehref=N.usehref||"",this.w=N.w?(0,e.getMeasurement)(N.w):"",this.x=(0,e.getMeasurement)(N.x,"0pt"),this.y=(0,e.getMeasurement)(N.y,"0pt"),this.assist=null,this.bind=null,this.bookend=null,this.border=null,this.break=null,this.calculate=null,this.desc=null,this.extras=null,this.keep=null,this.margin=null,this.occur=null,this.overflow=null,this.pageSet=null,this.para=null,this.traversal=null,this.validate=null,this.variables=null,this.area=new n.XFAObjectArray,this.breakAfter=new n.XFAObjectArray,this.breakBefore=new n.XFAObjectArray,this.connect=new n.XFAObjectArray,this.draw=new n.XFAObjectArray,this.event=new n.XFAObjectArray,this.exObject=new n.XFAObjectArray,this.exclGroup=new n.XFAObjectArray,this.field=new n.XFAObjectArray,this.proto=new n.XFAObjectArray,this.setProperty=new n.XFAObjectArray,this.subform=new n.XFAObjectArray,this.subformSet=new n.XFAObjectArray}[n.$getSubformParent](){const N=this[n.$getParent]();return N instanceof Mr?N[n.$getSubformParent]():N}[n.$isBindable](){return!0}[n.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[n.$extra].attempt===0&&this[n.$extra].numberInLine>0||this[n.$getParent]()[n.$isThereMoreWidth]()}*[n.$getContainedChildren](){yield*F(this)}[n.$flushHTML](){return(0,C.flushHTML)(this)}[n.$addHTML](N,de){(0,C.addHTML)(this,N,de)}[n.$getAvailableSpace](){return(0,C.getAvailableSpace)(this)}[n.$isSplittable](){const N=this[n.$getSubformParent]();return N[n.$isSplittable]()?this[n.$extra]._isSplittable!==void 0?this[n.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[n.$extra]._isSplittable=!1,!1):this.keep&&this.keep.intact!=="none"?(this[n.$extra]._isSplittable=!1,!1):N.layout&&N.layout.endsWith("-tb")&&N[n.$extra].numberInLine!==0?!1:(this[n.$extra]._isSplittable=!0,!0):!1}[n.$toHTML](N){if(R(this),this.break){if(this.break.after!=="auto"||this.break.afterTarget!==""){const Dt=new ne({targetType:this.break.after,target:this.break.afterTarget,startNew:this.break.startNew.toString()});Dt[n.$globalData]=this[n.$globalData],this[n.$appendChild](Dt),this.breakAfter.push(Dt)}if(this.break.before!=="auto"||this.break.beforeTarget!==""){const Dt=new ce({targetType:this.break.before,target:this.break.beforeTarget,startNew:this.break.startNew.toString()});Dt[n.$globalData]=this[n.$globalData],this[n.$appendChild](Dt),this.breakBefore.push(Dt)}if(this.break.overflowTarget!==""){const Dt=new nt({target:this.break.overflowTarget,leader:this.break.overflowLeader,trailer:this.break.overflowTrailer});Dt[n.$globalData]=this[n.$globalData],this[n.$appendChild](Dt),this.overflow.push(Dt)}this[n.$removeChild](this.break),this.break=null}if(this.presence==="hidden"||this.presence==="inactive")return e.HTMLResult.EMPTY;if((this.breakBefore.children.length>1||this.breakAfter.children.length>1)&&(0,E.warn)("XFA - Several breakBefore or breakAfter in subforms: please file a bug."),this.breakBefore.children.length>=1){const Dt=this.breakBefore.children[0];if(U(Dt))return e.HTMLResult.breakNode(Dt)}if(this[n.$extra]&&this[n.$extra].afterBreakAfter)return e.HTMLResult.EMPTY;(0,m.fixDimensions)(this);const de=[],Ve={id:this[n.$uid],class:[]};(0,m.setAccess)(this,Ve.class),this[n.$extra]||(this[n.$extra]=Object.create(null)),Object.assign(this[n.$extra],{children:de,line:null,attributes:Ve,attempt:0,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,N.width),height:Math.min(this.h||1/0,N.height)},width:0,height:0,prevHeight:0,currentWidth:0});const Je=this[n.$getTemplateRoot](),st=Je[n.$extra].noLayoutFailure,Ct=this[n.$isSplittable]();if(Ct||S(this),!(0,C.checkDimensions)(this,N))return e.HTMLResult.FAILURE;const yt=new Set(["area","draw","exclGroup","field","subform","subformSet"]);if(this.layout.includes("row")){const Dt=this[n.$getSubformParent]().columnWidths;Array.isArray(Dt)&&Dt.length>0&&(this[n.$extra].columnWidths=Dt,this[n.$extra].currentColumn=0)}const At=(0,m.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),Rt=["xfaSubform"],Bt=(0,m.layoutClass)(this);if(Bt&&Rt.push(Bt),Ve.style=At,Ve.class=Rt,this.name&&(Ve.xfaName=this.name),this.overflow){const Dt=this.overflow[n.$getExtra]();Dt.addLeader&&(Dt.addLeader=!1,z(this,Dt.leader,N))}this[n.$pushPara]();const Wt=this.layout==="lr-tb"||this.layout==="rl-tb",zt=Wt?o:1;for(;this[n.$extra].attempt<zt;this[n.$extra].attempt++){Wt&&this[n.$extra].attempt===o-1&&(this[n.$extra].numberInLine=0);const Dt=this[n.$childrenToHTML]({filter:yt,include:!0});if(Dt.success)break;if(Dt.isBreak())return this[n.$popPara](),Dt;if(Wt&&this[n.$extra].attempt===0&&this[n.$extra].numberInLine===0&&!Je[n.$extra].noLayoutFailure){this[n.$extra].attempt=zt;break}}if(this[n.$popPara](),Ct||W(this),Je[n.$extra].noLayoutFailure=st,this[n.$extra].attempt===zt)return this.overflow&&(this[n.$getTemplateRoot]()[n.$extra].overflowNode=this.overflow),Ct||delete this[n.$extra],e.HTMLResult.FAILURE;if(this.overflow){const Dt=this.overflow[n.$getExtra]();Dt.addTrailer&&(Dt.addTrailer=!1,z(this,Dt.trailer,N))}let Yt=0,Jt=0;this.margin&&(Yt=this.margin.leftInset+this.margin.rightInset,Jt=this.margin.topInset+this.margin.bottomInset);const Ot=Math.max(this[n.$extra].width+Yt,this.w||0),Qt=Math.max(this[n.$extra].height+Jt,this.h||0),Mt=[this.x,this.y,Ot,Qt];if(this.w===""&&(At.width=(0,m.measureToString)(Ot)),this.h===""&&(At.height=(0,m.measureToString)(Qt)),(At.width==="0px"||At.height==="0px")&&de.length===0)return e.HTMLResult.EMPTY;const Lt={name:"div",attributes:Ve,children:de};I(this,Ve);const rr=e.HTMLResult.success((0,m.createWrapper)(this,Lt),Mt);if(this.breakAfter.children.length>=1){const Dt=this.breakAfter.children[0];if(U(Dt))return this[n.$extra].afterBreakAfter=rr,e.HTMLResult.breakNode(Dt)}return delete this[n.$extra],rr}}class Mr extends n.XFAObject{constructor(N){super(v,"subformSet",!0),this.id=N.id||"",this.name=N.name||"",this.relation=(0,e.getStringOption)(N.relation,["ordered","choice","unordered"]),this.relevant=(0,e.getRelevant)(N.relevant),this.use=N.use||"",this.usehref=N.usehref||"",this.bookend=null,this.break=null,this.desc=null,this.extras=null,this.occur=null,this.overflow=null,this.breakAfter=new n.XFAObjectArray,this.breakBefore=new n.XFAObjectArray,this.subform=new n.XFAObjectArray,this.subformSet=new n.XFAObjectArray}*[n.$getContainedChildren](){yield*F(this)}[n.$getSubformParent](){let N=this[n.$getParent]();for(;!(N instanceof Vr);)N=N[n.$getParent]();return N}[n.$isBindable](){return!0}}class rn extends n.ContentObject{constructor(N){super(v,"subjectDN"),this.delimiter=N.delimiter||",",this.id=N.id||"",this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||""}[n.$finalize](){this[n.$content]=new Map(this[n.$content].split(this.delimiter).map(N=>(N=N.split("=",2),N[0]=N[0].trim(),N)))}}class br extends n.XFAObject{constructor(N){super(v,"subjectDNs",!0),this.id=N.id||"",this.type=(0,e.getStringOption)(N.type,["optional","required"]),this.use=N.use||"",this.usehref=N.usehref||"",this.subjectDN=new n.XFAObjectArray}}class zr extends n.XFAObject{constructor(N){super(v,"submit",!0),this.embedPDF=(0,e.getInteger)({data:N.embedPDF,defaultValue:0,validate:de=>de===1}),this.format=(0,e.getStringOption)(N.format,["xdp","formdata","pdf","urlencoded","xfd","xml"]),this.id=N.id||"",this.target=N.target||"",this.textEncoding=(0,e.getKeyword)({data:N.textEncoding?N.textEncoding.toLowerCase():"",defaultValue:"",validate:de=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(de)||de.match(/iso-8859-\d{2}/)}),this.use=N.use||"",this.usehref=N.usehref||"",this.xdpContent=N.xdpContent||"",this.encrypt=null,this.encryptData=new n.XFAObjectArray,this.signData=new n.XFAObjectArray}}class Nr extends n.XFAObject{constructor(N){super(v,"template",!0),this.baseProfile=(0,e.getStringOption)(N.baseProfile,["full","interactiveForms"]),this.extras=null,this.subform=new n.XFAObjectArray}[n.$finalize](){this.subform.children.length===0&&(0,E.warn)("XFA - No subforms in template node."),this.subform.children.length>=2&&(0,E.warn)("XFA - Several subforms in template node: please file a bug."),this[n.$tabIndex]=D}[n.$isSplittable](){return!0}[n.$searchNode](N,de){return N.startsWith("#")?[this[n.$ids].get(N.slice(1))]:(0,O.searchNode)(this,de,N,!0,!0)}*[n.$toPages](){if(!this.subform.children.length)return e.HTMLResult.success({name:"div",children:[]});this[n.$extra]={overflowNode:null,firstUnsplittable:null,currentContentArea:null,currentPageArea:null,noLayoutFailure:!1,pageNumber:1,pagePosition:"first",oddOrEven:"odd",blankOrNotBlank:"nonBlank",paraStack:[]};const N=this.subform.children[0];N.pageSet[n.$cleanPage]();const de=N.pageSet.pageArea.children,Ve={name:"div",children:[]};let Je=null,st=null,Ct=null;if(N.breakBefore.children.length>=1?(st=N.breakBefore.children[0],Ct=st.target):N.subform.children.length>=1&&N.subform.children[0].breakBefore.children.length>=1?(st=N.subform.children[0].breakBefore.children[0],Ct=st.target):N.break&&N.break.beforeTarget?(st=N.break,Ct=st.beforeTarget):N.subform.children.length>=1&&N.subform.children[0].break&&N.subform.children[0].break.beforeTarget&&(st=N.subform.children[0].break,Ct=st.beforeTarget),st){const Jt=this[n.$searchNode](Ct,st[n.$getParent]());Jt instanceof et&&(Je=Jt,st[n.$extra]={})}Je||(Je=de[0]),Je[n.$extra]={numberOfUse:1};const yt=Je[n.$getParent]();yt[n.$extra]={numberOfUse:1,pageIndex:yt.pageArea.children.indexOf(Je),pageSetIndex:0};let At,Rt=null,Bt=null,Wt=!0,zt=0,Yt=0;for(;;){if(Wt)zt=0;else if(Ve.children.pop(),++zt===T)return(0,E.warn)("XFA - Something goes wrong: please file a bug."),Ve;At=null,this[n.$extra].currentPageArea=Je;const Jt=Je[n.$toHTML]().html;Ve.children.push(Jt),Rt&&(this[n.$extra].noLayoutFailure=!0,Jt.children.push(Rt[n.$toHTML](Je[n.$extra].space).html),Rt=null),Bt&&(this[n.$extra].noLayoutFailure=!0,Jt.children.push(Bt[n.$toHTML](Je[n.$extra].space).html),Bt=null);const Ot=Je.contentArea.children,Qt=Jt.children.filter(Lt=>Lt.attributes.class.includes("xfaContentarea"));Wt=!1,this[n.$extra].firstUnsplittable=null,this[n.$extra].noLayoutFailure=!1;const Mt=Lt=>{const rr=N[n.$flushHTML]();rr&&(Wt=Wt||rr.children&&rr.children.length!==0,Qt[Lt].children.push(rr))};for(let Lt=Yt,rr=Ot.length;Lt<rr;Lt++){const Dt=this[n.$extra].currentContentArea=Ot[Lt],fr={width:Dt.w,height:Dt.h};Yt=0,Rt&&(Qt[Lt].children.push(Rt[n.$toHTML](fr).html),Rt=null),Bt&&(Qt[Lt].children.push(Bt[n.$toHTML](fr).html),Bt=null);const ar=N[n.$toHTML](fr);if(ar.success)return ar.html?(Wt=Wt||ar.html.children&&ar.html.children.length!==0,Qt[Lt].children.push(ar.html)):!Wt&&Ve.children.length>1&&Ve.children.pop(),Ve;if(ar.isBreak()){const nr=ar.breakNode;if(Mt(Lt),nr.targetType==="auto")continue;nr.leader&&(Rt=this[n.$searchNode](nr.leader,nr[n.$getParent]()),Rt=Rt?Rt[0]:null),nr.trailer&&(Bt=this[n.$searchNode](nr.trailer,nr[n.$getParent]()),Bt=Bt?Bt[0]:null),nr.targetType==="pageArea"?(At=nr[n.$extra].target,Lt=1/0):nr[n.$extra].target?(At=nr[n.$extra].target,Yt=nr[n.$extra].index+1,Lt=1/0):Lt=nr[n.$extra].index;continue}if(this[n.$extra].overflowNode){const nr=this[n.$extra].overflowNode;this[n.$extra].overflowNode=null;const Ur=nr[n.$getExtra](),xr=Ur.target;Ur.addLeader=Ur.leader!==null,Ur.addTrailer=Ur.trailer!==null,Mt(Lt);const _n=Lt;if(Lt=1/0,xr instanceof et)At=xr;else if(xr instanceof he){const vr=Ot.indexOf(xr);vr!==-1?vr>_n?Lt=vr-1:Yt=vr:(At=xr[n.$getParent](),Yt=At.contentArea.children.indexOf(xr))}continue}Mt(Lt)}this[n.$extra].pageNumber+=1,At&&(At[n.$isUsable]()?At[n.$extra].numberOfUse+=1:At=null),Je=At||Je[n.$getNextPage](),yield null}}}s.Template=Nr;class Dr extends n.ContentObject{constructor(N){super(v,"text"),this.id=N.id||"",this.maxChars=(0,e.getInteger)({data:N.maxChars,defaultValue:0,validate:de=>de>=0}),this.name=N.name||"",this.rid=N.rid||"",this.use=N.use||"",this.usehref=N.usehref||""}[n.$acceptWhitespace](){return!0}[n.$onChild](N){return N[n.$namespaceId]===c.NamespaceIds.xhtml.id?(this[n.$content]=N,!0):((0,E.warn)(`XFA - Invalid content in Text: ${N[n.$nodeName]}.`),!1)}[n.$onText](N){this[n.$content]instanceof n.XFAObject||super[n.$onText](N)}[n.$finalize](){typeof this[n.$content]=="string"&&(this[n.$content]=this[n.$content].replace(/\r\n/g,`
`))}[n.$getExtra](){return typeof this[n.$content]=="string"?this[n.$content].split(/[\u2029\u2028\n]/).reduce((N,de)=>(de&&N.push(de),N),[]).join(`
`):this[n.$content][n.$text]()}[n.$toHTML](N){if(typeof this[n.$content]=="string"){const de=x(this[n.$content]).html;return this[n.$content].includes("\u2029")?(de.name="div",de.children=[],this[n.$content].split("\u2029").map(Ve=>Ve.split(/[\u2028\n]/).reduce((Je,st)=>(Je.push({name:"span",value:st},{name:"br"}),Je),[])).forEach(Ve=>{de.children.push({name:"p",children:Ve})})):/[\u2028\n]/.test(this[n.$content])&&(de.name="div",de.children=[],this[n.$content].split(/[\u2028\n]/).forEach(Ve=>{de.children.push({name:"span",value:Ve},{name:"br"})})),e.HTMLResult.success(de)}return this[n.$content][n.$toHTML](N)}}s.Text=Dr;class cr extends n.XFAObject{constructor(N){super(v,"textEdit",!0),this.allowRichText=(0,e.getInteger)({data:N.allowRichText,defaultValue:0,validate:de=>de===1}),this.hScrollPolicy=(0,e.getStringOption)(N.hScrollPolicy,["auto","off","on"]),this.id=N.id||"",this.multiLine=(0,e.getInteger)({data:N.multiLine,defaultValue:"",validate:de=>de===0||de===1}),this.use=N.use||"",this.usehref=N.usehref||"",this.vScrollPolicy=(0,e.getStringOption)(N.vScrollPolicy,["auto","off","on"]),this.border=null,this.comb=null,this.extras=null,this.margin=null}[n.$toHTML](N){const de=(0,m.toStyle)(this,"border","font","margin");let Ve;const Je=this[n.$getParent]()[n.$getParent]();return this.multiLine===""&&(this.multiLine=Je instanceof Re?1:0),this.multiLine===1?Ve={name:"textarea",attributes:{dataId:Je[n.$data]&&Je[n.$data][n.$uid]||Je[n.$uid],fieldId:Je[n.$uid],class:["xfaTextfield"],style:de,"aria-label":L(Je),"aria-required":!1}}:Ve={name:"input",attributes:{type:"text",dataId:Je[n.$data]&&Je[n.$data][n.$uid]||Je[n.$uid],fieldId:Je[n.$uid],class:["xfaTextfield"],style:de,"aria-label":L(Je),"aria-required":!1}},G(Je)&&(Ve.attributes["aria-required"]=!0,Ve.attributes.required=!0),e.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Ve]})}}class dr extends n.StringObject{constructor(N){super(v,"time"),this.id=N.id||"",this.name=N.name||"",this.use=N.use||"",this.usehref=N.usehref||""}[n.$finalize](){const N=this[n.$content].trim();this[n.$content]=N?new Date(N):null}[n.$toHTML](N){return x(this[n.$content]?this[n.$content].toString():"")}}class Er extends n.XFAObject{constructor(N){super(v,"timeStamp"),this.id=N.id||"",this.server=N.server||"",this.type=(0,e.getStringOption)(N.type,["optional","required"]),this.use=N.use||"",this.usehref=N.usehref||""}}class Wr extends n.StringObject{constructor(N){super(v,"toolTip"),this.id=N.id||"",this.rid=N.rid||"",this.use=N.use||"",this.usehref=N.usehref||""}}class nn extends n.XFAObject{constructor(N){super(v,"traversal",!0),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||"",this.extras=null,this.traverse=new n.XFAObjectArray}}class Lr extends n.XFAObject{constructor(N){super(v,"traverse",!0),this.id=N.id||"",this.operation=(0,e.getStringOption)(N.operation,["next","back","down","first","left","right","up"]),this.ref=N.ref||"",this.use=N.use||"",this.usehref=N.usehref||"",this.extras=null,this.script=null}get name(){return this.operation}[n.$isTransparent](){return!1}}class yr extends n.XFAObject{constructor(N){super(v,"ui",!0),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||"",this.extras=null,this.picture=null,this.barcode=null,this.button=null,this.checkButton=null,this.choiceList=null,this.dateTimeEdit=null,this.defaultUi=null,this.imageEdit=null,this.numericEdit=null,this.passwordEdit=null,this.signature=null,this.textEdit=null}[n.$getExtra](){if(this[n.$extra]===void 0){for(const N of Object.getOwnPropertyNames(this)){if(N==="extras"||N==="picture")continue;const de=this[N];if(de instanceof n.XFAObject)return this[n.$extra]=de,de}this[n.$extra]=null}return this[n.$extra]}[n.$toHTML](N){const de=this[n.$getExtra]();return de?de[n.$toHTML](N):e.HTMLResult.EMPTY}}class Br extends n.XFAObject{constructor(N){super(v,"validate",!0),this.formatTest=(0,e.getStringOption)(N.formatTest,["warning","disabled","error"]),this.id=N.id||"",this.nullTest=(0,e.getStringOption)(N.nullTest,["disabled","error","warning"]),this.scriptTest=(0,e.getStringOption)(N.scriptTest,["error","disabled","warning"]),this.use=N.use||"",this.usehref=N.usehref||"",this.extras=null,this.message=null,this.picture=null,this.script=null}}class Tr extends n.XFAObject{constructor(N){super(v,"value",!0),this.id=N.id||"",this.override=(0,e.getInteger)({data:N.override,defaultValue:0,validate:de=>de===1}),this.relevant=(0,e.getRelevant)(N.relevant),this.use=N.use||"",this.usehref=N.usehref||"",this.arc=null,this.boolean=null,this.date=null,this.dateTime=null,this.decimal=null,this.exData=null,this.float=null,this.image=null,this.integer=null,this.line=null,this.rectangle=null,this.text=null,this.time=null}[n.$setValue](N){const de=this[n.$getParent]();if(de instanceof Ye&&de.ui&&de.ui.imageEdit){this.image||(this.image=new St({}),this[n.$appendChild](this.image)),this.image[n.$content]=N[n.$content];return}const Ve=N[n.$nodeName];if(this[Ve]!==null){this[Ve][n.$content]=N[n.$content];return}for(const Je of Object.getOwnPropertyNames(this)){const st=this[Je];st instanceof n.XFAObject&&(this[Je]=null,this[n.$removeChild](st))}this[N[n.$nodeName]]=N,this[n.$appendChild](N)}[n.$text](){if(this.exData)return typeof this.exData[n.$content]=="string"?this.exData[n.$content].trim():this.exData[n.$content][n.$text]().trim();for(const N of Object.getOwnPropertyNames(this)){if(N==="image")continue;const de=this[N];if(de instanceof n.XFAObject)return(de[n.$content]||"").toString().trim()}return null}[n.$toHTML](N){for(const de of Object.getOwnPropertyNames(this)){const Ve=this[de];if(Ve instanceof n.XFAObject)return Ve[n.$toHTML](N)}return e.HTMLResult.EMPTY}}s.Value=Tr;class an extends n.XFAObject{constructor(N){super(v,"variables",!0),this.id=N.id||"",this.use=N.use||"",this.usehref=N.usehref||"",this.boolean=new n.XFAObjectArray,this.date=new n.XFAObjectArray,this.dateTime=new n.XFAObjectArray,this.decimal=new n.XFAObjectArray,this.exData=new n.XFAObjectArray,this.float=new n.XFAObjectArray,this.image=new n.XFAObjectArray,this.integer=new n.XFAObjectArray,this.manifest=new n.XFAObjectArray,this.script=new n.XFAObjectArray,this.text=new n.XFAObjectArray,this.time=new n.XFAObjectArray}[n.$isTransparent](){return!0}}class _r{static[c.$buildXFAObject](N,de){if(_r.hasOwnProperty(N)){const Ve=_r[N](de);return Ve[n.$setSetAttributes](de),Ve}}static appearanceFilter(N){return new re(N)}static arc(N){return new J(N)}static area(N){return new k(N)}static assist(N){return new H(N)}static barcode(N){return new Z(N)}static bind(N){return new Q(N)}static bindItems(N){return new V(N)}static bookend(N){return new Y(N)}static boolean(N){return new te(N)}static border(N){return new $(N)}static break(N){return new X(N)}static breakAfter(N){return new ne(N)}static breakBefore(N){return new ce(N)}static button(N){return new se(N)}static calculate(N){return new K(N)}static caption(N){return new ee(N)}static certificate(N){return new ie(N)}static certificates(N){return new oe(N)}static checkButton(N){return new le(N)}static choiceList(N){return new pe(N)}static color(N){return new fe(N)}static comb(N){return new ue(N)}static connect(N){return new ge(N)}static contentArea(N){return new he(N)}static corner(N){return new xe(N)}static date(N){return new ye(N)}static dateTime(N){return new ve(N)}static dateTimeEdit(N){return new ke(N)}static decimal(N){return new Se(N)}static defaultUi(N){return new be(N)}static desc(N){return new Ee(N)}static digestMethod(N){return new Oe(N)}static digestMethods(N){return new Fe(N)}static draw(N){return new Re(N)}static edge(N){return new Ne(N)}static encoding(N){return new Pe(N)}static encodings(N){return new Ie(N)}static encrypt(N){return new Me(N)}static encryptData(N){return new Te(N)}static encryption(N){return new Le(N)}static encryptionMethod(N){return new Be(N)}static encryptionMethods(N){return new Ae(N)}static event(N){return new we(N)}static exData(N){return new Ce(N)}static exObject(N){return new De(N)}static exclGroup(N){return new Ge(N)}static execute(N){return new He(N)}static extras(N){return new Ze(N)}static field(N){return new Ye(N)}static fill(N){return new je(N)}static filter(N){return new it(N)}static float(N){return new dt(N)}static font(N){return new ze(N)}static format(N){return new lt(N)}static handler(N){return new ot(N)}static hyphenation(N){return new ft(N)}static image(N){return new St(N)}static imageEdit(N){return new Et(N)}static integer(N){return new pt(N)}static issuers(N){return new Ht(N)}static items(N){return new Qe(N)}static keep(N){return new qe(N)}static keyUsage(N){return new rt(N)}static line(N){return new tt(N)}static linear(N){return new ut(N)}static lockDocument(N){return new mt(N)}static manifest(N){return new xt(N)}static margin(N){return new at(N)}static mdp(N){return new vt(N)}static medium(N){return new bt(N)}static message(N){return new Pt(N)}static numericEdit(N){return new Tt(N)}static occur(N){return new wt(N)}static oid(N){return new Ue(N)}static oids(N){return new We(N)}static overflow(N){return new nt(N)}static pageArea(N){return new et(N)}static pageSet(N){return new ht(N)}static para(N){return new _t(N)}static passwordEdit(N){return new Gt(N)}static pattern(N){return new It(N)}static picture(N){return new Ft(N)}static proto(N){return new $t(N)}static radial(N){return new qt(N)}static reason(N){return new sr(N)}static reasons(N){return new wr(N)}static rectangle(N){return new hr(N)}static ref(N){return new Cr(N)}static script(N){return new Ar(N)}static setProperty(N){return new jr(N)}static signData(N){return new Jr(N)}static signature(N){return new Qr(N)}static signing(N){return new Zr(N)}static solid(N){return new en(N)}static speak(N){return new tn(N)}static stipple(N){return new Gr(N)}static subform(N){return new Vr(N)}static subformSet(N){return new Mr(N)}static subjectDN(N){return new rn(N)}static subjectDNs(N){return new br(N)}static submit(N){return new zr(N)}static template(N){return new Nr(N)}static text(N){return new Dr(N)}static textEdit(N){return new cr(N)}static time(N){return new dr(N)}static timeStamp(N){return new Er(N)}static toolTip(N){return new Wr(N)}static traversal(N){return new nn(N)}static traverse(N){return new Lr(N)}static ui(N){return new yr(N)}static validate(N){return new Br(N)}static value(N){return new Tr(N)}static variables(N){return new an(N)}}s.TemplateNamespace=_r},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.addHTML=e,s.checkDimensions=B,s.flushHTML=m,s.getAvailableSpace=E;var n=u(202),c=u(209);function C(O,v){return{name:"div",attributes:{class:[O.layout==="lr-tb"?"xfaLr":"xfaRl"]},children:v}}function m(O){if(!O[n.$extra])return null;const b={name:"div",attributes:O[n.$extra].attributes,children:O[n.$extra].children};if(O[n.$extra].failingNode){const o=O[n.$extra].failingNode[n.$flushHTML]();o&&(O.layout.endsWith("-tb")?b.children.push(C(O,[o])):b.children.push(o))}return b.children.length===0?null:b}function e(O,v,b){const o=O[n.$extra],T=o.availableSpace,[D,_,y,P]=b;switch(O.layout){case"position":{o.width=Math.max(o.width,D+y),o.height=Math.max(o.height,_+P),o.children.push(v);break}case"lr-tb":case"rl-tb":(!o.line||o.attempt===1)&&(o.line=C(O,[]),o.children.push(o.line),o.numberInLine=0),o.numberInLine+=1,o.line.children.push(v),o.attempt===0?(o.currentWidth+=y,o.height=Math.max(o.height,o.prevHeight+P)):(o.currentWidth=y,o.prevHeight=o.height,o.height+=P,o.attempt=0),o.width=Math.max(o.width,o.currentWidth);break;case"rl-row":case"row":{o.children.push(v),o.width+=y,o.height=Math.max(o.height,P);const w=(0,c.measureToString)(o.height);for(const M of o.children)M.attributes.style.height=w;break}case"table":{o.width=Math.min(T.width,Math.max(o.width,y)),o.height+=P,o.children.push(v);break}case"tb":{o.width=Math.min(T.width,Math.max(o.width,y)),o.height+=P,o.children.push(v);break}}}function E(O){const v=O[n.$extra].availableSpace,b=O.margin?O.margin.topInset+O.margin.bottomInset:0,o=O.margin?O.margin.leftInset+O.margin.rightInset:0;switch(O.layout){case"lr-tb":case"rl-tb":return O[n.$extra].attempt===0?{width:v.width-o-O[n.$extra].currentWidth,height:v.height-b-O[n.$extra].prevHeight}:{width:v.width-o,height:v.height-b-O[n.$extra].height};case"rl-row":case"row":return{width:O[n.$extra].columnWidths.slice(O[n.$extra].currentColumn).reduce((D,_)=>D+_),height:v.height-o};case"table":case"tb":return{width:v.width-o,height:v.height-b-O[n.$extra].height};case"position":default:return v}}function A(O){let v=O.w===""?NaN:O.w,b=O.h===""?NaN:O.h,[o,T]=[0,0];switch(O.anchorType||""){case"bottomCenter":[o,T]=[v/2,b];break;case"bottomLeft":[o,T]=[0,b];break;case"bottomRight":[o,T]=[v,b];break;case"middleCenter":[o,T]=[v/2,b/2];break;case"middleLeft":[o,T]=[0,b/2];break;case"middleRight":[o,T]=[v,b/2];break;case"topCenter":[o,T]=[v/2,0];break;case"topRight":[o,T]=[v,0];break}let D,_;switch(O.rotate||0){case 0:[D,_]=[-o,-T];break;case 90:[D,_]=[-T,o],[v,b]=[b,-v];break;case 180:[D,_]=[o,T],[v,b]=[-v,-b];break;case 270:[D,_]=[T,-o],[v,b]=[-b,v];break}return[O.x+D+Math.min(0,v),O.y+_+Math.min(0,b),Math.abs(v),Math.abs(b)]}function B(O,v){if(O[n.$getTemplateRoot]()[n.$extra].firstUnsplittable===null||O.w===0||O.h===0)return!0;const b=2,o=O[n.$getSubformParent](),T=o[n.$extra]&&o[n.$extra].attempt||0,[,D,_,y]=A(O);switch(o.layout){case"lr-tb":case"rl-tb":return T===0?O[n.$getTemplateRoot]()[n.$extra].noLayoutFailure?O.w!==""?Math.round(_-v.width)<=b:v.width>b:O.h!==""&&Math.round(y-v.height)>b?!1:O.w!==""?Math.round(_-v.width)<=b?!0:o[n.$extra].numberInLine===0?v.height>b:!1:v.width>b:O[n.$getTemplateRoot]()[n.$extra].noLayoutFailure?!0:O.h!==""&&Math.round(y-v.height)>b?!1:O.w===""||Math.round(_-v.width)<=b?v.height>b:o[n.$isThereMoreWidth]()?!1:v.height>b;case"table":case"tb":return O[n.$getTemplateRoot]()[n.$extra].noLayoutFailure?!0:O.h!==""&&!O[n.$isSplittable]()?Math.round(y-v.height)<=b:O.w===""||Math.round(_-v.width)<=b?v.height>b:o[n.$isThereMoreWidth]()?!1:v.height>b;case"position":if(O[n.$getTemplateRoot]()[n.$extra].noLayoutFailure||O.h===""||Math.round(y+D-v.height)<=b)return!0;const P=O[n.$getTemplateRoot]()[n.$extra].currentContentArea;return y+D>P.h;case"rl-row":case"row":return O[n.$getTemplateRoot]()[n.$extra].noLayoutFailure?!0:O.h!==""?Math.round(y-v.height)<=b:!0;default:return!0}}},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.computeBbox=b,s.createWrapper=_,s.fixDimensions=o,s.fixTextIndent=y,s.fixURL=G,s.isPrintOnly=w,s.layoutClass=T,s.layoutNode=v,s.measureToString=E,s.setAccess=P,s.setFontFamily=F,s.setMinMaxDimensions=B,s.setPara=q,s.toStyle=D;var n=u(202),c=u(2),C=u(203),m=u(210),e=u(211);function E(R){return typeof R=="string"?"0px":Number.isInteger(R)?`${R}px`:`${R.toFixed(2)}px`}const A={anchorType(R,I){const L=R[n.$getSubformParent]();if(!(!L||L.layout&&L.layout!=="position"))switch("transform"in I||(I.transform=""),R.anchorType){case"bottomCenter":I.transform+="translate(-50%, -100%)";break;case"bottomLeft":I.transform+="translate(0,-100%)";break;case"bottomRight":I.transform+="translate(-100%,-100%)";break;case"middleCenter":I.transform+="translate(-50%,-50%)";break;case"middleLeft":I.transform+="translate(0,-50%)";break;case"middleRight":I.transform+="translate(-100%,-50%)";break;case"topCenter":I.transform+="translate(-50%,0)";break;case"topRight":I.transform+="translate(-100%,0)";break}},dimensions(R,I){const L=R[n.$getSubformParent]();let x=R.w;const S=R.h;if(L.layout&&L.layout.includes("row")){const W=L[n.$extra],U=R.colSpan;let z;U===-1?(z=W.columnWidths.slice(W.currentColumn).reduce((re,J)=>re+J,0),W.currentColumn=0):(z=W.columnWidths.slice(W.currentColumn,W.currentColumn+U).reduce((re,J)=>re+J,0),W.currentColumn=(W.currentColumn+R.colSpan)%W.columnWidths.length),isNaN(z)||(x=R.w=z)}x!==""?I.width=E(x):I.width="auto",S!==""?I.height=E(S):I.height="auto"},position(R,I){const L=R[n.$getSubformParent]();L&&L.layout&&L.layout!=="position"||(I.position="absolute",I.left=E(R.x),I.top=E(R.y))},rotate(R,I){R.rotate&&("transform"in I||(I.transform=""),I.transform+=`rotate(-${R.rotate}deg)`,I.transformOrigin="top left")},presence(R,I){switch(R.presence){case"invisible":I.visibility="hidden";break;case"hidden":case"inactive":I.display="none";break}},hAlign(R,I){if(R[n.$nodeName]==="para")switch(R.hAlign){case"justifyAll":I.textAlign="justify-all";break;case"radix":I.textAlign="left";break;default:I.textAlign=R.hAlign}else switch(R.hAlign){case"left":I.alignSelf="start";break;case"center":I.alignSelf="center";break;case"right":I.alignSelf="end";break}},margin(R,I){R.margin&&(I.margin=R.margin[n.$toStyle]().margin)}};function B(R,I){R[n.$getSubformParent]().layout==="position"&&(R.minW>0&&(I.minWidth=E(R.minW)),R.maxW>0&&(I.maxWidth=E(R.maxW)),R.minH>0&&(I.minHeight=E(R.minH)),R.maxH>0&&(I.maxHeight=E(R.maxH)))}function O(R,I,L,x,S,W){const U=new e.TextMeasure(I,L,x,S);return typeof R=="string"?U.addString(R):R[n.$pushGlyphs](U),U.compute(W)}function v(R,I){let L=null,x=null,S=!1;if((!R.w||!R.h)&&R.value){let W=0,U=0;R.margin&&(W=R.margin.leftInset+R.margin.rightInset,U=R.margin.topInset+R.margin.bottomInset);let z=null,re=null;R.para&&(re=Object.create(null),z=R.para.lineHeight===""?null:R.para.lineHeight,re.top=R.para.spaceAbove===""?0:R.para.spaceAbove,re.bottom=R.para.spaceBelow===""?0:R.para.spaceBelow,re.left=R.para.marginLeft===""?0:R.para.marginLeft,re.right=R.para.marginRight===""?0:R.para.marginRight);let J=R.font;if(!J){const Z=R[n.$getTemplateRoot]();let Q=R[n.$getParent]();for(;Q&&Q!==Z;){if(Q.font){J=Q.font;break}Q=Q[n.$getParent]()}}const k=(R.w||I.width)-W,H=R[n.$globalData].fontFinder;if(R.value.exData&&R.value.exData[n.$content]&&R.value.exData.contentType==="text/html"){const Z=O(R.value.exData[n.$content],J,re,z,H,k);x=Z.width,L=Z.height,S=Z.isBroken}else{const Z=R.value[n.$text]();if(Z){const Q=O(Z,J,re,z,H,k);x=Q.width,L=Q.height,S=Q.isBroken}}x!==null&&!R.w&&(x+=W),L!==null&&!R.h&&(L+=U)}return{w:x,h:L,isBroken:S}}function b(R,I,L){let x;if(R.w!==""&&R.h!=="")x=[R.x,R.y,R.w,R.h];else{if(!L)return null;let S=R.w;if(S===""){if(R.maxW===0){const U=R[n.$getSubformParent]();U.layout==="position"&&U.w!==""?S=0:S=R.minW}else S=Math.min(R.maxW,L.width);I.attributes.style.width=E(S)}let W=R.h;if(W===""){if(R.maxH===0){const U=R[n.$getSubformParent]();U.layout==="position"&&U.h!==""?W=0:W=R.minH}else W=Math.min(R.maxH,L.height);I.attributes.style.height=E(W)}x=[R.x,R.y,S,W]}return x}function o(R){const I=R[n.$getSubformParent]();if(I.layout&&I.layout.includes("row")){const L=I[n.$extra],x=R.colSpan;let S;x===-1?S=L.columnWidths.slice(L.currentColumn).reduce((W,U)=>W+U,0):S=L.columnWidths.slice(L.currentColumn,L.currentColumn+x).reduce((W,U)=>W+U,0),isNaN(S)||(R.w=S)}I.layout&&I.layout!=="position"&&(R.x=R.y=0),R.layout==="table"&&R.w===""&&Array.isArray(R.columnWidths)&&(R.w=R.columnWidths.reduce((L,x)=>L+x,0))}function T(R){switch(R.layout){case"position":return"xfaPosition";case"lr-tb":return"xfaLrTb";case"rl-row":return"xfaRlRow";case"rl-tb":return"xfaRlTb";case"row":return"xfaRow";case"table":return"xfaTable";case"tb":return"xfaTb";default:return"xfaPosition"}}function D(R){const I=Object.create(null);for(var L=arguments.length,x=new Array(L>1?L-1:0),S=1;S<L;S++)x[S-1]=arguments[S];for(const W of x){const U=R[W];if(U!==null){if(A.hasOwnProperty(W)){A[W](R,I);continue}if(U instanceof n.XFAObject){const z=U[n.$toStyle]();z?Object.assign(I,z):(0,c.warn)(`(DEBUG) - XFA - style for ${W} not implemented yet`)}}}return I}function _(R,I){const{attributes:L}=I,{style:x}=L,S={name:"div",attributes:{class:["xfaWrapper"],style:Object.create(null)},children:[]};if(L.class.push("xfaWrapped"),R.border){const{widths:W,insets:U}=R.border[n.$extra];let z,re,J=U[0],k=U[3];const H=U[0]+U[2],Z=U[1]+U[3];switch(R.border.hand){case"even":J-=W[0]/2,k-=W[3]/2,z=`calc(100% + ${(W[1]+W[3])/2-Z}px)`,re=`calc(100% + ${(W[0]+W[2])/2-H}px)`;break;case"left":J-=W[0],k-=W[3],z=`calc(100% + ${W[1]+W[3]-Z}px)`,re=`calc(100% + ${W[0]+W[2]-H}px)`;break;case"right":z=Z?`calc(100% - ${Z}px)`:"100%",re=H?`calc(100% - ${H}px)`:"100%";break}const Q=["xfaBorder"];w(R.border)&&Q.push("xfaPrintOnly");const V={name:"div",attributes:{class:Q,style:{top:`${J}px`,left:`${k}px`,width:z,height:re}},children:[]};for(const Y of["border","borderWidth","borderColor","borderRadius","borderStyle"])x[Y]!==void 0&&(V.attributes.style[Y]=x[Y],delete x[Y]);S.children.push(V,I)}else S.children.push(I);for(const W of["background","backgroundClip","top","left","width","height","minWidth","minHeight","maxWidth","maxHeight","transform","transformOrigin","visibility"])x[W]!==void 0&&(S.attributes.style[W]=x[W],delete x[W]);return x.position==="absolute"?S.attributes.style.position="absolute":S.attributes.style.position="relative",delete x.position,x.alignSelf&&(S.attributes.style.alignSelf=x.alignSelf,delete x.alignSelf),S}function y(R){const I=(0,C.getMeasurement)(R.textIndent,"0px");if(I>=0)return;const x="padding"+((R.textAlign==="right"?"right":"left")==="left"?"Left":"Right"),S=(0,C.getMeasurement)(R[x],"0px");R[x]=`${S-I}px`}function P(R,I){switch(R.access){case"nonInteractive":I.push("xfaNonInteractive");break;case"readOnly":I.push("xfaReadOnly");break;case"protected":I.push("xfaDisabled");break}}function w(R){return R.relevant.length>0&&!R.relevant[0].excluded&&R.relevant[0].viewname==="print"}function M(R){const I=R[n.$getTemplateRoot]()[n.$extra].paraStack;return I.length?I.at(-1):null}function q(R,I,L){if(L.attributes.class&&L.attributes.class.includes("xfaRich")){I&&(R.h===""&&(I.height="auto"),R.w===""&&(I.width="auto"));const x=M(R);if(x){const S=L.attributes.style;switch(S.display="flex",S.flexDirection="column",x.vAlign){case"top":S.justifyContent="start";break;case"bottom":S.justifyContent="end";break;case"middle":S.justifyContent="center";break}const W=x[n.$toStyle]();for(const[U,z]of Object.entries(W))U in S||(S[U]=z)}}}function F(R,I,L,x){if(!L){delete x.fontFamily;return}const S=(0,C.stripQuotes)(R.typeface);x.fontFamily=`"${S}"`;const W=L.find(S);if(W){const{fontFamily:U}=W.regular.cssFontInfo;U!==S&&(x.fontFamily=`"${U}"`);const z=M(I);if(z&&z.lineHeight!==""||x.lineHeight)return;const re=(0,m.selectFont)(R,W);re&&(x.lineHeight=Math.max(1.2,re.lineHeight))}}function G(R){const I=(0,c.createValidAbsoluteUrl)(R,null,{addDefaultProtocol:!0,tryConvertEncoding:!0});return I?I.href:null}},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.FontFinder=void 0,s.getMetrics=E,s.selectFont=e;var n=u(202),c=u(203),C=u(2);class m{constructor(B){this.fonts=new Map,this.cache=new Map,this.warned=new Set,this.defaultFont=null,this.add(B)}add(B){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;for(const b of B)this.addPdfFont(b);for(const b of this.fonts.values())b.regular||(b.regular=b.italic||b.bold||b.bolditalic);if(!O||O.size===0)return;const v=this.fonts.get("PdfJS-Fallback-PdfJS-XFA");for(const b of O)this.fonts.set(b,v)}addPdfFont(B){const O=B.cssFontInfo,v=O.fontFamily;let b=this.fonts.get(v);b||(b=Object.create(null),this.fonts.set(v,b),this.defaultFont||(this.defaultFont=b));let o="";const T=parseFloat(O.fontWeight);parseFloat(O.italicAngle)!==0?o=T>=700?"bolditalic":"italic":T>=700&&(o="bold"),o||((B.name.includes("Bold")||B.psName&&B.psName.includes("Bold"))&&(o="bold"),(B.name.includes("Italic")||B.name.endsWith("It")||B.psName&&(B.psName.includes("Italic")||B.psName.endsWith("It")))&&(o+="italic")),o||(o="regular"),b[o]=B}getDefault(){return this.defaultFont}find(B){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,v=this.fonts.get(B)||this.cache.get(B);if(v)return v;const b=/,|-|_| |bolditalic|bold|italic|regular|it/gi;let o=B.replace(b,"");if(v=this.fonts.get(o),v)return this.cache.set(B,v),v;o=o.toLowerCase();const T=[];for(const[D,_]of this.fonts.entries())D.replace(b,"").toLowerCase().startsWith(o)&&T.push(_);if(T.length===0)for(const[,D]of this.fonts.entries())D.regular.name&&D.regular.name.replace(b,"").toLowerCase().startsWith(o)&&T.push(D);if(T.length===0){o=o.replace(/psmt|mt/gi,"");for(const[D,_]of this.fonts.entries())D.replace(b,"").toLowerCase().startsWith(o)&&T.push(_)}if(T.length===0)for(const D of this.fonts.values())D.regular.name&&D.regular.name.replace(b,"").toLowerCase().startsWith(o)&&T.push(D);return T.length>=1?(T.length!==1&&O&&(0,C.warn)(`XFA - Too many choices to guess the correct font: ${B}`),this.cache.set(B,T[0]),T[0]):(O&&!this.warned.has(B)&&(this.warned.add(B),(0,C.warn)(`XFA - Cannot find the font: ${B}`)),null)}}s.FontFinder=m;function e(A,B){return A.posture==="italic"?A.weight==="bold"?B.bolditalic:B.italic:A.weight==="bold"?B.bold:B.regular}function E(A){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,O=null;if(A){const T=(0,c.stripQuotes)(A.typeface),D=A[n.$globalData].fontFinder.find(T);O=e(A,D)}if(!O)return{lineHeight:12,lineGap:2,lineNoGap:10};const v=A.size||10,b=O.lineHeight?Math.max(B?0:1.2,O.lineHeight):1.2,o=O.lineGap===void 0?.2:O.lineGap;return{lineHeight:b*v,lineGap:o*v,lineNoGap:Math.max(1,b-o)*v}}},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextMeasure=void 0;var n=u(210);const c=1.02;class C{constructor(A,B,O,v){if(this.lineHeight=O,this.paraMargin=B||{top:0,bottom:0,left:0,right:0},!A){[this.pdfFont,this.xfaFont]=this.defaultFont(v);return}this.xfaFont={typeface:A.typeface,posture:A.posture,weight:A.weight,size:A.size,letterSpacing:A.letterSpacing};const b=v.find(A.typeface);if(!b){[this.pdfFont,this.xfaFont]=this.defaultFont(v);return}this.pdfFont=(0,n.selectFont)(A,b),this.pdfFont||([this.pdfFont,this.xfaFont]=this.defaultFont(v))}defaultFont(A){const B=A.find("Helvetica",!1)||A.find("Myriad Pro",!1)||A.find("Arial",!1)||A.getDefault();if(B&&B.regular){const v=B.regular,o={typeface:v.cssFontInfo.fontFamily,posture:"normal",weight:"normal",size:10,letterSpacing:0};return[v,o]}return[null,{typeface:"Courier",posture:"normal",weight:"normal",size:10,letterSpacing:0}]}}class m{constructor(A,B,O,v){this.fontFinder=v,this.stack=[new C(A,B,O,v)]}pushData(A,B,O){const v=this.stack.at(-1);for(const o of["typeface","posture","weight","size","letterSpacing"])A[o]||(A[o]=v.xfaFont[o]);for(const o of["top","bottom","left","right"])isNaN(B[o])&&(B[o]=v.paraMargin[o]);const b=new C(A,B,O||v.lineHeight,this.fontFinder);b.pdfFont||(b.pdfFont=v.pdfFont),this.stack.push(b)}popFont(){this.stack.pop()}topFont(){return this.stack.at(-1)}}class e{constructor(A,B,O,v){this.glyphs=[],this.fontSelector=new m(A,B,O,v),this.extraHeight=0}pushData(A,B,O){this.fontSelector.pushData(A,B,O)}popFont(A){return this.fontSelector.popFont()}addPara(){const A=this.fontSelector.topFont();this.extraHeight+=A.paraMargin.top+A.paraMargin.bottom}addString(A){if(!A)return;const B=this.fontSelector.topFont(),O=B.xfaFont.size;if(B.pdfFont){const v=B.xfaFont.letterSpacing,b=B.pdfFont,o=b.lineHeight||1.2,T=B.lineHeight||Math.max(1.2,o)*O,D=b.lineGap===void 0?.2:b.lineGap,_=o-D,y=Math.max(1,_)*O,P=O/1e3,w=b.defaultWidth||b.charsToGlyphs(" ")[0].width;for(const M of A.split(/[\u2029\n]/)){const q=b.encodeString(M).join(""),F=b.charsToGlyphs(q);for(const G of F){const R=G.width||w;this.glyphs.push([R*P+v,T,y,G.unicode,!1])}this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop();return}for(const v of A.split(/[\u2029\n]/)){for(const b of v.split(""))this.glyphs.push([O,1.2*O,O,b,!1]);this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop()}compute(A){let B=-1,O=0,v=0,b=0,o=0,T=0,D=!1,_=!0;for(let y=0,P=this.glyphs.length;y<P;y++){const[w,M,q,F,G]=this.glyphs[y],R=F===" ",I=_?q:M;if(G){v=Math.max(v,o),o=0,b+=T,T=I,B=-1,O=0,_=!1;continue}if(R){o+w>A?(v=Math.max(v,o),o=0,b+=T,T=I,B=-1,O=0,D=!0,_=!1):(T=Math.max(I,T),O=o,o+=w,B=y);continue}if(o+w>A){b+=T,T=I,B!==-1?(y=B,v=Math.max(v,O),o=0,B=-1,O=0):(v=Math.max(v,o),o=w),D=!0,_=!1;continue}o+=w,T=Math.max(I,T)}return v=Math.max(v,o),b+=T+this.extraHeight,{width:c*v,height:b,isBroken:D}}}s.TextMeasure=e},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DataHandler=void 0;var n=u(202);class c{constructor(m,e){this.data=e,this.dataset=m.datasets||null}serialize(m){const e=[[-1,this.data[n.$getChildren]()]];for(;e.length>0;){const A=e.at(-1),[B,O]=A;if(B+1===O.length){e.pop();continue}const v=O[++A[0]],b=m.get(v[n.$uid]);if(b)v[n.$setValue](b);else{const T=v[n.$getAttributes]();for(const D of T.values()){const _=m.get(D[n.$uid]);if(_){D[n.$setValue](_);break}}}const o=v[n.$getChildren]();o.length>0&&e.push([-1,o])}const E=['<xfa:datasets xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/">'];if(this.dataset)for(const A of this.dataset[n.$getChildren]())A[n.$nodeName]!=="data"&&A[n.$toString](E);return this.data[n.$toString](E),E.push("</xfa:datasets>"),E.join("")}}s.DataHandler=c},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XFAParser=void 0;var n=u(202),c=u(191),C=u(214),m=u(2);class e extends c.XMLParserBase{constructor(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super(),this._builder=new C.Builder(A),this._stack=[],this._globalData={usedTypefaces:new Set},this._ids=new Map,this._current=this._builder.buildRoot(this._ids),this._errorCode=c.XMLParserErrorCode.NoError,this._whiteRegex=/^\s+$/,this._nbsps=/\xa0+/g,this._richText=B}parse(A){if(this.parseXml(A),this._errorCode===c.XMLParserErrorCode.NoError)return this._current[n.$finalize](),this._current.element}onText(A){if(A=A.replace(this._nbsps,B=>B.slice(1)+" "),this._richText||this._current[n.$acceptWhitespace]()){this._current[n.$onText](A,this._richText);return}this._whiteRegex.test(A)||this._current[n.$onText](A.trim())}onCdata(A){this._current[n.$onText](A)}_mkAttributes(A,B){let O=null,v=null;const b=Object.create({});for(const{name:o,value:T}of A)if(o==="xmlns")O?(0,m.warn)(`XFA - multiple namespace definition in <${B}>`):O=T;else if(o.startsWith("xmlns:")){const D=o.substring(6);v||(v=[]),v.push({prefix:D,value:T})}else{const D=o.indexOf(":");if(D===-1)b[o]=T;else{let _=b[n.$nsAttributes];_||(_=b[n.$nsAttributes]=Object.create(null));const[y,P]=[o.slice(0,D),o.slice(D+1)];let w=_[y];w||(w=_[y]=Object.create(null)),w[P]=T}}return[O,v,b]}_getNameAndPrefix(A,B){const O=A.indexOf(":");return O===-1?[A,null]:[A.substring(O+1),B?"":A.substring(0,O)]}onBeginElement(A,B,O){const[v,b,o]=this._mkAttributes(B,A),[T,D]=this._getNameAndPrefix(A,this._builder.isNsAgnostic()),_=this._builder.build({nsPrefix:D,name:T,attributes:o,namespace:v,prefixes:b});if(_[n.$globalData]=this._globalData,O){_[n.$finalize](),this._current[n.$onChild](_)&&_[n.$setId](this._ids),_[n.$clean](this._builder);return}this._stack.push(this._current),this._current=_}onEndElement(A){const B=this._current;if(B[n.$isCDATAXml]()&&typeof B[n.$content]=="string"){const O=new e;O._globalData=this._globalData;const v=O.parse(B[n.$content]);B[n.$content]=null,B[n.$onChild](v)}B[n.$finalize](),this._current=this._stack.pop(),this._current[n.$onChild](B)&&B[n.$setId](this._ids),B[n.$clean](this._builder)}onError(A){this._errorCode=A}}s.XFAParser=e},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Builder=void 0;var n=u(204),c=u(202),C=u(215),m=u(207),e=u(224),E=u(2);class A extends c.XFAObject{constructor(b){super(-1,"root",Object.create(null)),this.element=null,this[c.$ids]=b}[c.$onChild](b){return this.element=b,!0}[c.$finalize](){super[c.$finalize](),this.element.template instanceof m.Template&&(this[c.$ids].set(c.$root,this.element),this.element.template[c.$resolvePrototypes](this[c.$ids]),this.element.template[c.$ids]=this[c.$ids])}}class B extends c.XFAObject{constructor(){super(-1,"",Object.create(null))}[c.$onChild](b){return!1}}class O{constructor(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this._namespaceStack=[],this._nsAgnosticLevel=0,this._namespacePrefixes=new Map,this._namespaces=new Map,this._nextNsId=Math.max(...Object.values(n.NamespaceIds).map(o=>{let{id:T}=o;return T})),this._currentNamespace=b||new e.UnknownNamespace(++this._nextNsId)}buildRoot(b){return new A(b)}build(b){let{nsPrefix:o,name:T,attributes:D,namespace:_,prefixes:y}=b;const P=_!==null;if(P&&(this._namespaceStack.push(this._currentNamespace),this._currentNamespace=this._searchNamespace(_)),y&&this._addNamespacePrefix(y),D.hasOwnProperty(c.$nsAttributes)){const q=C.NamespaceSetUp.datasets,F=D[c.$nsAttributes];let G=null;for(const[R,I]of Object.entries(F))if(this._getNamespaceToUse(R)===q){G={xfa:I};break}G?D[c.$nsAttributes]=G:delete D[c.$nsAttributes]}const w=this._getNamespaceToUse(o),M=w&&w[n.$buildXFAObject](T,D)||new B;return M[c.$isNsAgnostic]()&&this._nsAgnosticLevel++,(P||y||M[c.$isNsAgnostic]())&&(M[c.$cleanup]={hasNamespace:P,prefixes:y,nsAgnostic:M[c.$isNsAgnostic]()}),M}isNsAgnostic(){return this._nsAgnosticLevel>0}_searchNamespace(b){let o=this._namespaces.get(b);if(o)return o;for(const[T,{check:D}]of Object.entries(n.NamespaceIds))if(D(b)){if(o=C.NamespaceSetUp[T],o)return this._namespaces.set(b,o),o;break}return o=new e.UnknownNamespace(++this._nextNsId),this._namespaces.set(b,o),o}_addNamespacePrefix(b){for(const{prefix:o,value:T}of b){const D=this._searchNamespace(T);let _=this._namespacePrefixes.get(o);_||(_=[],this._namespacePrefixes.set(o,_)),_.push(D)}}_getNamespaceToUse(b){if(!b)return this._currentNamespace;const o=this._namespacePrefixes.get(b);return o&&o.length>0?o.at(-1):((0,E.warn)(`Unknown namespace prefix: ${b}.`),null)}clean(b){const{hasNamespace:o,prefixes:T,nsAgnostic:D}=b;o&&(this._currentNamespace=this._namespaceStack.pop()),T&&T.forEach(_=>{let{prefix:y}=_;this._namespacePrefixes.get(y).pop()}),D&&this._nsAgnosticLevel--}}s.Builder=O},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NamespaceSetUp=void 0;var n=u(216),c=u(217),C=u(218),m=u(219),e=u(220),E=u(221),A=u(207),B=u(222),O=u(223);const v={config:n.ConfigNamespace,connection:c.ConnectionSetNamespace,datasets:C.DatasetsNamespace,localeSet:m.LocaleSetNamespace,signature:e.SignatureNamespace,stylesheet:E.StylesheetNamespace,template:A.TemplateNamespace,xdp:B.XdpNamespace,xhtml:O.XhtmlNamespace};s.NamespaceSetUp=v},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ConfigNamespace=void 0;var n=u(204),c=u(202),C=u(203),m=u(2);const e=n.NamespaceIds.config.id;class E extends c.XFAObject{constructor(de){super(e,"acrobat",!0),this.acrobat7=null,this.autoSave=null,this.common=null,this.validate=null,this.validateApprovalSignatures=null,this.submitUrl=new c.XFAObjectArray}}class A extends c.XFAObject{constructor(de){super(e,"acrobat7",!0),this.dynamicRender=null}}class B extends c.OptionObject{constructor(de){super(e,"ADBE_JSConsole",["delegate","Enable","Disable"])}}class O extends c.OptionObject{constructor(de){super(e,"ADBE_JSDebugger",["delegate","Enable","Disable"])}}class v extends c.Option01{constructor(de){super(e,"addSilentPrint")}}class b extends c.Option01{constructor(de){super(e,"addViewerPreferences")}}class o extends c.Option10{constructor(de){super(e,"adjustData")}}class T extends c.IntegerObject{constructor(de){super(e,"adobeExtensionLevel",0,Ve=>Ve>=1&&Ve<=8)}}class D extends c.XFAObject{constructor(de){super(e,"agent",!0),this.name=de.name?de.name.trim():"",this.common=new c.XFAObjectArray}}class _ extends c.ContentObject{constructor(de){super(e,"alwaysEmbed")}}class y extends c.StringObject{constructor(de){super(e,"amd")}}class P extends c.XFAObject{constructor(de){super(e,"area"),this.level=(0,C.getInteger)({data:de.level,defaultValue:0,validate:Ve=>Ve>=1&&Ve<=3}),this.name=(0,C.getStringOption)(de.name,["","barcode","coreinit","deviceDriver","font","general","layout","merge","script","signature","sourceSet","templateCache"])}}class w extends c.OptionObject{constructor(de){super(e,"attributes",["preserve","delegate","ignore"])}}class M extends c.OptionObject{constructor(de){super(e,"autoSave",["disabled","enabled"])}}class q extends c.StringObject{constructor(de){super(e,"base")}}class F extends c.XFAObject{constructor(de){super(e,"batchOutput"),this.format=(0,C.getStringOption)(de.format,["none","concat","zip","zipCompress"])}}class G extends c.ContentObject{constructor(de){super(e,"behaviorOverride")}[c.$finalize](){this[c.$content]=new Map(this[c.$content].trim().split(/\s+/).filter(de=>de.includes(":")).map(de=>de.split(":",2)))}}class R extends c.XFAObject{constructor(de){super(e,"cache",!0),this.templateCache=null}}class I extends c.Option01{constructor(de){super(e,"change")}}class L extends c.XFAObject{constructor(de){super(e,"common",!0),this.data=null,this.locale=null,this.localeSet=null,this.messaging=null,this.suppressBanner=null,this.template=null,this.validationMessaging=null,this.versionControl=null,this.log=new c.XFAObjectArray}}class x extends c.XFAObject{constructor(de){super(e,"compress"),this.scope=(0,C.getStringOption)(de.scope,["imageOnly","document"])}}class S extends c.Option01{constructor(de){super(e,"compressLogicalStructure")}}class W extends c.Option10{constructor(de){super(e,"compressObjectStream")}}class U extends c.XFAObject{constructor(de){super(e,"compression",!0),this.compressLogicalStructure=null,this.compressObjectStream=null,this.level=null,this.type=null}}class z extends c.XFAObject{constructor(de){super(e,"config",!0),this.acrobat=null,this.present=null,this.trace=null,this.agent=new c.XFAObjectArray}}class re extends c.OptionObject{constructor(de){super(e,"conformance",["A","B"])}}class J extends c.Option01{constructor(de){super(e,"contentCopy")}}class k extends c.IntegerObject{constructor(de){super(e,"copies",1,Ve=>Ve>=1)}}class H extends c.StringObject{constructor(de){super(e,"creator")}}class Z extends c.IntegerObject{constructor(de){super(e,"currentPage",0,Ve=>Ve>=0)}}class Q extends c.XFAObject{constructor(de){super(e,"data",!0),this.adjustData=null,this.attributes=null,this.incrementalLoad=null,this.outputXSL=null,this.range=null,this.record=null,this.startNode=null,this.uri=null,this.window=null,this.xsl=null,this.excludeNS=new c.XFAObjectArray,this.transform=new c.XFAObjectArray}}class V extends c.XFAObject{constructor(de){super(e,"debug",!0),this.uri=null}}class Y extends c.ContentObject{constructor(de){super(e,"defaultTypeface"),this.writingScript=(0,C.getStringOption)(de.writingScript,["*","Arabic","Cyrillic","EastEuropeanRoman","Greek","Hebrew","Japanese","Korean","Roman","SimplifiedChinese","Thai","TraditionalChinese","Vietnamese"])}}class te extends c.OptionObject{constructor(de){super(e,"destination",["pdf","pcl","ps","webClient","zpl"])}}class $ extends c.Option01{constructor(de){super(e,"documentAssembly")}}class X extends c.XFAObject{constructor(de){super(e,"driver",!0),this.name=de.name?de.name.trim():"",this.fontInfo=null,this.xdc=null}}class ne extends c.OptionObject{constructor(de){super(e,"duplexOption",["simplex","duplexFlipLongEdge","duplexFlipShortEdge"])}}class ce extends c.OptionObject{constructor(de){super(e,"dynamicRender",["forbidden","required"])}}class se extends c.Option01{constructor(de){super(e,"embed")}}class K extends c.Option01{constructor(de){super(e,"encrypt")}}class ee extends c.XFAObject{constructor(de){super(e,"encryption",!0),this.encrypt=null,this.encryptionLevel=null,this.permissions=null}}class ie extends c.OptionObject{constructor(de){super(e,"encryptionLevel",["40bit","128bit"])}}class oe extends c.StringObject{constructor(de){super(e,"enforce")}}class le extends c.XFAObject{constructor(de){super(e,"equate"),this.force=(0,C.getInteger)({data:de.force,defaultValue:1,validate:Ve=>Ve===0}),this.from=de.from||"",this.to=de.to||""}}class pe extends c.XFAObject{constructor(de){super(e,"equateRange"),this.from=de.from||"",this.to=de.to||"",this._unicodeRange=de.unicodeRange||""}get unicodeRange(){const de=[],Ve=/U\+([0-9a-fA-F]+)/,Je=this._unicodeRange;for(let st of Je.split(",").map(Ct=>Ct.trim()).filter(Ct=>!!Ct))st=st.split("-",2).map(Ct=>{const yt=Ct.match(Ve);return yt?parseInt(yt[1],16):0}),st.length===1&&st.push(st[0]),de.push(st);return(0,m.shadow)(this,"unicodeRange",de)}}class fe extends c.ContentObject{constructor(de){super(e,"exclude")}[c.$finalize](){this[c.$content]=this[c.$content].trim().split(/\s+/).filter(de=>de&&["calculate","close","enter","exit","initialize","ready","validate"].includes(de))}}class ue extends c.StringObject{constructor(de){super(e,"excludeNS")}}class ge extends c.OptionObject{constructor(de){super(e,"flipLabel",["usePrinterSetting","on","off"])}}class he extends c.XFAObject{constructor(de){super(e,"fontInfo",!0),this.embed=null,this.map=null,this.subsetBelow=null,this.alwaysEmbed=new c.XFAObjectArray,this.defaultTypeface=new c.XFAObjectArray,this.neverEmbed=new c.XFAObjectArray}}class xe extends c.Option01{constructor(de){super(e,"formFieldFilling")}}class ye extends c.StringObject{constructor(de){super(e,"groupParent")}}class ve extends c.OptionObject{constructor(de){super(e,"ifEmpty",["dataValue","dataGroup","ignore","remove"])}}class ke extends c.StringObject{constructor(de){super(e,"includeXDPContent")}}class Se extends c.OptionObject{constructor(de){super(e,"incrementalLoad",["none","forwardOnly"])}}class be extends c.Option01{constructor(de){super(e,"incrementalMerge")}}class Ee extends c.Option01{constructor(de){super(e,"interactive")}}class Oe extends c.OptionObject{constructor(de){super(e,"jog",["usePrinterSetting","none","pageSet"])}}class Fe extends c.XFAObject{constructor(de){super(e,"labelPrinter",!0),this.name=(0,C.getStringOption)(de.name,["zpl","dpl","ipl","tcpl"]),this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class Re extends c.OptionObject{constructor(de){super(e,"layout",["paginate","panel"])}}class Ne extends c.IntegerObject{constructor(de){super(e,"level",0,Ve=>Ve>0)}}class Pe extends c.Option01{constructor(de){super(e,"linearized")}}class Ie extends c.StringObject{constructor(de){super(e,"locale")}}class Me extends c.StringObject{constructor(de){super(e,"localeSet")}}class Te extends c.XFAObject{constructor(de){super(e,"log",!0),this.mode=null,this.threshold=null,this.to=null,this.uri=null}}class Le extends c.XFAObject{constructor(de){super(e,"map",!0),this.equate=new c.XFAObjectArray,this.equateRange=new c.XFAObjectArray}}class Be extends c.XFAObject{constructor(de){super(e,"mediumInfo",!0),this.map=null}}class Ae extends c.XFAObject{constructor(de){super(e,"message",!0),this.msgId=null,this.severity=null}}class we extends c.XFAObject{constructor(de){super(e,"messaging",!0),this.message=new c.XFAObjectArray}}class Ce extends c.OptionObject{constructor(de){super(e,"mode",["append","overwrite"])}}class De extends c.Option01{constructor(de){super(e,"modifyAnnots")}}class Ge extends c.IntegerObject{constructor(de){super(e,"msgId",1,Ve=>Ve>=1)}}class He extends c.StringObject{constructor(de){super(e,"nameAttr")}}class Ze extends c.ContentObject{constructor(de){super(e,"neverEmbed")}}class Ye extends c.IntegerObject{constructor(de){super(e,"numberOfCopies",null,Ve=>Ve>=2&&Ve<=5)}}class je extends c.XFAObject{constructor(de){super(e,"openAction",!0),this.destination=null}}class it extends c.XFAObject{constructor(de){super(e,"output",!0),this.to=null,this.type=null,this.uri=null}}class dt extends c.StringObject{constructor(de){super(e,"outputBin")}}class ze extends c.XFAObject{constructor(de){super(e,"outputXSL",!0),this.uri=null}}class lt extends c.OptionObject{constructor(de){super(e,"overprint",["none","both","draw","field"])}}class ot extends c.StringObject{constructor(de){super(e,"packets")}[c.$finalize](){this[c.$content]!=="*"&&(this[c.$content]=this[c.$content].trim().split(/\s+/).filter(de=>["config","datasets","template","xfdf","xslt"].includes(de)))}}class ft extends c.XFAObject{constructor(de){super(e,"pageOffset"),this.x=(0,C.getInteger)({data:de.x,defaultValue:"useXDCSetting",validate:Ve=>!0}),this.y=(0,C.getInteger)({data:de.y,defaultValue:"useXDCSetting",validate:Ve=>!0})}}class St extends c.StringObject{constructor(de){super(e,"pageRange")}[c.$finalize](){const de=this[c.$content].trim().split(/\s+/).map(Je=>parseInt(Je,10)),Ve=[];for(let Je=0,st=de.length;Je<st;Je+=2)Ve.push(de.slice(Je,Je+2));this[c.$content]=Ve}}class Et extends c.OptionObject{constructor(de){super(e,"pagination",["simplex","duplexShortEdge","duplexLongEdge"])}}class pt extends c.OptionObject{constructor(de){super(e,"paginationOverride",["none","forceDuplex","forceDuplexLongEdge","forceDuplexShortEdge","forceSimplex"])}}class Ht extends c.IntegerObject{constructor(de){super(e,"part",1,Ve=>!1)}}class Qe extends c.XFAObject{constructor(de){super(e,"pcl",!0),this.name=de.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.pageOffset=null,this.staple=null,this.xdc=null}}class qe extends c.XFAObject{constructor(de){super(e,"pdf",!0),this.name=de.name||"",this.adobeExtensionLevel=null,this.batchOutput=null,this.compression=null,this.creator=null,this.encryption=null,this.fontInfo=null,this.interactive=null,this.linearized=null,this.openAction=null,this.pdfa=null,this.producer=null,this.renderPolicy=null,this.scriptModel=null,this.silentPrint=null,this.submitFormat=null,this.tagged=null,this.version=null,this.viewerPreferences=null,this.xdc=null}}class rt extends c.XFAObject{constructor(de){super(e,"pdfa",!0),this.amd=null,this.conformance=null,this.includeXDPContent=null,this.part=null}}class tt extends c.XFAObject{constructor(de){super(e,"permissions",!0),this.accessibleContent=null,this.change=null,this.contentCopy=null,this.documentAssembly=null,this.formFieldFilling=null,this.modifyAnnots=null,this.plaintextMetadata=null,this.print=null,this.printHighQuality=null}}class ut extends c.Option01{constructor(de){super(e,"pickTrayByPDFSize")}}class mt extends c.StringObject{constructor(de){super(e,"picture")}}class xt extends c.Option01{constructor(de){super(e,"plaintextMetadata")}}class at extends c.OptionObject{constructor(de){super(e,"presence",["preserve","dissolve","dissolveStructure","ignore","remove"])}}class vt extends c.XFAObject{constructor(de){super(e,"present",!0),this.behaviorOverride=null,this.cache=null,this.common=null,this.copies=null,this.destination=null,this.incrementalMerge=null,this.layout=null,this.output=null,this.overprint=null,this.pagination=null,this.paginationOverride=null,this.script=null,this.validate=null,this.xdp=null,this.driver=new c.XFAObjectArray,this.labelPrinter=new c.XFAObjectArray,this.pcl=new c.XFAObjectArray,this.pdf=new c.XFAObjectArray,this.ps=new c.XFAObjectArray,this.submitUrl=new c.XFAObjectArray,this.webClient=new c.XFAObjectArray,this.zpl=new c.XFAObjectArray}}class bt extends c.Option01{constructor(de){super(e,"print")}}class Pt extends c.Option01{constructor(de){super(e,"printHighQuality")}}class Tt extends c.OptionObject{constructor(de){super(e,"printScaling",["appdefault","noScaling"])}}class wt extends c.StringObject{constructor(de){super(e,"printerName")}}class Ue extends c.StringObject{constructor(de){super(e,"producer")}}class We extends c.XFAObject{constructor(de){super(e,"ps",!0),this.name=de.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.staple=null,this.xdc=null}}class nt extends c.ContentObject{constructor(de){super(e,"range")}[c.$finalize](){this[c.$content]=this[c.$content].trim().split(/\s*,\s*/,2).map(de=>de.split("-").map(Ve=>parseInt(Ve.trim(),10))).filter(de=>de.every(Ve=>!isNaN(Ve))).map(de=>(de.length===1&&de.push(de[0]),de))}}class et extends c.ContentObject{constructor(de){super(e,"record")}[c.$finalize](){this[c.$content]=this[c.$content].trim();const de=parseInt(this[c.$content],10);!isNaN(de)&&de>=0&&(this[c.$content]=de)}}class ht extends c.ContentObject{constructor(de){super(e,"relevant")}[c.$finalize](){this[c.$content]=this[c.$content].trim().split(/\s+/)}}class _t extends c.ContentObject{constructor(de){super(e,"rename")}[c.$finalize](){this[c.$content]=this[c.$content].trim(),(this[c.$content].toLowerCase().startsWith("xml")||this[c.$content].match(new RegExp("[\\p{L}_][\\p{L}\\d._\\p{M}-]*","u")))&&(0,m.warn)("XFA - Rename: invalid XFA name")}}class Gt extends c.OptionObject{constructor(de){super(e,"renderPolicy",["server","client"])}}class It extends c.OptionObject{constructor(de){super(e,"runScripts",["both","client","none","server"])}}class Ft extends c.XFAObject{constructor(de){super(e,"script",!0),this.currentPage=null,this.exclude=null,this.runScripts=null}}class $t extends c.OptionObject{constructor(de){super(e,"scriptModel",["XFA","none"])}}class qt extends c.OptionObject{constructor(de){super(e,"severity",["ignore","error","information","trace","warning"])}}class sr extends c.XFAObject{constructor(de){super(e,"silentPrint",!0),this.addSilentPrint=null,this.printerName=null}}class wr extends c.XFAObject{constructor(de){super(e,"staple"),this.mode=(0,C.getStringOption)(de.mode,["usePrinterSetting","on","off"])}}class hr extends c.StringObject{constructor(de){super(e,"startNode")}}class Cr extends c.IntegerObject{constructor(de){super(e,"startPage",0,Ve=>!0)}}class Ar extends c.OptionObject{constructor(de){super(e,"submitFormat",["html","delegate","fdf","xml","pdf"])}}class jr extends c.StringObject{constructor(de){super(e,"submitUrl")}}class Jr extends c.IntegerObject{constructor(de){super(e,"subsetBelow",100,Ve=>Ve>=0&&Ve<=100)}}class Qr extends c.Option01{constructor(de){super(e,"suppressBanner")}}class Zr extends c.Option01{constructor(de){super(e,"tagged")}}class en extends c.XFAObject{constructor(de){super(e,"template",!0),this.base=null,this.relevant=null,this.startPage=null,this.uri=null,this.xsl=null}}class tn extends c.OptionObject{constructor(de){super(e,"threshold",["trace","error","information","warning"])}}class Gr extends c.OptionObject{constructor(de){super(e,"to",["null","memory","stderr","stdout","system","uri"])}}class Vr extends c.XFAObject{constructor(de){super(e,"templateCache"),this.maxEntries=(0,C.getInteger)({data:de.maxEntries,defaultValue:5,validate:Ve=>Ve>=0})}}class Mr extends c.XFAObject{constructor(de){super(e,"trace",!0),this.area=new c.XFAObjectArray}}class rn extends c.XFAObject{constructor(de){super(e,"transform",!0),this.groupParent=null,this.ifEmpty=null,this.nameAttr=null,this.picture=null,this.presence=null,this.rename=null,this.whitespace=null}}class br extends c.OptionObject{constructor(de){super(e,"type",["none","ascii85","asciiHex","ccittfax","flate","lzw","runLength","native","xdp","mergedXDP"])}}class zr extends c.StringObject{constructor(de){super(e,"uri")}}class Nr extends c.OptionObject{constructor(de){super(e,"validate",["preSubmit","prePrint","preExecute","preSave"])}}class Dr extends c.ContentObject{constructor(de){super(e,"validateApprovalSignatures")}[c.$finalize](){this[c.$content]=this[c.$content].trim().split(/\s+/).filter(de=>["docReady","postSign"].includes(de))}}class cr extends c.OptionObject{constructor(de){super(e,"validationMessaging",["allMessagesIndividually","allMessagesTogether","firstMessageOnly","noMessages"])}}class dr extends c.OptionObject{constructor(de){super(e,"version",["1.7","1.6","1.5","1.4","1.3","1.2"])}}class Er extends c.XFAObject{constructor(de){super(e,"VersionControl"),this.outputBelow=(0,C.getStringOption)(de.outputBelow,["warn","error","update"]),this.sourceAbove=(0,C.getStringOption)(de.sourceAbove,["warn","error"]),this.sourceBelow=(0,C.getStringOption)(de.sourceBelow,["update","maintain"])}}class Wr extends c.XFAObject{constructor(de){super(e,"viewerPreferences",!0),this.ADBE_JSConsole=null,this.ADBE_JSDebugger=null,this.addViewerPreferences=null,this.duplexOption=null,this.enforce=null,this.numberOfCopies=null,this.pageRange=null,this.pickTrayByPDFSize=null,this.printScaling=null}}class nn extends c.XFAObject{constructor(de){super(e,"webClient",!0),this.name=de.name?de.name.trim():"",this.fontInfo=null,this.xdc=null}}class Lr extends c.OptionObject{constructor(de){super(e,"whitespace",["preserve","ltrim","normalize","rtrim","trim"])}}class yr extends c.ContentObject{constructor(de){super(e,"window")}[c.$finalize](){const de=this[c.$content].trim().split(/\s*,\s*/,2).map(Ve=>parseInt(Ve,10));if(de.some(Ve=>isNaN(Ve))){this[c.$content]=[0,0];return}de.length===1&&de.push(de[0]),this[c.$content]=de}}class Br extends c.XFAObject{constructor(de){super(e,"xdc",!0),this.uri=new c.XFAObjectArray,this.xsl=new c.XFAObjectArray}}class Tr extends c.XFAObject{constructor(de){super(e,"xdp",!0),this.packets=null}}class an extends c.XFAObject{constructor(de){super(e,"xsl",!0),this.debug=null,this.uri=null}}class _r extends c.XFAObject{constructor(de){super(e,"zpl",!0),this.name=de.name?de.name.trim():"",this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class Xe{static[n.$buildXFAObject](de,Ve){if(Xe.hasOwnProperty(de))return Xe[de](Ve)}static acrobat(de){return new E(de)}static acrobat7(de){return new A(de)}static ADBE_JSConsole(de){return new B(de)}static ADBE_JSDebugger(de){return new O(de)}static addSilentPrint(de){return new v(de)}static addViewerPreferences(de){return new b(de)}static adjustData(de){return new o(de)}static adobeExtensionLevel(de){return new T(de)}static agent(de){return new D(de)}static alwaysEmbed(de){return new _(de)}static amd(de){return new y(de)}static area(de){return new P(de)}static attributes(de){return new w(de)}static autoSave(de){return new M(de)}static base(de){return new q(de)}static batchOutput(de){return new F(de)}static behaviorOverride(de){return new G(de)}static cache(de){return new R(de)}static change(de){return new I(de)}static common(de){return new L(de)}static compress(de){return new x(de)}static compressLogicalStructure(de){return new S(de)}static compressObjectStream(de){return new W(de)}static compression(de){return new U(de)}static config(de){return new z(de)}static conformance(de){return new re(de)}static contentCopy(de){return new J(de)}static copies(de){return new k(de)}static creator(de){return new H(de)}static currentPage(de){return new Z(de)}static data(de){return new Q(de)}static debug(de){return new V(de)}static defaultTypeface(de){return new Y(de)}static destination(de){return new te(de)}static documentAssembly(de){return new $(de)}static driver(de){return new X(de)}static duplexOption(de){return new ne(de)}static dynamicRender(de){return new ce(de)}static embed(de){return new se(de)}static encrypt(de){return new K(de)}static encryption(de){return new ee(de)}static encryptionLevel(de){return new ie(de)}static enforce(de){return new oe(de)}static equate(de){return new le(de)}static equateRange(de){return new pe(de)}static exclude(de){return new fe(de)}static excludeNS(de){return new ue(de)}static flipLabel(de){return new ge(de)}static fontInfo(de){return new he(de)}static formFieldFilling(de){return new xe(de)}static groupParent(de){return new ye(de)}static ifEmpty(de){return new ve(de)}static includeXDPContent(de){return new ke(de)}static incrementalLoad(de){return new Se(de)}static incrementalMerge(de){return new be(de)}static interactive(de){return new Ee(de)}static jog(de){return new Oe(de)}static labelPrinter(de){return new Fe(de)}static layout(de){return new Re(de)}static level(de){return new Ne(de)}static linearized(de){return new Pe(de)}static locale(de){return new Ie(de)}static localeSet(de){return new Me(de)}static log(de){return new Te(de)}static map(de){return new Le(de)}static mediumInfo(de){return new Be(de)}static message(de){return new Ae(de)}static messaging(de){return new we(de)}static mode(de){return new Ce(de)}static modifyAnnots(de){return new De(de)}static msgId(de){return new Ge(de)}static nameAttr(de){return new He(de)}static neverEmbed(de){return new Ze(de)}static numberOfCopies(de){return new Ye(de)}static openAction(de){return new je(de)}static output(de){return new it(de)}static outputBin(de){return new dt(de)}static outputXSL(de){return new ze(de)}static overprint(de){return new lt(de)}static packets(de){return new ot(de)}static pageOffset(de){return new ft(de)}static pageRange(de){return new St(de)}static pagination(de){return new Et(de)}static paginationOverride(de){return new pt(de)}static part(de){return new Ht(de)}static pcl(de){return new Qe(de)}static pdf(de){return new qe(de)}static pdfa(de){return new rt(de)}static permissions(de){return new tt(de)}static pickTrayByPDFSize(de){return new ut(de)}static picture(de){return new mt(de)}static plaintextMetadata(de){return new xt(de)}static presence(de){return new at(de)}static present(de){return new vt(de)}static print(de){return new bt(de)}static printHighQuality(de){return new Pt(de)}static printScaling(de){return new Tt(de)}static printerName(de){return new wt(de)}static producer(de){return new Ue(de)}static ps(de){return new We(de)}static range(de){return new nt(de)}static record(de){return new et(de)}static relevant(de){return new ht(de)}static rename(de){return new _t(de)}static renderPolicy(de){return new Gt(de)}static runScripts(de){return new It(de)}static script(de){return new Ft(de)}static scriptModel(de){return new $t(de)}static severity(de){return new qt(de)}static silentPrint(de){return new sr(de)}static staple(de){return new wr(de)}static startNode(de){return new hr(de)}static startPage(de){return new Cr(de)}static submitFormat(de){return new Ar(de)}static submitUrl(de){return new jr(de)}static subsetBelow(de){return new Jr(de)}static suppressBanner(de){return new Qr(de)}static tagged(de){return new Zr(de)}static template(de){return new en(de)}static templateCache(de){return new Vr(de)}static threshold(de){return new tn(de)}static to(de){return new Gr(de)}static trace(de){return new Mr(de)}static transform(de){return new rn(de)}static type(de){return new br(de)}static uri(de){return new zr(de)}static validate(de){return new Nr(de)}static validateApprovalSignatures(de){return new Dr(de)}static validationMessaging(de){return new cr(de)}static version(de){return new dr(de)}static versionControl(de){return new Er(de)}static viewerPreferences(de){return new Wr(de)}static webClient(de){return new nn(de)}static whitespace(de){return new Lr(de)}static window(de){return new yr(de)}static xdc(de){return new Br(de)}static xdp(de){return new Tr(de)}static xsl(de){return new an(de)}static zpl(de){return new _r(de)}}s.ConfigNamespace=Xe},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ConnectionSetNamespace=void 0;var n=u(204),c=u(202);const C=n.NamespaceIds.connectionSet.id;class m extends c.XFAObject{constructor(w){super(C,"connectionSet",!0),this.wsdlConnection=new c.XFAObjectArray,this.xmlConnection=new c.XFAObjectArray,this.xsdConnection=new c.XFAObjectArray}}class e extends c.XFAObject{constructor(w){super(C,"effectiveInputPolicy"),this.id=w.id||"",this.name=w.name||"",this.use=w.use||"",this.usehref=w.usehref||""}}class E extends c.XFAObject{constructor(w){super(C,"effectiveOutputPolicy"),this.id=w.id||"",this.name=w.name||"",this.use=w.use||"",this.usehref=w.usehref||""}}class A extends c.StringObject{constructor(w){super(C,"operation"),this.id=w.id||"",this.input=w.input||"",this.name=w.name||"",this.output=w.output||"",this.use=w.use||"",this.usehref=w.usehref||""}}class B extends c.StringObject{constructor(w){super(C,"rootElement"),this.id=w.id||"",this.name=w.name||"",this.use=w.use||"",this.usehref=w.usehref||""}}class O extends c.StringObject{constructor(w){super(C,"soapAction"),this.id=w.id||"",this.name=w.name||"",this.use=w.use||"",this.usehref=w.usehref||""}}class v extends c.StringObject{constructor(w){super(C,"soapAddress"),this.id=w.id||"",this.name=w.name||"",this.use=w.use||"",this.usehref=w.usehref||""}}class b extends c.StringObject{constructor(w){super(C,"uri"),this.id=w.id||"",this.name=w.name||"",this.use=w.use||"",this.usehref=w.usehref||""}}class o extends c.StringObject{constructor(w){super(C,"wsdlAddress"),this.id=w.id||"",this.name=w.name||"",this.use=w.use||"",this.usehref=w.usehref||""}}class T extends c.XFAObject{constructor(w){super(C,"wsdlConnection",!0),this.dataDescription=w.dataDescription||"",this.name=w.name||"",this.effectiveInputPolicy=null,this.effectiveOutputPolicy=null,this.operation=null,this.soapAction=null,this.soapAddress=null,this.wsdlAddress=null}}class D extends c.XFAObject{constructor(w){super(C,"xmlConnection",!0),this.dataDescription=w.dataDescription||"",this.name=w.name||"",this.uri=null}}class _ extends c.XFAObject{constructor(w){super(C,"xsdConnection",!0),this.dataDescription=w.dataDescription||"",this.name=w.name||"",this.rootElement=null,this.uri=null}}class y{static[n.$buildXFAObject](w,M){if(y.hasOwnProperty(w))return y[w](M)}static connectionSet(w){return new m(w)}static effectiveInputPolicy(w){return new e(w)}static effectiveOutputPolicy(w){return new E(w)}static operation(w){return new A(w)}static rootElement(w){return new B(w)}static soapAction(w){return new O(w)}static soapAddress(w){return new v(w)}static uri(w){return new b(w)}static wsdlAddress(w){return new o(w)}static wsdlConnection(w){return new T(w)}static xmlConnection(w){return new D(w)}static xsdConnection(w){return new _(w)}}s.ConnectionSetNamespace=y},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DatasetsNamespace=void 0;var n=u(202),c=u(204);const C=c.NamespaceIds.datasets.id;class m extends n.XmlObject{constructor(B){super(C,"data",B)}[n.$isNsAgnostic](){return!0}}class e extends n.XFAObject{constructor(B){super(C,"datasets",!0),this.data=null,this.Signature=null}[n.$onChild](B){const O=B[n.$nodeName];(O==="data"&&B[n.$namespaceId]===C||O==="Signature"&&B[n.$namespaceId]===c.NamespaceIds.signature.id)&&(this[O]=B),this[n.$appendChild](B)}}class E{static[c.$buildXFAObject](B,O){if(E.hasOwnProperty(B))return E[B](O)}static datasets(B){return new e(B)}static data(B){return new m(B)}}s.DatasetsNamespace=E},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.LocaleSetNamespace=void 0;var n=u(204),c=u(202),C=u(203);const m=n.NamespaceIds.localeSet.id;class e extends c.XFAObject{constructor(re){super(m,"calendarSymbols",!0),this.name="gregorian",this.dayNames=new c.XFAObjectArray(2),this.eraNames=null,this.meridiemNames=null,this.monthNames=new c.XFAObjectArray(2)}}class E extends c.StringObject{constructor(re){super(m,"currencySymbol"),this.name=(0,C.getStringOption)(re.name,["symbol","isoname","decimal"])}}class A extends c.XFAObject{constructor(re){super(m,"currencySymbols",!0),this.currencySymbol=new c.XFAObjectArray(3)}}class B extends c.StringObject{constructor(re){super(m,"datePattern"),this.name=(0,C.getStringOption)(re.name,["full","long","med","short"])}}class O extends c.XFAObject{constructor(re){super(m,"datePatterns",!0),this.datePattern=new c.XFAObjectArray(4)}}class v extends c.ContentObject{constructor(re){super(m,"dateTimeSymbols")}}class b extends c.StringObject{constructor(re){super(m,"day")}}class o extends c.XFAObject{constructor(re){super(m,"dayNames",!0),this.abbr=(0,C.getInteger)({data:re.abbr,defaultValue:0,validate:J=>J===1}),this.day=new c.XFAObjectArray(7)}}class T extends c.StringObject{constructor(re){super(m,"era")}}class D extends c.XFAObject{constructor(re){super(m,"eraNames",!0),this.era=new c.XFAObjectArray(2)}}class _ extends c.XFAObject{constructor(re){super(m,"locale",!0),this.desc=re.desc||"",this.name="isoname",this.calendarSymbols=null,this.currencySymbols=null,this.datePatterns=null,this.dateTimeSymbols=null,this.numberPatterns=null,this.numberSymbols=null,this.timePatterns=null,this.typeFaces=null}}class y extends c.XFAObject{constructor(re){super(m,"localeSet",!0),this.locale=new c.XFAObjectArray}}class P extends c.StringObject{constructor(re){super(m,"meridiem")}}class w extends c.XFAObject{constructor(re){super(m,"meridiemNames",!0),this.meridiem=new c.XFAObjectArray(2)}}class M extends c.StringObject{constructor(re){super(m,"month")}}class q extends c.XFAObject{constructor(re){super(m,"monthNames",!0),this.abbr=(0,C.getInteger)({data:re.abbr,defaultValue:0,validate:J=>J===1}),this.month=new c.XFAObjectArray(12)}}class F extends c.StringObject{constructor(re){super(m,"numberPattern"),this.name=(0,C.getStringOption)(re.name,["full","long","med","short"])}}class G extends c.XFAObject{constructor(re){super(m,"numberPatterns",!0),this.numberPattern=new c.XFAObjectArray(4)}}class R extends c.StringObject{constructor(re){super(m,"numberSymbol"),this.name=(0,C.getStringOption)(re.name,["decimal","grouping","percent","minus","zero"])}}class I extends c.XFAObject{constructor(re){super(m,"numberSymbols",!0),this.numberSymbol=new c.XFAObjectArray(5)}}class L extends c.StringObject{constructor(re){super(m,"timePattern"),this.name=(0,C.getStringOption)(re.name,["full","long","med","short"])}}class x extends c.XFAObject{constructor(re){super(m,"timePatterns",!0),this.timePattern=new c.XFAObjectArray(4)}}class S extends c.XFAObject{constructor(re){super(m,"typeFace",!0),this.name=re.name|""}}class W extends c.XFAObject{constructor(re){super(m,"typeFaces",!0),this.typeFace=new c.XFAObjectArray}}class U{static[n.$buildXFAObject](re,J){if(U.hasOwnProperty(re))return U[re](J)}static calendarSymbols(re){return new e(re)}static currencySymbol(re){return new E(re)}static currencySymbols(re){return new A(re)}static datePattern(re){return new B(re)}static datePatterns(re){return new O(re)}static dateTimeSymbols(re){return new v(re)}static day(re){return new b(re)}static dayNames(re){return new o(re)}static era(re){return new T(re)}static eraNames(re){return new D(re)}static locale(re){return new _(re)}static localeSet(re){return new y(re)}static meridiem(re){return new P(re)}static meridiemNames(re){return new w(re)}static month(re){return new M(re)}static monthNames(re){return new q(re)}static numberPattern(re){return new F(re)}static numberPatterns(re){return new G(re)}static numberSymbol(re){return new R(re)}static numberSymbols(re){return new I(re)}static timePattern(re){return new L(re)}static timePatterns(re){return new x(re)}static typeFace(re){return new S(re)}static typeFaces(re){return new W(re)}}s.LocaleSetNamespace=U},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SignatureNamespace=void 0;var n=u(204),c=u(202);const C=n.NamespaceIds.signature.id;class m extends c.XFAObject{constructor(A){super(C,"signature",!0)}}class e{static[n.$buildXFAObject](A,B){if(e.hasOwnProperty(A))return e[A](B)}static signature(A){return new m(A)}}s.SignatureNamespace=e},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.StylesheetNamespace=void 0;var n=u(204),c=u(202);const C=n.NamespaceIds.stylesheet.id;class m extends c.XFAObject{constructor(A){super(C,"stylesheet",!0)}}class e{static[n.$buildXFAObject](A,B){if(e.hasOwnProperty(A))return e[A](B)}static stylesheet(A){return new m(A)}}s.StylesheetNamespace=e},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XdpNamespace=void 0;var n=u(204),c=u(202);const C=n.NamespaceIds.xdp.id;class m extends c.XFAObject{constructor(A){super(C,"xdp",!0),this.uuid=A.uuid||"",this.timeStamp=A.timeStamp||"",this.config=null,this.connectionSet=null,this.datasets=null,this.localeSet=null,this.stylesheet=new c.XFAObjectArray,this.template=null}[c.$onChildCheck](A){const B=n.NamespaceIds[A[c.$nodeName]];return B&&A[c.$namespaceId]===B.id}}class e{static[n.$buildXFAObject](A,B){if(e.hasOwnProperty(A))return e[A](B)}static xdp(A){return new m(A)}}s.XdpNamespace=e},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XhtmlNamespace=void 0;var n=u(202),c=u(204),C=u(209),m=u(203);const e=c.NamespaceIds.xhtml.id,E=Symbol(),A=new Set(["color","font","font-family","font-size","font-stretch","font-style","font-weight","margin","margin-bottom","margin-left","margin-right","margin-top","letter-spacing","line-height","orphans","page-break-after","page-break-before","page-break-inside","tab-interval","tab-stop","text-align","text-decoration","text-indent","vertical-align","widows","kerning-mode","xfa-font-horizontal-scale","xfa-font-vertical-scale","xfa-spacerun","xfa-tab-stops"]),B=new Map([["page-break-after","breakAfter"],["page-break-before","breakBefore"],["page-break-inside","breakInside"],["kerning-mode",z=>z==="none"?"none":"normal"],["xfa-font-horizontal-scale",z=>`scaleX(${Math.max(0,Math.min(parseInt(z)/100)).toFixed(2)})`],["xfa-font-vertical-scale",z=>`scaleY(${Math.max(0,Math.min(parseInt(z)/100)).toFixed(2)})`],["xfa-spacerun",""],["xfa-tab-stops",""],["font-size",(z,re)=>(z=re.fontSize=(0,m.getMeasurement)(z),(0,C.measureToString)(.99*z))],["letter-spacing",z=>(0,C.measureToString)((0,m.getMeasurement)(z))],["line-height",z=>(0,C.measureToString)((0,m.getMeasurement)(z))],["margin",z=>(0,C.measureToString)((0,m.getMeasurement)(z))],["margin-bottom",z=>(0,C.measureToString)((0,m.getMeasurement)(z))],["margin-left",z=>(0,C.measureToString)((0,m.getMeasurement)(z))],["margin-right",z=>(0,C.measureToString)((0,m.getMeasurement)(z))],["margin-top",z=>(0,C.measureToString)((0,m.getMeasurement)(z))],["text-indent",z=>(0,C.measureToString)((0,m.getMeasurement)(z))],["font-family",z=>z],["vertical-align",z=>(0,C.measureToString)((0,m.getMeasurement)(z))]]),O=/\s+/g,v=/[\r\n]+/g,b=/\r\n?/g;function o(z,re,J){const k=Object.create(null);if(!z)return k;const H=Object.create(null);for(const[Z,Q]of z.split(";").map(V=>V.split(":",2))){const V=B.get(Z);if(V==="")continue;let Y=Q;V&&(typeof V=="string"?Y=V:Y=V(Q,H)),Z.endsWith("scale")?k.transform?k.transform=`${k[Z]} ${Y}`:k.transform=Y:k[Z.replaceAll(/-([a-zA-Z])/g,(te,$)=>$.toUpperCase())]=Y}if(k.fontFamily&&(0,C.setFontFamily)({typeface:k.fontFamily,weight:k.fontWeight||"normal",posture:k.fontStyle||"normal",size:H.fontSize||0},re,re[n.$globalData].fontFinder,k),J&&k.verticalAlign&&k.verticalAlign!=="0px"&&k.fontSize){const V=(0,m.getMeasurement)(k.fontSize);k.fontSize=(0,C.measureToString)(V*.583),k.verticalAlign=(0,C.measureToString)(Math.sign((0,m.getMeasurement)(k.verticalAlign))*V*.333)}return J&&k.fontSize&&(k.fontSize=`calc(${k.fontSize} * var(--scale-factor))`),(0,C.fixTextIndent)(k),k}function T(z){return z.style?z.style.trim().split(/\s*;\s*/).filter(re=>!!re).map(re=>re.split(/\s*:\s*/,2)).filter(re=>{let[J,k]=re;return J==="font-family"&&z[n.$globalData].usedTypefaces.add(k),A.has(J)}).map(re=>re.join(":")).join(";"):""}const D=new Set(["body","html"]);class _ extends n.XmlObject{constructor(re,J){super(e,J),this[E]=!1,this.style=re.style||""}[n.$clean](re){super[n.$clean](re),this.style=T(this)}[n.$acceptWhitespace](){return!D.has(this[n.$nodeName])}[n.$onText](re){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?this[E]=!0:(re=re.replace(v,""),this.style.includes("xfa-spacerun:yes")||(re=re.replace(O," "))),re&&(this[n.$content]+=re)}[n.$pushGlyphs](re){let J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const k=Object.create(null),H={top:NaN,bottom:NaN,left:NaN,right:NaN};let Z=null;for(const[Q,V]of this.style.split(";").map(Y=>Y.split(":",2)))switch(Q){case"font-family":k.typeface=(0,m.stripQuotes)(V);break;case"font-size":k.size=(0,m.getMeasurement)(V);break;case"font-weight":k.weight=V;break;case"font-style":k.posture=V;break;case"letter-spacing":k.letterSpacing=(0,m.getMeasurement)(V);break;case"margin":const Y=V.split(/ \t/).map(te=>(0,m.getMeasurement)(te));switch(Y.length){case 1:H.top=H.bottom=H.left=H.right=Y[0];break;case 2:H.top=H.bottom=Y[0],H.left=H.right=Y[1];break;case 3:H.top=Y[0],H.bottom=Y[2],H.left=H.right=Y[1];break;case 4:H.top=Y[0],H.left=Y[1],H.bottom=Y[2],H.right=Y[3];break}break;case"margin-top":H.top=(0,m.getMeasurement)(V);break;case"margin-bottom":H.bottom=(0,m.getMeasurement)(V);break;case"margin-left":H.left=(0,m.getMeasurement)(V);break;case"margin-right":H.right=(0,m.getMeasurement)(V);break;case"line-height":Z=(0,m.getMeasurement)(V);break}if(re.pushData(k,H,Z),this[n.$content])re.addString(this[n.$content]);else for(const Q of this[n.$getChildren]()){if(Q[n.$nodeName]==="#text"){re.addString(Q[n.$content]);continue}Q[n.$pushGlyphs](re)}J&&re.popFont()}[n.$toHTML](re){const J=[];if(this[n.$extra]={children:J},this[n.$childrenToHTML]({}),J.length===0&&!this[n.$content])return m.HTMLResult.EMPTY;let k;return this[E]?k=this[n.$content]?this[n.$content].replace(b,`
`):void 0:k=this[n.$content]||void 0,m.HTMLResult.success({name:this[n.$nodeName],attributes:{href:this.href,style:o(this.style,this,this[E])},children:J,value:k})}}class y extends _{constructor(re){super(re,"a"),this.href=(0,C.fixURL)(re.href)||""}}class P extends _{constructor(re){super(re,"b")}[n.$pushGlyphs](re){re.pushFont({weight:"bold"}),super[n.$pushGlyphs](re),re.popFont()}}class w extends _{constructor(re){super(re,"body")}[n.$toHTML](re){const J=super[n.$toHTML](re),{html:k}=J;return k?(k.name="div",k.attributes.class=["xfaRich"],J):m.HTMLResult.EMPTY}}class M extends _{constructor(re){super(re,"br")}[n.$text](){return`
`}[n.$pushGlyphs](re){re.addString(`
`)}[n.$toHTML](re){return m.HTMLResult.success({name:"br"})}}class q extends _{constructor(re){super(re,"html")}[n.$toHTML](re){const J=[];if(this[n.$extra]={children:J},this[n.$childrenToHTML]({}),J.length===0)return m.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},value:this[n.$content]||""});if(J.length===1){const k=J[0];if(k.attributes&&k.attributes.class.includes("xfaRich"))return m.HTMLResult.success(k)}return m.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},children:J})}}class F extends _{constructor(re){super(re,"i")}[n.$pushGlyphs](re){re.pushFont({posture:"italic"}),super[n.$pushGlyphs](re),re.popFont()}}class G extends _{constructor(re){super(re,"li")}}class R extends _{constructor(re){super(re,"ol")}}class I extends _{constructor(re){super(re,"p")}[n.$pushGlyphs](re){super[n.$pushGlyphs](re,!1),re.addString(`
`),re.addPara(),re.popFont()}[n.$text](){return this[n.$getParent]()[n.$getChildren]().at(-1)===this?super[n.$text]():super[n.$text]()+`
`}}class L extends _{constructor(re){super(re,"span")}}class x extends _{constructor(re){super(re,"sub")}}class S extends _{constructor(re){super(re,"sup")}}class W extends _{constructor(re){super(re,"ul")}}class U{static[c.$buildXFAObject](re,J){if(U.hasOwnProperty(re))return U[re](J)}static a(re){return new y(re)}static b(re){return new P(re)}static body(re){return new w(re)}static br(re){return new M(re)}static html(re){return new q(re)}static i(re){return new F(re)}static li(re){return new G(re)}static ol(re){return new R(re)}static p(re){return new I(re)}static span(re){return new L(re)}static sub(re){return new x(re)}static sup(re){return new S(re)}static ul(re){return new W(re)}}s.XhtmlNamespace=U},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.UnknownNamespace=void 0;var n=u(204),c=u(202);class C{constructor(e){this.namespaceId=e}[n.$buildXFAObject](e,E){return new c.XmlObject(this.namespaceId,e,E)}}s.UnknownNamespace=C},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DatasetReader=void 0;var n=u(2),c=u(131),C=u(191);function m(A){try{return(0,n.stringToUTF8String)(A)}catch(B){return(0,n.warn)(`UTF-8 decoding failed: "${B}".`),A}}class e extends C.SimpleXMLParser{constructor(B){super(B),this.node=null}onEndElement(B){const O=super.onEndElement(B);if(O&&B==="xfa:datasets")throw this.node=O,new Error("Aborting DatasetXMLParser.")}}class E{constructor(B){if(B.datasets)this.node=new C.SimpleXMLParser({hasAttributes:!0}).parseFromString(B.datasets).documentElement;else{const O=new e({hasAttributes:!0});try{O.parseFromString(B["xdp:xdp"])}catch{}this.node=O.node}}getValue(B){if(!this.node||!B)return"";const O=this.node.searchNode((0,c.parseXFAPath)(B),0);if(!O)return"";const v=O.firstChild;return v&&v.nodeName==="value"?O.children.map(b=>m(b.textContent)):m(O.textContent)}}s.DatasetReader=E},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XRef=void 0;var n=u(2),c=u(130),C=u(131),m=u(142),e=u(132),E=u(192);class A{constructor(O,v){this.stream=O,this.pdfManager=v,this.entries=[],this.xrefstms=Object.create(null),this._cacheMap=new Map,this._pendingRefs=new c.RefSet,this.stats=new C.DocStats(v.msgHandler),this._newRefNum=null}getNewRef(){return this._newRefNum===null&&(this._newRefNum=this.entries.length||1),c.Ref.get(this._newRefNum++,0)}resetNewRef(){this._newRefNum=null}setStartXRef(O){this.startXRefQueue=[O]}parse(){let O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,v;O?((0,n.warn)("Indexing all PDF objects"),v=this.indexObjects()):v=this.readXRef(),v.assignXref(this),this.trailer=v;let b;try{b=v.get("Encrypt")}catch(T){if(T instanceof C.MissingDataException)throw T;(0,n.warn)(`XRef.parse - Invalid "Encrypt" reference: "${T}".`)}if(b instanceof c.Dict){const T=v.get("ID"),D=T&&T.length?T[0]:"";b.suppressEncryption=!0,this.encrypt=new E.CipherTransformFactory(b,D,this.pdfManager.password)}let o;try{o=v.get("Root")}catch(T){if(T instanceof C.MissingDataException)throw T;(0,n.warn)(`XRef.parse - Invalid "Root" reference: "${T}".`)}if(o instanceof c.Dict)try{if(o.get("Pages")instanceof c.Dict){this.root=o;return}}catch(T){if(T instanceof C.MissingDataException)throw T;(0,n.warn)(`XRef.parse - Invalid "Pages" reference: "${T}".`)}throw O?new n.InvalidPDFException("Invalid Root reference."):new C.XRefParseException}processXRefTable(O){"tableState"in this||(this.tableState={entryNum:0,streamPos:O.lexer.stream.pos,parserBuf1:O.buf1,parserBuf2:O.buf2});const v=this.readXRefTable(O);if(!(0,c.isCmd)(v,"trailer"))throw new n.FormatError("Invalid XRef table: could not find trailer dictionary");let b=O.getObj();if(!(b instanceof c.Dict)&&b.dict&&(b=b.dict),!(b instanceof c.Dict))throw new n.FormatError("Invalid XRef table: could not parse trailer dictionary");return delete this.tableState,b}readXRefTable(O){const v=O.lexer.stream,b=this.tableState;v.pos=b.streamPos,O.buf1=b.parserBuf1,O.buf2=b.parserBuf2;let o;for(;;){if(!("firstEntryNum"in b)||!("entryCount"in b)){if((0,c.isCmd)(o=O.getObj(),"trailer"))break;b.firstEntryNum=o,b.entryCount=O.getObj()}let T=b.firstEntryNum;const D=b.entryCount;if(!Number.isInteger(T)||!Number.isInteger(D))throw new n.FormatError("Invalid XRef table: wrong types in subsection header");for(let _=b.entryNum;_<D;_++){b.streamPos=v.pos,b.entryNum=_,b.parserBuf1=O.buf1,b.parserBuf2=O.buf2;const y={};y.offset=O.getObj(),y.gen=O.getObj();const P=O.getObj();if(P instanceof c.Cmd)switch(P.cmd){case"f":y.free=!0;break;case"n":y.uncompressed=!0;break}if(!Number.isInteger(y.offset)||!Number.isInteger(y.gen)||!(y.free||y.uncompressed))throw new n.FormatError(`Invalid entry in XRef subsection: ${T}, ${D}`);_===0&&y.free&&T===1&&(T=0),this.entries[_+T]||(this.entries[_+T]=y)}b.entryNum=0,b.streamPos=v.pos,b.parserBuf1=O.buf1,b.parserBuf2=O.buf2,delete b.firstEntryNum,delete b.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new n.FormatError("Invalid XRef table: unexpected first object");return o}processXRefStream(O){if(!("streamState"in this)){const v=O.dict,b=v.get("W");let o=v.get("Index");o||(o=[0,v.get("Size")]),this.streamState={entryRanges:o,byteWidths:b,entryNum:0,streamPos:O.pos}}return this.readXRefStream(O),delete this.streamState,O.dict}readXRefStream(O){const v=this.streamState;O.pos=v.streamPos;const[b,o,T]=v.byteWidths,D=v.entryRanges;for(;D.length>0;){const[_,y]=D;if(!Number.isInteger(_)||!Number.isInteger(y))throw new n.FormatError(`Invalid XRef range fields: ${_}, ${y}`);if(!Number.isInteger(b)||!Number.isInteger(o)||!Number.isInteger(T))throw new n.FormatError(`Invalid XRef entry fields length: ${_}, ${y}`);for(let P=v.entryNum;P<y;++P){v.entryNum=P,v.streamPos=O.pos;let w=0,M=0,q=0;for(let G=0;G<b;++G){const R=O.getByte();if(R===-1)throw new n.FormatError("Invalid XRef byteWidths 'type'.");w=w<<8|R}b===0&&(w=1);for(let G=0;G<o;++G){const R=O.getByte();if(R===-1)throw new n.FormatError("Invalid XRef byteWidths 'offset'.");M=M<<8|R}for(let G=0;G<T;++G){const R=O.getByte();if(R===-1)throw new n.FormatError("Invalid XRef byteWidths 'generation'.");q=q<<8|R}const F={};switch(F.offset=M,F.gen=q,w){case 0:F.free=!0;break;case 1:F.uncompressed=!0;break;case 2:break;default:throw new n.FormatError(`Invalid XRef entry type: ${w}`)}this.entries[_+P]||(this.entries[_+P]=F)}v.entryNum=0,v.streamPos=O.pos,D.splice(0,2)}}indexObjects(){function _(J,k){let H="",Z=J[k];for(;Z!==10&&Z!==13&&Z!==60&&!(++k>=J.length);)H+=String.fromCharCode(Z),Z=J[k];return H}function y(J,k,H){const Z=H.length,Q=J.length;let V=0;for(;k<Q;){let Y=0;for(;Y<Z&&J[k+Y]===H[Y];)++Y;if(Y>=Z)break;k++,V++}return V}const P=/^(\d+)\s+(\d+)\s+obj\b/,w=/\bendobj[\b\s]$/,M=/\s+(\d+\s+\d+\s+obj[\b\s<])$/,q=25,F=new Uint8Array([116,114,97,105,108,101,114]),G=new Uint8Array([115,116,97,114,116,120,114,101,102]),R=new Uint8Array([111,98,106]),I=new Uint8Array([47,88,82,101,102]);this.entries.length=0,this._cacheMap.clear();const L=this.stream;L.pos=0;const x=L.getBytes(),S=x.length;let W=L.start;const U=[],z=[];for(;W<S;){let J=x[W];if(J===9||J===10||J===13||J===32){++W;continue}if(J===37){do{if(++W,W>=S)break;J=x[W]}while(J!==10&&J!==13);continue}const k=_(x,W);let H;if(k.startsWith("xref")&&(k.length===4||/\s/.test(k[4])))W+=y(x,W,F),U.push(W),W+=y(x,W,G);else if(H=P.exec(k)){const Z=H[1]|0,Q=H[2]|0;let V,Y=W+k.length,te=!1;if(!this.entries[Z])te=!0;else if(this.entries[Z].gen===Q)try{new m.Parser({lexer:new m.Lexer(L.makeSubStream(Y))}).getObj(),te=!0}catch(ne){ne instanceof C.ParserEOFException?(0,n.warn)(`indexObjects -- checking object (${k}): "${ne}".`):te=!0}for(te&&(this.entries[Z]={offset:W-L.start,gen:Q,uncompressed:!0});Y<x.length;){const ne=Y+y(x,Y,R)+4;V=ne-W;const ce=Math.max(ne-q,Y),se=(0,n.bytesToString)(x.subarray(ce,ne));if(w.test(se))break;{const K=M.exec(se);if(K&&K[1]){(0,n.warn)('indexObjects: Found new "obj" inside of another "obj", caused by missing "endobj" -- trying to recover.'),V-=K[1].length;break}}Y=ne}const $=x.subarray(W,W+V),X=y($,0,I);X<V&&$[X+5]<64&&(z.push(W-L.start),this.xrefstms[W-L.start]=1),W+=V}else k.startsWith("trailer")&&(k.length===7||/\s/.test(k[7]))?(U.push(W),W+=y(x,W,G)):W+=k.length+1}for(let J=0,k=z.length;J<k;++J)this.startXRefQueue.push(z[J]),this.readXRef(!0);let re;for(let J=0,k=U.length;J<k;++J){L.pos=U[J];const H=new m.Parser({lexer:new m.Lexer(L),xref:this,allowStreams:!0,recoveryMode:!0}),Z=H.getObj();if(!(0,c.isCmd)(Z,"trailer"))continue;const Q=H.getObj();if(Q instanceof c.Dict){try{const V=Q.get("Root");if(!(V instanceof c.Dict))continue;const Y=V.get("Pages");if(!(Y instanceof c.Dict))continue;const te=Y.get("Count");if(!Number.isInteger(te))continue}catch{continue}if(Q.has("ID"))return Q;re=Q}}if(re)return re;if(this.topDict)return this.topDict;throw new n.InvalidPDFException("Invalid PDF structure.")}readXRef(){let O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const v=this.stream,b=new Set;try{for(;this.startXRefQueue.length;){const o=this.startXRefQueue[0];if(b.has(o)){(0,n.warn)("readXRef - skipping XRef table since it was already parsed."),this.startXRefQueue.shift();continue}b.add(o),v.pos=o+v.start;const T=new m.Parser({lexer:new m.Lexer(v),xref:this,allowStreams:!0});let D=T.getObj(),_;if((0,c.isCmd)(D,"xref")){if(_=this.processXRefTable(T),this.topDict||(this.topDict=_),D=_.get("XRefStm"),Number.isInteger(D)){const y=D;y in this.xrefstms||(this.xrefstms[y]=1,this.startXRefQueue.push(y))}}else if(Number.isInteger(D)){if(!Number.isInteger(T.getObj())||!(0,c.isCmd)(T.getObj(),"obj")||!((D=T.getObj())instanceof e.BaseStream))throw new n.FormatError("Invalid XRef stream");if(_=this.processXRefStream(D),this.topDict||(this.topDict=_),!_)throw new n.FormatError("Failed to read XRef stream")}else throw new n.FormatError("Invalid XRef stream header");D=_.get("Prev"),Number.isInteger(D)?this.startXRefQueue.push(D):D instanceof c.Ref&&this.startXRefQueue.push(D.num),this.startXRefQueue.shift()}return this.topDict}catch(o){if(o instanceof C.MissingDataException)throw o;(0,n.info)("(while reading XRef): "+o),this.startXRefQueue.shift()}if(!O)throw new C.XRefParseException}getEntry(O){const v=this.entries[O];return v&&!v.free&&v.offset?v:null}fetchIfRef(O){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return O instanceof c.Ref?this.fetch(O,v):O}fetch(O){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!(O instanceof c.Ref))throw new Error("ref object is not a reference");const b=O.num,o=this._cacheMap.get(b);if(o!==void 0)return o instanceof c.Dict&&!o.objId&&(o.objId=O.toString()),o;let T=this.getEntry(b);if(T===null)return this._cacheMap.set(b,T),T;if(this._pendingRefs.has(O))return this._pendingRefs.remove(O),(0,n.warn)(`Ignoring circular reference: ${O}.`),c.CIRCULAR_REF;this._pendingRefs.put(O);try{T.uncompressed?T=this.fetchUncompressed(O,T,v):T=this.fetchCompressed(O,T,v),this._pendingRefs.remove(O)}catch(D){throw this._pendingRefs.remove(O),D}return T instanceof c.Dict?T.objId=O.toString():T instanceof e.BaseStream&&(T.dict.objId=O.toString()),T}fetchUncompressed(O,v){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const o=O.gen;let T=O.num;if(v.gen!==o)throw new C.XRefEntryException(`Inconsistent generation in XRef: ${O}`);const D=this.stream.makeSubStream(v.offset+this.stream.start),_=new m.Parser({lexer:new m.Lexer(D),xref:this,allowStreams:!0}),y=_.getObj(),P=_.getObj(),w=_.getObj();if(y!==T||P!==o||!(w instanceof c.Cmd))throw new C.XRefEntryException(`Bad (uncompressed) XRef entry: ${O}`);if(w.cmd!=="obj"){if(w.cmd.startsWith("obj")&&(T=parseInt(w.cmd.substring(3),10),!Number.isNaN(T)))return T;throw new C.XRefEntryException(`Bad (uncompressed) XRef entry: ${O}`)}return this.encrypt&&!b?v=_.getObj(this.encrypt.createCipherTransform(T,o)):v=_.getObj(),v instanceof e.BaseStream||this._cacheMap.set(T,v),v}fetchCompressed(O,v){const b=v.offset,o=this.fetch(c.Ref.get(b,0));if(!(o instanceof e.BaseStream))throw new n.FormatError("bad ObjStm stream");const T=o.dict.get("First"),D=o.dict.get("N");if(!Number.isInteger(T)||!Number.isInteger(D))throw new n.FormatError("invalid first and n parameters for ObjStm stream");let _=new m.Parser({lexer:new m.Lexer(o),xref:this,allowStreams:!0});const y=new Array(D),P=new Array(D);for(let q=0;q<D;++q){const F=_.getObj();if(!Number.isInteger(F))throw new n.FormatError(`invalid object number in the ObjStm stream: ${F}`);const G=_.getObj();if(!Number.isInteger(G))throw new n.FormatError(`invalid object offset in the ObjStm stream: ${G}`);y[q]=F,P[q]=G}const w=(o.start||0)+T,M=new Array(D);for(let q=0;q<D;++q){const F=q<D-1?P[q+1]-P[q]:void 0;if(F<0)throw new n.FormatError("Invalid offset in the ObjStm stream.");_=new m.Parser({lexer:new m.Lexer(o.makeSubStream(w+P[q],F,o.dict)),xref:this,allowStreams:!0});const G=_.getObj();if(M[q]=G,G instanceof e.BaseStream)continue;const R=y[q],I=this.entries[R];I&&I.offset===b&&I.gen===q&&this._cacheMap.set(R,G)}if(v=M[v.gen],v===void 0)throw new C.XRefEntryException(`Bad (compressed) XRef entry: ${O}`);return v}async fetchIfRefAsync(O,v){return O instanceof c.Ref?this.fetchAsync(O,v):O}async fetchAsync(O,v){try{return this.fetch(O,v)}catch(b){if(!(b instanceof C.MissingDataException))throw b;return await this.pdfManager.requestRange(b.begin,b.end),this.fetchAsync(O,v)}}getCatalogObj(){return this.root}}s.XRef=A},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.MessageHandler=void 0;var n=u(2);const c={UNKNOWN:0,DATA:1,ERROR:2},C={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function m(E){switch(E instanceof Error||typeof E=="object"&&E!==null||(0,n.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),E.name){case"AbortException":return new n.AbortException(E.message);case"MissingPDFException":return new n.MissingPDFException(E.message);case"PasswordException":return new n.PasswordException(E.message,E.code);case"UnexpectedResponseException":return new n.UnexpectedResponseException(E.message,E.status);case"UnknownErrorException":return new n.UnknownErrorException(E.message,E.details);default:return new n.UnknownErrorException(E.message,E.toString())}}class e{constructor(A,B,O){this.sourceName=A,this.targetName=B,this.comObj=O,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=v=>{const b=v.data;if(b.targetName!==this.sourceName)return;if(b.stream){this._processStreamMessage(b);return}if(b.callback){const T=b.callbackId,D=this.callbackCapabilities[T];if(!D)throw new Error(`Cannot resolve callback ${T}`);if(delete this.callbackCapabilities[T],b.callback===c.DATA)D.resolve(b.data);else if(b.callback===c.ERROR)D.reject(m(b.reason));else throw new Error("Unexpected callback case");return}const o=this.actionHandler[b.action];if(!o)throw new Error(`Unknown action from worker: ${b.action}`);if(b.callbackId){const T=this.sourceName,D=b.sourceName;new Promise(function(_){_(o(b.data))}).then(function(_){O.postMessage({sourceName:T,targetName:D,callback:c.DATA,callbackId:b.callbackId,data:_})},function(_){O.postMessage({sourceName:T,targetName:D,callback:c.ERROR,callbackId:b.callbackId,reason:m(_)})});return}if(b.streamId){this._createStreamSink(b);return}o(b.data)},O.addEventListener("message",this._onComObjOnMessage)}on(A,B){const O=this.actionHandler;if(O[A])throw new Error(`There is already an actionName called "${A}"`);O[A]=B}send(A,B,O){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:A,data:B},O)}sendWithPromise(A,B,O){const v=this.callbackId++,b=(0,n.createPromiseCapability)();this.callbackCapabilities[v]=b;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:A,callbackId:v,data:B},O)}catch(o){b.reject(o)}return b.promise}sendWithStream(A,B,O,v){const b=this.streamId++,o=this.sourceName,T=this.targetName,D=this.comObj;return new ReadableStream({start:_=>{const y=(0,n.createPromiseCapability)();return this.streamControllers[b]={controller:_,startCall:y,pullCall:null,cancelCall:null,isClosed:!1},D.postMessage({sourceName:o,targetName:T,action:A,streamId:b,data:B,desiredSize:_.desiredSize},v),y.promise},pull:_=>{const y=(0,n.createPromiseCapability)();return this.streamControllers[b].pullCall=y,D.postMessage({sourceName:o,targetName:T,stream:C.PULL,streamId:b,desiredSize:_.desiredSize}),y.promise},cancel:_=>{(0,n.assert)(_ instanceof Error,"cancel must have a valid reason");const y=(0,n.createPromiseCapability)();return this.streamControllers[b].cancelCall=y,this.streamControllers[b].isClosed=!0,D.postMessage({sourceName:o,targetName:T,stream:C.CANCEL,streamId:b,reason:m(_)}),y.promise}},O)}_createStreamSink(A){const B=A.streamId,O=this.sourceName,v=A.sourceName,b=this.comObj,o=this,T=this.actionHandler[A.action],D={enqueue(_){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,P=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const w=this.desiredSize;this.desiredSize-=y,w>0&&this.desiredSize<=0&&(this.sinkCapability=(0,n.createPromiseCapability)(),this.ready=this.sinkCapability.promise),b.postMessage({sourceName:O,targetName:v,stream:C.ENQUEUE,streamId:B,chunk:_},P)},close(){this.isCancelled||(this.isCancelled=!0,b.postMessage({sourceName:O,targetName:v,stream:C.CLOSE,streamId:B}),delete o.streamSinks[B])},error(_){(0,n.assert)(_ instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,b.postMessage({sourceName:O,targetName:v,stream:C.ERROR,streamId:B,reason:m(_)}))},sinkCapability:(0,n.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:A.desiredSize,ready:null};D.sinkCapability.resolve(),D.ready=D.sinkCapability.promise,this.streamSinks[B]=D,new Promise(function(_){_(T(A.data,D))}).then(function(){b.postMessage({sourceName:O,targetName:v,stream:C.START_COMPLETE,streamId:B,success:!0})},function(_){b.postMessage({sourceName:O,targetName:v,stream:C.START_COMPLETE,streamId:B,reason:m(_)})})}_processStreamMessage(A){const B=A.streamId,O=this.sourceName,v=A.sourceName,b=this.comObj,o=this.streamControllers[B],T=this.streamSinks[B];switch(A.stream){case C.START_COMPLETE:A.success?o.startCall.resolve():o.startCall.reject(m(A.reason));break;case C.PULL_COMPLETE:A.success?o.pullCall.resolve():o.pullCall.reject(m(A.reason));break;case C.PULL:if(!T){b.postMessage({sourceName:O,targetName:v,stream:C.PULL_COMPLETE,streamId:B,success:!0});break}T.desiredSize<=0&&A.desiredSize>0&&T.sinkCapability.resolve(),T.desiredSize=A.desiredSize,new Promise(function(D){D(T.onPull&&T.onPull())}).then(function(){b.postMessage({sourceName:O,targetName:v,stream:C.PULL_COMPLETE,streamId:B,success:!0})},function(D){b.postMessage({sourceName:O,targetName:v,stream:C.PULL_COMPLETE,streamId:B,reason:m(D)})});break;case C.ENQUEUE:if((0,n.assert)(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(A.chunk);break;case C.CLOSE:if((0,n.assert)(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),this._deleteStreamController(o,B);break;case C.ERROR:(0,n.assert)(o,"error should have stream controller"),o.controller.error(m(A.reason)),this._deleteStreamController(o,B);break;case C.CANCEL_COMPLETE:A.success?o.cancelCall.resolve():o.cancelCall.reject(m(A.reason)),this._deleteStreamController(o,B);break;case C.CANCEL:if(!T)break;new Promise(function(D){D(T.onCancel&&T.onCancel(m(A.reason)))}).then(function(){b.postMessage({sourceName:O,targetName:v,stream:C.CANCEL_COMPLETE,streamId:B,success:!0})},function(D){b.postMessage({sourceName:O,targetName:v,stream:C.CANCEL_COMPLETE,streamId:B,reason:m(D)})}),T.sinkCapability.reject(m(A.reason)),T.isCancelled=!0,delete this.streamSinks[B];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(A,B){await Promise.allSettled([A.startCall&&A.startCall.promise,A.pullCall&&A.pullCall.promise,A.cancelCall&&A.cancelCall.promise]),delete this.streamControllers[B]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}s.MessageHandler=e},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFWorkerStream=void 0;var n=u(2);class c{constructor(E){this._msgHandler=E,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFWorkerStream.getFullReader can only be called once."),this._fullRequestReader=new C(this._msgHandler),this._fullRequestReader}getRangeReader(E,A){const B=new m(E,A,this._msgHandler);return this._rangeRequestReaders.push(B),B}cancelAllRequests(E){this._fullRequestReader&&this._fullRequestReader.cancel(E);for(const A of this._rangeRequestReaders.slice(0))A.cancel(E)}}s.PDFWorkerStream=c;class C{constructor(E){this._msgHandler=E,this.onProgress=null,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;const A=this._msgHandler.sendWithStream("GetReader");this._reader=A.getReader(),this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then(B=>{this._isStreamingSupported=B.isStreamingSupported,this._isRangeSupported=B.isRangeSupported,this._contentLength=B.contentLength})}get headersReady(){return this._headersReady}get contentLength(){return this._contentLength}get isStreamingSupported(){return this._isStreamingSupported}get isRangeSupported(){return this._isRangeSupported}async read(){const{value:E,done:A}=await this._reader.read();return A?{value:void 0,done:!0}:{value:E.buffer,done:!1}}cancel(E){this._reader.cancel(E)}}class m{constructor(E,A,B){this._msgHandler=B,this.onProgress=null;const O=this._msgHandler.sendWithStream("GetRangeReader",{begin:E,end:A});this._reader=O.getReader()}get isStreamingSupported(){return!1}async read(){const{value:E,done:A}=await this._reader.read();return A?{value:void 0,done:!0}:{value:E.buffer,done:!1}}cancel(E){this._reader.cancel(E)}}}],a={};function l(d){var s=a[d];if(s!==void 0)return s.exports;var u=a[d]={exports:{}};return r[d](u,u.exports,l),u.exports}l.d=(d,s)=>{for(var u in s)l.o(s,u)&&!l.o(d,u)&&Object.defineProperty(d,u,{enumerable:!0,get:s[u]})},l.o=(d,s)=>Object.prototype.hasOwnProperty.call(d,s),l.r=d=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})};var g={};return(()=>{var d=g;Object.defineProperty(d,"__esModule",{value:!0}),Object.defineProperty(d,"WorkerMessageHandler",{enumerable:!0,get:function(){return s.WorkerMessageHandler}});var s=l(1)})(),g})())})(pdf_worker);(typeof window<"u"?window:{}).pdfjsWorker=pdf_worker.exports;var pdf_viewer$1={exports:{}};(function(i,t){(function(a,l){i.exports=l()})(globalThis,()=>(()=>{var r=[,(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DefaultXfaLayerFactory=s.DefaultTextLayerFactory=s.DefaultStructTreeLayerFactory=s.DefaultAnnotationLayerFactory=s.DefaultAnnotationEditorLayerFactory=void 0;var n=u(2),c=u(5),C=u(4),m=u(6),e=u(8),E=u(9),A=u(10);class B{createAnnotationLayerBuilder(D){let{pageDiv:_,pdfPage:y,annotationStorage:P=null,imageResourcesPath:w="",renderForms:M=!0,l10n:q=C.NullL10n,enableScripting:F=!1,hasJSActionsPromise:G=null,mouseState:R=null,fieldObjectsPromise:I=null,annotationCanvasMap:L=null,accessibilityManager:x=null}=D;return new c.AnnotationLayerBuilder({pageDiv:_,pdfPage:y,imageResourcesPath:w,renderForms:M,linkService:new m.SimpleLinkService,l10n:q,annotationStorage:P,enableScripting:F,hasJSActionsPromise:G,fieldObjectsPromise:I,mouseState:R,annotationCanvasMap:L,accessibilityManager:x})}}s.DefaultAnnotationLayerFactory=B;class O{createAnnotationEditorLayerBuilder(D){let{uiManager:_=null,pageDiv:y,pdfPage:P,accessibilityManager:w=null,l10n:M,annotationStorage:q=null}=D;return new n.AnnotationEditorLayerBuilder({uiManager:_,pageDiv:y,pdfPage:P,accessibilityManager:w,l10n:M,annotationStorage:q})}}s.DefaultAnnotationEditorLayerFactory=O;class v{createStructTreeLayerBuilder(D){let{pdfPage:_}=D;return new e.StructTreeLayerBuilder({pdfPage:_})}}s.DefaultStructTreeLayerFactory=v;class b{createTextLayerBuilder(D){let{textLayerDiv:_,pageIndex:y,viewport:P,enhanceTextSelection:w=!1,eventBus:M,highlighter:q,accessibilityManager:F=null}=D;return new E.TextLayerBuilder({textLayerDiv:_,pageIndex:y,viewport:P,enhanceTextSelection:w,eventBus:M,highlighter:q,accessibilityManager:F})}}s.DefaultTextLayerFactory=b;class o{createXfaLayerBuilder(D){let{pageDiv:_,pdfPage:y,annotationStorage:P=null}=D;return new A.XfaLayerBuilder({pageDiv:_,pdfPage:y,annotationStorage:P,linkService:new m.SimpleLinkService})}}s.DefaultXfaLayerFactory=o},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditorLayerBuilder=void 0;var n=u(3),c=u(4);function C(o,T,D){m(o,T),T.set(o,D)}function m(o,T){if(T.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")}function e(o,T){var D=B(o,T,"get");return E(o,D)}function E(o,T){return T.get?T.get.call(o):T.value}function A(o,T,D){var _=B(o,T,"set");return O(o,_,D),D}function B(o,T,D){if(!T.has(o))throw new TypeError("attempted to "+D+" private field on non-instance");return T.get(o)}function O(o,T,D){if(T.set)T.set.call(o,D);else{if(!T.writable)throw new TypeError("attempted to set read only private field");T.value=D}}var v=new WeakMap;class b{constructor(T){C(this,v,{writable:!0,value:void 0}),this.pageDiv=T.pageDiv,this.pdfPage=T.pdfPage,this.annotationStorage=T.annotationStorage||null,this.accessibilityManager=T.accessibilityManager,this.l10n=T.l10n||c.NullL10n,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,A(this,v,T.uiManager)}async render(T){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"display";if(D!=="display"||this._cancelled)return;const _=T.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:_}),this.show();return}this.div=document.createElement("div"),this.div.className="annotationEditorLayer",this.div.tabIndex=0,this.pageDiv.append(this.div),this.annotationEditorLayer=new n.AnnotationEditorLayer({uiManager:e(this,v),div:this.div,annotationStorage:this.annotationStorage,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage._pageIndex,l10n:this.l10n,viewport:_});const y={viewport:_,div:this.div,annotations:null,intent:D};this.annotationEditorLayer.render(y)}cancel(){this._cancelled=!0,this.destroy()}hide(){!this.div||(this.div.hidden=!0)}show(){!this.div||(this.div.hidden=!1)}destroy(){!this.div||(this.pageDiv=null,this.annotationEditorLayer.destroy(),this.div.remove())}}s.AnnotationEditorLayerBuilder=b},d=>{let s;typeof window<"u"&&window["pdfjs-dist/build/pdf"]?s=window["pdfjs-dist/build/pdf"]:s=requirePdf(),d.exports=s},(d,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NullL10n=void 0,s.fixupLangCode=C,s.getL10nFallback=n;const u={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xD7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xD7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text_default_content:"Enter text\u2026",editor_free_text_aria_label:"FreeText Editor",editor_ink_aria_label:"Ink Editor",editor_ink_canvas_aria_label:"User-created image"};function n(E,A){switch(E){case"find_match_count":E=`find_match_count[${A.total===1?"one":"other"}]`;break;case"find_match_count_limit":E=`find_match_count_limit[${A.limit===1?"one":"other"}]`;break}return u[E]||""}const c={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};function C(E){return c[E==null?void 0:E.toLowerCase()]||E}function m(E,A){return A?E.replace(/\{\{\s*(\w+)\s*\}\}/g,(B,O)=>O in A?A[O]:"{{"+O+"}}"):E}const e={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(E){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n(E,A);return m(B,A)},async translate(E){}};s.NullL10n=e},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationLayerBuilder=void 0;var n=u(3),c=u(4);class C{constructor(e){let{pageDiv:E,pdfPage:A,linkService:B,downloadManager:O,annotationStorage:v=null,imageResourcesPath:b="",renderForms:o=!0,l10n:T=c.NullL10n,enableScripting:D=!1,hasJSActionsPromise:_=null,fieldObjectsPromise:y=null,mouseState:P=null,annotationCanvasMap:w=null,accessibilityManager:M=null}=e;this.pageDiv=E,this.pdfPage=A,this.linkService=B,this.downloadManager=O,this.imageResourcesPath=b,this.renderForms=o,this.l10n=T,this.annotationStorage=v,this.enableScripting=D,this._hasJSActionsPromise=_,this._fieldObjectsPromise=y,this._mouseState=P,this._annotationCanvasMap=w,this._accessibilityManager=M,this.div=null,this._cancelled=!1}async render(e){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"display";const[A,B=!1,O=null]=await Promise.all([this.pdfPage.getAnnotations({intent:E}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled||A.length===0)return;const v={viewport:e.clone({dontFlip:!0}),div:this.div,annotations:A,page:this.pdfPage,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:B,fieldObjects:O,mouseState:this._mouseState,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager};this.div?n.AnnotationLayer.update(v):(this.div=document.createElement("div"),this.div.className="annotationLayer",this.pageDiv.append(this.div),v.div=this.div,n.AnnotationLayer.render(v),this.l10n.translate(this.div))}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}s.AnnotationLayerBuilder=C},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SimpleLinkService=s.PDFLinkService=s.LinkTarget=void 0;var n=u(7);function c(q,F){m(q,F),F.add(q)}function C(q,F,G){m(q,F),F.set(q,G)}function m(q,F){if(F.has(q))throw new TypeError("Cannot initialize the same private elements twice on an object")}function e(q,F,G){return E(q,F),G}function E(q,F){if(q!==F)throw new TypeError("Private static access of wrong provenance")}function A(q,F,G){if(!F.has(q))throw new TypeError("attempted to get private field on non-instance");return G}function B(q,F){var G=O(q,F,"get");return v(q,G)}function O(q,F,G){if(!F.has(q))throw new TypeError("attempted to "+G+" private field on non-instance");return F.get(q)}function v(q,F){return F.get?F.get.call(q):F.value}const b="noopener noreferrer nofollow",o={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};s.LinkTarget=o;function T(q){let{url:F,target:G,rel:R,enabled:I=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!F||typeof F!="string")throw new Error('A valid "url" parameter must provided.');const L=(0,n.removeNullCharacters)(F);I?q.href=q.title=L:(q.href="",q.title=`Disabled: ${L}`,q.onclick=()=>!1);let x="";switch(G){case o.NONE:break;case o.SELF:x="_self";break;case o.BLANK:x="_blank";break;case o.PARENT:x="_parent";break;case o.TOP:x="_top";break}q.target=x,q.rel=typeof R=="string"?R:b}var D=new WeakMap,_=new WeakSet;class y{constructor(){let{eventBus:F,externalLinkTarget:G=null,externalLinkRel:R=null,ignoreDestinationZoom:I=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};c(this,_),C(this,D,{writable:!0,value:new Map}),this.eventBus=F,this.externalLinkTarget=G,this.externalLinkRel=R,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=I,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(F){let G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.baseUrl=G,this.pdfDocument=F,B(this,D).clear()}setViewer(F){this.pdfViewer=F}setHistory(F){this.pdfHistory=F}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(F){this.pdfViewer.currentPageNumber=F}get rotation(){return this.pdfViewer.pagesRotation}set rotation(F){this.pdfViewer.pagesRotation=F}async goToDestination(F){if(!this.pdfDocument)return;let G,R;if(typeof F=="string"?(G=F,R=await this.pdfDocument.getDestination(F)):(G=null,R=await F),!Array.isArray(R)){console.error(`PDFLinkService.goToDestination: "${R}" is not a valid destination array, for dest="${F}".`);return}A(this,_,P).call(this,F,G,R)}goToPage(F){if(!this.pdfDocument)return;const G=typeof F=="string"&&this.pdfViewer.pageLabelToPageNumber(F)||F|0;if(!(Number.isInteger(G)&&G>0&&G<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${F}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(G)),this.pdfViewer.scrollPageIntoView({pageNumber:G})}addLinkAttributes(F,G){let R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;T(F,{url:G,target:R?o.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(F){if(typeof F=="string"){if(F.length>0)return this.getAnchorUrl("#"+escape(F))}else if(Array.isArray(F)){const G=JSON.stringify(F);if(G.length>0)return this.getAnchorUrl("#"+escape(G))}return this.getAnchorUrl("")}getAnchorUrl(F){return(this.baseUrl||"")+F}setHash(F){if(!this.pdfDocument)return;let G,R;if(F.includes("=")){const I=(0,n.parseQueryString)(F);if(I.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:I.get("search").replace(/"/g,""),phraseSearch:I.get("phrase")==="true"}),I.has("page")&&(G=I.get("page")|0||1),I.has("zoom")){const L=I.get("zoom").split(","),x=L[0],S=parseFloat(x);x.includes("Fit")?x==="Fit"||x==="FitB"?R=[null,{name:x}]:x==="FitH"||x==="FitBH"||x==="FitV"||x==="FitBV"?R=[null,{name:x},L.length>1?L[1]|0:null]:x==="FitR"?L.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):R=[null,{name:x},L[1]|0,L[2]|0,L[3]|0,L[4]|0]:console.error(`PDFLinkService.setHash: "${x}" is not a valid zoom value.`):R=[null,{name:"XYZ"},L.length>1?L[1]|0:null,L.length>2?L[2]|0:null,S?S/100:x]}R?this.pdfViewer.scrollPageIntoView({pageNumber:G||this.page,destArray:R,allowNegativeOffset:!0}):G&&(this.page=G),I.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:I.get("pagemode")}),I.has("nameddest")&&this.goToDestination(I.get("nameddest"))}else{R=unescape(F);try{R=JSON.parse(R),Array.isArray(R)||(R=R.toString())}catch{}if(typeof R=="string"||e(y,y,w).call(y,R)){this.goToDestination(R);return}console.error(`PDFLinkService.setHash: "${unescape(F)}" is not a valid destination.`)}}executeNamedAction(F){var G,R;switch(F){case"GoBack":(G=this.pdfHistory)===null||G===void 0||G.back();break;case"GoForward":(R=this.pdfHistory)===null||R===void 0||R.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break}this.eventBus.dispatch("namedaction",{source:this,action:F})}cachePageRef(F,G){if(!G)return;const R=G.gen===0?`${G.num}R`:`${G.num}R${G.gen}`;B(this,D).set(R,F)}_cachedPageNumber(F){if(!F)return null;const G=F.gen===0?`${F.num}R`:`${F.num}R${F.gen}`;return B(this,D).get(G)||null}isPageVisible(F){return this.pdfViewer.isPageVisible(F)}isPageCached(F){return this.pdfViewer.isPageCached(F)}}s.PDFLinkService=y;function P(q){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,G=arguments.length>2?arguments[2]:void 0;const R=G[0];let I;if(typeof R=="object"&&R!==null){if(I=this._cachedPageNumber(R),!I){this.pdfDocument.getPageIndex(R).then(L=>{this.cachePageRef(L+1,R),A(this,_,P).call(this,q,F,G)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${R}" is not a valid page reference, for dest="${q}".`)});return}}else if(Number.isInteger(R))I=R+1;else{console.error(`PDFLinkService.#goToDestinationHelper: "${R}" is not a valid destination reference, for dest="${q}".`);return}if(!I||I<1||I>this.pagesCount){console.error(`PDFLinkService.#goToDestinationHelper: "${I}" is not a valid page number, for dest="${q}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:F,explicitDest:G,pageNumber:I})),this.pdfViewer.scrollPageIntoView({pageNumber:I,destArray:G,ignoreDestinationZoom:this._ignoreDestinationZoom})}function w(q){if(!Array.isArray(q))return!1;const F=q.length;if(F<2)return!1;const G=q[0];if(!(typeof G=="object"&&Number.isInteger(G.num)&&Number.isInteger(G.gen))&&!(Number.isInteger(G)&&G>=0))return!1;const R=q[1];if(!(typeof R=="object"&&typeof R.name=="string"))return!1;let I=!0;switch(R.name){case"XYZ":if(F!==5)return!1;break;case"Fit":case"FitB":return F===2;case"FitH":case"FitBH":case"FitV":case"FitBV":if(F!==3)return!1;break;case"FitR":if(F!==6)return!1;I=!1;break;default:return!1}for(let L=2;L<F;L++){const x=q[L];if(!(typeof x=="number"||I&&x===null))return!1}return!0}class M{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(F){}get rotation(){return 0}set rotation(F){}async goToDestination(F){}goToPage(F){}addLinkAttributes(F,G){T(F,{url:G,enabled:this.externalLinkEnabled})}getDestinationHash(F){return"#"}getAnchorUrl(F){return"#"}setHash(F){}executeNamedAction(F){}cachePageRef(F,G){}isPageVisible(F){return!0}isPageCached(F){return!0}}s.SimpleLinkService=M},(d,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.animationStarted=s.VERTICAL_PADDING=s.UNKNOWN_SCALE=s.TextLayerMode=s.SpreadMode=s.SidebarView=s.ScrollMode=s.SCROLLBAR_PADDING=s.RenderingStates=s.RendererType=s.ProgressBar=s.PresentationModeState=s.OutputScale=s.MIN_SCALE=s.MAX_SCALE=s.MAX_AUTO_SCALE=s.DEFAULT_SCALE_VALUE=s.DEFAULT_SCALE_DELTA=s.DEFAULT_SCALE=s.AutoPrintRegExp=void 0,s.apiPageLayoutToViewerModes=ue,s.apiPageModeToSidebarView=ge,s.approximateFraction=J,s.backtrackBeforeAllVisibleElements=Z,s.binarySearchFirstItem=re,s.docStyle=void 0,s.getActiveOrFocusedElement=fe,s.getPageSizeInches=H,s.getVisibleElements=Q,s.isPortraitOrientation=ce,s.isValidRotation=$,s.isValidScrollMode=X,s.isValidSpreadMode=ne,s.noContextMenuHandler=V,s.normalizeWheelEventDelta=te,s.normalizeWheelEventDirection=Y,s.parseQueryString=S,s.removeNullCharacters=z,s.roundToDivide=k,s.scrollIntoView=L,s.watchScroll=x;function u(he,xe,ye){n(he,xe),xe.set(he,ye)}function n(he,xe){if(xe.has(he))throw new TypeError("Cannot initialize the same private elements twice on an object")}function c(he,xe){var ye=e(he,xe,"get");return C(he,ye)}function C(he,xe){return xe.get?xe.get.call(he):xe.value}function m(he,xe,ye){var ve=e(he,xe,"set");return E(he,ve,ye),ye}function e(he,xe,ye){if(!xe.has(he))throw new TypeError("attempted to "+ye+" private field on non-instance");return xe.get(he)}function E(he,xe,ye){if(xe.set)xe.set.call(he,ye);else{if(!xe.writable)throw new TypeError("attempted to set read only private field");xe.value=ye}}const A="auto";s.DEFAULT_SCALE_VALUE=A;const B=1;s.DEFAULT_SCALE=B;const O=1.1;s.DEFAULT_SCALE_DELTA=O;const v=.1;s.MIN_SCALE=v;const b=10;s.MAX_SCALE=b;const o=0;s.UNKNOWN_SCALE=o;const T=1.25;s.MAX_AUTO_SCALE=T;const D=40;s.SCROLLBAR_PADDING=D;const _=5;s.VERTICAL_PADDING=_;const y={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};s.RenderingStates=y;const P={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};s.PresentationModeState=P;const w={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};s.SidebarView=w;const M={CANVAS:"canvas",SVG:"svg"};s.RendererType=M;const q={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};s.TextLayerMode=q;const F={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};s.ScrollMode=F;const G={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};s.SpreadMode=G;const R=/\bprint\s*\(/;s.AutoPrintRegExp=R;class I{constructor(){const xe=window.devicePixelRatio||1;this.sx=xe,this.sy=xe}get scaled(){return this.sx!==1||this.sy!==1}}s.OutputScale=I;function L(he,xe){let ye=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,ve=he.offsetParent;if(!ve){console.error("offsetParent is not set -- cannot scroll");return}let ke=he.offsetTop+he.clientTop,Se=he.offsetLeft+he.clientLeft;for(;ve.clientHeight===ve.scrollHeight&&ve.clientWidth===ve.scrollWidth||ye&&(ve.classList.contains("markedContent")||getComputedStyle(ve).overflow==="hidden");)if(ke+=ve.offsetTop,Se+=ve.offsetLeft,ve=ve.offsetParent,!ve)return;xe&&(xe.top!==void 0&&(ke+=xe.top),xe.left!==void 0&&(Se+=xe.left,ve.scrollLeft=Se)),ve.scrollTop=ke}function x(he,xe){const ye=function(Se){ke||(ke=window.requestAnimationFrame(function(){ke=null;const Ee=he.scrollLeft,Oe=ve.lastX;Ee!==Oe&&(ve.right=Ee>Oe),ve.lastX=Ee;const Fe=he.scrollTop,Re=ve.lastY;Fe!==Re&&(ve.down=Fe>Re),ve.lastY=Fe,xe(ve)}))},ve={right:!0,down:!0,lastX:he.scrollLeft,lastY:he.scrollTop,_eventHandler:ye};let ke=null;return he.addEventListener("scroll",ye,!0),ve}function S(he){const xe=new Map;for(const[ye,ve]of new URLSearchParams(he))xe.set(ye.toLowerCase(),ve);return xe}const W=/\x00/g,U=/[\x01-\x1F]/g;function z(he){let xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return typeof he!="string"?(console.error("The argument must be a string."),he):(xe&&(he=he.replace(U," ")),he.replace(W,""))}function re(he,xe){let ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,ke=he.length-1;if(ke<0||!xe(he[ke]))return he.length;if(xe(he[ve]))return ve;for(;ve<ke;){const Se=ve+ke>>1,be=he[Se];xe(be)?ke=Se:ve=Se+1}return ve}function J(he){if(Math.floor(he)===he)return[he,1];const xe=1/he,ye=8;if(xe>ye)return[1,ye];if(Math.floor(xe)===xe)return[1,xe];const ve=he>1?xe:he;let ke=0,Se=1,be=1,Ee=1;for(;;){const Fe=ke+be,Re=Se+Ee;if(Re>ye)break;ve<=Fe/Re?(be=Fe,Ee=Re):(ke=Fe,Se=Re)}let Oe;return ve-ke/Se<be/Ee-ve?Oe=ve===he?[ke,Se]:[Se,ke]:Oe=ve===he?[be,Ee]:[Ee,be],Oe}function k(he,xe){const ye=he%xe;return ye===0?he:Math.round(he-ye+xe)}function H(he){let{view:xe,userUnit:ye,rotate:ve}=he;const[ke,Se,be,Ee]=xe,Oe=ve%180!==0,Fe=(be-ke)/72*ye,Re=(Ee-Se)/72*ye;return{width:Oe?Re:Fe,height:Oe?Fe:Re}}function Z(he,xe,ye){if(he<2)return he;let ve=xe[he].div,ke=ve.offsetTop+ve.clientTop;ke>=ye&&(ve=xe[he-1].div,ke=ve.offsetTop+ve.clientTop);for(let Se=he-2;Se>=0&&(ve=xe[Se].div,!(ve.offsetTop+ve.clientTop+ve.clientHeight<=ke));--Se)he=Se;return he}function Q(he){let{scrollEl:xe,views:ye,sortByVisibility:ve=!1,horizontal:ke=!1,rtl:Se=!1}=he;const be=xe.scrollTop,Ee=be+xe.clientHeight,Oe=xe.scrollLeft,Fe=Oe+xe.clientWidth;function Re(we){const Ce=we.div;return Ce.offsetTop+Ce.clientTop+Ce.clientHeight>be}function Ne(we){const Ce=we.div,De=Ce.offsetLeft+Ce.clientLeft,Ge=De+Ce.clientWidth;return Se?De<Fe:Ge>Oe}const Pe=[],Ie=new Set,Me=ye.length;let Te=re(ye,ke?Ne:Re);Te>0&&Te<Me&&!ke&&(Te=Z(Te,ye,be));let Le=ke?Fe:-1;for(let we=Te;we<Me;we++){const Ce=ye[we],De=Ce.div,Ge=De.offsetLeft+De.clientLeft,He=De.offsetTop+De.clientTop,Ze=De.clientWidth,Ye=De.clientHeight,je=Ge+Ze,it=He+Ye;if(Le===-1)it>=Ee&&(Le=it);else if((ke?Ge:He)>Le)break;if(it<=be||He>=Ee||je<=Oe||Ge>=Fe)continue;const dt=Math.max(0,be-He)+Math.max(0,it-Ee),ze=Math.max(0,Oe-Ge)+Math.max(0,je-Fe),lt=(Ye-dt)/Ye,ot=(Ze-ze)/Ze,ft=lt*ot*100|0;Pe.push({id:Ce.id,x:Ge,y:He,view:Ce,percent:ft,widthPercent:ot*100|0}),Ie.add(Ce.id)}const Be=Pe[0],Ae=Pe.at(-1);return ve&&Pe.sort(function(we,Ce){const De=we.percent-Ce.percent;return Math.abs(De)>.001?-De:we.id-Ce.id}),{first:Be,last:Ae,views:Pe,ids:Ie}}function V(he){he.preventDefault()}function Y(he){let xe=Math.hypot(he.deltaX,he.deltaY);const ye=Math.atan2(he.deltaY,he.deltaX);return-.25*Math.PI<ye&&ye<.75*Math.PI&&(xe=-xe),xe}function te(he){let xe=Y(he);const ye=0,ve=1,ke=30,Se=30;return he.deltaMode===ye?xe/=ke*Se:he.deltaMode===ve&&(xe/=Se),xe}function $(he){return Number.isInteger(he)&&he%90===0}function X(he){return Number.isInteger(he)&&Object.values(F).includes(he)&&he!==F.UNKNOWN}function ne(he){return Number.isInteger(he)&&Object.values(G).includes(he)&&he!==G.UNKNOWN}function ce(he){return he.width<=he.height}const se=new Promise(function(he){window.requestAnimationFrame(he)});s.animationStarted=se;const K=document.documentElement.style;s.docStyle=K;function ee(he,xe,ye){return Math.min(Math.max(he,xe),ye)}var ie=new WeakMap,oe=new WeakMap,le=new WeakMap;class pe{constructor(xe){if(u(this,ie,{writable:!0,value:null}),u(this,oe,{writable:!0,value:0}),u(this,le,{writable:!0,value:!0}),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");const ye=document.getElementById(xe);m(this,ie,ye.classList)}get percent(){return c(this,oe)}set percent(xe){if(m(this,oe,ee(xe,0,100)),isNaN(xe)){c(this,ie).add("indeterminate");return}c(this,ie).remove("indeterminate"),K.setProperty("--progressBar-percent",`${c(this,oe)}%`)}setWidth(xe){if(!xe)return;const ve=xe.parentNode.offsetWidth-xe.offsetWidth;ve>0&&K.setProperty("--progressBar-end-offset",`${ve}px`)}hide(){!c(this,le)||(m(this,le,!1),c(this,ie).add("hidden"))}show(){c(this,le)||(m(this,le,!0),c(this,ie).remove("hidden"))}}s.ProgressBar=pe;function fe(){let he=document,xe=he.activeElement||he.querySelector(":focus");for(;(ye=xe)!==null&&ye!==void 0&&ye.shadowRoot;){var ye;he=xe.shadowRoot,xe=he.activeElement||he.querySelector(":focus")}return xe}function ue(he){let xe=F.VERTICAL,ye=G.NONE;switch(he){case"SinglePage":xe=F.PAGE;break;case"OneColumn":break;case"TwoPageLeft":xe=F.PAGE;case"TwoColumnLeft":ye=G.ODD;break;case"TwoPageRight":xe=F.PAGE;case"TwoColumnRight":ye=G.EVEN;break}return{scrollMode:xe,spreadMode:ye}}function ge(he){switch(he){case"UseNone":return w.NONE;case"UseThumbs":return w.THUMBS;case"UseOutlines":return w.OUTLINE;case"UseAttachments":return w.ATTACHMENTS;case"UseOC":return w.LAYERS}return w.NONE}},(d,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.StructTreeLayerBuilder=void 0;const u={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},n=/^H(\d+)$/;class c{constructor(m){let{pdfPage:e}=m;this.pdfPage=e}render(m){return this._walk(m)}_setAttributes(m,e){m.alt!==void 0&&e.setAttribute("aria-label",m.alt),m.id!==void 0&&e.setAttribute("aria-owns",m.id),m.lang!==void 0&&e.setAttribute("lang",m.lang)}_walk(m){if(!m)return null;const e=document.createElement("span");if("role"in m){const{role:E}=m,A=E.match(n);A?(e.setAttribute("role","heading"),e.setAttribute("aria-level",A[1])):u[E]&&e.setAttribute("role",u[E])}if(this._setAttributes(m,e),m.children)if(m.children.length===1&&"id"in m.children[0])this._setAttributes(m.children[0],e);else for(const E of m.children)e.append(this._walk(E));return e}}s.StructTreeLayerBuilder=c},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextLayerBuilder=void 0;var n=u(3);const c=300;class C{constructor(e){let{textLayerDiv:E,eventBus:A,pageIndex:B,viewport:O,highlighter:v=null,enhanceTextSelection:b=!1,accessibilityManager:o=null}=e;this.textLayerDiv=E,this.eventBus=A,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=B+1,this.viewport=O,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=v,this.enhanceTextSelection=b,this.accessibilityManager=o,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const e=document.createElement("div");e.className="endOfContent",this.textLayerDiv.append(e)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(){var e,E;let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(!(this.textContent||this.textContentStream)||this.renderingDone)return;this.cancel(),this.textDivs.length=0,(e=this.highlighter)===null||e===void 0||e.setTextMapping(this.textDivs,this.textContentItemsStr),(E=this.accessibilityManager)===null||E===void 0||E.setTextMapping(this.textDivs);const B=document.createDocumentFragment();this.textLayerRenderTask=(0,n.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:B,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:A,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{var O,v;this.textLayerDiv.append(B),this._finishRendering(),(O=this.highlighter)===null||O===void 0||O.enable(),(v=this.accessibilityManager)===null||v===void 0||v.enable()},function(O){})}cancel(){var e,E;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),(e=this.highlighter)===null||e===void 0||e.disable(),(E=this.accessibilityManager)===null||E===void 0||E.disable()}setTextContentStream(e){this.cancel(),this.textContentStream=e}setTextContent(e){this.cancel(),this.textContent=e}_bindMouse(){const e=this.textLayerDiv;let E=null;e.addEventListener("mousedown",A=>{if(this.enhanceTextSelection&&this.textLayerRenderTask){this.textLayerRenderTask.expandTextDivs(!0),E&&(clearTimeout(E),E=null);return}const B=e.querySelector(".endOfContent");if(!B)return;let O=A.target!==e;if(O=O&&window.getComputedStyle(B).getPropertyValue("-moz-user-select")!=="none",O){const v=e.getBoundingClientRect(),b=Math.max(0,(A.pageY-v.top)/v.height);B.style.top=(b*100).toFixed(2)+"%"}B.classList.add("active")}),e.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask){E=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),E=null},c);return}const A=e.querySelector(".endOfContent");!A||(A.style.top="",A.classList.remove("active"))})}}s.TextLayerBuilder=C},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaLayerBuilder=void 0;var n=u(3);class c{constructor(m){let{pageDiv:e,pdfPage:E,annotationStorage:A=null,linkService:B,xfaHtml:O=null}=m;this.pageDiv=e,this.pdfPage=E,this.annotationStorage=A,this.linkService=B,this.xfaHtml=O,this.div=null,this._cancelled=!1}render(m){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"display";if(e==="print"){const E={viewport:m.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:e},A=document.createElement("div");this.pageDiv.append(A),E.div=A;const B=n.XfaLayer.render(E);return Promise.resolve(B)}return this.pdfPage.getXfa().then(E=>{if(this._cancelled||!E)return{textDivs:[]};const A={viewport:m.clone({dontFlip:!0}),div:this.div,xfaHtml:E,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:e};return this.div?n.XfaLayer.update(A):(this.div=document.createElement("div"),this.pageDiv.append(this.div),A.div=this.div,n.XfaLayer.render(A))}).catch(E=>{console.error(E)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}s.XfaLayerBuilder=c},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFViewer=s.PDFSinglePageViewer=void 0;var n=u(7),c=u(12);class C extends c.BaseViewer{}s.PDFViewer=C;class m extends c.BaseViewer{_resetView(){super._resetView(),this._scrollMode=n.ScrollMode.PAGE,this._spreadMode=n.SpreadMode.NONE}set scrollMode(E){}_updateScrollMode(){}set spreadMode(E){}_updateSpreadMode(){}}s.PDFSinglePageViewer=m},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PagesCountLimit=s.PDFPageViewBuffer=s.BaseViewer=void 0;var n=u(3),c=u(7),C=u(2),m=u(5),e=u(4),E=u(13),A=u(16),B=u(6),O=u(8),v=u(17),b=u(9),o=u(10);let T;function D(Se,be){y(Se,be),be.add(Se)}function _(Se,be,Ee){y(Se,be),be.set(Se,Ee)}function y(Se,be){if(be.has(Se))throw new TypeError("Cannot initialize the same private elements twice on an object")}function P(Se,be,Ee){if(!be.has(Se))throw new TypeError("attempted to get private field on non-instance");return Ee}function w(Se,be){var Ee=F(Se,be,"get");return M(Se,Ee)}function M(Se,be){return be.get?be.get.call(Se):be.value}function q(Se,be,Ee){var Oe=F(Se,be,"set");return G(Se,Oe,Ee),Ee}function F(Se,be,Ee){if(!be.has(Se))throw new TypeError("attempted to "+Ee+" private field on non-instance");return be.get(Se)}function G(Se,be,Ee){if(be.set)be.set.call(Se,Ee);else{if(!be.writable)throw new TypeError("attempted to set read only private field");be.value=Ee}}const R=10,I="enablePermissions",L={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};s.PagesCountLimit=L;function x(Se){return Object.values(n.AnnotationEditorType).includes(Se)&&Se!==n.AnnotationEditorType.DISABLE}var S=new WeakMap,W=new WeakMap,U=new WeakSet;T=Symbol.iterator;class z{constructor(be){D(this,U),_(this,S,{writable:!0,value:new Set}),_(this,W,{writable:!0,value:0}),q(this,W,be)}push(be){const Ee=w(this,S);Ee.has(be)&&Ee.delete(be),Ee.add(be),Ee.size>w(this,W)&&P(this,U,re).call(this)}resize(be){let Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;q(this,W,be);const Oe=w(this,S);if(Ee){const Fe=Oe.size;let Re=1;for(const Ne of Oe)if(Ee.has(Ne.id)&&(Oe.delete(Ne),Oe.add(Ne)),++Re>Fe)break}for(;Oe.size>w(this,W);)P(this,U,re).call(this)}has(be){return w(this,S).has(be)}[T](){return w(this,S).keys()}}s.PDFPageViewBuffer=z;function re(){const Se=w(this,S).keys().next().value;Se==null||Se.destroy(),w(this,S).delete(Se)}var J=new WeakMap,k=new WeakMap,H=new WeakMap,Z=new WeakMap,Q=new WeakMap,V=new WeakMap,Y=new WeakMap,te=new WeakMap,$=new WeakSet,X=new WeakSet,ne=new WeakSet,ce=new WeakSet,se=new WeakSet,K=new WeakSet,ee=new WeakSet,ie=new WeakSet,oe=new WeakSet;class le{constructor(be){var Ee,Oe,Fe,Re,Ne;if(D(this,oe),D(this,ie),D(this,ee),D(this,K),D(this,se),D(this,ce),D(this,ne),D(this,X),D(this,$),_(this,J,{writable:!0,value:null}),_(this,k,{writable:!0,value:n.AnnotationEditorType.DISABLE}),_(this,H,{writable:!0,value:null}),_(this,Z,{writable:!0,value:n.AnnotationMode.ENABLE_FORMS}),_(this,Q,{writable:!0,value:!1}),_(this,V,{writable:!0,value:0}),_(this,Y,{writable:!0,value:null}),_(this,te,{writable:!0,value:null}),this.constructor===le)throw new Error("Cannot initialize BaseViewer.");const Pe="2.16.105";if(n.version!==Pe)throw new Error(`The API version "${n.version}" does not match the Viewer version "${Pe}".`);if(this.container=be.container,this.viewer=be.viewer||be.container.firstElementChild,!(((Ee=this.container)===null||Ee===void 0?void 0:Ee.tagName.toUpperCase())==="DIV"&&((Oe=this.viewer)===null||Oe===void 0?void 0:Oe.tagName.toUpperCase())==="DIV"))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");this.eventBus=be.eventBus,this.linkService=be.linkService||new B.SimpleLinkService,this.downloadManager=be.downloadManager||null,this.findController=be.findController||null,this._scriptingManager=be.scriptingManager||null,this.removePageBorders=be.removePageBorders||!1,this.textLayerMode=(Fe=be.textLayerMode)!==null&&Fe!==void 0?Fe:c.TextLayerMode.ENABLE,q(this,Z,(Re=be.annotationMode)!==null&&Re!==void 0?Re:n.AnnotationMode.ENABLE_FORMS),q(this,k,(Ne=be.annotationEditorMode)!==null&&Ne!==void 0?Ne:n.AnnotationEditorType.DISABLE),this.imageResourcesPath=be.imageResourcesPath||"",this.enablePrintAutoRotate=be.enablePrintAutoRotate||!1,this.renderer=be.renderer||c.RendererType.CANVAS,this.useOnlyCssZoom=be.useOnlyCssZoom||!1,this.maxCanvasPixels=be.maxCanvasPixels,this.l10n=be.l10n||e.NullL10n,q(this,Q,be.enablePermissions||!1),this.pageColors=be.pageColors||null,this.pageColors&&!(CSS.supports("color",this.pageColors.background)&&CSS.supports("color",this.pageColors.foreground))&&((this.pageColors.background||this.pageColors.foreground)&&console.warn("BaseViewer: Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!be.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new A.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=be.renderingQueue,this.scroll=(0,c.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=c.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss()}get pagesCount(){return this._pages.length}getPageView(be){return this._pages[be]}get pageViewsReady(){return this._pagesCapability.settled?this._pages.every(function(be){return be==null?void 0:be.pdfPage}):!1}get renderForms(){return w(this,Z)===n.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(be){if(!Number.isInteger(be))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(be,!0)||console.error(`currentPageNumber: "${be}" is not a valid page.`)}_setCurrentPageNumber(be){var Ee,Oe;let Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this._currentPageNumber===be)return Fe&&P(this,K,xe).call(this),!0;if(!(0<be&&be<=this.pagesCount))return!1;const Re=this._currentPageNumber;return this._currentPageNumber=be,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:be,pageLabel:(Ee=(Oe=this._pageLabels)===null||Oe===void 0?void 0:Oe[be-1])!==null&&Ee!==void 0?Ee:null,previous:Re}),Fe&&P(this,K,xe).call(this),!0}get currentPageLabel(){var be,Ee;return(be=(Ee=this._pageLabels)===null||Ee===void 0?void 0:Ee[this._currentPageNumber-1])!==null&&be!==void 0?be:null}set currentPageLabel(be){if(!this.pdfDocument)return;let Ee=be|0;if(this._pageLabels){const Oe=this._pageLabels.indexOf(be);Oe>=0&&(Ee=Oe+1)}this._setCurrentPageNumber(Ee,!0)||console.error(`currentPageLabel: "${be}" is not a valid page.`)}get currentScale(){return this._currentScale!==c.UNKNOWN_SCALE?this._currentScale:c.DEFAULT_SCALE}set currentScale(be){if(isNaN(be))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(be,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(be){!this.pdfDocument||this._setScale(be,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(be){if(!(0,c.isValidRotation)(be))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(be%=360,be<0&&(be+=360),this._pagesRotation===be))return;this._pagesRotation=be;const Ee=this._currentPageNumber,Oe={rotation:be};for(const Fe of this._pages)Fe.update(Oe);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:be,pageNumber:Ee}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(be){if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null),w(this,H)&&(w(this,H).destroy(),q(this,H,null))),this.pdfDocument=be,!be)return;const Ee=be.isPureXfa,Oe=be.numPages,Fe=be.getPage(1),Re=be.getOptionalContentConfig(),Ne=w(this,Q)?be.getPermissions():Promise.resolve();if(Oe>L.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const Pe=this._scrollMode=c.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:Pe})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:Oe})},()=>{}),this._onBeforeDraw=Pe=>{const Ie=this._pages[Pe.pageNumber-1];!Ie||w(this,J).push(Ie)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=Pe=>{Pe.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:Pe.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,w(this,te)&&(document.removeEventListener("visibilitychange",w(this,te)),q(this,te,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([Fe,Ne]).then(Pe=>{let[Ie,Me]=Pe;if(be!==this.pdfDocument)return;this._firstPageCapability.resolve(Ie),this._optionalContentConfigPromise=Re;const{annotationEditorMode:Te,annotationMode:Le,textLayerMode:Be}=P(this,$,pe).call(this,Me);if(Te!==n.AnnotationEditorType.DISABLE){const je=Te;Ee?console.warn("Warning: XFA-editing is not implemented."):x(je)?(q(this,H,new n.AnnotationEditorUIManager(this.container,this.eventBus)),je!==n.AnnotationEditorType.NONE&&w(this,H).updateMode(je)):console.error(`Invalid AnnotationEditor mode: ${je}`)}const Ae=this._scrollMode===c.ScrollMode.PAGE?null:this.viewer,we=this.currentScale,Ce=Ie.getViewport({scale:we*n.PixelsPerInch.PDF_TO_CSS_UNITS}),De=Be!==c.TextLayerMode.DISABLE&&!Ee?this:null,Ge=Le!==n.AnnotationMode.DISABLE?this:null,He=Ee?this:null,Ze=w(this,H)?this:null;for(let je=1;je<=Oe;++je){const it=new E.PDFPageView({container:Ae,eventBus:this.eventBus,id:je,scale:we,defaultViewport:Ce.clone(),optionalContentConfigPromise:Re,renderingQueue:this.renderingQueue,textLayerFactory:De,textLayerMode:Be,annotationLayerFactory:Ge,annotationMode:Le,xfaLayerFactory:He,annotationEditorLayerFactory:Ze,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(it)}const Ye=this._pages[0];Ye&&(Ye.setPdfPage(Ie),this.linkService.cachePageRef(1,Ie.ref)),this._scrollMode===c.ScrollMode.PAGE?P(this,ne,ue).call(this):this._spreadMode!==c.SpreadMode.NONE&&this._updateSpreadMode(),P(this,X,fe).call(this).then(async()=>{if(this.findController&&this.findController.setDocument(be),this._scriptingManager&&this._scriptingManager.setDocument(be),w(this,H)&&this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:w(this,k)}),be.loadingParams.disableAutoFetch||Oe>L.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let je=Oe-1;if(je<=0){this._pagesCapability.resolve();return}for(let it=2;it<=Oe;++it){const dt=be.getPage(it).then(ze=>{const lt=this._pages[it-1];lt.pdfPage||lt.setPdfPage(ze),this.linkService.cachePageRef(it,ze.ref),--je===0&&this._pagesCapability.resolve()},ze=>{console.error(`Unable to get page ${it} to initialize viewer`,ze),--je===0&&this._pagesCapability.resolve()});it%L.PAUSE_EAGER_PAGE_INIT===0&&await dt}}),this.eventBus.dispatch("pagesinit",{source:this}),be.getMetadata().then(je=>{let{info:it}=je;be===this.pdfDocument&&it.Language&&(this.viewer.lang=it.Language)}),this.defaultRenderingQueue&&this.update()}).catch(Pe=>{console.error("Unable to initialize viewer",Pe),this._pagesCapability.reject(Pe)})}setPageLabels(be){if(!!this.pdfDocument){be?Array.isArray(be)&&this.pdfDocument.numPages===be.length?this._pageLabels=be:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let Fe=0,Re=this._pages.length;Fe<Re;Fe++){var Ee,Oe;this._pages[Fe].setPageLabel((Ee=(Oe=this._pageLabels)===null||Oe===void 0?void 0:Oe[Fe])!==null&&Ee!==void 0?Ee:null)}}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=c.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,q(this,J,new z(R)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,n.createPromiseCapability)(),this._onePageRenderedCapability=(0,n.createPromiseCapability)(),this._pagesCapability=(0,n.createPromiseCapability)(),this._scrollMode=c.ScrollMode.VERTICAL,this._previousScrollMode=c.ScrollMode.UNKNOWN,this._spreadMode=c.SpreadMode.NONE,q(this,Y,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),w(this,te)&&(document.removeEventListener("visibilitychange",w(this,te)),q(this,te,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(I)}_scrollUpdate(){this.pagesCount!==0&&this.update()}_setScaleUpdatePages(be,Ee){let Oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Fe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(this._currentScaleValue=Ee.toString(),P(this,se,he).call(this,be)){Fe&&this.eventBus.dispatch("scalechanging",{source:this,scale:be,presetValue:Ee});return}c.docStyle.setProperty("--scale-factor",be*n.PixelsPerInch.PDF_TO_CSS_UNITS);const Re={scale:be};for(const Ne of this._pages)Ne.update(Re);if(this._currentScale=be,!Oe){let Ne=this._currentPageNumber,Pe;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(Ne=this._location.pageNumber,Pe=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:Ne,destArray:Pe,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:be,presetValue:Fe?Ee:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==c.SpreadMode.NONE&&this._scrollMode!==c.ScrollMode.HORIZONTAL?2:1}_setScale(be){let Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Oe=parseFloat(be);if(Oe>0)this._setScaleUpdatePages(Oe,be,Ee,!1);else{const Fe=this._pages[this._currentPageNumber-1];if(!Fe)return;let Re=c.SCROLLBAR_PADDING,Ne=c.VERTICAL_PADDING;this.isInPresentationMode?Re=Ne=4:this.removePageBorders?Re=Ne=0:this._scrollMode===c.ScrollMode.HORIZONTAL&&([Re,Ne]=[Ne,Re]);const Pe=(this.container.clientWidth-Re)/Fe.width*Fe.scale/this._pageWidthScaleFactor,Ie=(this.container.clientHeight-Ne)/Fe.height*Fe.scale;switch(be){case"page-actual":Oe=1;break;case"page-width":Oe=Pe;break;case"page-height":Oe=Ie;break;case"page-fit":Oe=Math.min(Pe,Ie);break;case"auto":const Me=(0,c.isPortraitOrientation)(Fe)?Pe:Math.min(Ie,Pe);Oe=Math.min(c.MAX_AUTO_SCALE,Me);break;default:console.error(`_setScale: "${be}" is an unknown zoom value.`);return}this._setScaleUpdatePages(Oe,be,Ee,!0)}}pageLabelToPageNumber(be){if(!this._pageLabels)return null;const Ee=this._pageLabels.indexOf(be);return Ee<0?null:Ee+1}scrollPageIntoView(be){let{pageNumber:Ee,destArray:Oe=null,allowNegativeOffset:Fe=!1,ignoreDestinationZoom:Re=!1}=be;if(!this.pdfDocument)return;const Ne=Number.isInteger(Ee)&&this._pages[Ee-1];if(!Ne){console.error(`scrollPageIntoView: "${Ee}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!Oe){this._setCurrentPageNumber(Ee,!0);return}let Pe=0,Ie=0,Me=0,Te=0,Le,Be;const Ae=Ne.rotation%180!==0,we=(Ae?Ne.height:Ne.width)/Ne.scale/n.PixelsPerInch.PDF_TO_CSS_UNITS,Ce=(Ae?Ne.width:Ne.height)/Ne.scale/n.PixelsPerInch.PDF_TO_CSS_UNITS;let De=0;switch(Oe[1].name){case"XYZ":Pe=Oe[2],Ie=Oe[3],De=Oe[4],Pe=Pe!==null?Pe:0,Ie=Ie!==null?Ie:Ce;break;case"Fit":case"FitB":De="page-fit";break;case"FitH":case"FitBH":Ie=Oe[2],De="page-width",Ie===null&&this._location?(Pe=this._location.left,Ie=this._location.top):(typeof Ie!="number"||Ie<0)&&(Ie=Ce);break;case"FitV":case"FitBV":Pe=Oe[2],Me=we,Te=Ce,De="page-height";break;case"FitR":Pe=Oe[2],Ie=Oe[3],Me=Oe[4]-Pe,Te=Oe[5]-Ie;const Ye=this.removePageBorders?0:c.SCROLLBAR_PADDING,je=this.removePageBorders?0:c.VERTICAL_PADDING;Le=(this.container.clientWidth-Ye)/Me/n.PixelsPerInch.PDF_TO_CSS_UNITS,Be=(this.container.clientHeight-je)/Te/n.PixelsPerInch.PDF_TO_CSS_UNITS,De=Math.min(Math.abs(Le),Math.abs(Be));break;default:console.error(`scrollPageIntoView: "${Oe[1].name}" is not a valid destination type.`);return}if(Re||(De&&De!==this._currentScale?this.currentScaleValue=De:this._currentScale===c.UNKNOWN_SCALE&&(this.currentScaleValue=c.DEFAULT_SCALE_VALUE)),De==="page-fit"&&!Oe[4]){P(this,ce,ge).call(this,Ne);return}const Ge=[Ne.viewport.convertToViewportPoint(Pe,Ie),Ne.viewport.convertToViewportPoint(Pe+Me,Ie+Te)];let He=Math.min(Ge[0][0],Ge[1][0]),Ze=Math.min(Ge[0][1],Ge[1][1]);Fe||(He=Math.max(He,0),Ze=Math.max(Ze,0)),P(this,ce,ge).call(this,Ne,{left:He,top:Ze})}_updateLocation(be){const Ee=this._currentScale,Oe=this._currentScaleValue,Fe=parseFloat(Oe)===Ee?Math.round(Ee*1e4)/100:Oe,Re=be.id,Ne=this._pages[Re-1],Pe=this.container,Ie=Ne.getPagePoint(Pe.scrollLeft-be.x,Pe.scrollTop-be.y),Me=Math.round(Ie[0]),Te=Math.round(Ie[1]);let Le=`#page=${Re}`;this.isInPresentationMode||(Le+=`&zoom=${Fe},${Me},${Te}`),this._location={pageNumber:Re,scale:Fe,top:Te,left:Me,rotation:this._pagesRotation,pdfOpenParams:Le}}update(){const be=this._getVisiblePages(),Ee=be.views,Oe=Ee.length;if(Oe===0)return;const Fe=Math.max(R,2*Oe+1);w(this,J).resize(Fe,be.ids),this.renderingQueue.renderHighestPriority(be);const Re=this._spreadMode===c.SpreadMode.NONE&&(this._scrollMode===c.ScrollMode.PAGE||this._scrollMode===c.ScrollMode.VERTICAL),Ne=this._currentPageNumber;let Pe=!1;for(const Ie of Ee){if(Ie.percent<100)break;if(Ie.id===Ne&&Re){Pe=!0;break}}this._setCurrentPageNumber(Pe?Ne:Ee[0].id),this._updateLocation(be.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(be){return this.container.contains(be)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===c.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===c.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const be=this._scrollMode===c.ScrollMode.PAGE?w(this,Y).pages:this._pages,Ee=this._scrollMode===c.ScrollMode.HORIZONTAL,Oe=Ee&&this._isContainerRtl;return(0,c.getVisibleElements)({scrollEl:this.container,views:be,sortByVisibility:!0,horizontal:Ee,rtl:Oe})}isPageVisible(be){return this.pdfDocument?Number.isInteger(be)&&be>0&&be<=this.pagesCount?this._getVisiblePages().ids.has(be):(console.error(`isPageVisible: "${be}" is not a valid page.`),!1):!1}isPageCached(be){if(!this.pdfDocument)return!1;if(!(Number.isInteger(be)&&be>0&&be<=this.pagesCount))return console.error(`isPageCached: "${be}" is not a valid page.`),!1;const Ee=this._pages[be-1];return w(this,J).has(Ee)}cleanup(){for(const be of this._pages)be.renderingState!==c.RenderingStates.FINISHED&&be.reset()}_cancelRendering(){for(const be of this._pages)be.cancelRendering()}forceRendering(be){const Ee=be||this._getVisiblePages(),Oe=P(this,ie,ve).call(this,Ee),Fe=this._spreadMode!==c.SpreadMode.NONE&&this._scrollMode!==c.ScrollMode.HORIZONTAL,Re=this.renderingQueue.getHighestPriority(Ee,this._pages,Oe,Fe);return P(this,oe,ke).call(this,Ee.ids),Re?(P(this,ee,ye).call(this,Re).then(()=>{this.renderingQueue.renderView(Re)}),!0):!1}createTextLayerBuilder(be){let{textLayerDiv:Ee,pageIndex:Oe,viewport:Fe,enhanceTextSelection:Re=!1,eventBus:Ne,highlighter:Pe,accessibilityManager:Ie=null}=be;return new b.TextLayerBuilder({textLayerDiv:Ee,eventBus:Ne,pageIndex:Oe,viewport:Fe,enhanceTextSelection:this.isInPresentationMode?!1:Re,highlighter:Pe,accessibilityManager:Ie})}createTextHighlighter(be){let{pageIndex:Ee,eventBus:Oe}=be;return new v.TextHighlighter({eventBus:Oe,pageIndex:Ee,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(be){var Ee,Oe,Fe,Re;let{pageDiv:Ne,pdfPage:Pe,annotationStorage:Ie=(Ee=this.pdfDocument)===null||Ee===void 0?void 0:Ee.annotationStorage,imageResourcesPath:Me="",renderForms:Te=!0,l10n:Le=e.NullL10n,enableScripting:Be=this.enableScripting,hasJSActionsPromise:Ae=(Oe=this.pdfDocument)===null||Oe===void 0?void 0:Oe.hasJSActions(),mouseState:we=(Fe=this._scriptingManager)===null||Fe===void 0?void 0:Fe.mouseState,fieldObjectsPromise:Ce=(Re=this.pdfDocument)===null||Re===void 0?void 0:Re.getFieldObjects(),annotationCanvasMap:De=null,accessibilityManager:Ge=null}=be;return new m.AnnotationLayerBuilder({pageDiv:Ne,pdfPage:Pe,annotationStorage:Ie,imageResourcesPath:Me,renderForms:Te,linkService:this.linkService,downloadManager:this.downloadManager,l10n:Le,enableScripting:Be,hasJSActionsPromise:Ae,mouseState:we,fieldObjectsPromise:Ce,annotationCanvasMap:De,accessibilityManager:Ge})}createAnnotationEditorLayerBuilder(be){var Ee;let{uiManager:Oe=w(this,H),pageDiv:Fe,pdfPage:Re,accessibilityManager:Ne=null,l10n:Pe,annotationStorage:Ie=(Ee=this.pdfDocument)===null||Ee===void 0?void 0:Ee.annotationStorage}=be;return new C.AnnotationEditorLayerBuilder({uiManager:Oe,pageDiv:Fe,pdfPage:Re,annotationStorage:Ie,accessibilityManager:Ne,l10n:Pe})}createXfaLayerBuilder(be){var Ee;let{pageDiv:Oe,pdfPage:Fe,annotationStorage:Re=(Ee=this.pdfDocument)===null||Ee===void 0?void 0:Ee.annotationStorage}=be;return new o.XfaLayerBuilder({pageDiv:Oe,pdfPage:Fe,annotationStorage:Re,linkService:this.linkService})}createStructTreeLayerBuilder(be){let{pdfPage:Ee}=be;return new O.StructTreeLayerBuilder({pdfPage:Ee})}get hasEqualPageSizes(){const be=this._pages[0];for(let Ee=1,Oe=this._pages.length;Ee<Oe;++Ee){const Fe=this._pages[Ee];if(Fe.width!==be.width||Fe.height!==be.height)return!1}return!0}getPagesOverview(){return this._pages.map(be=>{const Ee=be.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,c.isPortraitOrientation)(Ee)?{width:Ee.width,height:Ee.height,rotation:Ee.rotation}:{width:Ee.height,height:Ee.width,rotation:(Ee.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig()):Promise.resolve(null)}set optionalContentConfigPromise(be){if(!(be instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${be}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=be;const Ee={optionalContentConfigPromise:be};for(const Oe of this._pages)Oe.update(Ee);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:be})}get scrollMode(){return this._scrollMode}set scrollMode(be){if(this._scrollMode!==be){if(!(0,c.isValidScrollMode)(be))throw new Error(`Invalid scroll mode: ${be}`);this.pagesCount>L.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=be,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:be}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(){let be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const Ee=this._scrollMode,Oe=this.viewer;Oe.classList.toggle("scrollHorizontal",Ee===c.ScrollMode.HORIZONTAL),Oe.classList.toggle("scrollWrapped",Ee===c.ScrollMode.WRAPPED),!(!this.pdfDocument||!be)&&(Ee===c.ScrollMode.PAGE?P(this,ne,ue).call(this):this._previousScrollMode===c.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(be,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(be){if(this._spreadMode!==be){if(!(0,c.isValidSpreadMode)(be))throw new Error(`Invalid spread mode: ${be}`);this._spreadMode=be,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:be}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(){let be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(!this.pdfDocument)return;const Ee=this.viewer,Oe=this._pages;if(this._scrollMode===c.ScrollMode.PAGE)P(this,ne,ue).call(this);else if(Ee.textContent="",this._spreadMode===c.SpreadMode.NONE)for(const Fe of this._pages)Ee.append(Fe.div);else{const Fe=this._spreadMode-1;let Re=null;for(let Ne=0,Pe=Oe.length;Ne<Pe;++Ne)Re===null?(Re=document.createElement("div"),Re.className="spread",Ee.append(Re)):Ne%2===Fe&&(Re=Re.cloneNode(!1),Ee.append(Re)),Re.append(Oe[Ne].div)}!be||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(be,!0),this.update())}_getPageAdvance(be){let Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;switch(this._scrollMode){case c.ScrollMode.WRAPPED:{const{views:Oe}=this._getVisiblePages(),Fe=new Map;for(const{id:Re,y:Ne,percent:Pe,widthPercent:Ie}of Oe){if(Pe===0||Ie<100)continue;let Me=Fe.get(Ne);Me||Fe.set(Ne,Me||(Me=[])),Me.push(Re)}for(const Re of Fe.values()){const Ne=Re.indexOf(be);if(Ne===-1)continue;const Pe=Re.length;if(Pe===1)break;if(Ee)for(let Ie=Ne-1,Me=0;Ie>=Me;Ie--){const Te=Re[Ie],Le=Re[Ie+1]-1;if(Te<Le)return be-Le}else for(let Ie=Ne+1,Me=Pe;Ie<Me;Ie++){const Te=Re[Ie],Le=Re[Ie-1]+1;if(Te>Le)return Le-be}if(Ee){const Ie=Re[0];if(Ie<be)return be-Ie+1}else{const Ie=Re[Pe-1];if(Ie>be)return Ie-be+1}break}break}case c.ScrollMode.HORIZONTAL:break;case c.ScrollMode.PAGE:case c.ScrollMode.VERTICAL:{if(this._spreadMode===c.SpreadMode.NONE)break;const Oe=this._spreadMode-1;if(Ee&&be%2!==Oe)break;if(!Ee&&be%2===Oe)break;const{views:Fe}=this._getVisiblePages(),Re=Ee?be-1:be+1;for(const{id:Ne,percent:Pe,widthPercent:Ie}of Fe)if(Ne===Re){if(Pe>0&&Ie===100)return 2;break}break}}return 1}nextPage(){const be=this._currentPageNumber,Ee=this.pagesCount;if(be>=Ee)return!1;const Oe=this._getPageAdvance(be,!1)||1;return this.currentPageNumber=Math.min(be+Oe,Ee),!0}previousPage(){const be=this._currentPageNumber;if(be<=1)return!1;const Ee=this._getPageAdvance(be,!0)||1;return this.currentPageNumber=Math.max(be-Ee,1),!0}increaseScale(){let be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,Ee=this._currentScale;do Ee=(Ee*c.DEFAULT_SCALE_DELTA).toFixed(2),Ee=Math.ceil(Ee*10)/10,Ee=Math.min(c.MAX_SCALE,Ee);while(--be>0&&Ee<c.MAX_SCALE);this.currentScaleValue=Ee}decreaseScale(){let be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,Ee=this._currentScale;do Ee=(Ee/c.DEFAULT_SCALE_DELTA).toFixed(2),Ee=Math.floor(Ee*10)/10,Ee=Math.max(c.MIN_SCALE,Ee);while(--be>0&&Ee>c.MIN_SCALE);this.currentScaleValue=Ee}updateContainerHeightCss(){const be=this.container.clientHeight;be!==w(this,V)&&(q(this,V,be),c.docStyle.setProperty("--viewer-container-height",`${be}px`))}get annotationEditorMode(){return w(this,H)?w(this,k):n.AnnotationEditorType.DISABLE}set annotationEditorMode(be){if(!w(this,H))throw new Error("The AnnotationEditor is not enabled.");if(w(this,k)!==be){if(!x(be))throw new Error(`Invalid AnnotationEditor mode: ${be}`);!this.pdfDocument||(q(this,k,be),this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:be}),w(this,H).updateMode(be))}}set annotationEditorParams(be){let{type:Ee,value:Oe}=be;if(!w(this,H))throw new Error("The AnnotationEditor is not enabled.");w(this,H).updateParams(Ee,Oe)}refresh(){if(!this.pdfDocument)return;const be={};for(const Ee of this._pages)Ee.update(be);this.update()}}s.BaseViewer=le;function pe(Se){const be={annotationEditorMode:w(this,k),annotationMode:w(this,Z),textLayerMode:this.textLayerMode};return Se&&(Se.includes(n.PermissionFlag.COPY)||this.viewer.classList.add(I),Se.includes(n.PermissionFlag.MODIFY_CONTENTS)||(be.annotationEditorMode=n.AnnotationEditorType.DISABLE),!Se.includes(n.PermissionFlag.MODIFY_ANNOTATIONS)&&!Se.includes(n.PermissionFlag.FILL_INTERACTIVE_FORMS)&&w(this,Z)===n.AnnotationMode.ENABLE_FORMS&&(be.annotationMode=n.AnnotationMode.ENABLE)),be}function fe(){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return Promise.resolve();const Se=new Promise(be=>{q(this,te,()=>{document.visibilityState==="hidden"&&(be(),document.removeEventListener("visibilitychange",w(this,te)),q(this,te,null))}),document.addEventListener("visibilitychange",w(this,te))});return Promise.race([this._onePageRenderedCapability.promise,Se])}function ue(){if(this._scrollMode!==c.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const Se=this._currentPageNumber,be=w(this,Y),Ee=this.viewer;if(Ee.textContent="",be.pages.length=0,this._spreadMode===c.SpreadMode.NONE&&!this.isInPresentationMode){const Oe=this._pages[Se-1];Ee.append(Oe.div),be.pages.push(Oe)}else{const Oe=new Set,Fe=this._spreadMode-1;Fe===-1?Oe.add(Se-1):Se%2!==Fe?(Oe.add(Se-1),Oe.add(Se)):(Oe.add(Se-2),Oe.add(Se-1));const Re=document.createElement("div");if(Re.className="spread",this.isInPresentationMode){const Ne=document.createElement("div");Ne.className="dummyPage",Re.append(Ne)}for(const Ne of Oe){const Pe=this._pages[Ne];!Pe||(Re.append(Pe.div),be.pages.push(Pe))}Ee.append(Re)}be.scrollDown=Se>=be.previousPageNumber,be.previousPageNumber=Se}function ge(Se){let be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const{div:Ee,id:Oe}=Se;if(this._scrollMode===c.ScrollMode.PAGE&&(this._setCurrentPageNumber(Oe),P(this,ne,ue).call(this),this.update()),!be&&!this.isInPresentationMode){const Fe=Ee.offsetLeft+Ee.clientLeft,Re=Fe+Ee.clientWidth,{scrollLeft:Ne,clientWidth:Pe}=this.container;(this._scrollMode===c.ScrollMode.HORIZONTAL||Fe<Ne||Re>Ne+Pe)&&(be={left:0,top:0})}(0,c.scrollIntoView)(Ee,be)}function he(Se){return Se===this._currentScale||Math.abs(Se-this._currentScale)<1e-15}function xe(){const Se=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),P(this,ce,ge).call(this,Se)}async function ye(Se){if(Se.pdfPage)return Se.pdfPage;try{var be,Ee;const Oe=await this.pdfDocument.getPage(Se.id);return Se.pdfPage||Se.setPdfPage(Oe),(be=(Ee=this.linkService)._cachedPageNumber)!==null&&be!==void 0&&be.call(Ee,Oe.ref)||this.linkService.cachePageRef(Se.id,Oe.ref),Oe}catch(Oe){return console.error("Unable to get page for page view",Oe),null}}function ve(Se){var be,Ee;if(((be=Se.first)===null||be===void 0?void 0:be.id)===1)return!0;if(((Ee=Se.last)===null||Ee===void 0?void 0:Ee.id)===this.pagesCount)return!1;switch(this._scrollMode){case c.ScrollMode.PAGE:return w(this,Y).scrollDown;case c.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function ke(Se){for(const be of Se){const Ee=this._pages[be-1];Ee==null||Ee.toggleLoadingIconSpinner(!0)}for(const be of w(this,J))Se.has(be.id)||be.toggleLoadingIconSpinner(!1)}},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFPageView=void 0;var n=u(3),c=u(7),C=u(14),m=u(4),e=u(15);function E(P,w,M){A(P,w),w.set(P,M)}function A(P,w){if(w.has(P))throw new TypeError("Cannot initialize the same private elements twice on an object")}function B(P,w){var M=b(P,w,"get");return O(P,M)}function O(P,w){return w.get?w.get.call(P):w.value}function v(P,w,M){var q=b(P,w,"set");return o(P,q,M),M}function b(P,w,M){if(!w.has(P))throw new TypeError("attempted to "+M+" private field on non-instance");return w.get(P)}function o(P,w,M){if(w.set)w.set.call(P,M);else{if(!w.writable)throw new TypeError("attempted to set read only private field");w.value=M}}const T=C.compatibilityParams.maxCanvasPixels||16777216;var D=new WeakMap,_=new WeakMap;class y{constructor(w){var M,q,F,G;E(this,D,{writable:!0,value:n.AnnotationMode.ENABLE_FORMS}),E(this,_,{writable:!0,value:{initialOptionalContent:!0,regularAnnotations:!0}});const R=w.container,I=w.defaultViewport;this.id=w.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=w.scale||c.DEFAULT_SCALE,this.viewport=I,this.pdfPageRotate=I.rotation,this._optionalContentConfigPromise=w.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=(M=w.textLayerMode)!==null&&M!==void 0?M:c.TextLayerMode.ENABLE,v(this,D,(q=w.annotationMode)!==null&&q!==void 0?q:n.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=w.imageResourcesPath||"",this.useOnlyCssZoom=w.useOnlyCssZoom||!1,this.maxCanvasPixels=w.maxCanvasPixels||T,this.pageColors=w.pageColors||null,this.eventBus=w.eventBus,this.renderingQueue=w.renderingQueue,this.textLayerFactory=w.textLayerFactory,this.annotationLayerFactory=w.annotationLayerFactory,this.annotationEditorLayerFactory=w.annotationEditorLayerFactory,this.xfaLayerFactory=w.xfaLayerFactory,this.textHighlighter=(F=w.textHighlighterFactory)===null||F===void 0?void 0:F.createTextHighlighter({pageIndex:this.id-1,eventBus:this.eventBus}),this.structTreeLayerFactory=w.structTreeLayerFactory,this.renderer=w.renderer||c.RendererType.CANVAS,this.l10n=w.l10n||m.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=c.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!((G=this.renderingQueue)!==null&&G!==void 0&&G.hasViewer()),this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const L=document.createElement("div");if(L.className="page",L.style.width=Math.floor(this.viewport.width)+"px",L.style.height=Math.floor(this.viewport.height)+"px",L.setAttribute("data-page-number",this.id),L.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(x=>{L.setAttribute("aria-label",x)}),this.div=L,R==null||R.append(L),this._isStandalone){const{optionalContentConfigPromise:x}=w;x&&x.then(S=>{x===this._optionalContentConfigPromise&&(B(this,_).initialOptionalContent=S.hasInitialVisibility)})}}setPdfPage(w){this.pdfPage=w,this.pdfPageRotate=w.rotate;const M=(this.rotation+this.pdfPageRotate)%360;this.viewport=w.getViewport({scale:this.scale*n.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:M}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}async _renderAnnotationLayer(){let w=null;try{await this.annotationLayer.render(this.viewport,"display")}catch(M){console.error(`_renderAnnotationLayer: "${M}".`),w=M}finally{this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:w})}}async _renderAnnotationEditorLayer(){let w=null;try{await this.annotationEditorLayer.render(this.viewport,"display")}catch(M){console.error(`_renderAnnotationEditorLayer: "${M}".`),w=M}finally{this.eventBus.dispatch("annotationeditorlayerrendered",{source:this,pageNumber:this.id,error:w})}}async _renderXfaLayer(){let w=null;try{const M=await this.xfaLayer.render(this.viewport,"display");this.textHighlighter&&this._buildXfaTextContentItems(M.textDivs)}catch(M){console.error(`_renderXfaLayer: "${M}".`),w=M}finally{this.eventBus.dispatch("xfalayerrendered",{source:this,pageNumber:this.id,error:w})}}async _buildXfaTextContentItems(w){const M=await this.pdfPage.getTextContent(),q=[];for(const F of M.items)q.push(F.str);this.textHighlighter.setTextMapping(w,q),this.textHighlighter.enable()}_resetZoomLayer(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.zoomLayer)return;const M=this.zoomLayer.firstChild;this.paintedViewportMap.delete(M),M.width=0,M.height=0,w&&this.zoomLayer.remove(),this.zoomLayer=null}reset(){var w,M,q;let{keepZoomLayer:F=!1,keepAnnotationLayer:G=!1,keepAnnotationEditorLayer:R=!1,keepXfaLayer:I=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.cancelRendering({keepAnnotationLayer:G,keepAnnotationEditorLayer:R,keepXfaLayer:I}),this.renderingState=c.RenderingStates.INITIAL;const L=this.div;L.style.width=Math.floor(this.viewport.width)+"px",L.style.height=Math.floor(this.viewport.height)+"px";const x=L.childNodes,S=F&&this.zoomLayer||null,W=G&&((w=this.annotationLayer)===null||w===void 0?void 0:w.div)||null,U=R&&((M=this.annotationEditorLayer)===null||M===void 0?void 0:M.div)||null,z=I&&((q=this.xfaLayer)===null||q===void 0?void 0:q.div)||null;for(let J=x.length-1;J>=0;J--){const k=x[J];switch(k){case S:case W:case U:case z:continue}k.remove()}if(L.removeAttribute("data-loaded"),W&&this.annotationLayer.hide(),U)this.annotationEditorLayer.hide();else{var re;(re=this.annotationEditorLayer)===null||re===void 0||re.destroy()}z&&this.xfaLayer.hide(),S||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(J=>{var k;(k=this.loadingIconDiv)===null||k===void 0||k.setAttribute("aria-label",J)}),L.append(this.loadingIconDiv)}update(w){let{scale:M=0,rotation:q=null,optionalContentConfigPromise:F=null}=w;this.scale=M||this.scale,typeof q=="number"&&(this.rotation=q),F instanceof Promise&&(this._optionalContentConfigPromise=F,F.then(I=>{F===this._optionalContentConfigPromise&&(B(this,_).initialOptionalContent=I.hasInitialVisibility)}));const G=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*n.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:G}),this._isStandalone&&c.docStyle.setProperty("--scale-factor",this.viewport.scale),this.svg){this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});return}let R=!1;if(this.canvas&&this.maxCanvasPixels>0){const I=this.outputScale;(Math.floor(this.viewport.width)*I.sx|0)*(Math.floor(this.viewport.height)*I.sy|0)>this.maxCanvasPixels&&(R=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&R){this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});return}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0})}cancelRendering(){let{keepAnnotationLayer:w=!1,keepAnnotationEditorLayer:M=!1,keepXfaLayer:q=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!w||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!M||!this.annotationEditorLayer.div)&&(this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!q||!this.xfaLayer.div)){var F;this.xfaLayer.cancel(),this.xfaLayer=null,(F=this.textHighlighter)===null||F===void 0||F.disable()}this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform(w){let{target:M,redrawAnnotationLayer:q=!1,redrawAnnotationEditorLayer:F=!1,redrawXfaLayer:G=!1}=w;const R=this.viewport.width,I=this.viewport.height,L=this.div;M.style.width=M.parentNode.style.width=L.style.width=Math.floor(R)+"px",M.style.height=M.parentNode.style.height=L.style.height=Math.floor(I)+"px";const x=this.viewport.rotation-this.paintedViewportMap.get(M).rotation,S=Math.abs(x);let W=1,U=1;if((S===90||S===270)&&(W=I/R,U=R/I),M.style.transform=`rotate(${x}deg) scale(${W}, ${U})`,this.textLayer){const z=this.textLayer.viewport,re=this.viewport.rotation-z.rotation,J=Math.abs(re);let k=R/z.width;(J===90||J===270)&&(k=R/z.height);const H=this.textLayer.textLayerDiv;let Z,Q;switch(J){case 0:Z=Q=0;break;case 90:Z=0,Q="-"+H.style.height;break;case 180:Z="-"+H.style.width,Q="-"+H.style.height;break;case 270:Z="-"+H.style.width,Q=0;break;default:console.error("Bad rotation value.");break}H.style.transform=`rotate(${J}deg) scale(${k}) translate(${Z}, ${Q})`,H.style.transformOrigin="0% 0%"}q&&this.annotationLayer&&this._renderAnnotationLayer(),F&&this.annotationEditorLayer&&this._renderAnnotationEditorLayer(),G&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(w,M){return this.viewport.convertToPdfPoint(w,M)}toggleLoadingIconSpinner(){var w;let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;(w=this.loadingIconDiv)===null||w===void 0||w.classList.toggle("notVisible",!M)}draw(){var w,M,q,F=this;this.renderingState!==c.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:G,pdfPage:R}=this;if(!R)return this.renderingState=c.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=c.RenderingStates.RUNNING;const I=document.createElement("div");I.style.width=G.style.width,I.style.height=G.style.height,I.classList.add("canvasWrapper");const L=((w=this.annotationLayer)===null||w===void 0?void 0:w.div)||((M=this.annotationEditorLayer)===null||M===void 0?void 0:M.div);L?L.before(I):G.append(I);let x=null;if(this.textLayerMode!==c.TextLayerMode.DISABLE&&this.textLayerFactory){this._accessibilityManager||(this._accessibilityManager=new e.TextAccessibilityManager);const re=document.createElement("div");re.className="textLayer",re.style.width=I.style.width,re.style.height=I.style.height,L?L.before(re):G.append(re),x=this.textLayerFactory.createTextLayerBuilder({textLayerDiv:re,pageIndex:this.id-1,viewport:this.viewport,enhanceTextSelection:this.textLayerMode===c.TextLayerMode.ENABLE_ENHANCE,eventBus:this.eventBus,highlighter:this.textHighlighter,accessibilityManager:this._accessibilityManager})}this.textLayer=x,B(this,D)!==n.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder({pageDiv:G,pdfPage:R,imageResourcesPath:this.imageResourcesPath,renderForms:B(this,D)===n.AnnotationMode.ENABLE_FORMS,l10n:this.l10n,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager}))),(q=this.xfaLayer)!==null&&q!==void 0&&q.div&&G.append(this.xfaLayer.div);let S=null;this.renderingQueue&&(S=re=>{if(!this.renderingQueue.isHighestPriority(this)){this.renderingState=c.RenderingStates.PAUSED,this.resume=()=>{this.renderingState=c.RenderingStates.RUNNING,re()};return}re()});const W=async function(){let re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(U===F.paintTask&&(F.paintTask=null),re instanceof n.RenderingCancelledException){F._renderError=null;return}if(F._renderError=re,F.renderingState=c.RenderingStates.FINISHED,F.loadingIconDiv&&(F.loadingIconDiv.remove(),delete F.loadingIconDiv),F._resetZoomLayer(!0),B(F,_).regularAnnotations=!U.separateAnnots,F.eventBus.dispatch("pagerendered",{source:F,pageNumber:F.id,cssTransform:!1,timestamp:performance.now(),error:F._renderError}),re)throw re},U=this.renderer===c.RendererType.SVG?this.paintOnSvg(I):this.paintOnCanvas(I);U.onRenderContinue=S,this.paintTask=U;const z=U.promise.then(()=>W(null).then(()=>{if(x){const re=R.streamTextContent({includeMarkedContent:!0});x.setTextContentStream(re),x.render()}this.annotationLayer&&this._renderAnnotationLayer().then(()=>{this.annotationEditorLayerFactory&&(this.annotationEditorLayer||(this.annotationEditorLayer=this.annotationEditorLayerFactory.createAnnotationEditorLayerBuilder({pageDiv:G,pdfPage:R,l10n:this.l10n,accessibilityManager:this._accessibilityManager})),this._renderAnnotationEditorLayer())})}),function(re){return W(re)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder({pageDiv:G,pdfPage:R})),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=re=>{re.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(J=>{if(!J||!this.canvas)return;const k=this.structTreeLayer.render(J);k.classList.add("structTree"),this.canvas.append(k)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder({pdfPage:R})),G.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),z}paintOnCanvas(w){const M=(0,n.createPromiseCapability)(),q={promise:M.promise,onRenderContinue(J){J()},cancel(){re.cancel()},get separateAnnots(){return re.separateAnnots}},F=this.viewport,G=document.createElement("canvas");G.setAttribute("role","presentation"),G.hidden=!0;let R=!0;const I=function(){R&&(G.hidden=!1,R=!1)};w.append(G),this.canvas=G;const L=G.getContext("2d",{alpha:!1}),x=this.outputScale=new c.OutputScale;if(this.useOnlyCssZoom){const J=F.clone({scale:n.PixelsPerInch.PDF_TO_CSS_UNITS});x.sx*=J.width/F.width,x.sy*=J.height/F.height}if(this.maxCanvasPixels>0){const J=F.width*F.height,k=Math.sqrt(this.maxCanvasPixels/J);x.sx>k||x.sy>k?(x.sx=k,x.sy=k,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const S=(0,c.approximateFraction)(x.sx),W=(0,c.approximateFraction)(x.sy);G.width=(0,c.roundToDivide)(F.width*x.sx,S[0]),G.height=(0,c.roundToDivide)(F.height*x.sy,W[0]),G.style.width=(0,c.roundToDivide)(F.width,S[1])+"px",G.style.height=(0,c.roundToDivide)(F.height,W[1])+"px",this.paintedViewportMap.set(G,F);const U=x.scaled?[x.sx,0,0,x.sy,0,0]:null,z={canvasContext:L,transform:U,viewport:this.viewport,annotationMode:B(this,D),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},re=this.pdfPage.render(z);return re.onContinue=function(J){I(),q.onRenderContinue?q.onRenderContinue(J):J()},re.promise.then(function(){I(),M.resolve()},function(J){I(),M.reject(J)}),q}paintOnSvg(w){let M=!1;const q=()=>{if(M)throw new n.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},F=this.pdfPage,G=this.viewport.clone({scale:n.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:F.getOperatorList({annotationMode:B(this,D)}).then(I=>(q(),new n.SVGGraphics(F.commonObjs,F.objs).getSVG(I,G).then(x=>{q(),this.svg=x,this.paintedViewportMap.set(x,G),x.style.width=w.style.width,x.style.height=w.style.height,this.renderingState=c.RenderingStates.FINISHED,w.append(x)}))),onRenderContinue(I){I()},cancel(){M=!0},get separateAnnots(){return!1}}}setPageLabel(w){this.pageLabel=typeof w=="string"?w:null,this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{initialOptionalContent:w,regularAnnotations:M}=B(this,_);return w&&M?this.canvas:null}}s.PDFPageView=y},(d,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.compatibilityParams=s.OptionKind=s.AppOptions=void 0;const u=Object.create(null);s.compatibilityParams=u;{const e=navigator.userAgent||"",E=navigator.platform||"",A=navigator.maxTouchPoints||1,B=/Android/.test(e),O=/\b(iPad|iPhone|iPod)(?=;)/.test(e)||E==="MacIntel"&&A>1;(function(){(O||B)&&(u.maxCanvasPixels=5242880)})()}const n={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};s.OptionKind=n;const c={annotationEditorMode:{value:-1,kind:n.VIEWER+n.PREFERENCE},annotationMode:{value:2,kind:n.VIEWER+n.PREFERENCE},cursorToolOnLoad:{value:0,kind:n.VIEWER+n.PREFERENCE},defaultZoomValue:{value:"",kind:n.VIEWER+n.PREFERENCE},disableHistory:{value:!1,kind:n.VIEWER},disablePageLabels:{value:!1,kind:n.VIEWER+n.PREFERENCE},enablePermissions:{value:!1,kind:n.VIEWER+n.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:n.VIEWER+n.PREFERENCE},enableScripting:{value:!0,kind:n.VIEWER+n.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:n.VIEWER},externalLinkTarget:{value:0,kind:n.VIEWER+n.PREFERENCE},historyUpdateUrl:{value:!1,kind:n.VIEWER+n.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:n.VIEWER+n.PREFERENCE},imageResourcesPath:{value:"./images/",kind:n.VIEWER},maxCanvasPixels:{value:16777216,kind:n.VIEWER},forcePageColors:{value:!1,kind:n.VIEWER+n.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:n.VIEWER+n.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:n.VIEWER+n.PREFERENCE},pdfBugEnabled:{value:!1,kind:n.VIEWER+n.PREFERENCE},printResolution:{value:150,kind:n.VIEWER},sidebarViewOnLoad:{value:-1,kind:n.VIEWER+n.PREFERENCE},scrollModeOnLoad:{value:-1,kind:n.VIEWER+n.PREFERENCE},spreadModeOnLoad:{value:-1,kind:n.VIEWER+n.PREFERENCE},textLayerMode:{value:1,kind:n.VIEWER+n.PREFERENCE},useOnlyCssZoom:{value:!1,kind:n.VIEWER+n.PREFERENCE},viewerCssTheme:{value:0,kind:n.VIEWER+n.PREFERENCE},viewOnLoad:{value:0,kind:n.VIEWER+n.PREFERENCE},cMapPacked:{value:!0,kind:n.API},cMapUrl:{value:"../web/cmaps/",kind:n.API},disableAutoFetch:{value:!1,kind:n.API+n.PREFERENCE},disableFontFace:{value:!1,kind:n.API+n.PREFERENCE},disableRange:{value:!1,kind:n.API+n.PREFERENCE},disableStream:{value:!1,kind:n.API+n.PREFERENCE},docBaseUrl:{value:"",kind:n.API},enableXfa:{value:!0,kind:n.API+n.PREFERENCE},fontExtraProperties:{value:!1,kind:n.API},isEvalSupported:{value:!0,kind:n.API},maxImageSize:{value:-1,kind:n.API},pdfBug:{value:!1,kind:n.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:n.API},verbosity:{value:1,kind:n.API},workerPort:{value:null,kind:n.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:n.WORKER}};c.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:n.VIEWER},c.disablePreferences={value:!1,kind:n.VIEWER},c.locale={value:navigator.language||"en-US",kind:n.VIEWER},c.renderer={value:"canvas",kind:n.VIEWER+n.PREFERENCE},c.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:n.VIEWER};const C=Object.create(null);class m{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(E){const A=C[E];if(A!==void 0)return A;const B=c[E];if(B!==void 0){var O;return(O=u[E])!==null&&O!==void 0?O:B.value}}static getAll(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;const A=Object.create(null);for(const O in c){var B;const v=c[O];if(E){if((E&v.kind)===0)continue;if(E===n.PREFERENCE){const o=v.value,T=typeof o;if(T==="boolean"||T==="string"||T==="number"&&Number.isInteger(o)){A[O]=o;continue}throw new Error(`Invalid type for preference: ${O}`)}}const b=C[O];A[O]=b!==void 0?b:(B=u[O])!==null&&B!==void 0?B:v.value}return A}static set(E,A){C[E]=A}static setAll(E){for(const A in E)C[A]=E[A]}static remove(E){delete C[E]}static _hasUserOptions(){return Object.keys(C).length>0}}s.AppOptions=m},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextAccessibilityManager=void 0;var n=u(7);function c(F,G){m(F,G),G.add(F)}function C(F,G,R){m(F,G),G.set(F,R)}function m(F,G){if(G.has(F))throw new TypeError("Cannot initialize the same private elements twice on an object")}function e(F,G,R){if(!G.has(F))throw new TypeError("attempted to get private field on non-instance");return R}function E(F,G,R){return A(F,G),R}function A(F,G){if(F!==G)throw new TypeError("Private static access of wrong provenance")}function B(F,G){var R=b(F,G,"get");return O(F,R)}function O(F,G){return G.get?G.get.call(F):G.value}function v(F,G,R){var I=b(F,G,"set");return o(F,I,R),R}function b(F,G,R){if(!G.has(F))throw new TypeError("attempted to "+R+" private field on non-instance");return G.get(F)}function o(F,G,R){if(G.set)G.set.call(F,R);else{if(!G.writable)throw new TypeError("attempted to set read only private field");G.value=R}}var T=new WeakMap,D=new WeakMap,_=new WeakMap,y=new WeakMap,P=new WeakSet;class w{constructor(){c(this,P),C(this,T,{writable:!0,value:!1}),C(this,D,{writable:!0,value:null}),C(this,_,{writable:!0,value:new Map}),C(this,y,{writable:!0,value:new Map})}setTextMapping(G){v(this,D,G)}enable(){if(B(this,T))throw new Error("TextAccessibilityManager is already enabled.");if(!B(this,D))throw new Error("Text divs and strings have not been set.");if(v(this,T,!0),v(this,D,B(this,D).slice()),B(this,D).sort(E(w,w,M)),B(this,_).size>0){const G=B(this,D);for(const[R,I]of B(this,_)){if(!document.getElementById(R)){B(this,_).delete(R);continue}e(this,P,q).call(this,R,G[I])}}for(const[G,R]of B(this,y))this.addPointerInTextLayer(G,R);B(this,y).clear()}disable(){!B(this,T)||(B(this,y).clear(),v(this,D,null),v(this,T,!1))}removePointerInTextLayer(G){var R;if(!B(this,T)){B(this,y).delete(G);return}const I=B(this,D);if(!I||I.length===0)return;const{id:L}=G,x=B(this,_).get(L);if(x===void 0)return;const S=I[x];B(this,_).delete(L);let W=S.getAttribute("aria-owns");(R=W)!==null&&R!==void 0&&R.includes(L)&&(W=W.split(" ").filter(U=>U!==L).join(" "),W?S.setAttribute("aria-owns",W):(S.removeAttribute("aria-owns"),S.setAttribute("role","presentation")))}addPointerInTextLayer(G,R){const{id:I}=G;if(!I)return;if(!B(this,T)){B(this,y).set(G,R);return}R&&this.removePointerInTextLayer(G);const L=B(this,D);if(!L||L.length===0)return;const x=(0,n.binarySearchFirstItem)(L,W=>E(w,w,M).call(w,G,W)<0),S=Math.max(0,x-1);e(this,P,q).call(this,I,L[S]),B(this,_).set(I,S)}moveElementInDOM(G,R,I,L){if(this.addPointerInTextLayer(I,L),!G.hasChildNodes()){G.append(R);return}const x=Array.from(G.childNodes).filter(U=>U!==R);if(x.length===0)return;const S=I||R,W=(0,n.binarySearchFirstItem)(x,U=>E(w,w,M).call(w,S,U)<0);W===0?x[0].before(R):x[W-1].after(R)}}s.TextAccessibilityManager=w;function M(F,G){const R=F.getBoundingClientRect(),I=G.getBoundingClientRect();if(R.width===0&&R.height===0)return 1;if(I.width===0&&I.height===0)return-1;const L=R.y,x=R.y+R.height,S=R.y+R.height/2,W=I.y,U=I.y+I.height,z=I.y+I.height/2;if(S<=W&&z>=x)return-1;if(z<=L&&S>=U)return 1;const re=R.x+R.width/2,J=I.x+I.width/2;return re-J}function q(F,G){const R=G.getAttribute("aria-owns");R!=null&&R.includes(F)||G.setAttribute("aria-owns",R?`${R} ${F}`:F),G.removeAttribute("role")}},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFRenderingQueue=void 0;var n=u(3),c=u(7);const C=3e4;class m{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(E){this.pdfViewer=E}setThumbnailViewer(E){this.pdfThumbnailViewer=E}isHighestPriority(E){return this.highestPriorityPage===E.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(E){var A;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(E)&&(this.isThumbnailViewEnabled&&(A=this.pdfThumbnailViewer)!==null&&A!==void 0&&A.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),C)))}getHighestPriority(E,A,B){let O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const v=E.views,b=v.length;if(b===0)return null;for(let y=0;y<b;y++){const P=v[y].view;if(!this.isViewFinished(P))return P}const o=E.first.id,T=E.last.id;if(T-o+1>b){const y=E.ids;for(let P=1,w=T-o;P<w;P++){const M=B?o+P:T-P;if(y.has(M))continue;const q=A[M-1];if(!this.isViewFinished(q))return q}}let D=B?T:o-2,_=A[D];return _&&!this.isViewFinished(_)||O&&(D+=B?1:-1,_=A[D],_&&!this.isViewFinished(_))?_:null}isViewFinished(E){return E.renderingState===c.RenderingStates.FINISHED}renderView(E){switch(E.renderingState){case c.RenderingStates.FINISHED:return!1;case c.RenderingStates.PAUSED:this.highestPriorityPage=E.renderingId,E.resume();break;case c.RenderingStates.RUNNING:this.highestPriorityPage=E.renderingId;break;case c.RenderingStates.INITIAL:this.highestPriorityPage=E.renderingId,E.draw().finally(()=>{this.renderHighestPriority()}).catch(A=>{A instanceof n.RenderingCancelledException||console.error(`renderView: "${A}"`)});break}return!0}}s.PDFRenderingQueue=m},(d,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextHighlighter=void 0;class u{constructor(c){let{findController:C,eventBus:m,pageIndex:e}=c;this.findController=C,this.matches=[],this.eventBus=m,this.pageIdx=e,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(c,C){this.textDivs=c,this.textContentItemsStr=C}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=c=>{(c.pageIndex===this.pageIdx||c.pageIndex===-1)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(c,C){if(!c)return[];const{textContentItemsStr:m}=this;let e=0,E=0;const A=m.length-1,B=[];for(let O=0,v=c.length;O<v;O++){let b=c[O];for(;e!==A&&b>=E+m[e].length;)E+=m[e].length,e++;e===m.length&&console.error("Could not find a matching mapping");const o={begin:{divIdx:e,offset:b-E}};for(b+=C[O];e!==A&&b>E+m[e].length;)E+=m[e].length,e++;o.end={divIdx:e,offset:b-E},B.push(o)}return B}_renderMatches(c){if(c.length===0)return;const{findController:C,pageIdx:m}=this,{textContentItemsStr:e,textDivs:E}=this,A=m===C.selected.pageIdx,B=C.selected.matchIdx,O=C.state.highlightAll;let v=null;const b={divIdx:-1,offset:void 0};function o(y,P){const w=y.divIdx;return E[w].textContent="",T(w,0,y.offset,P)}function T(y,P,w,M){let q=E[y];if(q.nodeType===Node.TEXT_NODE){const R=document.createElement("span");q.before(R),R.append(q),E[y]=R,q=R}const F=e[y].substring(P,w),G=document.createTextNode(F);if(M){const R=document.createElement("span");return R.className=`${M} appended`,R.append(G),q.append(R),M.includes("selected")?R.offsetLeft:0}return q.append(G),0}let D=B,_=D+1;if(O)D=0,_=c.length;else if(!A)return;for(let y=D;y<_;y++){const P=c[y],w=P.begin,M=P.end,q=A&&y===B,F=q?" selected":"";let G=0;if(!v||w.divIdx!==v.divIdx?(v!==null&&T(v.divIdx,v.offset,b.offset),o(w)):T(v.divIdx,v.offset,w.offset),w.divIdx===M.divIdx)G=T(w.divIdx,w.offset,M.offset,"highlight"+F);else{G=T(w.divIdx,w.offset,b.offset,"highlight begin"+F);for(let R=w.divIdx+1,I=M.divIdx;R<I;R++)E[R].className="highlight middle"+F;o(M,"highlight end"+F)}v=M,q&&C.scrollMatchIntoView({element:E[w.divIdx],selectedLeft:G,pageIndex:m,matchIndex:B})}v&&T(v.divIdx,v.offset,b.offset)}_updateMatches(){if(!this.enabled)return;const{findController:c,matches:C,pageIdx:m}=this,{textContentItemsStr:e,textDivs:E}=this;let A=-1;for(let v=0,b=C.length;v<b;v++){const o=C[v],T=Math.max(A,o.begin.divIdx);for(let D=T,_=o.end.divIdx;D<=_;D++){const y=E[D];y.textContent=e[D],y.className=""}A=o.end.divIdx+1}if(!(c!=null&&c.highlightMatches))return;const B=c.pageMatches[m]||null,O=c.pageMatchesLength[m]||null;this.matches=this._convertMatches(B,O),this._renderMatches(this.matches)}}s.TextHighlighter=u},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DownloadManager=void 0;var n=u(3);function c(m,e){const E=document.createElement("a");if(!E.click)throw new Error('DownloadManager: "a.click()" is not supported.');E.href=m,E.target="_parent","download"in E&&(E.download=e),(document.body||document.documentElement).append(E),E.click(),E.remove()}class C{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(e,E){if(!(0,n.createValidAbsoluteUrl)(e,"http://example.com")){console.error(`downloadUrl - not a valid URL: ${e}`);return}c(e+"#pdfjs.action=download",E)}downloadData(e,E,A){const B=URL.createObjectURL(new Blob([e],{type:A}));c(B,E)}openOrDownloadData(e,E,A){const B=(0,n.isPdfFile)(A),O=B?"application/pdf":"";if(B){let v=this._openBlobUrls.get(e);v||(v=URL.createObjectURL(new Blob([E],{type:O})),this._openBlobUrls.set(e,v));let b;b="?file="+encodeURIComponent(v+"#"+A);try{return window.open(b),!0}catch(o){console.error(`openOrDownloadData: ${o}`),URL.revokeObjectURL(v),this._openBlobUrls.delete(e)}}return this.downloadData(E,A,O),!1}download(e,E,A){const B=URL.createObjectURL(e);c(B,A)}}s.DownloadManager=C},(d,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WaitOnType=s.EventBus=s.AutomationEventBus=void 0,s.waitOnEventOrTimeout=n;const u={EVENT:"event",TIMEOUT:"timeout"};s.WaitOnType=u;function n(m){let{target:e,name:E,delay:A=0}=m;return new Promise(function(B,O){if(typeof e!="object"||!(E&&typeof E=="string")||!(Number.isInteger(A)&&A>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function v(D){e instanceof c?e._off(E,b):e.removeEventListener(E,b),T&&clearTimeout(T),B(D)}const b=v.bind(null,u.EVENT);e instanceof c?e._on(E,b):e.addEventListener(E,b);const o=v.bind(null,u.TIMEOUT),T=setTimeout(o,A)})}class c{constructor(){this._listeners=Object.create(null)}on(e,E){let A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;this._on(e,E,{external:!0,once:A==null?void 0:A.once})}off(e,E){let A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;this._off(e,E,{external:!0,once:A==null?void 0:A.once})}dispatch(e,E){const A=this._listeners[e];if(!A||A.length===0)return;let B;for(const{listener:O,external:v,once:b}of A.slice(0)){if(b&&this._off(e,O),v){(B||(B=[])).push(O);continue}O(E)}if(B){for(const O of B)O(E);B=null}}_on(e,E){var A;let B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;((A=this._listeners)[e]||(A[e]=[])).push({listener:E,external:(B==null?void 0:B.external)===!0,once:(B==null?void 0:B.once)===!0})}_off(e,E){const A=this._listeners[e];if(!!A){for(let B=0,O=A.length;B<O;B++)if(A[B].listener===E){A.splice(B,1);return}}}}s.EventBus=c;class C extends c{dispatch(e,E){throw new Error("Not implemented: AutomationEventBus.dispatch")}}s.AutomationEventBus=C},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GenericL10n=void 0,u(21);var n=u(4);const c=document.webL10n;class C{constructor(e){this._lang=e,this._ready=new Promise((E,A)=>{c.setLanguage((0,n.fixupLangCode)(e),()=>{E(c)})})}async getLanguage(){return(await this._ready).getLanguage()}async getDirection(){return(await this._ready).getDirection()}async get(e){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:(0,n.getL10nFallback)(e,E);return(await this._ready).get(e,E,A)}async translate(e){return(await this._ready).translate(e)}}s.GenericL10n=C},()=>{document.webL10n=function(d,s,u){var n={},c="",C="textContent",m="",e={},E="loading",A=!0;function B(){return s.querySelectorAll('link[type="application/l10n"]')}function O(){var R=s.querySelector('script[type="application/l10n"]');return R?JSON.parse(R.innerHTML):null}function v(R){return R?R.querySelectorAll("*[data-l10n-id]"):[]}function b(R){if(!R)return{};var I=R.getAttribute("data-l10n-id"),L=R.getAttribute("data-l10n-args"),x={};if(L)try{x=JSON.parse(L)}catch{console.warn("could not parse arguments for #"+I)}return{id:I,args:x}}function o(R,I,L){I=I||function(W){},L=L||function(){};var x=new XMLHttpRequest;x.open("GET",R,A),x.overrideMimeType&&x.overrideMimeType("text/plain; charset=utf-8"),x.onreadystatechange=function(){x.readyState==4&&(x.status==200||x.status===0?I(x.responseText):L())},x.onerror=L,x.ontimeout=L;try{x.send(null)}catch{L()}}function T(R,I,L,x){var S=R.replace(/[^\/]*$/,"")||"./";function W(z){return z.lastIndexOf("\\")<0?z:z.replace(/\\\\/g,"\\").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}function U(z,re){var J={},k=/^\s*|\s*$/,H=/^\s*#|^\s*$/,Z=/^\s*\[(.*)\]\s*$/,Q=/^\s*@import\s+url\((.*)\)\s*$/i,V=/^([^=\s]*)\s*=\s*(.+)$/;function Y($,X,ne){var ce=$.replace(k,"").split(/[\r\n]+/),se="*",K=I.split("-",1)[0],ee=!1,ie="";function oe(){for(;;){if(!ce.length){ne();return}var le=ce.shift();if(!H.test(le)){if(X){if(ie=Z.exec(le),ie){se=ie[1].toLowerCase(),ee=se!=="*"&&se!==I&&se!==K;continue}else if(ee)continue;if(ie=Q.exec(le),ie){te(S+ie[1],oe);return}}var pe=le.match(V);pe&&pe.length==3&&(J[pe[1]]=W(pe[2]))}}}oe()}function te($,X){o($,function(ne){Y(ne,!1,X)},function(){console.warn($+" not found."),X()})}Y(z,!0,function(){re(J)})}o(R,function(z){c+=z,U(z,function(re){for(var J in re){var k,H,Z=J.lastIndexOf(".");Z>0?(k=J.substring(0,Z),H=J.substring(Z+1)):(k=J,H=C),n[k]||(n[k]={}),n[k][H]=re[J]}L&&L()})},x)}function D(R,I){R&&(R=R.toLowerCase()),I=I||function(){},_(),m=R;var L=B(),x=L.length;if(x===0){var S=O();if(S&&S.locales&&S.default_locale){if(console.log("using the embedded JSON directory, early way out"),n=S.locales[R],!n){var W=S.default_locale.toLowerCase();for(var U in S.locales)if(U=U.toLowerCase(),U===R){n=S.locales[R];break}else U===W&&(n=S.locales[W])}I()}else console.log("no resource to load, early way out");E="complete";return}var z=null,re=0;z=function(){re++,re>=x&&(I(),E="complete")};function J(Z){var Q=Z.href;this.load=function(V,Y){T(Q,V,Y,function(){console.warn(Q+" not found."),console.warn('"'+V+'" resource not found'),m="",Y()})}}for(var k=0;k<x;k++){var H=new J(L[k]);H.load(R,z)}}function _(){n={},c="",m=""}function y(R){var I={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3};function L(U,z){return z.indexOf(U)!==-1}function x(U,z,re){return z<=U&&U<=re}var S={0:function(U){return"other"},1:function(U){return x(U%100,3,10)?"few":U===0?"zero":x(U%100,11,99)?"many":U==2?"two":U==1?"one":"other"},2:function(U){return U!==0&&U%10===0?"many":U==2?"two":U==1?"one":"other"},3:function(U){return U==1?"one":"other"},4:function(U){return x(U,0,1)?"one":"other"},5:function(U){return x(U,0,2)&&U!=2?"one":"other"},6:function(U){return U===0?"zero":U%10==1&&U%100!=11?"one":"other"},7:function(U){return U==2?"two":U==1?"one":"other"},8:function(U){return x(U,3,6)?"few":x(U,7,10)?"many":U==2?"two":U==1?"one":"other"},9:function(U){return U===0||U!=1&&x(U%100,1,19)?"few":U==1?"one":"other"},10:function(U){return x(U%10,2,9)&&!x(U%100,11,19)?"few":U%10==1&&!x(U%100,11,19)?"one":"other"},11:function(U){return x(U%10,2,4)&&!x(U%100,12,14)?"few":U%10===0||x(U%10,5,9)||x(U%100,11,14)?"many":U%10==1&&U%100!=11?"one":"other"},12:function(U){return x(U,2,4)?"few":U==1?"one":"other"},13:function(U){return x(U%10,2,4)&&!x(U%100,12,14)?"few":U!=1&&x(U%10,0,1)||x(U%10,5,9)||x(U%100,12,14)?"many":U==1?"one":"other"},14:function(U){return x(U%100,3,4)?"few":U%100==2?"two":U%100==1?"one":"other"},15:function(U){return U===0||x(U%100,2,10)?"few":x(U%100,11,19)?"many":U==1?"one":"other"},16:function(U){return U%10==1&&U!=11?"one":"other"},17:function(U){return U==3?"few":U===0?"zero":U==6?"many":U==2?"two":U==1?"one":"other"},18:function(U){return U===0?"zero":x(U,0,2)&&U!==0&&U!=2?"one":"other"},19:function(U){return x(U,2,10)?"few":x(U,0,1)?"one":"other"},20:function(U){return(x(U%10,3,4)||U%10==9)&&!(x(U%100,10,19)||x(U%100,70,79)||x(U%100,90,99))?"few":U%1e6===0&&U!==0?"many":U%10==2&&!L(U%100,[12,72,92])?"two":U%10==1&&!L(U%100,[11,71,91])?"one":"other"},21:function(U){return U===0?"zero":U==1?"one":"other"},22:function(U){return x(U,0,1)||x(U,11,99)?"one":"other"},23:function(U){return x(U%10,1,2)||U%20===0?"one":"other"},24:function(U){return x(U,3,10)||x(U,13,19)?"few":L(U,[2,12])?"two":L(U,[1,11])?"one":"other"}},W=I[R.replace(/-.*$/,"")];return W in S?S[W]:(console.warn("plural form unknown for ["+R+"]"),function(){return"other"})}e.plural=function(R,I,L,x){var S=parseFloat(I);if(isNaN(S)||x!=C)return R;e._pluralRules||(e._pluralRules=y(m));var W="["+e._pluralRules(S)+"]";return S===0&&L+"[zero]"in n?R=n[L+"[zero]"][x]:S==1&&L+"[one]"in n?R=n[L+"[one]"][x]:S==2&&L+"[two]"in n?R=n[L+"[two]"][x]:L+W in n?R=n[L+W][x]:L+"[other]"in n&&(R=n[L+"[other]"][x]),R};function P(R,I,L){var x=n[R];if(!x){if(console.warn("#"+R+" is undefined."),!L)return null;x=L}var S={};for(var W in x){var U=x[W];U=w(U,I,R,W),U=M(U,I,R),S[W]=U}return S}function w(R,I,L,x){var S=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/,W=S.exec(R);if(!W||!W.length)return R;var U=W[1],z=W[2],re;if(I&&z in I?re=I[z]:z in n&&(re=n[z]),U in e){var J=e[U];R=J(R,re,L,x)}return R}function M(R,I,L){var x=/\{\{\s*(.+?)\s*\}\}/g;return R.replace(x,function(S,W){return I&&W in I?I[W]:W in n?n[W]:(console.log("argument {{"+W+"}} for #"+L+" is undefined."),S)})}function q(R){var I=b(R);if(!!I.id){var L=P(I.id,I.args);if(!L){console.warn("#"+I.id+" is undefined.");return}if(L[C]){if(F(R)===0)R[C]=L[C];else{for(var x=R.childNodes,S=!1,W=0,U=x.length;W<U;W++)x[W].nodeType===3&&/\S/.test(x[W].nodeValue)&&(S?x[W].nodeValue="":(x[W].nodeValue=L[C],S=!0));if(!S){var z=s.createTextNode(L[C]);R.prepend(z)}}delete L[C]}for(var re in L)R[re]=L[re]}}function F(R){if(R.children)return R.children.length;if(typeof R.childElementCount<"u")return R.childElementCount;for(var I=0,L=0;L<R.childNodes.length;L++)I+=R.nodeType===1?1:0;return I}function G(R){R=R||s.documentElement;for(var I=v(R),L=I.length,x=0;x<L;x++)q(I[x]);q(R)}return{get:function(R,I,L){var x=R.lastIndexOf("."),S=C;x>0&&(S=R.substring(x+1),R=R.substring(0,x));var W;L&&(W={},W[S]=L);var U=P(R,I,W);return U&&S in U?U[S]:"{{"+R+"}}"},getData:function(){return n},getText:function(){return c},getLanguage:function(){return m},setLanguage:function(R,I){D(R,function(){I&&I()})},getDirection:function(){var R=["ar","he","fa","ps","ur"],I=m.split("-",1)[0];return R.indexOf(I)>=0?"rtl":"ltr"},translate:G,getReadyState:function(){return E},ready:function(R){if(R)E=="complete"||E=="interactive"?d.setTimeout(function(){R()}):s.addEventListener&&s.addEventListener("localized",function I(){s.removeEventListener("localized",I),R()});else return}}}(window,document)},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFFindController=s.FindState=void 0;var n=u(7),c=u(3),C=u(23);function m(Le,Be,Ae){E(Le,Be),Be.set(Le,Ae)}function e(Le,Be){E(Le,Be),Be.add(Le)}function E(Le,Be){if(Be.has(Le))throw new TypeError("Cannot initialize the same private elements twice on an object")}function A(Le,Be){var Ae=B(Le,Be,"get");return O(Le,Ae)}function B(Le,Be,Ae){if(!Be.has(Le))throw new TypeError("attempted to "+Ae+" private field on non-instance");return Be.get(Le)}function O(Le,Be){return Be.get?Be.get.call(Le):Be.value}function v(Le,Be,Ae){if(!Be.has(Le))throw new TypeError("attempted to get private field on non-instance");return Ae}const b={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};s.FindState=b;const o=250,T=-50,D=-400,_={"\u2010":"-","\u2018":"'","\u2019":"'","\u201A":"'","\u201B":"'","\u201C":'"',"\u201D":'"',"\u201E":'"',"\u201F":'"',"\xBC":"1/4","\xBD":"1/2","\xBE":"3/4"},y=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),P=[...y.values()].map(Le=>String.fromCharCode(Le)).join(""),w=/\p{M}+/gu,M=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,q=/([^\p{M}])\p{M}*$/u,F=/^\p{M}*([^\p{M}])/u,G=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,R=new Map,I="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]";let L=null,x=null;function S(Le){const Be=[];let Ae;for(;(Ae=G.exec(Le))!==null;){let{index:ze}=Ae;for(const lt of Ae[0]){let ot=R.get(lt);ot||(ot=lt.normalize("NFD").length,R.set(lt,ot)),Be.push([ot,ze++])}}let we;if(Be.length===0&&L)we=L;else if(Be.length>0&&x)we=x;else{const lt=`([${Object.keys(_).join("")}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`;Be.length===0?we=L=new RegExp(lt+"|(\\u0000)","gum"):we=x=new RegExp(lt+`|(${I})`,"gum")}const Ce=[];for(;(Ae=w.exec(Le))!==null;)Ce.push([Ae[0].length,Ae.index]);let De=Le.normalize("NFD");const Ge=[[0,0]];let He=0,Ze=0,Ye=0,je=0,it=0,dt=!1;return De=De.replace(we,(ze,lt,ot,ft,St,Et,pt)=>{var Ht;if(pt-=je,lt){const qe=_[ze],rt=qe.length;for(let tt=1;tt<rt;tt++)Ge.push([pt-Ye+tt,Ye-tt]);return Ye-=rt-1,qe}if(ot){var Qe;const qe=ot.endsWith(`
`),rt=qe?ot.length-2:ot.length;dt=!0;let tt=rt;pt+it===((Qe=Ce[He])===null||Qe===void 0?void 0:Qe[1])&&(tt-=Ce[He][0],++He);for(let ut=1;ut<=tt;ut++)Ge.push([pt-1-Ye+ut,Ye-ut]);return Ye-=tt,je+=tt,qe?(pt+=rt-1,Ge.push([pt-Ye+1,1+Ye]),Ye+=1,je+=1,it+=1,ot.slice(0,rt)):ot}if(ft)return Ge.push([pt-Ye+1,1+Ye]),Ye+=1,je+=1,it+=1,ft.charAt(0);if(St)return Ge.push([pt-Ye+1,Ye-1]),Ye-=1,je+=1,it+=1," ";if(pt+it===((Ht=Be[Ze])===null||Ht===void 0?void 0:Ht[1])){const qe=Be[Ze][0]-1;++Ze;for(let rt=1;rt<=qe;rt++)Ge.push([pt-(Ye-rt),Ye-rt]);Ye-=qe,je+=qe}return Et}),Ge.push([De.length,Ye]),[De,Ge,dt]}function W(Le,Be,Ae){if(!Le)return[Be,Ae];const we=Be,Ce=Be+Ae;let De=(0,n.binarySearchFirstItem)(Le,He=>He[0]>=we);Le[De][0]>we&&--De;let Ge=(0,n.binarySearchFirstItem)(Le,He=>He[0]>=Ce,De);return Le[Ge][0]>Ce&&--Ge,[we+Le[De][1],Ae+Le[Ge][1]-Le[De][1]]}var U=new WeakSet,z=new WeakSet,re=new WeakMap,J=new WeakSet,k=new WeakSet,H=new WeakSet,Z=new WeakSet,Q=new WeakSet,V=new WeakSet,Y=new WeakSet,te=new WeakSet,$=new WeakSet,X=new WeakSet,ne=new WeakSet,ce=new WeakSet,se=new WeakSet,K=new WeakSet,ee=new WeakSet,ie=new WeakSet,oe=new WeakSet;class le{constructor(Be){let{linkService:Ae,eventBus:we}=Be;e(this,oe),e(this,ie),e(this,ee),e(this,K),e(this,se),e(this,ce),e(this,ne),e(this,X),e(this,$),e(this,te),e(this,Y),e(this,V),e(this,Q),e(this,Z),e(this,H),e(this,k),e(this,J),m(this,re,{get:ue,set:void 0}),e(this,z),e(this,U),this._linkService=Ae,this._eventBus=we,v(this,z,fe).call(this),we._on("find",v(this,U,pe).bind(this)),we._on("findbarclose",v(this,K,Pe).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(Be){this._pdfDocument&&v(this,z,fe).call(this),Be&&(this._pdfDocument=Be,this._firstPageCapability.resolve())}scrollMatchIntoView(Be){let{element:Ae=null,selectedLeft:we=0,pageIndex:Ce=-1,matchIndex:De=-1}=Be;if(!this._scrollMatches||!Ae)return;if(De===-1||De!==this._selected.matchIdx)return;if(Ce===-1||Ce!==this._selected.pageIdx)return;this._scrollMatches=!1;const Ge={top:T,left:we+D};(0,n.scrollIntoView)(Ae,Ge,!0)}}s.PDFFindController=le;function pe(Le){if(!Le)return;const Be=this._pdfDocument,{type:Ae}=Le;(this._state===null||v(this,J,ge).call(this,Le))&&(this._dirtyMatch=!0),this._state=Le,Ae!=="highlightallchange"&&v(this,oe,Te).call(this,b.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||Be&&this._pdfDocument!==Be)return;v(this,V,ke).call(this);const we=!this._highlightMatches,Ce=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),Ae?this._dirtyMatch?v(this,$,Ee).call(this):Ae==="again"?(v(this,$,Ee).call(this),we&&this._state.highlightAll&&v(this,te,be).call(this)):Ae==="highlightallchange"?(Ce?v(this,$,Ee).call(this):this._highlightMatches=!0,v(this,te,be).call(this)):v(this,$,Ee).call(this):this._findTimeout=setTimeout(()=>{v(this,$,Ee).call(this),this._findTimeout=null},o)})}function fe(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,c.createPromiseCapability)()}function ue(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=S(this._state.query)),this._normalizedQuery}function ge(Le){if(Le.query!==this._state.query)return!0;switch(Le.type){case"again":const Be=this._selected.pageIdx+1,Ae=this._linkService;return Be>=1&&Be<=Ae.pagesCount&&Be!==Ae.page&&!Ae.isPageVisible(Be);case"highlightallchange":return!1}return!0}function he(Le,Be,Ae){let we=Le.slice(0,Be).match(q);if(we){const Ce=Le.charCodeAt(Be),De=we[1].charCodeAt(0);if((0,C.getCharacterType)(Ce)===(0,C.getCharacterType)(De))return!1}if(we=Le.slice(Be+Ae).match(F),we){const Ce=Le.charCodeAt(Be+Ae-1),De=we[1].charCodeAt(0);if((0,C.getCharacterType)(Ce)===(0,C.getCharacterType)(De))return!1}return!0}function xe(Le,Be,Ae,we){const Ce=[],De=[],Ge=this._pageDiffs[Ae];let He;for(;(He=Le.exec(we))!==null;){if(Be&&!v(this,k,he).call(this,we,He.index,He[0].length))continue;const[Ze,Ye]=W(Ge,He.index,He[0].length);Ye&&(Ce.push(Ze),De.push(Ye))}this._pageMatches[Ae]=Ce,this._pageMatchesLength[Ae]=De}function ye(Le,Be){const{matchDiacritics:Ae}=this._state;let we=!1;Le=Le.replace(M,(De,Ge,He,Ze,Ye,je)=>Ge?`[ ]*\\${Ge}[ ]*`:He?`[ ]*${He}[ ]*`:Ze?"[ ]+":Ae?Ye||je:Ye?y.has(Ye.charCodeAt(0))?Ye:"":Be?(we=!0,`${je}\\p{M}*`):je);const Ce="[ ]*";return Le.endsWith(Ce)&&(Le=Le.slice(0,Le.length-Ce.length)),Ae&&Be&&(we=!0,Le=`${Le}(?=[${P}]|[^\\p{M}]|$)`),[we,Le]}function ve(Le){let Be=A(this,re);if(Be.length===0)return;const{caseSensitive:Ae,entireWord:we,phraseSearch:Ce}=this._state,De=this._pageContents[Le],Ge=this._hasDiacritics[Le];let He=!1;if(Ce)[He,Be]=v(this,Z,ye).call(this,Be,Ge);else{const je=Be.match(/\S+/g);je&&(Be=je.sort().reverse().map(it=>{const[dt,ze]=v(this,Z,ye).call(this,it,Ge);return He||(He=dt),`(${ze})`}).join("|"))}const Ze=`g${He?"u":""}${Ae?"":"i"}`;Be=new RegExp(Be,Ze),v(this,H,xe).call(this,Be,we,Le,De),this._state.highlightAll&&v(this,Y,Se).call(this,Le),this._resumePageIdx===Le&&(this._resumePageIdx=null,v(this,ne,Fe).call(this));const Ye=this._pageMatches[Le].length;Ye>0&&(this._matchesCountTotal+=Ye,v(this,ie,Me).call(this))}function ke(){if(this._extractTextPromises.length>0)return;let Le=Promise.resolve();for(let Be=0,Ae=this._linkService.pagesCount;Be<Ae;Be++){const we=(0,c.createPromiseCapability)();this._extractTextPromises[Be]=we.promise,Le=Le.then(()=>this._pdfDocument.getPage(Be+1).then(Ce=>Ce.getTextContent()).then(Ce=>{const De=[];for(const Ge of Ce.items)De.push(Ge.str),Ge.hasEOL&&De.push(`
`);[this._pageContents[Be],this._pageDiffs[Be],this._hasDiacritics[Be]]=S(De.join("")),we.resolve()},Ce=>{console.error(`Unable to get text content for page ${Be+1}`,Ce),this._pageContents[Be]="",this._pageDiffs[Be]=null,this._hasDiacritics[Be]=!1,we.resolve()}))}}function Se(Le){this._scrollMatches&&this._selected.pageIdx===Le&&(this._linkService.page=Le+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:Le})}function be(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}function Ee(){const Le=this._state.findPrevious,Be=this._linkService.page-1,Ae=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=Be,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,v(this,te,be).call(this);for(let Ce=0;Ce<Ae;Ce++)this._pendingFindMatches.has(Ce)||(this._pendingFindMatches.add(Ce),this._extractTextPromises[Ce].then(()=>{this._pendingFindMatches.delete(Ce),v(this,Q,ve).call(this,Ce)}))}if(A(this,re)===""){v(this,oe,Te).call(this,b.FOUND);return}if(this._resumePageIdx)return;const we=this._offset;if(this._pagesToSearch=Ae,we.matchIdx!==null){const Ce=this._pageMatches[we.pageIdx].length;if(!Le&&we.matchIdx+1<Ce||Le&&we.matchIdx>0){we.matchIdx=Le?we.matchIdx-1:we.matchIdx+1,v(this,se,Ne).call(this,!0);return}v(this,ce,Re).call(this,Le)}v(this,ne,Fe).call(this)}function Oe(Le){const Be=this._offset,Ae=Le.length,we=this._state.findPrevious;return Ae?(Be.matchIdx=we?Ae-1:0,v(this,se,Ne).call(this,!0),!0):(v(this,ce,Re).call(this,we),Be.wrapped&&(Be.matchIdx=null,this._pagesToSearch<0)?(v(this,se,Ne).call(this,!1),!0):!1)}function Fe(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let Le=null;do{const Be=this._offset.pageIdx;if(Le=this._pageMatches[Be],!Le){this._resumePageIdx=Be;break}}while(!v(this,X,Oe).call(this,Le))}function Re(Le){const Be=this._offset,Ae=this._linkService.pagesCount;Be.pageIdx=Le?Be.pageIdx-1:Be.pageIdx+1,Be.matchIdx=null,this._pagesToSearch--,(Be.pageIdx>=Ae||Be.pageIdx<0)&&(Be.pageIdx=Le?Ae-1:0,Be.wrapped=!0)}function Ne(){let Le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Be=b.NOT_FOUND;const Ae=this._offset.wrapped;if(this._offset.wrapped=!1,Le){const we=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,Be=Ae?b.WRAPPED:b.FOUND,we!==-1&&we!==this._selected.pageIdx&&v(this,Y,Se).call(this,we)}v(this,oe,Te).call(this,Be,this._state.findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,v(this,Y,Se).call(this,this._selected.pageIdx))}function Pe(Le){const Be=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||Be&&this._pdfDocument!==Be||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),v(this,oe,Te).call(this,b.FOUND),this._highlightMatches=!1,v(this,te,be).call(this))})}function Ie(){const{pageIdx:Le,matchIdx:Be}=this._selected;let Ae=0,we=this._matchesCountTotal;if(Be!==-1){for(let De=0;De<Le;De++){var Ce;Ae+=((Ce=this._pageMatches[De])===null||Ce===void 0?void 0:Ce.length)||0}Ae+=Be+1}return(Ae<1||Ae>we)&&(Ae=we=0),{current:Ae,total:we}}function Me(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:v(this,ee,Ie).call(this)})}function Te(Le){var Be,Ae;let we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:Le,previous:we,matchesCount:v(this,ee,Ie).call(this),rawQuery:(Be=(Ae=this._state)===null||Ae===void 0?void 0:Ae.query)!==null&&Be!==void 0?Be:null})}},(d,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CharacterType=void 0,s.getCharacterType=b;const u={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};s.CharacterType=u;function n(o){return o<11904}function c(o){return(o&65408)===0}function C(o){return o>=97&&o<=122||o>=65&&o<=90}function m(o){return o>=48&&o<=57}function e(o){return o===32||o===9||o===13||o===10}function E(o){return o>=13312&&o<=40959||o>=63744&&o<=64255}function A(o){return o>=12448&&o<=12543}function B(o){return o>=12352&&o<=12447}function O(o){return o>=65376&&o<=65439}function v(o){return(o&65408)===3584}function b(o){return n(o)?c(o)?e(o)?u.SPACE:C(o)||m(o)||o===95?u.ALPHA_LETTER:u.PUNCT:v(o)?u.THAI_LETTER:o===160?u.SPACE:u.ALPHA_LETTER:E(o)?u.HAN_LETTER:A(o)?u.KATAKANA_LETTER:B(o)?u.HIRAGANA_LETTER:O(o)?u.HALFWIDTH_KATAKANA_LETTER:u.ALPHA_LETTER}},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFHistory=void 0,s.isDestArraysEqual=O,s.isDestHashesEqual=B;var n=u(7),c=u(19);const C=1e3,m=50,e=1e3;function E(){return document.location.hash}class A{constructor(b){let{linkService:o,eventBus:T}=b;this.linkService=o,this.eventBus=T,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",D=>{this._isPagesLoaded=!!D.pagesCount},{once:!0})})}initialize(b){let{fingerprint:o,resetHistory:T=!1,updateUrl:D=!1}=b;if(!o||typeof o!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();const _=this._fingerprint!==""&&this._fingerprint!==o;this._fingerprint=o,this._updateUrl=D===!0,this._initialized=!0,this._bindEvents();const y=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=E(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(y,!0)||T){const{hash:w,page:M,rotation:q}=this._parseCurrentHash(!0);if(!w||_||T){this._pushOrReplaceState(null,!0);return}this._pushOrReplaceState({hash:w,page:M,rotation:q},!0);return}const P=y.destination;this._updateInternalState(P,y.uid,!0),P.rotation!==void 0&&(this._initialRotation=P.rotation),P.dest?(this._initialBookmark=JSON.stringify(P.dest),this._destination.page=null):P.hash?this._initialBookmark=P.hash:P.page&&(this._initialBookmark=`page=${P.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push(b){let{namedDest:o=null,explicitDest:T,pageNumber:D}=b;if(!this._initialized)return;if(o&&typeof o!="string"){console.error(`PDFHistory.push: "${o}" is not a valid namedDest parameter.`);return}else if(Array.isArray(T)){if(!this._isValidPage(D)&&(D!==null||this._destination)){console.error(`PDFHistory.push: "${D}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${T}" is not a valid explicitDest parameter.`);return}const _=o||JSON.stringify(T);if(!_)return;let y=!1;if(this._destination&&(B(this._destination.hash,_)||O(this._destination.dest,T))){if(this._destination.page)return;y=!0}this._popStateInProgress&&!y||(this._pushOrReplaceState({dest:T,hash:_,page:D,rotation:this.linkService.rotation},y),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(b){var o;if(!!this._initialized){if(!this._isValidPage(b)){console.error(`PDFHistory.pushPage: "${b}" is not a valid page number.`);return}((o=this._destination)===null||o===void 0?void 0:o.page)!==b&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${b}`,page:b,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const b=window.history.state;this._isValidState(b)&&b.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const b=window.history.state;this._isValidState(b)&&b.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(b){const T=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)||!this._destination,D={fingerprint:this._fingerprint,uid:T?this._uid:this._uid+1,destination:b};this._updateInternalState(b,D.uid);let _;if(this._updateUrl&&b!==null&&b!==void 0&&b.hash){const y=document.location.href.split("#")[0];y.startsWith("file://")||(_=`${y}#${b.hash}`)}T?window.history.replaceState(D,"",_):window.history.pushState(D,"",_)}_tryPushCurrentPosition(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this._position)return;let o=this._position;if(b&&(o=Object.assign(Object.create(null),this._position),o.temporary=!0),!this._destination){this._pushOrReplaceState(o);return}if(this._destination.temporary){this._pushOrReplaceState(o,!0);return}if(this._destination.hash===o.hash||!this._destination.page&&this._numPositionUpdates<=m)return;let T=!1;if(this._destination.page>=o.first&&this._destination.page<=o.page){if(this._destination.dest!==void 0||!this._destination.first)return;T=!0}this._pushOrReplaceState(o,T)}_isValidPage(b){return Number.isInteger(b)&&b>0&&b<=this.linkService.pagesCount}_isValidState(b){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!b)return!1;if(b.fingerprint!==this._fingerprint)if(o){if(typeof b.fingerprint!="string"||b.fingerprint.length!==this._fingerprint.length)return!1;const[T]=performance.getEntriesByType("navigation");if((T==null?void 0:T.type)!=="reload")return!1}else return!1;return!(!Number.isInteger(b.uid)||b.uid<0||b.destination===null||typeof b.destination!="object")}_updateInternalState(b,o){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),T&&b!==null&&b!==void 0&&b.temporary&&delete b.temporary,this._destination=b,this._uid=o,this._maxUid=Math.max(this._maxUid,o),this._numPositionUpdates=0}_parseCurrentHash(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const o=unescape(E()).substring(1),T=(0,n.parseQueryString)(o),D=T.get("nameddest")||"";let _=T.get("page")|0;return(!this._isValidPage(_)||b&&D.length>0)&&(_=null),{hash:o,page:_,rotation:this.linkService.rotation}}_updateViewarea(b){let{location:o}=b;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:o.pdfOpenParams.substring(1),page:this.linkService.page,first:o.pageNumber,rotation:o.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},e))}_popState(b){let{state:o}=b;const T=E(),D=this._currentHash!==T;if(this._currentHash=T,!o){this._uid++;const{hash:y,page:P,rotation:w}=this._parseCurrentHash();this._pushOrReplaceState({hash:y,page:P,rotation:w},!0);return}if(!this._isValidState(o))return;this._popStateInProgress=!0,D&&(this._blockHashChange++,(0,c.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:C}).then(()=>{this._blockHashChange--}));const _=o.destination;this._updateInternalState(_,o.uid,!0),(0,n.isValidRotation)(_.rotation)&&(this.linkService.rotation=_.rotation),_.dest?this.linkService.goToDestination(_.dest):_.hash?this.linkService.setHash(_.hash):_.page&&(this.linkService.page=_.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}s.PDFHistory=A;function B(v,b){return typeof v!="string"||typeof b!="string"?!1:v===b||(0,n.parseQueryString)(v).get("nameddest")===b}function O(v,b){function o(T,D){if(typeof T!=typeof D||Array.isArray(T)||Array.isArray(D))return!1;if(T!==null&&typeof T=="object"&&D!==null){if(Object.keys(T).length!==Object.keys(D).length)return!1;for(const _ in T)if(!o(T[_],D[_]))return!1;return!0}return T===D||Number.isNaN(T)&&Number.isNaN(D)}if(!(Array.isArray(v)&&Array.isArray(b))||v.length!==b.length)return!1;for(let T=0,D=v.length;T<D;T++)if(!o(v[T],b[T]))return!1;return!0}},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFScriptingManager=void 0;var n=u(7),c=u(3);class C{constructor(e){let{eventBus:E,sandboxBundleSrc:A=null,scriptingFactory:B=null,docPropertiesLookup:O=null}=e;this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=E,this._sandboxBundleSrc=A,this._scriptingFactory=B,this._docPropertiesLookup=O,this._scriptingFactory||window.addEventListener("updatefromsandbox",v=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:v.detail})})}setViewer(e){this._pdfViewer=e}async setDocument(e){var E;if(this._pdfDocument&&await this._destroyScripting(),this._pdfDocument=e,!e)return;const[A,B,O]=await Promise.all([e.getFieldObjects(),e.getCalculationOrderIds(),e.getJSActions()]);if(!A&&!O){await this._destroyScripting();return}if(e===this._pdfDocument){try{this._scripting=this._createScripting()}catch(v){console.error(`PDFScriptingManager.setDocument: "${v==null?void 0:v.message}".`),await this._destroyScripting();return}this._internalEvents.set("updatefromsandbox",v=>{(v==null?void 0:v.source)===window&&this._updateFromSandbox(v.detail)}),this._internalEvents.set("dispatcheventinsandbox",v=>{var b;(b=this._scripting)===null||b===void 0||b.dispatchEventInSandbox(v.detail)}),this._internalEvents.set("pagechanging",v=>{let{pageNumber:b,previous:o}=v;b!==o&&(this._dispatchPageClose(o),this._dispatchPageOpen(b))}),this._internalEvents.set("pagerendered",v=>{let{pageNumber:b}=v;!this._pageOpenPending.has(b)||b===this._pdfViewer.currentPageNumber&&this._dispatchPageOpen(b)}),this._internalEvents.set("pagesdestroy",async v=>{var b,o;await this._dispatchPageClose(this._pdfViewer.currentPageNumber),await((b=this._scripting)===null||b===void 0?void 0:b.dispatchEventInSandbox({id:"doc",name:"WillClose"})),(o=this._closeCapability)===null||o===void 0||o.resolve()}),this._domEvents.set("mousedown",v=>{this._mouseState.isDown=!0}),this._domEvents.set("mouseup",v=>{this._mouseState.isDown=!1});for(const[v,b]of this._internalEvents)this._eventBus._on(v,b);for(const[v,b]of this._domEvents)window.addEventListener(v,b,!0);try{const v=await this._getDocProperties();if(e!==this._pdfDocument)return;await this._scripting.createSandbox({objects:A,calculationOrder:B,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...v,actions:O}}),this._eventBus.dispatch("sandboxcreated",{source:this})}catch(v){console.error(`PDFScriptingManager.setDocument: "${v==null?void 0:v.message}".`),await this._destroyScripting();return}await((E=this._scripting)===null||E===void 0?void 0:E.dispatchEventInSandbox({id:"doc",name:"Open"})),await this._dispatchPageOpen(this._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{e===this._pdfDocument&&(this._ready=!0)})}}async dispatchWillSave(e){var E;return(E=this._scripting)===null||E===void 0?void 0:E.dispatchEventInSandbox({id:"doc",name:"WillSave"})}async dispatchDidSave(e){var E;return(E=this._scripting)===null||E===void 0?void 0:E.dispatchEventInSandbox({id:"doc",name:"DidSave"})}async dispatchWillPrint(e){var E;return(E=this._scripting)===null||E===void 0?void 0:E.dispatchEventInSandbox({id:"doc",name:"WillPrint"})}async dispatchDidPrint(e){var E;return(E=this._scripting)===null||E===void 0?void 0:E.dispatchEventInSandbox({id:"doc",name:"DidPrint"})}get mouseState(){return this._mouseState}get destroyPromise(){var e;return((e=this._destroyCapability)===null||e===void 0?void 0:e.promise)||null}get ready(){return this._ready}get _internalEvents(){return(0,c.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,c.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,c.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,c.shadow)(this,"_visitedPages",new Map)}async _updateFromSandbox(e){const E=this._pdfViewer.isInPresentationMode||this._pdfViewer.isChangingPresentationMode,{id:A,siblings:B,command:O,value:v}=e;if(!A){switch(O){case"clear":console.clear();break;case"error":console.error(v);break;case"layout":if(E)return;const T=(0,n.apiPageLayoutToViewerModes)(v);this._pdfViewer.spreadMode=T.spreadMode;break;case"page-num":this._pdfViewer.currentPageNumber=v+1;break;case"print":await this._pdfViewer.pagesPromise,this._eventBus.dispatch("print",{source:this});break;case"println":console.log(v);break;case"zoom":if(E)return;this._pdfViewer.currentScaleValue=v;break;case"SaveAs":this._eventBus.dispatch("download",{source:this});break;case"FirstPage":this._pdfViewer.currentPageNumber=1;break;case"LastPage":this._pdfViewer.currentPageNumber=this._pdfViewer.pagesCount;break;case"NextPage":this._pdfViewer.nextPage();break;case"PrevPage":this._pdfViewer.previousPage();break;case"ZoomViewIn":if(E)return;this._pdfViewer.increaseScale();break;case"ZoomViewOut":if(E)return;this._pdfViewer.decreaseScale();break}return}if(E&&e.focus)return;delete e.id,delete e.siblings;const b=B?[A,...B]:[A];for(const T of b){const D=document.querySelector(`[data-element-id="${T}"]`);if(D)D.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:e}));else{var o;(o=this._pdfDocument)===null||o===void 0||o.annotationStorage.setValue(T,e)}}}async _dispatchPageOpen(e){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const A=this._pdfDocument,B=this._visitedPages;if(E&&(this._closeCapability=(0,c.createPromiseCapability)()),!this._closeCapability)return;const O=this._pdfViewer.getPageView(e-1);if((O==null?void 0:O.renderingState)!==n.RenderingStates.FINISHED){this._pageOpenPending.add(e);return}this._pageOpenPending.delete(e);const v=(async()=>{var b,o;const T=await(B.has(e)?null:(b=O.pdfPage)===null||b===void 0?void 0:b.getJSActions());A===this._pdfDocument&&await((o=this._scripting)===null||o===void 0?void 0:o.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:e,actions:T}))})();B.set(e,v)}async _dispatchPageClose(e){var E;const A=this._pdfDocument,B=this._visitedPages;if(!this._closeCapability||this._pageOpenPending.has(e))return;const O=B.get(e);!O||(B.set(e,null),await O,A===this._pdfDocument&&await((E=this._scripting)===null||E===void 0?void 0:E.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:e})))}async _getDocProperties(){if(this._docPropertiesLookup)return this._docPropertiesLookup(this._pdfDocument);const{docPropertiesLookup:e}=u(26);return e(this._pdfDocument)}_createScripting(){if(this._destroyCapability=(0,c.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:e}=u(26);return new e(this._sandboxBundleSrc)}async _destroyScripting(){var e;if(!this._scripting){var E;this._pdfDocument=null,(E=this._destroyCapability)===null||E===void 0||E.resolve();return}this._closeCapability&&(await Promise.race([this._closeCapability.promise,new Promise(A=>{setTimeout(A,1e3)})]).catch(A=>{}),this._closeCapability=null),this._pdfDocument=null;try{await this._scripting.destroySandbox()}catch{}for(const[A,B]of this._internalEvents)this._eventBus._off(A,B);this._internalEvents.clear();for(const[A,B]of this._domEvents)window.removeEventListener(A,B,!0);this._domEvents.clear(),this._pageOpenPending.clear(),this._visitedPages.clear(),this._scripting=null,delete this._mouseState.isDown,this._ready=!1,(e=this._destroyCapability)===null||e===void 0||e.resolve()}}s.PDFScriptingManager=C},(d,s,u)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GenericScripting=void 0,s.docPropertiesLookup=c;var n=u(3);async function c(m){const e="",E=e.split("#")[0];let{info:A,metadata:B,contentDispositionFilename:O,contentLength:v}=await m.getMetadata();if(!v){const{length:b}=await m.getDownloadInfo();v=b}return{...A,baseURL:E,filesize:v,filename:O||(0,n.getPdfFilenameFromUrl)(e),metadata:B==null?void 0:B.getRaw(),authors:B==null?void 0:B.get("dc:creator"),numPages:m.numPages,URL:e}}class C{constructor(e){this._ready=(0,n.loadScript)(e,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}async createSandbox(e){(await this._ready).create(e)}async dispatchEventInSandbox(e){const E=await this._ready;setTimeout(()=>E.dispatchEvent(e),0)}async destroySandbox(){(await this._ready).nukeSandbox()}}s.GenericScripting=C}],a={};function l(d){var s=a[d];if(s!==void 0)return s.exports;var u=a[d]={exports:{}};return r[d](u,u.exports,l),u.exports}var g={};return(()=>{var d=g;Object.defineProperty(d,"__esModule",{value:!0}),Object.defineProperty(d,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return C.AnnotationLayerBuilder}}),Object.defineProperty(d,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return s.DefaultAnnotationLayerFactory}}),Object.defineProperty(d,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return s.DefaultStructTreeLayerFactory}}),Object.defineProperty(d,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return s.DefaultTextLayerFactory}}),Object.defineProperty(d,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return s.DefaultXfaLayerFactory}}),Object.defineProperty(d,"DownloadManager",{enumerable:!0,get:function(){return m.DownloadManager}}),Object.defineProperty(d,"EventBus",{enumerable:!0,get:function(){return e.EventBus}}),Object.defineProperty(d,"GenericL10n",{enumerable:!0,get:function(){return E.GenericL10n}}),Object.defineProperty(d,"LinkTarget",{enumerable:!0,get:function(){return u.LinkTarget}}),Object.defineProperty(d,"NullL10n",{enumerable:!0,get:function(){return A.NullL10n}}),Object.defineProperty(d,"PDFFindController",{enumerable:!0,get:function(){return B.PDFFindController}}),Object.defineProperty(d,"PDFHistory",{enumerable:!0,get:function(){return O.PDFHistory}}),Object.defineProperty(d,"PDFLinkService",{enumerable:!0,get:function(){return u.PDFLinkService}}),Object.defineProperty(d,"PDFPageView",{enumerable:!0,get:function(){return v.PDFPageView}}),Object.defineProperty(d,"PDFScriptingManager",{enumerable:!0,get:function(){return b.PDFScriptingManager}}),Object.defineProperty(d,"PDFSinglePageViewer",{enumerable:!0,get:function(){return c.PDFSinglePageViewer}}),Object.defineProperty(d,"PDFViewer",{enumerable:!0,get:function(){return c.PDFViewer}}),Object.defineProperty(d,"ProgressBar",{enumerable:!0,get:function(){return n.ProgressBar}}),Object.defineProperty(d,"RenderingStates",{enumerable:!0,get:function(){return n.RenderingStates}}),Object.defineProperty(d,"ScrollMode",{enumerable:!0,get:function(){return n.ScrollMode}}),Object.defineProperty(d,"SimpleLinkService",{enumerable:!0,get:function(){return u.SimpleLinkService}}),Object.defineProperty(d,"SpreadMode",{enumerable:!0,get:function(){return n.SpreadMode}}),Object.defineProperty(d,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return o.StructTreeLayerBuilder}}),Object.defineProperty(d,"TextLayerBuilder",{enumerable:!0,get:function(){return T.TextLayerBuilder}}),Object.defineProperty(d,"XfaLayerBuilder",{enumerable:!0,get:function(){return D.XfaLayerBuilder}}),Object.defineProperty(d,"parseQueryString",{enumerable:!0,get:function(){return n.parseQueryString}});var s=l(1),u=l(6),n=l(7),c=l(11),C=l(5),m=l(18),e=l(19),E=l(20),A=l(4),B=l(22),O=l(24),v=l(13),b=l(25),o=l(8),T=l(9),D=l(10)})(),g})())})(pdf_viewer$1);const pdf_viewer="";var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function createCommonjsModule(i,t,r){return r={path:t,exports:{},require:function(a,l){return commonjsRequire(a,l==null?r.path:l)}},i(r,r.exports),r.exports}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var check=function(i){return i&&i.Math==Math&&i},global_1=check(typeof globalThis=="object"&&globalThis)||check(typeof window=="object"&&window)||check(typeof self=="object"&&self)||check(typeof commonjsGlobal=="object"&&commonjsGlobal)||function(){return this}()||Function("return this")(),fails=function(i){try{return!!i()}catch{return!0}},descriptors=!fails(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),$propertyIsEnumerable={}.propertyIsEnumerable,getOwnPropertyDescriptor$2=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor$2&&!$propertyIsEnumerable.call({1:2},1),f$4=NASHORN_BUG?function i(t){var r=getOwnPropertyDescriptor$2(this,t);return!!r&&r.enumerable}:$propertyIsEnumerable,objectPropertyIsEnumerable={f:f$4},createPropertyDescriptor=function(i,t){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:t}},toString={}.toString,classofRaw=function(i){return toString.call(i).slice(8,-1)},split="".split,indexedObject=fails(function(){return!Object("z").propertyIsEnumerable(0)})?function(i){return classofRaw(i)=="String"?split.call(i,""):Object(i)}:Object,requireObjectCoercible=function(i){if(i==null)throw TypeError("Can't call method on "+i);return i},toIndexedObject=function(i){return indexedObject(requireObjectCoercible(i))},isObject=function(i){return typeof i=="object"?i!==null:typeof i=="function"},aFunction$1=function(i){return typeof i=="function"?i:void 0},getBuiltIn=function(i,t){return arguments.length<2?aFunction$1(global_1[i]):global_1[i]&&global_1[i][t]},engineUserAgent=getBuiltIn("navigator","userAgent")||"",process$1=global_1.process,Deno$1=global_1.Deno,versions=process$1&&process$1.versions||Deno$1&&Deno$1.version,v8=versions&&versions.v8,match,version;v8?(match=v8.split("."),version=match[0]<4?1:match[0]+match[1]):engineUserAgent&&(match=engineUserAgent.match(/Edge\/(\d+)/),(!match||match[1]>=74)&&(match=engineUserAgent.match(/Chrome\/(\d+)/),match&&(version=match[1])));var engineV8Version=version&&+version,nativeSymbol=!!Object.getOwnPropertySymbols&&!fails(function(){var i=Symbol();return!String(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&engineV8Version&&engineV8Version<41}),useSymbolAsUid=nativeSymbol&&!Symbol.sham&&typeof Symbol.iterator=="symbol",isSymbol=useSymbolAsUid?function(i){return typeof i=="symbol"}:function(i){var t=getBuiltIn("Symbol");return typeof t=="function"&&Object(i)instanceof t},ordinaryToPrimitive=function(i,t){var r,a;if(t==="string"&&typeof(r=i.toString)=="function"&&!isObject(a=r.call(i))||typeof(r=i.valueOf)=="function"&&!isObject(a=r.call(i))||t!=="string"&&typeof(r=i.toString)=="function"&&!isObject(a=r.call(i)))return a;throw TypeError("Can't convert object to primitive value")},setGlobal=function(i,t){try{Object.defineProperty(global_1,i,{value:t,configurable:!0,writable:!0})}catch{global_1[i]=t}return t},SHARED="__core-js_shared__",store$1=global_1[SHARED]||setGlobal(SHARED,{}),sharedStore=store$1,shared=createCommonjsModule(function(i){(i.exports=function(t,r){return sharedStore[t]||(sharedStore[t]=r!==void 0?r:{})})("versions",[]).push({version:"3.17.3",mode:"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})}),toObject=function(i){return Object(requireObjectCoercible(i))},hasOwnProperty={}.hasOwnProperty,has$1=Object.hasOwn||function i(t,r){return hasOwnProperty.call(toObject(t),r)},id=0,postfix=Math.random(),uid=function(i){return"Symbol("+String(i===void 0?"":i)+")_"+(++id+postfix).toString(36)},WellKnownSymbolsStore=shared("wks"),Symbol$1=global_1.Symbol,createWellKnownSymbol=useSymbolAsUid?Symbol$1:Symbol$1&&Symbol$1.withoutSetter||uid,wellKnownSymbol=function(i){return(!has$1(WellKnownSymbolsStore,i)||!(nativeSymbol||typeof WellKnownSymbolsStore[i]=="string"))&&(nativeSymbol&&has$1(Symbol$1,i)?WellKnownSymbolsStore[i]=Symbol$1[i]:WellKnownSymbolsStore[i]=createWellKnownSymbol("Symbol."+i)),WellKnownSymbolsStore[i]},TO_PRIMITIVE=wellKnownSymbol("toPrimitive"),toPrimitive=function(i,t){if(!isObject(i)||isSymbol(i))return i;var r=i[TO_PRIMITIVE],a;if(r!==void 0){if(t===void 0&&(t="default"),a=r.call(i,t),!isObject(a)||isSymbol(a))return a;throw TypeError("Can't convert object to primitive value")}return t===void 0&&(t="number"),ordinaryToPrimitive(i,t)},toPropertyKey=function(i){var t=toPrimitive(i,"string");return isSymbol(t)?t:String(t)},document$1=global_1.document,EXISTS=isObject(document$1)&&isObject(document$1.createElement),documentCreateElement=function(i){return EXISTS?document$1.createElement(i):{}},ie8DomDefine=!descriptors&&!fails(function(){return Object.defineProperty(documentCreateElement("div"),"a",{get:function(){return 7}}).a!=7}),$getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,f$3=descriptors?$getOwnPropertyDescriptor:function i(t,r){if(t=toIndexedObject(t),r=toPropertyKey(r),ie8DomDefine)try{return $getOwnPropertyDescriptor(t,r)}catch{}if(has$1(t,r))return createPropertyDescriptor(!objectPropertyIsEnumerable.f.call(t,r),t[r])},objectGetOwnPropertyDescriptor={f:f$3},anObject=function(i){if(!isObject(i))throw TypeError(String(i)+" is not an object");return i},$defineProperty=Object.defineProperty,f$2=descriptors?$defineProperty:function i(t,r,a){if(anObject(t),r=toPropertyKey(r),anObject(a),ie8DomDefine)try{return $defineProperty(t,r,a)}catch{}if("get"in a||"set"in a)throw TypeError("Accessors not supported");return"value"in a&&(t[r]=a.value),t},objectDefineProperty={f:f$2},createNonEnumerableProperty=descriptors?function(i,t,r){return objectDefineProperty.f(i,t,createPropertyDescriptor(1,r))}:function(i,t,r){return i[t]=r,i},functionToString=Function.toString;typeof sharedStore.inspectSource!="function"&&(sharedStore.inspectSource=function(i){return functionToString.call(i)});var inspectSource=sharedStore.inspectSource,WeakMap$1=global_1.WeakMap,nativeWeakMap=typeof WeakMap$1=="function"&&/native code/.test(inspectSource(WeakMap$1)),keys$1=shared("keys"),sharedKey=function(i){return keys$1[i]||(keys$1[i]=uid(i))},hiddenKeys$1={},OBJECT_ALREADY_INITIALIZED="Object already initialized",WeakMap$2=global_1.WeakMap,set,get,has,enforce=function(i){return has(i)?get(i):set(i,{})},getterFor=function(i){return function(t){var r;if(!isObject(t)||(r=get(t)).type!==i)throw TypeError("Incompatible receiver, "+i+" required");return r}};if(nativeWeakMap||sharedStore.state){var store=sharedStore.state||(sharedStore.state=new WeakMap$2),wmget=store.get,wmhas=store.has,wmset=store.set;set=function(i,t){if(wmhas.call(store,i))throw new TypeError(OBJECT_ALREADY_INITIALIZED);return t.facade=i,wmset.call(store,i,t),t},get=function(i){return wmget.call(store,i)||{}},has=function(i){return wmhas.call(store,i)}}else{var STATE=sharedKey("state");hiddenKeys$1[STATE]=!0,set=function(i,t){if(has$1(i,STATE))throw new TypeError(OBJECT_ALREADY_INITIALIZED);return t.facade=i,createNonEnumerableProperty(i,STATE,t),t},get=function(i){return has$1(i,STATE)?i[STATE]:{}},has=function(i){return has$1(i,STATE)}}var internalState={set,get,has,enforce,getterFor},redefine=createCommonjsModule(function(i){var t=internalState.get,r=internalState.enforce,a=String(String).split("String");(i.exports=function(l,g,d,s){var u=s?!!s.unsafe:!1,n=s?!!s.enumerable:!1,c=s?!!s.noTargetGet:!1,C;if(typeof d=="function"&&(typeof g=="string"&&!has$1(d,"name")&&createNonEnumerableProperty(d,"name",g),C=r(d),C.source||(C.source=a.join(typeof g=="string"?g:""))),l===global_1){n?l[g]=d:setGlobal(g,d);return}else u?!c&&l[g]&&(n=!0):delete l[g];n?l[g]=d:createNonEnumerableProperty(l,g,d)})(Function.prototype,"toString",function(){return typeof this=="function"&&t(this).source||inspectSource(this)})}),ceil=Math.ceil,floor=Math.floor,toInteger=function(i){return isNaN(i=+i)?0:(i>0?floor:ceil)(i)},min$1=Math.min,toLength=function(i){return i>0?min$1(toInteger(i),9007199254740991):0},max=Math.max,min=Math.min,toAbsoluteIndex=function(i,t){var r=toInteger(i);return r<0?max(r+t,0):min(r,t)},createMethod$3=function(i){return function(t,r,a){var l=toIndexedObject(t),g=toLength(l.length),d=toAbsoluteIndex(a,g),s;if(i&&r!=r){for(;g>d;)if(s=l[d++],s!=s)return!0}else for(;g>d;d++)if((i||d in l)&&l[d]===r)return i||d||0;return!i&&-1}},arrayIncludes={includes:createMethod$3(!0),indexOf:createMethod$3(!1)},indexOf=arrayIncludes.indexOf,objectKeysInternal=function(i,t){var r=toIndexedObject(i),a=0,l=[],g;for(g in r)!has$1(hiddenKeys$1,g)&&has$1(r,g)&&l.push(g);for(;t.length>a;)has$1(r,g=t[a++])&&(~indexOf(l,g)||l.push(g));return l},enumBugKeys=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],hiddenKeys=enumBugKeys.concat("length","prototype"),f$1=Object.getOwnPropertyNames||function i(t){return objectKeysInternal(t,hiddenKeys)},objectGetOwnPropertyNames={f:f$1},f=Object.getOwnPropertySymbols,objectGetOwnPropertySymbols={f},ownKeys=getBuiltIn("Reflect","ownKeys")||function i(t){var r=objectGetOwnPropertyNames.f(anObject(t)),a=objectGetOwnPropertySymbols.f;return a?r.concat(a(t)):r},copyConstructorProperties=function(i,t){for(var r=ownKeys(t),a=objectDefineProperty.f,l=objectGetOwnPropertyDescriptor.f,g=0;g<r.length;g++){var d=r[g];has$1(i,d)||a(i,d,l(t,d))}},replacement=/#|\.prototype\./,isForced=function(i,t){var r=data[normalize(i)];return r==POLYFILL?!0:r==NATIVE?!1:typeof t=="function"?fails(t):!!t},normalize=isForced.normalize=function(i){return String(i).replace(replacement,".").toLowerCase()},data=isForced.data={},NATIVE=isForced.NATIVE="N",POLYFILL=isForced.POLYFILL="P",isForced_1=isForced,getOwnPropertyDescriptor$1=objectGetOwnPropertyDescriptor.f,_export=function(i,t){var r=i.target,a=i.global,l=i.stat,g,d,s,u,n,c;if(a?d=global_1:l?d=global_1[r]||setGlobal(r,{}):d=(global_1[r]||{}).prototype,d)for(s in t){if(n=t[s],i.noTargetGet?(c=getOwnPropertyDescriptor$1(d,s),u=c&&c.value):u=d[s],g=isForced_1(a?s:r+(l?".":"#")+s,i.forced),!g&&u!==void 0){if(typeof n==typeof u)continue;copyConstructorProperties(n,u)}(i.sham||u&&u.sham)&&createNonEnumerableProperty(n,"sham",!0),redefine(d,s,n,i)}},aFunction=function(i){if(typeof i!="function")throw TypeError(String(i)+" is not a function");return i},functionBindContext=function(i,t,r){if(aFunction(i),t===void 0)return i;switch(r){case 0:return function(){return i.call(t)};case 1:return function(a){return i.call(t,a)};case 2:return function(a,l){return i.call(t,a,l)};case 3:return function(a,l,g){return i.call(t,a,l,g)}}return function(){return i.apply(t,arguments)}},isArray=Array.isArray||function i(t){return classofRaw(t)=="Array"},SPECIES=wellKnownSymbol("species"),arraySpeciesConstructor=function(i){var t;return isArray(i)&&(t=i.constructor,typeof t=="function"&&(t===Array||isArray(t.prototype))?t=void 0:isObject(t)&&(t=t[SPECIES],t===null&&(t=void 0))),t===void 0?Array:t},arraySpeciesCreate=function(i,t){return new(arraySpeciesConstructor(i))(t===0?0:t)},push=[].push,createMethod$2=function(i){var t=i==1,r=i==2,a=i==3,l=i==4,g=i==6,d=i==7,s=i==5||g;return function(u,n,c,C){for(var m=toObject(u),e=indexedObject(m),E=functionBindContext(n,c,3),A=toLength(e.length),B=0,O=C||arraySpeciesCreate,v=t?O(u,A):r||d?O(u,0):void 0,b,o;A>B;B++)if((s||B in e)&&(b=e[B],o=E(b,B,m),i))if(t)v[B]=o;else if(o)switch(i){case 3:return!0;case 5:return b;case 6:return B;case 2:push.call(v,b)}else switch(i){case 4:return!1;case 7:push.call(v,b)}return g?-1:a||l?l:v}},arrayIteration={forEach:createMethod$2(0),map:createMethod$2(1),filter:createMethod$2(2),some:createMethod$2(3),every:createMethod$2(4),find:createMethod$2(5),findIndex:createMethod$2(6),filterReject:createMethod$2(7)},arrayMethodIsStrict=function(i,t){var r=[][i];return!!r&&fails(function(){r.call(null,t||function(){throw 1},1)})},$forEach=arrayIteration.forEach,STRICT_METHOD=arrayMethodIsStrict("forEach"),arrayForEach=STRICT_METHOD?[].forEach:function i(t){return $forEach(this,t,arguments.length>1?arguments[1]:void 0)};_export({target:"Array",proto:!0,forced:[].forEach!=arrayForEach},{forEach:arrayForEach});var domIterables={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},classList=documentCreateElement("span").classList,DOMTokenListPrototype=classList&&classList.constructor&&classList.constructor.prototype,domTokenListPrototype=DOMTokenListPrototype===Object.prototype?void 0:DOMTokenListPrototype,handlePrototype=function(i){if(i&&i.forEach!==arrayForEach)try{createNonEnumerableProperty(i,"forEach",arrayForEach)}catch{i.forEach=arrayForEach}};for(var COLLECTION_NAME in domIterables)handlePrototype(global_1[COLLECTION_NAME]&&global_1[COLLECTION_NAME].prototype);handlePrototype(domTokenListPrototype);var objectKeys=Object.keys||function i(t){return objectKeysInternal(t,enumBugKeys)},propertyIsEnumerable=objectPropertyIsEnumerable.f,createMethod$1=function(i){return function(t){for(var r=toIndexedObject(t),a=objectKeys(r),l=a.length,g=0,d=[],s;l>g;)s=a[g++],(!descriptors||propertyIsEnumerable.call(r,s))&&d.push(i?[s,r[s]]:r[s]);return d}},objectToArray={entries:createMethod$1(!0),values:createMethod$1(!1)},$entries=objectToArray.entries;_export({target:"Object",stat:!0},{entries:function i(t){return $entries(t)}});var aPossiblePrototype=function(i){if(!isObject(i)&&i!==null)throw TypeError("Can't set "+String(i)+" as a prototype");return i},objectSetPrototypeOf=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,t={},r;try{r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,r.call(t,[]),i=t instanceof Array}catch{}return function(l,g){return anObject(l),aPossiblePrototype(g),i?r.call(l,g):l.__proto__=g,l}}():void 0),inheritIfRequired=function(i,t,r){var a,l;return objectSetPrototypeOf&&typeof(a=t.constructor)=="function"&&a!==r&&isObject(l=a.prototype)&&l!==r.prototype&&objectSetPrototypeOf(i,l),i},objectDefineProperties=descriptors?Object.defineProperties:function i(t,r){anObject(t);for(var a=objectKeys(r),l=a.length,g=0,d;l>g;)objectDefineProperty.f(t,d=a[g++],r[d]);return t},html=getBuiltIn("document","documentElement"),GT=">",LT="<",PROTOTYPE="prototype",SCRIPT="script",IE_PROTO=sharedKey("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(i){return LT+SCRIPT+GT+i+LT+"/"+SCRIPT+GT},NullProtoObjectViaActiveX=function(i){i.write(scriptTag("")),i.close();var t=i.parentWindow.Object;return i=null,t},NullProtoObjectViaIFrame=function(){var i=documentCreateElement("iframe"),t="java"+SCRIPT+":",r;return i.style.display="none",html.appendChild(i),i.src=String(t),r=i.contentWindow.document,r.open(),r.write(scriptTag("document.F=Object")),r.close(),r.F},activeXDocument,NullProtoObject=function(){try{activeXDocument=new ActiveXObject("htmlfile")}catch{}NullProtoObject=typeof document<"u"?document.domain&&activeXDocument?NullProtoObjectViaActiveX(activeXDocument):NullProtoObjectViaIFrame():NullProtoObjectViaActiveX(activeXDocument);for(var i=enumBugKeys.length;i--;)delete NullProtoObject[PROTOTYPE][enumBugKeys[i]];return NullProtoObject()};hiddenKeys$1[IE_PROTO]=!0;var objectCreate=Object.create||function i(t,r){var a;return t!==null?(EmptyConstructor[PROTOTYPE]=anObject(t),a=new EmptyConstructor,EmptyConstructor[PROTOTYPE]=null,a[IE_PROTO]=t):a=NullProtoObject(),r===void 0?a:objectDefineProperties(a,r)},toString_1=function(i){if(isSymbol(i))throw TypeError("Cannot convert a Symbol value to a string");return String(i)},whitespaces=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`,whitespace="["+whitespaces+"]",ltrim=RegExp("^"+whitespace+whitespace+"*"),rtrim=RegExp(whitespace+whitespace+"*$"),createMethod=function(i){return function(t){var r=toString_1(requireObjectCoercible(t));return i&1&&(r=r.replace(ltrim,"")),i&2&&(r=r.replace(rtrim,"")),r}},stringTrim={start:createMethod(1),end:createMethod(2),trim:createMethod(3)},getOwnPropertyNames=objectGetOwnPropertyNames.f,getOwnPropertyDescriptor=objectGetOwnPropertyDescriptor.f,defineProperty=objectDefineProperty.f,trim$1=stringTrim.trim,NUMBER="Number",NativeNumber=global_1[NUMBER],NumberPrototype=NativeNumber.prototype,BROKEN_CLASSOF=classofRaw(objectCreate(NumberPrototype))==NUMBER,toNumber=function(i){if(isSymbol(i))throw TypeError("Cannot convert a Symbol value to a number");var t=toPrimitive(i,"number"),r,a,l,g,d,s,u,n;if(typeof t=="string"&&t.length>2){if(t=trim$1(t),r=t.charCodeAt(0),r===43||r===45){if(a=t.charCodeAt(2),a===88||a===120)return NaN}else if(r===48){switch(t.charCodeAt(1)){case 66:case 98:l=2,g=49;break;case 79:case 111:l=8,g=55;break;default:return+t}for(d=t.slice(2),s=d.length,u=0;u<s;u++)if(n=d.charCodeAt(u),n<48||n>g)return NaN;return parseInt(d,l)}}return+t};if(isForced_1(NUMBER,!NativeNumber(" 0o1")||!NativeNumber("0b1")||NativeNumber("+0x1"))){for(var NumberWrapper=function(t){var r=arguments.length<1?0:t,a=this;return a instanceof NumberWrapper&&(BROKEN_CLASSOF?fails(function(){NumberPrototype.valueOf.call(a)}):classofRaw(a)!=NUMBER)?inheritIfRequired(new NativeNumber(toNumber(r)),a,NumberWrapper):toNumber(r)},keys=descriptors?getOwnPropertyNames(NativeNumber):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),j=0,key;keys.length>j;j++)has$1(NativeNumber,key=keys[j])&&!has$1(NumberWrapper,key)&&defineProperty(NumberWrapper,key,getOwnPropertyDescriptor(NativeNumber,key));NumberWrapper.prototype=NumberPrototype,NumberPrototype.constructor=NumberWrapper,redefine(global_1,NUMBER,NumberWrapper)}var trim=stringTrim.trim,$parseFloat=global_1.parseFloat,FORCED=1/$parseFloat(whitespaces+"-0")!==-1/0,numberParseFloat=FORCED?function i(t){var r=trim(toString_1(t)),a=$parseFloat(r);return a===0&&r.charAt(0)=="-"?-0:a}:$parseFloat;_export({global:!0,forced:parseFloat!=numberParseFloat},{parseFloat:numberParseFloat});var slice=[].slice,MSIE=/MSIE .\./.test(engineUserAgent),wrap=function(i){return function(t,r){var a=arguments.length>2,l=a?slice.call(arguments,2):void 0;return i(a?function(){(typeof t=="function"?t:Function(t)).apply(this,l)}:t,r)}};_export({global:!0,bind:!0,forced:MSIE},{setTimeout:wrap(global_1.setTimeout),setInterval:wrap(global_1.setInterval)});function __awaiter(i,t,r,a){function l(g){return g instanceof r?g:new r(function(d){d(g)})}return new(r||(r=Promise))(function(g,d){function s(c){try{n(a.next(c))}catch(C){d(C)}}function u(c){try{n(a.throw(c))}catch(C){d(C)}}function n(c){c.done?g(c.value):l(c.value).then(s,u)}n((a=a.apply(i,t||[])).next())})}function __generator(i,t){var r={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},a,l,g,d;return d={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function s(n){return function(c){return u([n,c])}}function u(n){if(a)throw new TypeError("Generator is already executing.");for(;r;)try{if(a=1,l&&(g=n[0]&2?l.return:n[0]?l.throw||((g=l.return)&&g.call(l),0):l.next)&&!(g=g.call(l,n[1])).done)return g;switch(l=0,g&&(n=[n[0]&2,g.value]),n[0]){case 0:case 1:g=n;break;case 4:return r.label++,{value:n[1],done:!1};case 5:r.label++,l=n[1],n=[0];continue;case 7:n=r.ops.pop(),r.trys.pop();continue;default:if(g=r.trys,!(g=g.length>0&&g[g.length-1])&&(n[0]===6||n[0]===2)){r=0;continue}if(n[0]===3&&(!g||n[1]>g[0]&&n[1]<g[3])){r.label=n[1];break}if(n[0]===6&&r.label<g[1]){r.label=g[1],g=n;break}if(g&&r.label<g[2]){r.label=g[2],r.ops.push(n);break}g[2]&&r.ops.pop(),r.trys.pop();continue}n=t.call(i,r)}catch(c){n=[6,c],l=0}finally{a=g=0}if(n[0]&5)throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}}var createLoadingTask=function i(t){pdfExports.GlobalWorkerOptions.workerSrc=pdf_worker_entry;var r=pdfExports.getDocument(t);return r},script=defineComponent({name:"vue-pdf",props:{src:{type:[String,Object],required:!0},page:{type:Number,default:1},scale:{type:Number,default:null},enableTextSelection:{type:Boolean,default:!0},enableAnnotations:{type:Boolean,default:!0}},setup:function i(t,r){var a=this,l=ref(!1),g=ref(null),d=ref(null),s=ref(null),u=ref(0),n=ref(null),c=computed(function(){return t.page||1}),C=function(){l.value=!0,pdfExports.GlobalWorkerOptions.workerSrc=pdf_worker_entry;var B=createLoadingTask(t.src);B.promise.then(function(O){r.emit("pdfLoaded",O),s.value=O,u.value=O.numPages,r.emit("totalPages",u.value),c.value<=u.value&&O.getPage(c.value).then(function(v){return m(v)})})},m=function(B){return __awaiter(a,void 0,void 0,function(){var O,v,b,o,T,D,_,y,P,w=this;return __generator(this,function(M){switch(M.label){case 0:return l.value=!0,O=g.value,v=d.value,b=document.createElement("div"),b.classList.add("vue-pdf__wrapper"),b.id="vue-pdf-page-"+t.page,o=document.createElement("canvas"),b.appendChild(o),T=document.createElement("div"),t.enableAnnotations&&(T.classList.add("vue-pdf__wrapper-annotation-layer"),b.appendChild(T)),D=document.createElement("div"),t.enableTextSelection&&(D.classList.add("textLayer","vue-pdf__wrapper-text-layer"),b.appendChild(D)),O==null||O.appendChild(b),_=B.getViewport({scale:1}),y=o.getContext("2d"),[4,e(O,_,B,o,y,D,T)];case 1:return M.sent(),t.scale?(v.style.display="inline-block",O.style.display="inline-block"):(P=E(function(){return __awaiter(w,void 0,void 0,function(){return __generator(this,function(q){switch(q.label){case 0:return[4,e(O,_,B,o,y,D,T)];case 1:return[2,q.sent()]}})})}),window.addEventListener("resize",P)),[2]}})})},e=function(B,O,v,b,o,T,D){return __awaiter(a,void 0,void 0,function(){var _,y,P,w,M,q,F;return __generator(this,function(G){switch(G.label){case 0:return T.innerHTML="",D.innerHTML="",_=window.getComputedStyle(B),y=parseFloat(_.width),P=t.scale?t.scale:y/O.width,w=v.getViewport({scale:P}),M=window.devicePixelRatio||1,q=o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1,F=M/q,M!==q?(b.width=t.scale?w.width*F:y*F,b.height=w.height*F,b.style.width=t.scale?"":"100%",b.style.height=w.height+"px"):(b.width=t.scale?w.width:y,b.height=w.height,b.style.width="",b.style.height=""),[4,o.scale(F,F)];case 1:return G.sent(),o&&v.render({canvasContext:o,viewport:w}).promise.then(function(){t.enableTextSelection&&v.getTextContent().then(function(R){n.value||(n.value=new pdf_viewer$1.exports.EventBus);var I=new pdf_viewer$1.exports.TextLayerBuilder({textLayerDiv:T,pageIndex:v._pageIndex,eventBus:n.value,viewport:w,enhanceTextSelection:!0});I.setTextContent(R),r.emit("textContent",R),I.render()}),t.enableAnnotations&&v.getAnnotations().then(function(R){D.style.cssText="left: 0; top: 0; height: "+w.height+"px; width: "+(t.scale?w.width:y)+"px;",pdfExports.AnnotationLayer.render({viewport:w.clone({dontFlip:!0}),div:D,annotations:R,page:v,linkService:"",downloadManager:"",renderInteractiveForms:!1})}),l.value=!1}),[2]}})})},E=function(B,O){O===void 0&&(O=300);var v;return function(){for(var b=[],o=0;o<arguments.length;o++)b[o]=arguments[o];clearTimeout(v),v=setTimeout(function(){B.apply(a,b)},O)}};return onMounted(function(){C()}),{props:t,pdfWrapperRef:g,parentWrapperRef:d}}}),_hoisted_1={class:"vue-pdf-main",ref:"parentWrapperRef"},_hoisted_2={class:"vue-pdf",ref:"pdfWrapperRef"};function render(i,t,r,a,l,g){return openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,null,512)],512)}function styleInject(i,t){t===void 0&&(t={});var r=t.insertAt;if(!(!i||typeof document>"u")){var a=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css",r==="top"&&a.firstChild?a.insertBefore(l,a.firstChild):a.appendChild(l),l.styleSheet?l.styleSheet.cssText=i:l.appendChild(document.createTextNode(i))}}var css_248z=".vue-pdf__wrapper{position:relative}.vue-pdf__wrapper-text-layer br{display:none}.vue-pdf__wrapper-annotation-layer{position:absolute}.vue-pdf__wrapper-annotation-layer .linkAnnotation{position:absolute;z-index:1}.vue-pdf__wrapper-annotation-layer .linkAnnotation a{width:100%;height:100%;display:inline-block}";styleInject(css_248z);script.render=render;var components=Object.freeze({__proto__:null,VuePdf:script,createLoadingTask}),install=function i(t){Object.entries(components).forEach(function(r){var a=r[0],l=r[1];t.component(a,l)})};const navigationClient=new CustomNavigationClient(router);msalInstance.setNavigationClient(navigationClient);const accounts=msalInstance.getAllAccounts();accounts.length>0&&msalInstance.setActiveAccount(accounts[0]);msalInstance.addEventCallback(i=>{if(i.eventType===EventType.LOGIN_SUCCESS&&i.payload){const r=i.payload.account;msalInstance.setActiveAccount(r)}});const app=createApp(App);app.use(install);app.use(router);app.use(msalPlugin,msalInstance);router.isReady().then(()=>{app.mount("#app")});
